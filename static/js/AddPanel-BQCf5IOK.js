/*!  build: Vue Shop Vite 
     copyright: https://vuejs-core.cn/shop-vite   
     time: 2024-09-27 15:46:00 
 */
import{_ as m}from"./index-BxCyh4rX.js";import{N,o as u,M as f,$ as i,T as l,b as y,P as b,aa as x,a4 as _,a3 as g}from"./vsv-element-plus-CxGOTlXz.js";import"./vsv-icon-B5tQoIEl.js";import"./vsv-nprogress-DAXSSYSi.js";const I=defineComponent({name:"AddPanel",props:{nodeData:{type:Object,default:()=>{}},lf:{type:Object||String,default:()=>{}}},emits:["addNodeFinish"],data(){return{nodeList:[{type:"user",label:"用户"},{type:"push",label:"推送"}]}},methods:{$_addNode(e){const{lf:o,nodeData:p}=this.$props,{id:d,x:t,y:s}=p,n=o.addNode({type:e.type,x:t+150,y:s+150}).id;o.createEdge({sourceNodeId:d,targetNodeId:n}),this.$emit("addNodeFinish")},$_addTemplate(){const{lf:e,nodeData:o}=this.$props,{id:p,x:d,y:t}=o,s=e.addNode({type:"download",x:d,y:t+150}),a=e.addNode({type:"user",x:d+150,y:t+150}),n=e.addNode({type:"push",x:d+150,y:t+300,properties:{}}),c=e.addNode({type:"end",x:d+300,y:t+150}),r=e.addNode({type:"end",x:d+300,y:t+300});e.createEdge({sourceNodeId:p,targetNodeId:s.id}),e.createEdge({sourceNodeId:s.id,targetNodeId:a.id}),e.createEdge({sourceNodeId:a.id,targetNodeId:c.id,endPoint:{x:d+280,y:t+150},text:{value:"Y",x:d+230,y:t+140}}),e.createEdge({sourceNodeId:a.id,targetNodeId:n.id,text:{value:"N",x:d+160,y:t+230}}),e.createEdge({sourceNodeId:n.id,targetNodeId:r.id,endPoint:{x:d+280,y:t+300}}),this.$emit("addNodeFinish")}}});function $(e,o,p,d,t,s){const a=N("el-button"),n=N("el-tab-pane"),c=N("el-tabs");return u(),f(c,{"tab-position":"left"},{default:i(()=>[l(n,{label:"添加动作"},{default:i(()=>[(u(!0),y(b,null,x(e.nodeList,r=>(u(),y("div",{key:r.type},[l(a,{class:"add-node-btn",type:"primary",onClick:h=>e.$_addNode(r)},{default:i(()=>[_(g(r.label),1)]),_:2},1032,["onClick"])]))),128))]),_:1}),l(n,{label:"添加组"},{default:i(()=>[l(a,{class:"add-node-btn",type:"primary",onClick:e.$_addTemplate},{default:i(()=>o[0]||(o[0]=[_("模板")])),_:1},8,["onClick"])]),_:1})]),_:1})}const P=m(I,[["render",$],["__scopeId","data-v-d81b04a0"]]);export{P as default};
