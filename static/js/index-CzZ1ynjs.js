/*!  build: Vue Shop Vite 
     copyright: https://vuejs-core.cn/shop-vite   
     time: 2024-09-26 21:23:19 
 */
import{d as U,b as V,K as e,S as t,B as o,o as r,u as s,Z as A,a9 as I,Y as m,F as T,a2 as z,A as c,X as h,e as p}from"./vsv-element-plus-CleF0dO9.js";import{d as E,_ as K}from"./index-wMoNB7-P.js";import{i as P}from"./task-Cv62xVEn.js";import"./vsv-icon-DrZkBOPN.js";import"./vsv-nprogress-D5kd6v05.js";const X=f=>E({url:"/taskManagement/getList",method:"get",params:f}),Y={class:"task-management-container no-background-container"},Z={class:"task-item-bottom"},j=U({name:"TaskManagement",__name:"index",setup(f){const g=ref([]),y=ref(!0),l=reactive({taskName:"",date:"",pageNo:1,pageSize:11}),k=async()=>{y.value=!0;const{data:d}=await X(l);g.value=d.list,y.value=!1},w=()=>{l.pageNo=1,k()},M=d=>{d?$baseMessage("模拟停用成功","success","hey"):$baseMessage("模拟开启成功","success","hey")},N=()=>{$baseMessage("模拟添加成功","success","hey")};return onBeforeMount(()=>{k()}),(d,a)=>{const C=o("el-input"),u=o("el-form-item"),q=o("el-date-picker"),_=o("el-button"),B=o("el-form"),L=o("vab-query-form-top-panel"),S=o("vab-query-form"),i=o("vab-icon"),b=o("el-tag"),$=o("el-image"),D=o("el-popconfirm"),v=o("vab-card"),x=o("el-col"),F=o("el-row");return r(),V("div",Y,[e(S,{class:"page-header"},{default:t(()=>[e(L,null,{default:t(()=>[e(B,{inline:"","label-width":"60px",model:s(l),onSubmit:a[2]||(a[2]=A(()=>{},["prevent"]))},{default:t(()=>[e(u,{label:"任务名"},{default:t(()=>[e(C,{modelValue:s(l).taskName,"onUpdate:modelValue":a[0]||(a[0]=n=>s(l).taskName=n),modelModifiers:{trim:!0},clearable:"",placeholder:"请输入任务名"},null,8,["modelValue"])]),_:1}),e(u,{label:"周期"},{default:t(()=>[e(q,{modelValue:s(l).date,"onUpdate:modelValue":a[1]||(a[1]=n=>s(l).date=n),"end-placeholder":"结束日期","start-placeholder":"开始日期",type:"daterange"},null,8,["modelValue"])]),_:1}),e(u,null,{default:t(()=>[e(_,{icon:s(I),type:"primary",onClick:w},{default:t(()=>a[3]||(a[3]=[m("查询")])),_:1},8,["icon"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1}),e(F,{gutter:20},{default:t(()=>[(r(!0),V(T,null,z(s(g),n=>(r(),c(x,{key:n.id,lg:6,md:8,sm:12,xl:6,xs:24},{default:t(()=>[e(v,{class:"task-item"},{header:t(()=>[e(i,{icon:"task-line"}),m(" 任务编号 - "+h(n.id)+" ",1),n.status==1?(r(),c(b,{key:0,class:"card-header-tag",type:"success"},{default:t(()=>a[4]||(a[4]=[m("已开启")])),_:1})):(r(),c(b,{key:1,class:"card-header-tag",type:"danger"},{default:t(()=>a[5]||(a[5]=[m("已停用")])),_:1}))]),default:t(()=>[e($,{class:"task-item-image",src:s(P)},null,8,["src"]),p("div",Z,[p("span",null,"Ip: "+h(n.ip),1),e(D,{title:"您确定要执行当前操作吗？",width:"240px",onConfirm:G=>M(n.status)},{reference:t(()=>[n.status==1?(r(),c(_,{key:0,circle:"",type:"warning"},{default:t(()=>[e(i,{icon:"pause-line"})]),_:1})):(r(),c(_,{key:1,circle:"",type:"primary"},{default:t(()=>[e(i,{icon:"play-line"})]),_:1}))]),_:2},1032,["onConfirm"])])]),_:2},1024)]),_:2},1024))),128)),e(x,{lg:6,md:8,sm:12,xl:6,xs:24},{default:t(()=>[e(v,{class:"task-add",onClick:N},{default:t(()=>[e(i,{icon:"add-circle-line"}),a[6]||(a[6]=p("p",null,"添加任务",-1))]),_:1})]),_:1})]),_:1})])}}}),W=K(j,[["__scopeId","data-v-90ed104c"]]);export{W as default};
