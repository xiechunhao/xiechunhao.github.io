/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2025-03-05 10:50:28
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[6700],{12391:function(e,l,t){t.d(l,{A:function(){return s}});var a=t(89814),n=(t(81775),t(60238),t(34641));const o={class:"right-panel"};var r=(0,n.pM)({__name:"VabQueryFormRightPanel",props:{span:{type:Number,default:10}},setup(e){return(l,t)=>{const r=a.uD;return(0,n.uX)(),(0,n.Wv)(r,{lg:e.span,md:24,sm:24,xl:e.span,xs:24},{default:(0,n.k6)((()=>[(0,n.Lk)("div",o,[(0,n.RG)(l.$slots,"default")])])),_:3},8,["lg","xl"])}}});function i(e){e.__source="library/components/VabQueryForm/components/VabQueryFormRightPanel.vue"}"function"===typeof i&&i(r);const u=r;var s=u},18512:function(e,l,t){t.d(l,{Ed:function(){return o},pL:function(){return r},vS:function(){return n}});var a=t(98356);function n(e){return(0,a.A)({url:"/table/getList",method:"get",params:e})}function o(e){return(0,a.A)({url:"/table/doEdit",method:"post",data:e})}function r(e){return(0,a.A)({url:"/table/doDelete",method:"post",data:e})}},27837:function(e,l,t){t.r(l),t.d(l,{default:function(){return A}});var a=t(74289),n=(t(81775),t(92701),t(20028)),o=(t(38680),t(14950)),r=(t(62241),t(27338)),i=(t(9501),t(55565)),u=(t(70237),t(4496),t(34325)),s=t(12391),d=t(40612),c=(t(87275),t(68372)),p=(t(22218),t(22192)),b=(t(19054),t(95031),t(90173),t(56504)),m=t(57991),f=(t(29835),t(59173)),g=(t(63482),t(30182),t(33358)),h=(t(46058),t(34641)),k=t(27386),y=t(50670);const F={class:"stripe-panel"},v={class:"border-panel"},_={key:0},C={key:1};function V(e,l,t,V,w,S){const W=g.WK,x=m.xE,L=f.S2,D=m.US,R=b.A,E=d.dI,q=(0,h.g2)("vab-icon"),A=p.ll,Q=p.MQ,z=c.Vc,U=(0,h.g2)("vab-draggable"),X=d.o5,$=s.A,P=u.A,H=o.o8,N=i.og,M=r.x0,I=o.Up,G=n.aQ,K=(0,h.g2)("edit"),T=a.L;return(0,h.uX)(),(0,h.CE)("div",{class:(0,k.C4)(["custom-table-container",{"vab-fullscreen":e.isFullscreen}])},[(0,h.bF)(P,null,{default:(0,h.k6)((()=>[(0,h.bF)(R,null,{default:(0,h.k6)((()=>[(0,h.bF)(D,{inline:"","label-width":"0",model:e.queryForm,onSubmit:l[2]||(l[2]=(0,y.D$)((()=>{}),["prevent"]))},{default:(0,h.k6)((()=>[(0,h.bF)(x,null,{default:(0,h.k6)((()=>[(0,h.bF)(W,{modelValue:e.queryForm.title,"onUpdate:modelValue":l[0]||(l[0]=l=>e.queryForm.title=l),placeholder:"标题"},null,8,["modelValue"])])),_:1}),(0,h.bF)(x,null,{default:(0,h.k6)((()=>[(0,h.bF)(L,{icon:e.Search,"native-type":"submit",type:"primary",onClick:e.queryData},{default:(0,h.k6)((()=>l[7]||(l[7]=[(0,h.eW)(" 查询 ")]))),_:1},8,["icon","onClick"]),(0,h.bF)(L,{icon:e.Plus,type:"primary",onClick:e.handleAdd},{default:(0,h.k6)((()=>l[8]||(l[8]=[(0,h.eW)(" 添加 ")]))),_:1},8,["icon","onClick"]),(0,h.bF)(L,{icon:e.Delete,type:"danger",onClick:l[1]||(l[1]=l=>e.handleDelete(l))},{default:(0,h.k6)((()=>l[9]||(l[9]=[(0,h.eW)(" 删除 ")]))),_:1},8,["icon"])])),_:1})])),_:1},8,["model"])])),_:1}),(0,h.bF)($,null,{default:(0,h.k6)((()=>[(0,h.Lk)("div",F,[(0,h.bF)(E,{modelValue:e.stripe,"onUpdate:modelValue":l[3]||(l[3]=l=>e.stripe=l)},{default:(0,h.k6)((()=>l[10]||(l[10]=[(0,h.eW)("斑马纹")]))),_:1},8,["modelValue"])]),(0,h.Lk)("div",v,[(0,h.bF)(E,{modelValue:e.border,"onUpdate:modelValue":l[4]||(l[4]=l=>e.border=l)},{default:(0,h.k6)((()=>l[11]||(l[11]=[(0,h.eW)("边框（可拉伸列）")]))),_:1},8,["modelValue"])]),(0,h.bF)(L,{style:{margin:"0 10px 10px 0 !important"},text:"",type:"primary",onClick:e.clickFullScreen},{default:(0,h.k6)((()=>[(0,h.bF)(q,{icon:e.isFullscreen?"fullscreen-exit-fill":"fullscreen-fill"},null,8,["icon"])])),_:1},8,["onClick"]),(0,h.bF)(z,{"popper-class":"custom-table-radio",trigger:"hover"},{reference:(0,h.k6)((()=>[(0,h.bF)(L,{style:{margin:"0 10px 10px 0 !important"},text:"",type:"primary"},{default:(0,h.k6)((()=>[(0,h.bF)(q,{icon:"line-height"})])),_:1})])),default:(0,h.k6)((()=>[(0,h.bF)(Q,{modelValue:e.lineHeight,"onUpdate:modelValue":l[5]||(l[5]=l=>e.lineHeight=l)},{default:(0,h.k6)((()=>[(0,h.bF)(A,{label:"large",value:"large"},{default:(0,h.k6)((()=>l[12]||(l[12]=[(0,h.eW)("大")]))),_:1}),(0,h.bF)(A,{label:"default",value:"default"},{default:(0,h.k6)((()=>l[13]||(l[13]=[(0,h.eW)("中")]))),_:1}),(0,h.bF)(A,{label:"small",value:"small"},{default:(0,h.k6)((()=>l[14]||(l[14]=[(0,h.eW)("小")]))),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,h.bF)(z,{"popper-class":"custom-table-checkbox",trigger:"hover"},{reference:(0,h.k6)((()=>[(0,h.bF)(L,{style:{margin:"0 0 10px !important"},text:"",type:"primary"},{default:(0,h.k6)((()=>[(0,h.bF)(q,{icon:"settings-line"})])),_:1})])),default:(0,h.k6)((()=>[(0,h.bF)(X,{modelValue:e.checkList,"onUpdate:modelValue":l[6]||(l[6]=l=>e.checkList=l)},{default:(0,h.k6)((()=>[(0,h.bF)(U,(0,h.v6)(e.dragOptions,{"item-key":"{ element }",list:e.columns}),{item:(0,h.k6)((({element:e})=>[(0,h.Lk)("div",null,[(0,h.bF)(q,{icon:"drag-drop-line"}),(0,h.bF)(E,{disabled:!0===e.disableCheck,label:e.label,value:e.label},{default:(0,h.k6)((()=>[(0,h.eW)((0,k.v_)(e.label),1)])),_:2},1032,["disabled","label","value"])])])),_:1},16,["list"])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,h.bo)(((0,h.uX)(),(0,h.Wv)(I,{ref:"tableSortRef",border:e.border,data:e.list,height:e.height,size:e.lineHeight,stripe:e.stripe,onSelectionChange:e.setSelectRows},{empty:(0,h.k6)((()=>[(0,h.bF)(M,{class:"vab-data-empty",description:"暂无数据"})])),default:(0,h.k6)((()=>[(0,h.bF)(H,{align:"center",type:"selection",width:"55"}),(0,h.bF)(H,{align:"center",label:"序号","show-overflow-tooltip":"",width:"200"},{default:(0,h.k6)((({$index:e})=>[(0,h.eW)((0,k.v_)(e+1),1)])),_:1}),((0,h.uX)(!0),(0,h.CE)(h.FK,null,(0,h.pI)(e.finallyColumns,((e,l)=>((0,h.uX)(),(0,h.Wv)(H,{key:l,align:"center",label:e.label,prop:e.prop,sortable:e.sortable,width:"auto"},{default:(0,h.k6)((({row:l})=>["评级"===e.label?((0,h.uX)(),(0,h.CE)("span",_,[(0,h.bF)(N,{modelValue:l.rate,"onUpdate:modelValue":e=>l.rate=e,disabled:""},null,8,["modelValue","onUpdate:modelValue"])])):((0,h.uX)(),(0,h.CE)("span",C,(0,k.v_)(l[e.prop]),1))])),_:2},1032,["label","prop","sortable"])))),128)),(0,h.bF)(H,{align:"center",label:"操作","show-overflow-tooltip":"",width:"200"},{default:(0,h.k6)((({row:t})=>[(0,h.bF)(L,{text:"",type:"primary",onClick:l=>e.handleEdit(t)},{default:(0,h.k6)((()=>l[15]||(l[15]=[(0,h.eW)(" 编辑 ")]))),_:2},1032,["onClick"]),(0,h.bF)(L,{text:"",type:"primary",onClick:l=>e.handleDelete(t)},{default:(0,h.k6)((()=>l[16]||(l[16]=[(0,h.eW)(" 删除 ")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["border","data","height","size","stripe","onSelectionChange"])),[[T,e.listLoading]]),(0,h.bF)(G,{background:"","current-page":e.queryForm.pageNo,layout:e.layout,"page-size":e.queryForm.pageSize,total:e.total,onCurrentChange:e.handleCurrentChange,onSizeChange:e.handleSizeChange},null,8,["current-page","layout","page-size","total","onCurrentChange","onSizeChange"]),(0,h.bF)(K,{ref:"editRef",onFetchData:e.fetchData},null,8,["onFetchData"])],2)}t(57284),t(94473),t(63135),t(12914),t(55759);var w=t(18512),S=t(52375),W=t.n(S),x=t(39928),L=t(37489),D=(0,h.pM)({name:"CustomTable",components:{Edit:(0,h.$V)((()=>t.e(948).then(t.bind(t,88567)))),VabDraggable:W()},setup(){const e=(0,h.WQ)("$baseConfirm"),l=(0,h.WQ)("$baseMessage"),t=(0,h.WQ)("$baseTableHeight"),a=(0,L.Kh)({tableSortRef:null,editRef:null,border:!0,height:t(1),stripe:!1,lineHeight:"small",isFullscreen:!1,checkList:["标题","作者","评级","点击量","时间"],columns:[{label:"标题",prop:"title",sortable:!0,disableCheck:!0},{label:"作者",prop:"author",sortable:!0},{label:"评级",prop:"rate",sortable:!0},{label:"点击量",prop:"pageViews",sortable:!0},{label:"时间",prop:"datetime",sortable:!0}],list:[],imageList:[],listLoading:!0,layout:"total, sizes, prev, pager, next, jumper",total:0,selectRows:"",queryForm:{pageNo:1,pageSize:20,title:""}}),n=(0,h.EW)((()=>({animation:600,group:"description"}))),o=(0,h.EW)((()=>a.columns.filter((e=>a.checkList.includes(e.label))))),r=async()=>{a.listLoading=!0;const{data:{list:e,total:l}}=await(0,w.vS)(a.queryForm);a.list=e;const t=[];e.forEach((e=>{t.push(e.img)})),a.total=l,a.listLoading=!1},i=e=>{a.queryForm.pageSize=e,r()},u=e=>{a.queryForm.pageNo=e,r()},s=()=>{a.queryForm.pageNo=1,r()},d=()=>{a.isFullscreen=!a.isFullscreen,c()},c=()=>{a.isFullscreen?a.height=t(1)+210:a.height=t(1)},p=e=>{a.selectRows=e},b=()=>{a["editRef"].showEdit()},m=e=>{a["editRef"].showEdit(e)},f=t=>{if(t.id)e("你确定要删除当前项吗",null,(async()=>{const{msg:e}=await(0,w.pL)({ids:t.id});l(e,"success","vab-hey-message-success"),await r()}));else if(a.selectRows.length>0){const t=a.selectRows.map((e=>e.id)).join(",");e("你确定要删除选中项吗",null,(async()=>{const{msg:e}=await(0,w.pL)({ids:t});l(e,"success","vab-hey-message-success"),await r()}))}else l("未选中任何行","error","vab-hey-message-error")};return(0,h.sV)((()=>{r()})),{...(0,L.QW)(a),dragOptions:n,finallyColumns:o,handleSizeChange:i,handleCurrentChange:u,queryData:s,handleHeight:c,setSelectRows:p,clickFullScreen:d,fetchData:r,handleAdd:b,handleEdit:m,handleDelete:f,Plus:x.Plus,Delete:x.Delete,Search:x.Search,Setting:x.Setting}}});function R(e){e.__source="src/views/vab/table/customTable.vue"}var E=t(48499);"function"===typeof R&&R(D);const q=(0,E.A)(D,[["render",V],["__scopeId","data-v-08fba720"]]);var A=q},34325:function(e,l,t){t.d(l,{A:function(){return d}});var a=t(87391),n=(t(81775),t(90883),t(34641));function o(e,l){const t=a.S2;return(0,n.uX)(),(0,n.Wv)(t,{class:"vab-query-form",gutter:0},{default:(0,n.k6)((()=>[(0,n.RG)(e.$slots,"default",{},void 0,!0)])),_:3})}function r(e){e.__source="library/components/VabQueryForm/index.vue"}var i=t(48499);const u={};"function"===typeof r&&r(u);const s=(0,i.A)(u,[["render",o],["__scopeId","data-v-172989c8"]]);var d=s},56504:function(e,l,t){t.d(l,{A:function(){return s}});var a=t(89814),n=(t(81775),t(60238),t(34641));const o={class:"left-panel"};var r=(0,n.pM)({__name:"VabQueryFormLeftPanel",props:{span:{type:Number,default:14}},setup(e){return(l,t)=>{const r=a.uD;return(0,n.uX)(),(0,n.Wv)(r,{lg:e.span,md:24,sm:24,xl:e.span,xs:24},{default:(0,n.k6)((()=>[(0,n.Lk)("div",o,[(0,n.RG)(l.$slots,"default")])])),_:3},8,["lg","xl"])}}});function i(e){e.__source="library/components/VabQueryForm/components/VabQueryFormLeftPanel.vue"}"function"===typeof i&&i(r);const u=r;var s=u}}]);