/*!  build: Vue Shop Vite 
     copyright: https://vuejs-core.cn/shop-vite   
     time: 2025-02-28 11:53:44 
 */
import{d as h,b as N,L as t,e as c,C,S as ee,V as l,D as r,I as te,a9 as le,u as o,Y as oe,Q as ne,_ as i,a4 as ae,X as re,a2 as z,o as g,Z as ie}from"./vsv-element-plus-DQNbQgVr.js";import{g as de,d as se}from"./trade-DgEmw_aG.js";import{h as ue}from"./clipboard-B9ccURei.js";const pe={class:"trade-container auto-height-container"},me={class:"mb20"},fe={style:{"margin-bottom":"20px"}},_e={class:"center2",style:{color:"#72767b"}},ce={class:"center2",style:{color:"#72767b"}},ke=h({name:"Trade",__name:"orderlist",setup(ge){const V=a=>{ue(a)},B=ref([{text:"全部订单",type:"",icon:""},{text:"等待处理",type:"",icon:""},{text:"正在处理",type:"",icon:""},{text:"交易成功",type:"",icon:""},{text:"取消交易",type:"",icon:""},{text:"已经退款",type:"",icon:""},{text:"取消支付",type:"",icon:""},{text:"等待支付",type:"",icon:""}]),x=ref(0),S=ref();ref(!0);const b=ref(!1),D=ref([]),v=ref(!0),q=ref(0),T=ref([]),d=reactive({pageNo:1,pageSize:20}),_=async()=>{v.value=!0;const{data:a}=await de(d);D.value=a.list,q.value=a.total,v.value=!1},$=a=>{d.pageNo=1,d.pageSize=a,_()},L=a=>{x.value=a},R=a=>{b.value=!0},F=a=>{d.pageNo=a,_()},U=()=>{d.pageNo=1,_()},j=a=>{T.value=a},A=a=>{a.id&&$baseConfirm("你确定要删除当前项吗？",null,async()=>{const{msg:e}=await se({ids:a.id});$baseMessage(e,"success","hey"),await _()})};return onActivated(()=>{var a;(a=S.value)==null||a.doLayout()}),onBeforeMount(()=>{_()}),(a,e)=>{const u=r("el-option"),w=r("el-select"),I=r("el-input"),y=r("el-form-item"),M=r("el-date-picker"),O=r("el-form"),Q=r("vab-query-form-top-panel"),E=r("vab-query-form"),p=r("el-button"),P=r("el-icon"),m=r("el-dropdown-item"),X=r("el-dropdown-menu"),Y=r("el-dropdown"),s=r("el-table-column"),k=r("el-tag"),Z=r("el-empty"),G=r("el-table"),H=r("el-card"),J=r("OrderDetails"),K=r("vab-pagination"),W=re("loading");return g(),N("div",pe,[t(E,null,{default:l(()=>[t(Q,null,{default:l(()=>[t(O,{inline:"",model:o(d),onSubmit:e[5]||(e[5]=oe(()=>{},["prevent"]))},{default:l(()=>[t(y,{label:""},{default:l(()=>[t(I,{modelValue:o(d).a,"onUpdate:modelValue":e[1]||(e[1]=n=>o(d).a=n),style:{width:"315px"},placeholder:"订单号/API单号/渠道单号",class:"input-with-select"},{prepend:l(()=>[t(w,{modelValue:o(d).b,"onUpdate:modelValue":e[0]||(e[0]=n=>o(d).b=n),placeholder:"请选择",style:{width:"100px"}},{default:l(()=>[t(u,{label:"用户ID",value:"1"}),t(u,{label:"用户名",value:"2"}),t(u,{label:"用户手机号",value:"3"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),t(y,{label:"订单状态"},{default:l(()=>[t(w,{modelValue:o(d).region,"onUpdate:modelValue":e[2]||(e[2]=n=>o(d).region=n),placeholder:"请选择"},{default:l(()=>[t(u,{label:"区域一",value:"shanghai"}),t(u,{label:"区域二",value:"beijing"})]),_:1},8,["modelValue"])]),_:1}),t(y,{label:"创建时间"},{default:l(()=>[t(M,{modelValue:o(d).value1,"onUpdate:modelValue":e[3]||(e[3]=n=>o(d).value1=n),type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])]),_:1}),t(y,{label:"支付方式"},{default:l(()=>[t(w,{modelValue:o(d).region,"onUpdate:modelValue":e[4]||(e[4]=n=>o(d).region=n),placeholder:"请选择"},{default:l(()=>[t(u,{label:"余额支付",value:"shanghai"}),t(u,{label:"支付宝",value:"beijing"}),t(u,{label:"微信支付",value:"beijing"}),t(u,{label:"QQ支付",value:"beijing"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1}),c("div",me,[(g(!0),N(te,null,le(o(B),(n,f)=>(g(),C(p,{onClick:be=>L(f),round:"",type:o(x)==f?"primary":""},{default:l(()=>[i(ie(n.text),1)]),_:2},1032,["onClick","type"]))),256))]),t(H,{shadow:"never"},{default:l(()=>[c("div",fe,[c("div",null,[t(Y,{class:"mr10"},{dropdown:l(()=>[t(X,null,{default:l(()=>[t(m,null,{default:l(()=>e[10]||(e[10]=[i("待处理")])),_:1}),t(m,null,{default:l(()=>e[11]||(e[11]=[i("正在处理")])),_:1}),t(m,null,{default:l(()=>e[12]||(e[12]=[i("已完成")])),_:1}),t(m,null,{default:l(()=>e[13]||(e[13]=[i("异常")])),_:1}),t(m,null,{default:l(()=>e[14]||(e[14]=[i("已退单")])),_:1}),t(m,null,{default:l(()=>e[15]||(e[15]=[i("重新下单")])),_:1}),t(m,null,{default:l(()=>e[16]||(e[16]=[i("订单退款")])),_:1}),t(m,null,{default:l(()=>e[17]||(e[17]=[i("删除订单")])),_:1})]),_:1})]),default:l(()=>[t(p,{type:"primary"},{default:l(()=>[e[9]||(e[9]=i(" 批量操作 ")),t(P,{class:"el-icon--right"},{default:l(()=>[t(o(ae))]),_:1})]),_:1})]),_:1}),t(p,{style:{background:"#1890ff"},type:"primary",onClick:U},{default:l(()=>e[18]||(e[18]=[i("导出订单")])),_:1})])]),ne((g(),C(G,{"header-cell-style":{background:"#f5f7fa",textAlign:"center"},"cell-style":{textAlign:"center"},ref_key:"tableRef",ref:S,border:"",data:o(D),onSelectionChange:j,style:{height:"500px"}},{empty:l(()=>[t(Z,{class:"vab-data-empty",description:"暂无数据"})]),default:l(()=>[t(s,{type:"selection",width:"38"}),t(s,{align:"center",label:"订单状态",prop:"image"},{default:l(({row:n})=>[t(p,{type:"primary",style:{background:"#30c470",border:"0"},size:"small"},{default:l(()=>e[19]||(e[19]=[i("交易成功")])),_:1})]),_:1}),t(s,{align:"center",label:"订单号"},{default:l(({row:n})=>[c("div",_e,[e[20]||(e[20]=i(" 6666666666 ")),t(p,{icon:o(z),link:"",circle:"",style:{margin:"0"},onClick:e[6]||(e[6]=f=>V("54646"))},null,8,["icon"])])]),_:1}),t(s,{align:"center",label:"商品名称",prop:"transactionTime"}),t(s,{align:"center",label:"下单参数"},{default:l(({row:n})=>[c("div",ce,[e[21]||(e[21]=i(" 6666666666 ")),t(p,{icon:o(z),link:"",circle:"",style:{margin:"0"},onClick:e[7]||(e[7]=f=>V("54646"))},null,8,["icon"])])]),_:1}),t(s,{align:"center",label:"对接状态"},{default:l(({row:n})=>[t(k,{type:"primary",style:{color:"#fff",background:"#13ce66",border:"0"},effect:"dark"},{default:l(()=>e[22]||(e[22]=[i("成功")])),_:1}),t(k,{type:"primary",style:{color:"#fff",background:"#ffba00",border:"0"},effect:"dark"},{default:l(()=>e[23]||(e[23]=[i("失败")])),_:1}),t(k,{type:"primary",style:{color:"#fff",background:"#000",border:"0"},effect:"dark"},{default:l(()=>e[24]||(e[24]=[i("已发卡")])),_:1})]),_:1}),t(s,{align:"center",label:"下单用户",prop:"transactionTime"}),t(s,{align:"center",label:"下单时间",prop:"transactionTime"}),t(s,{align:"center",label:"销售价",prop:"transactionTime"}),t(s,{align:"center",label:"利润",prop:"transactionTime"}),t(s,{align:"center",label:"商品售价",prop:"image"},{default:l(({row:n})=>e[25]||(e[25]=[i("2.02~10.02")])),_:1}),t(s,{label:"操作",width:"150"},{default:l(({row:n})=>[t(p,{text:"",type:"primary",onClick:f=>R(n)},{default:l(()=>e[26]||(e[26]=[i("详情")])),_:2},1032,["onClick"]),t(p,{text:"",type:"primary",onClick:f=>A(n)},{default:l(()=>e[27]||(e[27]=[i("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[W,o(v)]])]),_:1}),o(b)?(g(),C(J,{key:0,dialogVisible:o(b),onDialogVisibleF:e[8]||(e[8]=n=>b.value=n)},null,8,["dialogVisible"])):ee("",!0),t(K,{"current-page":o(d).pageNo,"page-size":o(d).pageSize,total:o(q),onCurrentChange:F,onSizeChange:$},null,8,["current-page","page-size","total"])])}}});export{ke as _};
