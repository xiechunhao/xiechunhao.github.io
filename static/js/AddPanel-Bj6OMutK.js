/*!  build: Vue Shop Vite 
     copyright: https://vuejs-core.cn/shop-vite   
     time: 2024-11-12 17:39:02 
 */
import{_}from"./index-D5j7Mtop.js";import{d as m,o as u,S as f,T as i,W as c,b as N,a3 as x,aj as b,a8 as y,a1 as g,a9 as I,aC as $,aD as h}from"./vsv-element-plus-DDEqdpLt.js";import"./vsv-icon-DFkIF_Wl.js";import"./vsv-nprogress-CAgsOcyS.js";const E=m({name:"AddPanel",props:{nodeData:{type:Object,default:()=>{}},lf:{type:Object||String,default:()=>{}}},emits:["addNodeFinish"],data(){return{nodeList:[{type:"user",label:"用户"},{type:"push",label:"推送"}]}},methods:{$_addNode(e){const{lf:o,nodeData:p}=this.$props,{id:d,x:t,y:s}=p,n=o.addNode({type:e.type,x:t+150,y:s+150}).id;o.createEdge({sourceNodeId:d,targetNodeId:n}),this.$emit("addNodeFinish")},$_addTemplate(){const{lf:e,nodeData:o}=this.$props,{id:p,x:d,y:t}=o,s=e.addNode({type:"download",x:d,y:t+150}),a=e.addNode({type:"user",x:d+150,y:t+150}),n=e.addNode({type:"push",x:d+150,y:t+300,properties:{}}),l=e.addNode({type:"end",x:d+300,y:t+150}),r=e.addNode({type:"end",x:d+300,y:t+300});e.createEdge({sourceNodeId:p,targetNodeId:s.id}),e.createEdge({sourceNodeId:s.id,targetNodeId:a.id}),e.createEdge({sourceNodeId:a.id,targetNodeId:l.id,endPoint:{x:d+280,y:t+150},text:{value:"Y",x:d+230,y:t+140}}),e.createEdge({sourceNodeId:a.id,targetNodeId:n.id,text:{value:"N",x:d+160,y:t+230}}),e.createEdge({sourceNodeId:n.id,targetNodeId:r.id,endPoint:{x:d+280,y:t+300}}),this.$emit("addNodeFinish")}}});function k(e,o,p,d,t,s){const a=I,n=$,l=h;return u(),f(l,{"tab-position":"left"},{default:i(()=>[c(n,{label:"添加动作"},{default:i(()=>[(u(!0),N(x,null,b(e.nodeList,r=>(u(),N("div",{key:r.type},[c(a,{class:"add-node-btn",type:"primary",onClick:C=>e.$_addNode(r)},{default:i(()=>[y(g(r.label),1)]),_:2},1032,["onClick"])]))),128))]),_:1}),c(n,{label:"添加组"},{default:i(()=>[c(a,{class:"add-node-btn",type:"primary",onClick:e.$_addTemplate},{default:i(()=>o[0]||(o[0]=[y("模板")])),_:1},8,["onClick"])]),_:1})]),_:1})}const F=_(E,[["render",k],["__scopeId","data-v-d81b04a0"]]);export{F as default};
