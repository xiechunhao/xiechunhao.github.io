/*!  build: Vue Shop Vite 
     copyright: https://vuejs-core.cn/shop-vite   
     time: 2025-02-28 11:53:44 
 */
import{d as K,b as W,L as l,V as t,u as a,D as u,G as P,a3 as X,e as b,ad as c,Z as $,C as w,S,_ as n,Y as j,a0 as h,a6 as A,o as g}from"./vsv-element-plus-DQNbQgVr.js";import{S as ee}from"./sortable.esm-JNWusfcT.js";import{u as Q,w as le}from"./xlsx-5rFX-EW9.js";import{_ as te}from"./index-DXRDwnmL.js";import"./vsv-icon-BSoeDgwL.js";import"./vsv-nprogress-BCb6Y0ID.js";const oe={class:"trade-container auto-height-container"},ae={class:"rowC"},ne={class:"mr10"},de={class:"mb10",style:{color:"#000"}},ue={style:{color:"#909399"}},re={class:"dialog-footer"},pe={class:"dialog-footer"},se={class:"dialog-footer"},ie=K({name:"Trade",__name:"paymanagement",setup(me){const B=ref(null),v=ref({}),s=ref({}),V=ref([{name:"支付宝",text:"支持支付宝官方电脑网站、手机网站、当面付、APP支付、三方通道等",icon:"alipay-fill",type:"zfb",color:"#18a7d8"},{name:"微信支付",text:"支付微信官方Native支付 、JSAPI支付、H5支付、小程序支付、APP支付、三方通道等",icon:"wechat-pay-line",type:"wx",color:"#01BE07"},{name:"QQ支付",text:"支持QQ钱包官方支付、三方通道等",icon:"qq-fill",type:"qq",color:"#18a7d8"},{name:"加款卡",text:"支持生成充值卡密供用户充值余额",icon:"bank-card-fill",type:"jkk",color:"#FD7841"}]),d=reactive({pageNo:1,pageSize:20}),_=ref(!1),U=ref(!1),x=ref(!1),D=ref([]),E=()=>{const f=Q.json_to_sheet(V.value),e=Q.book_new();Q.book_append_sheet(e,f,"Sheet1"),le(e,"佣金明细.xlsx")},F=()=>{const f=document.querySelector(".elTable .el-table__body-wrapper tbody");ee.create(f,{group:"shared",animation:150,ghostClass:"sortable-ghost",easing:"cubic-bezier(1, 0, 0, 1)",onStart:e=>{console.log(e)},onEnd:e=>{console.log(e),M(e.oldIndex,e.newIndex)}})},H=f=>{D.value=f},M=(f,e)=>{const k=V.value;console.log(k);const r=k.splice(f,1)[0];k.splice(e,0,r),V.value=[],nextTick(async()=>{V.value=k})};return onMounted(()=>{F()}),(f,e)=>{const k=u("el-icon"),r=u("el-table-column"),G=u("vab-icon"),J=u("el-switch"),p=u("el-button"),L=u("el-empty"),R=u("el-table"),m=u("el-radio"),I=u("el-radio-group"),i=u("el-form-item"),y=u("el-input"),q=u("el-form"),z=u("vab-dialog"),C=u("el-option"),T=u("el-select"),O=u("el-date-picker"),Y=u("vab-query-form-top-panel"),Z=u("vab-query-form");return g(),W("div",oe,[l(R,{ref_key:"tableRef",ref:B,class:"elTable",data:a(V),style:{height:"700px"},"header-cell-style":{background:"#f5f7fa",display:"none"},"cell-style":{background:"#fff",height:"100px"}},{empty:t(()=>[l(L,{class:"vab-data-empty",description:"暂无数据"})]),default:t(()=>[l(r,{width:"30"},{default:t(({row:o})=>[l(k,null,{default:t(()=>[l(a(X))]),_:1})]),_:1}),l(r,null,{default:t(({row:o})=>[b("div",ae,[b("div",ne,[l(G,{icon:o.icon,style:c([{"font-size":"50px"},{color:o.color}])},null,8,["icon","style"])]),b("div",null,[b("div",de,$(o.name),1),b("div",ue,$(o.text),1)])])]),_:1}),l(r,{label:"操作",align:"center",width:"150"},{default:t(({row:o})=>[l(J,{modelValue:o.value1,"onUpdate:modelValue":N=>o.value1=N},null,8,["modelValue","onUpdate:modelValue"]),o.type!="jkk"?(g(),w(p,{key:0,text:"",type:"primary",onClick:N=>(_.value=!0,v.value=o)},{default:t(()=>e[25]||(e[25]=[n("通道配置")])),_:2},1032,["onClick"])):S("",!0),o.type=="jkk"?(g(),w(p,{key:1,text:"",type:"primary",onClick:N=>(U.value=!0,v.value=o)},{default:t(()=>e[26]||(e[26]=[n("卡号管理")])),_:2},1032,["onClick"])):S("",!0)]),_:1})]),_:1},8,["data"]),l(z,{modelValue:a(_),"onUpdate:modelValue":e[8]||(e[8]=o=>P(_)?_.value=o:null),"append-to-body":"",title:a(v).name,width:"600px"},{footer:t(()=>[b("div",re,[l(p,{onClick:e[7]||(e[7]=o=>_.value=!1)},{default:t(()=>e[37]||(e[37]=[n("取消")])),_:1}),l(p,{type:"primary"},{default:t(()=>e[38]||(e[38]=[n("确定")])),_:1})])]),default:t(()=>[l(q,{model:a(d),onSubmit:e[6]||(e[6]=j(()=>{},["prevent"])),"label-width":"100"},{default:t(()=>[l(i,{label:"支付方式"},{default:t(()=>[a(v).type=="zfb"?(g(),w(I,{key:0,modelValue:a(d).radioff1,"onUpdate:modelValue":e[0]||(e[0]=o=>a(d).radioff1=o)},{default:t(()=>[l(m,{label:"1"},{default:t(()=>e[27]||(e[27]=[n("易支付")])),_:1}),l(m,{value:"2"},{default:t(()=>e[28]||(e[28]=[n("当面付")])),_:1}),l(m,{value:"3"},{default:t(()=>e[29]||(e[29]=[n("手机网站支付")])),_:1})]),_:1},8,["modelValue"])):S("",!0),a(v).type=="qq"?(g(),w(I,{key:1,modelValue:a(d).radioff1,"onUpdate:modelValue":e[1]||(e[1]=o=>a(d).radioff1=o)},{default:t(()=>[l(m,{label:"1"},{default:t(()=>e[30]||(e[30]=[n("QQ钱包官方")])),_:1}),l(m,{value:"2"},{default:t(()=>e[31]||(e[31]=[n("易支付")])),_:1}),l(m,{value:"3"},{default:t(()=>e[32]||(e[32]=[n("易支付（备用）")])),_:1})]),_:1},8,["modelValue"])):S("",!0),a(v).type=="wx"?(g(),w(I,{key:2,modelValue:a(d).radioff1,"onUpdate:modelValue":e[2]||(e[2]=o=>a(d).radioff1=o)},{default:t(()=>[l(m,{label:"1"},{default:t(()=>e[33]||(e[33]=[n("微信官方扫码+公众号")])),_:1}),l(m,{value:"2"},{default:t(()=>e[34]||(e[34]=[n("微信官方扫码+H5")])),_:1}),l(m,{value:"3"},{default:t(()=>e[35]||(e[35]=[n("易支付")])),_:1}),l(m,{value:"4"},{default:t(()=>e[36]||(e[36]=[n("易支付（备用）")])),_:1})]),_:1},8,["modelValue"])):S("",!0)]),_:1}),l(i,{label:"应用APPID"},{default:t(()=>[l(y,{modelValue:a(d).a,"onUpdate:modelValue":e[3]||(e[3]=o=>a(d).a=o),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),l(i,{label:"公钥"},{default:t(()=>[l(y,{modelValue:a(d).b,"onUpdate:modelValue":e[4]||(e[4]=o=>a(d).b=o),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),l(i,{label:"应用私钥"},{default:t(()=>[l(y,{modelValue:a(d).b,"onUpdate:modelValue":e[5]||(e[5]=o=>a(d).b=o),placeholder:"请输入"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),l(z,{modelValue:a(U),"onUpdate:modelValue":e[18]||(e[18]=o=>P(U)?U.value=o:null),"append-to-body":"",title:"卡号管理-(加款卡)",width:"1000px"},{footer:t(()=>[b("div",pe,[l(p,{onClick:e[17]||(e[17]=o=>_.value=!1)},{default:t(()=>e[46]||(e[46]=[n("取消")])),_:1}),l(p,{type:"primary"},{default:t(()=>e[47]||(e[47]=[n("确定")])),_:1})])]),default:t(()=>[l(Z,null,{default:t(()=>[l(Y,null,{default:t(()=>[l(q,{inline:"",model:a(s),onSubmit:e[16]||(e[16]=j(()=>{},["prevent"]))},{default:t(()=>[l(i,{label:"用户搜索"},{default:t(()=>[l(y,{modelValue:a(s).a,"onUpdate:modelValue":e[10]||(e[10]=o=>a(s).a=o),style:{width:"315px"},placeholder:"请输入",class:"input-with-select"},{prepend:t(()=>[l(T,{modelValue:a(s).b,"onUpdate:modelValue":e[9]||(e[9]=o=>a(s).b=o),placeholder:"请选择",style:{width:"100px"}},{default:t(()=>[l(C,{label:"卡号",value:"1"}),l(C,{label:"使用用户",value:"2"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),l(i,{label:"面值"},{default:t(()=>[l(y,{modelValue:a(s).merchantOrderId,"onUpdate:modelValue":e[11]||(e[11]=o=>a(s).merchantOrderId=o),clearable:"",placeholder:"请输入"},null,8,["modelValue"])]),_:1}),l(i,{label:"使用状态"},{default:t(()=>[l(T,{modelValue:a(s).region,"onUpdate:modelValue":e[12]||(e[12]=o=>a(s).region=o),placeholder:"请选择"},{default:t(()=>[l(C,{label:"已使用",value:"1"}),l(C,{label:"未使用",value:"2"})]),_:1},8,["modelValue"])]),_:1}),l(i,{label:"创建时间"},{default:t(()=>[l(O,{modelValue:a(s).value1,"onUpdate:modelValue":e[13]||(e[13]=o=>a(s).value1=o),type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])]),_:1}),l(i,{label:"使用时间"},{default:t(()=>[l(O,{modelValue:a(s).value1,"onUpdate:modelValue":e[14]||(e[14]=o=>a(s).value1=o),type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])]),_:1}),l(i,null,{default:t(()=>[l(p,{icon:a(h),"native-type":"submit",type:"primary"},{default:t(()=>e[39]||(e[39]=[n("查询")])),_:1},8,["icon"]),l(p,{icon:a(A),"native-type":"submit",type:"primary",onClick:e[15]||(e[15]=o=>x.value=!0)},{default:t(()=>e[40]||(e[40]=[n("生成卡密")])),_:1},8,["icon"]),l(p,{icon:a(A),"native-type":"submit",type:"primary",onClick:E},{default:t(()=>e[41]||(e[41]=[n("导出卡密")])),_:1},8,["icon"]),l(p,{icon:a(A),"native-type":"submit",type:"danger"},{default:t(()=>e[42]||(e[42]=[n("批量删除")])),_:1},8,["icon"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1}),l(R,{data:a(V),border:"","header-cell-style":{background:"#f5f7fa",textAlign:"center"},"cell-style":{textAlign:"center"},onSelectionChange:H},{default:t(()=>[l(r,{type:"selection",width:"38"}),l(r,{prop:"merchantOrderId",label:"ID"}),l(r,{prop:"merchantOrderId",label:"卡号"},{default:t(({row:o})=>[l(p,{text:"",type:"primary"},{default:t(()=>e[43]||(e[43]=[n("251525")])),_:1})]),_:1}),l(r,{prop:"merchantOrderId",label:"面值"}),l(r,{prop:"merchantOrderId",label:"是否使用"},{default:t(({row:o})=>e[44]||(e[44]=[n("是或不是")])),_:1}),l(r,{prop:"merchantOrderId",label:"使用的用户"}),l(r,{prop:"merchantOrderId",label:"创建时间"}),l(r,{prop:"merchantOrderId",label:"使用时间"}),l(r,{align:"center",label:"操作",width:"80"},{default:t(({row:o})=>[l(p,{text:"",type:"primary"},{default:t(()=>e[45]||(e[45]=[n("删除")])),_:1})]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue"]),l(z,{modelValue:a(x),"onUpdate:modelValue":e[24]||(e[24]=o=>P(x)?x.value=o:null),"append-to-body":"",title:"生成卡密",width:"600px"},{footer:t(()=>[b("div",se,[l(p,{onClick:e[23]||(e[23]=o=>x.value=!1)},{default:t(()=>e[48]||(e[48]=[n("取消")])),_:1}),l(p,{type:"primary"},{default:t(()=>e[49]||(e[49]=[n("确定")])),_:1})])]),default:t(()=>[l(q,{model:a(d),onSubmit:e[22]||(e[22]=j(()=>{},["prevent"])),"label-width":"100"},{default:t(()=>[l(i,{label:"面值"},{default:t(()=>[l(y,{modelValue:a(d).a,"onUpdate:modelValue":e[19]||(e[19]=o=>a(d).a=o),type:"number",placeholder:"请输入"},null,8,["modelValue"])]),_:1}),l(i,{label:"数量"},{default:t(()=>[l(y,{modelValue:a(d).b,"onUpdate:modelValue":e[20]||(e[20]=o=>a(d).b=o),type:"number",placeholder:"请输入"},null,8,["modelValue"])]),_:1}),l(i,{label:"过期时间"},{default:t(()=>[l(O,{modelValue:a(d).zvalue1,"onUpdate:modelValue":e[21]||(e[21]=o=>a(d).zvalue1=o),type:"datetime",placeholder:"请选择过期时间"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),ke=te(ie,[["__scopeId","data-v-c73bfc35"]]);export{ke as default};
