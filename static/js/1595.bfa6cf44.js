/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2025-03-05 10:50:28
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[1595],{90810:function(e,r,l){l.r(r),l.d(r,{default:function(){return C}});var o=l(83111),a=l(87391),t=(l(81775),l(90883),l(57991)),s=(l(29835),l(59173)),n=(l(63482),l(87450)),i=(l(73759),l(30182),l(33358)),d=(l(46058),l(89814)),c=(l(60238),l(34641)),u=l(27386),p=l(50670);const f={class:"login-container"},m={class:"title-tips"};function w(e,r,l,w,k,b){const v=d.uD,h=(0,c.g2)("vab-icon"),y=i.WK,g=t.xE,_=n.Zq,T=s.S2,x=(0,c.g2)("router-link"),F=t.US,C=a.S2,V=o.A,L=(0,c.gN)("focus");return(0,c.uX)(),(0,c.CE)("div",f,[(0,c.bF)(C,null,{default:(0,c.k6)((()=>[(0,c.bF)(v,{lg:14,md:11,sm:24,xl:14,xs:24},{default:(0,c.k6)((()=>r[3]||(r[3]=[(0,c.Lk)("div",{style:{color:"transparent"}},"占位符",-1)]))),_:1}),(0,c.bF)(v,{lg:9,md:12,sm:24,xl:9,xs:24},{default:(0,c.k6)((()=>[(0,c.bF)(F,{ref:"formRef",class:"login-form","label-position":"left",model:e.form,rules:e.rules},{default:(0,c.k6)((()=>[r[4]||(r[4]=(0,c.Lk)("div",{class:"title"},"hello !",-1)),(0,c.Lk)("div",m,(0,u.v_)(e.translateTitle("欢迎来到"))+(0,u.v_)(e.title)+"！ ",1),(0,c.bF)(g,{prop:"username"},{default:(0,c.k6)((()=>[(0,c.bo)(((0,c.uX)(),(0,c.Wv)(y,{modelValue:e.form.username,"onUpdate:modelValue":r[0]||(r[0]=r=>e.form.username=r),modelModifiers:{trim:!0},placeholder:e.translateTitle("请输入用户名"),tabindex:"1",type:"text"},{prefix:(0,c.k6)((()=>[(0,c.bF)(h,{icon:"user-line"})])),_:1},8,["modelValue","placeholder"])),[[L]])])),_:1}),(0,c.bF)(g,{prop:"password"},{default:(0,c.k6)((()=>[((0,c.uX)(),(0,c.Wv)(y,{key:e.passwordType,ref:"passwordRef",modelValue:e.form.password,"onUpdate:modelValue":r[1]||(r[1]=r=>e.form.password=r),modelModifiers:{trim:!0},placeholder:e.translateTitle("请输入密码"),tabindex:"2",type:e.passwordType,onKeyup:(0,p.jR)(e.handleLogin,["enter"])},(0,c.eX)({prefix:(0,c.k6)((()=>[(0,c.bF)(h,{icon:"lock-line"})])),_:2},["password"===e.passwordType?{name:"suffix",fn:(0,c.k6)((()=>[(0,c.bF)(h,{class:"show-password",icon:"eye-off-line",onClick:e.handlePassword},null,8,["onClick"])])),key:"0"}:{name:"suffix",fn:(0,c.k6)((()=>[(0,c.bF)(h,{class:"show-password",icon:"eye-line",onClick:e.handlePassword},null,8,["onClick"])])),key:"1"}]),1032,["modelValue","placeholder","type","onKeyup"]))])),_:1}),(0,c.bF)(g,{prop:"verificationCode"},{default:(0,c.k6)((()=>[(0,c.bF)(y,{modelValue:e.form.verificationCode,"onUpdate:modelValue":r[2]||(r[2]=r=>e.form.verificationCode=r),modelModifiers:{trim:!0},placeholder:e.translateTitle("验证码")+e.previewText,tabindex:"3",type:"text"},{prefix:(0,c.k6)((()=>[(0,c.bF)(h,{icon:"barcode-box-line"})])),_:1},8,["modelValue","placeholder"]),(0,c.bF)(_,{class:"code",src:e.codeUrl,onClick:e.changeCode},null,8,["src","onClick"])])),_:1}),(0,c.bF)(g,null,{default:(0,c.k6)((()=>[(0,c.bF)(T,{class:"login-btn",loading:e.loading,type:"primary",onClick:e.handleLogin},{default:(0,c.k6)((()=>[(0,c.eW)((0,u.v_)(e.translateTitle("登录")),1)])),_:1},8,["loading","onClick"])])),_:1}),(0,c.bF)(g,null,{default:(0,c.k6)((()=>[(0,c.bF)(x,{to:"/register"},{default:(0,c.k6)((()=>[(0,c.eW)((0,u.v_)(e.translateTitle("注册")),1)])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1}),(0,c.bF)(v,{lg:1,md:1,sm:24,xl:1,xs:24},{default:(0,c.k6)((()=>r[5]||(r[5]=[(0,c.Lk)("div",{style:{color:"transparent"}},"占位符",-1)]))),_:1})])),_:1}),(0,c.bF)(V)])}l(57284);var k=l(18318),b=l(21528),v=l(89242),h=l(67387),y=l(37489),g=l(12176),_=(0,c.pM)({name:"Login",directives:{focus:{mounted(e){e.querySelector("input").focus()}}},setup(){const e=(0,g.lq)(),r=(0,g.rd)(),l=(0,b.k)(),o=(0,k.C)(),a=e=>l.login(e),t=(e,r,l)=>{""===r?l(new Error((0,v.Tl)("用户名不能为空"))):l()},s=(e,r,l)=>{(0,h.Ij)(r)?l():l(new Error((0,v.Tl)("密码不能少于6位")))},n=(0,y.Kh)({formRef:null,passwordRef:null,form:{username:"",password:"",verificationCode:""},rules:{username:[{required:!0,trigger:"blur",validator:t}],password:[{required:!0,trigger:"blur",validator:s}]},loading:!1,passwordType:"password",redirect:void 0,timer:0,codeUrl:"https://www.oschina.net/action/user/captcha",previewText:""}),i=()=>"/404"===n.redirect||"/403"===n.redirect?"/":n.redirect,d=()=>{"password"===n.passwordType?n.passwordType="":n.passwordType="password",(0,c.dY)((()=>{n["passwordRef"].focus()}))},u=async()=>{n["formRef"].validate((async e=>{if(e)try{n.loading=!0,await a(n.form).catch((()=>{})),await r.push(i())}finally{n.loading=!1}}))},p=()=>{n.codeUrl=`https://www.oschina.net/action/user/captcha?timestamp=${Date.now()}`},f=(0,y.KR)(!1);return(0,c.KC)((()=>{n.form.username="admin",n.form.password="123456","veujs-core.cn"===location.hostname&&(f.value=!0,n.previewText="（演示地址验证码可不填）",n.timer=setTimeout((()=>{u()}),5e3))})),(0,c.nT)((()=>{n.redirect=e.query&&e.query.redirect||"/"})),(0,g.JZ)(((e,r,l)=>{clearInterval(n.timer),l()})),{translateTitle:v.Tl,...(0,y.QW)(n),title:o.getTitle,handlePassword:d,handleLogin:u,changeCode:p}}});function T(e){e.__source="src/views/login/index.vue"}var x=l(48499);"function"===typeof T&&T(_);const F=(0,x.A)(_,[["render",w],["__scopeId","data-v-4bbc59ec"]]);var C=F}}]);