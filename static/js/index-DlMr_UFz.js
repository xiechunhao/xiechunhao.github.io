var z=Object.defineProperty,P=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var B=(_,o,n)=>o in _?z(_,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):_[o]=n,I=(_,o)=>{for(var n in o||(o={}))R.call(o,n)&&B(_,n,o[n]);if(N)for(var n of N(o))H.call(o,n)&&B(_,n,o[n]);return _},O=(_,o)=>P(_,W(o));var D=(_,o,n)=>new Promise((d,i)=>{var c=t=>{try{p(n.next(t))}catch(e){i(e)}},l=t=>{try{p(n.throw(t))}catch(e){i(e)}},p=t=>t.done?d(t.value):Promise.resolve(t.value).then(c,l);p((n=n.apply(_,o)).next())});import{d as b,o as m,f,w as s,e as a,$ as Q,b as g,n as v,t as x,a0 as G,b1 as q,a5 as M,b2 as Y,bb as J,b4 as T,b5 as V,b3 as w,ac as F,_ as $,Y as j,h as y,m as u,z as E,b6 as K,b7 as U,a as X,S as Z}from"./index-ZnvSvhwo.js";import{u as L}from"./index-DkHmMGFL.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import{u as k}from"./chart-option-CtQs1WEE.js";import{u as tt}from"./themes-DiqeDmz3.js";/* empty css              *//* empty css              *//* empty css              */const et={class:"content-wrap"},at={class:"content"},ot={class:"desc"},nt={class:"desc"},st=b({__name:"chain-item",props:{renderData:{type:Object,default:""},loading:{type:Boolean,default:""},cardStyle:{type:Object,default:()=>({})}},setup(_){const o=_;return(n,d)=>{const i=q,c=M,l=Y,p=J,t=T,e=V,r=w,h=F;return m(),f(h,{loading:_.loading,style:{width:"100%"}},{default:s(()=>[a(r,{bordered:!1,style:Q(_.cardStyle)},{default:s(()=>[g("div",et,[g("div",at,[a(i,{title:o.renderData.name,value:o.renderData.statistics,"value-from":0,animation:"","show-group-separator":""},null,8,["title","value"]),a(e,{cols:24},{default:s(()=>[a(t,{span:{xxl:12}},{default:s(()=>[g("div",ot,[a(c,{type:"secondary",class:"label"},{default:s(()=>[v(x(n.$t("同比")),1)]),_:1}),o.renderData.mom?(m(),f(c,{key:0,type:"danger"},{default:s(()=>[v(x((o.renderData.mom*100).toFixed(2))+" ",1),Number((o.renderData.mom*100).toFixed(2))>0?(m(),f(l,{key:0})):(m(),f(p,{key:1}))]),_:1})):G("",!0)])]),_:1}),a(t,{span:{xxl:12}},{default:s(()=>[g("div",nt,[a(c,{type:"secondary",class:"label"},{default:s(()=>[v(x(n.$t("环比")),1)]),_:1}),o.renderData.yoy?(m(),f(c,{key:0,type:"danger"},{default:s(()=>[v(x((o.renderData.yoy*100).toFixed(2))+" ",1),Number((o.renderData.yoy*100).toFixed(2))>0?(m(),f(l,{key:0})):(m(),f(p,{key:1}))]),_:1})):G("",!0)])]),_:1})]),_:1})])])]),_:1},8,["style"])]),_:1},8,["loading"])}}}),S=$(st,[["__scopeId","data-v-735190ba"]]);function rt(){return j.post("/project_overview/statistics")}function A(){return j.post("project_overview/lastQ/statistics")}function it(){return j.post("project_overview/gsv_complete_rate")}function lt(){return j.post("project_overview/revenue/statistics")}const ct={class:"header"},dt={class:"grid-item"},pt={class:"grid-item"},_t={class:"grid-item"},ut={class:"grid-item"},mt={class:"grid-item"},ft={class:"grid-item"},gt=b({__name:"content-top",setup(_){const{isDark:o}=tt(),{loading:n,setLoading:d}=L(),i=y({});return D(this,null,function*(){try{d(!0);const l=yield rt();if(l.code===200){let p=l.data;i.value=p.metric}}catch(l){}finally{d(!1)}}),(l,p)=>{const t=w;return m(),f(t,{class:"general-card"},{default:s(()=>[g("div",ct,[g("div",dt,[a(S,{"card-style":{background:u(o)?"linear-gradient(180deg, #284991 0%, #122B62 100%)":"linear-gradient(180deg, #f2f9fe 0%, #e6f4fe 100%)"},loading:u(n),renderData:i.value[0]},null,8,["card-style","loading","renderData"])]),g("div",pt,[a(S,{"card-style":{background:u(o)?" linear-gradient(180deg, #3D492E 0%, #263827 100%)":"linear-gradient(180deg, #F5FEF2 0%, #E6FEEE 100%)"},loading:u(n),renderData:i.value[1]},null,8,["card-style","loading","renderData"])]),g("div",_t,[a(S,{"card-style":{background:u(o)?"linear-gradient(180deg, #294B94 0%, #0F275C 100%)":"linear-gradient(180deg, #f2f9fe 0%, #e6f4fe 100%)"},loading:u(n),renderData:i.value[12]},null,8,["card-style","loading","renderData"])]),g("div",ut,[a(S,{"card-style":{background:u(o)?"linear-gradient(180deg, #312565 0%, #201936 100%)":"linear-gradient(180deg, #F7F7FF 0%, #ECECFF 100%)"},loading:u(n),renderData:i.value[13]},null,8,["card-style","loading","renderData"])]),g("div",mt,[a(S,{"card-style":{background:u(o)?"linear-gradient(180deg, #284991 0%, #122B62 100%)":"linear-gradient(180deg, #f2f9fe 0%, #e6f4fe 100%)"},loading:u(n),renderData:i.value[2]},null,8,["card-style","loading","renderData"])]),g("div",ft,[a(S,{"card-style":{background:u(o)?" linear-gradient(180deg, #3D492E 0%, #263827 100%)":"linear-gradient(180deg, #F5FEF2 0%, #E6FEEE 100%)"},loading:u(n),renderData:i.value[17]},null,8,["card-style","loading","renderData"])])])]),_:1})}}}),yt=$(gt,[["__scopeId","data-v-88170cb1"]]),ht=b({__name:"content-project-net-profit",setup(_){const o=t=>t.map(e=>`<div class="content-panel">
          <p>
            <span style="background-color: ${e.color}" class="tooltip-item-icon"></span>
            <span>${e.seriesName}</span>
          </p>
          <span class="tooltip-value">
          ${e.value}
          </span>
        </div>`).join(""),{loading:n,setLoading:d}=L(!0),i=y([]),c=y([]),{chartOption:l}=k(t=>({grid:{left:"60",right:20,top:"20",bottom:"20"},xAxis:{type:"category",data:i.value,axisLine:{lineStyle:{color:t?"#3f3f3f":"#A9AEB8"}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{color:"#86909C"}},axisLabel:{color:"#86909C"}},yAxis:{type:"value",axisLabel:{color:"#86909C"},splitLine:{lineStyle:{color:t?"#3F3F3F":"#E5E6EB"}}},tooltip:{show:!0,trigger:"axis",formatter(e){const[r]=e;return`<div>
            <p class="tooltip-title">${r.axisValueLabel}</p>
            ${o(e)}
          </div>`},className:"echarts-tooltip-diy"},series:[{name:"季度佣金",data:c.value,stack:"one",type:"bar",barWidth:"40%"}]}));return D(this,null,function*(){try{d(!0);const t=yield A();if(t.code===200){let e=t.data.metric;i.value=e.map(r=>r.project_name),c.value=e.map(r=>r.income_tax.toFixed(2))}}catch(t){}finally{d(!1)}}),(t,e)=>{const r=E("Chart"),h=w,C=F;return m(),f(C,{loading:u(n),style:{width:"100%"}},{default:s(()=>[a(h,{class:"general-card","header-style":{paddingBottom:"0"},"body-style":{padding:"20px"}},{title:s(()=>[v(x(t.$t("项目净利润")),1)]),default:s(()=>[a(r,{style:{width:"100%",height:"215px"},option:u(l)},null,8,["option"])]),_:1})]),_:1},8,["loading"])}}}),vt=$(ht,[["__scopeId","data-v-f31edcc0"]]),xt=b({__name:"content-project-gsv",setup(_){const{loading:o,setLoading:n}=L(),d=y(0),i=y([]),c=y([]),{chartOption:l}=k(t=>({tooltip:{show:!0,trigger:"item"},legend:{orient:"vertical",right:0,y:"center",itemWidth:8,padding:10,textStyle:{fontSize:12},align:"left",data:i.value},series:[{type:"pie",radius:["40%","60%"],center:["30%","50%"],label:{formatter:e=>`${Number(e==null?void 0:e.value[0])} (${(Number(e==null?void 0:e.value[0])/d.value*100).toFixed(2)}%)`,fontSize:14,color:t?"rgba(255, 255, 255, 0.7)":"#4E5969"},itemStyle:{borderColor:t?"#232324":"#fff",borderWidth:1},data:c.value}]}));return D(this,null,function*(){try{n(!0);const t=yield A();if(t.code===200){let e=t.data.metric;i.value=e.map(r=>({name:r.project_name,icon:"circle"})),c.value=e.map(r=>({value:[r.effective_gmv.toFixed(2)],name:r.project_name})),d.value=e.reduce((r,h)=>Number(r)+Number(h.effective_gmv.toFixed(2)),0)}}catch(t){}finally{n(!1)}}),(t,e)=>{const r=E("Chart"),h=w,C=F;return m(),f(C,{loading:u(o),style:{width:"100%"}},{default:s(()=>[a(h,{class:"general-card","header-style":{paddingBottom:"0"},"body-style":{padding:"20px"}},{title:s(()=>[v(x(t.$t("项目GSV")),1)]),default:s(()=>[v(" "+x(d.value)+" ",1),a(r,{height:"215px",option:u(l)},null,8,["option"])]),_:1})]),_:1},8,["loading"])}}}),bt=b({__name:"content-not-paid-back",setup(_){const{loading:o,setLoading:n}=L(),d=y([]);return D(this,null,function*(){try{n(!0);const c=yield A();if(c.code===200){let l=c.data.metric;d.value=l.map(p=>({project_name:p.project_name,total_revenue:Number(p.total_revenue).toFixed(2),total_profit:Number(p.total_profit).toFixed(2),total_cost:Number(p.total_cost).toFixed(2)}))}}catch(c){}finally{n(!1)}}),(c,l)=>{const p=K,t=U,e=w,r=F;return m(),f(r,{loading:u(o),style:{width:"100%",height:"100%"}},{default:s(()=>[a(e,{class:"general-card"},{title:s(()=>[v(x(c.$t("未回款统计")),1)]),default:s(()=>[a(t,{size:"small",data:d.value,pagination:!1,bordered:!1,scroll:{x:"100%",y:"218px"}},{columns:s(()=>[a(p,{title:"项目名称",width:150,"data-index":"project_name",ellipsis:"",fixed:"left"}),a(p,{title:"收入总额","data-index":"total_revenue"}),a(p,{title:"利润总额","data-index":"total_profit"}),a(p,{title:"总成本","data-index":"total_cost"})]),_:1},8,["data"])]),_:1})]),_:1},8,["loading"])}}}),Dt=$(bt,[["__scopeId","data-v-2f90f283"]]),wt=b({__name:"content-gsv-achievement-rate",setup(_){const{loading:o,setLoading:n}=L(!0),d=y(0),{chartOption:i}=k(l=>({series:{name:"Pressure",type:"gauge",radius:"100%",progress:{show:!0},detail:{formatter:"{value}%",valueAnimation:!0,fontSize:14},data:[{value:d.value}]}}));return D(this,null,function*(){try{n(!0);const l=yield it();l.code===200&&(d.value=Number((l.data*100).toFixed(2)))}catch(l){}finally{n(!1)}}),(l,p)=>{const t=E("Chart"),e=w,r=F;return m(),f(r,{loading:u(o),style:{width:"100%"}},{default:s(()=>[a(e,{class:"general-card","header-style":{paddingBottom:"0"},"body-style":{padding:"20px"}},{title:s(()=>[v(x(l.$t("GSV达成率")),1)]),default:s(()=>[a(t,{height:"215px",option:u(i)},null,8,["option"])]),_:1})]),_:1},8,["loading"])}}}),$t=$(wt,[["__scopeId","data-v-69c97ba5"]]),Ct=b({__name:"content-gmv-gap",setup(_){const o=t=>t.map(e=>`<div class="content-panel">
          <p>
            <span style="background-color: ${e.color}" class="tooltip-item-icon"></span>
            <span>${e.seriesName}</span>
          </p>
          <span class="tooltip-value">
          ${e.value}
          </span>
        </div>`).join(""),{loading:n,setLoading:d}=L(!0),i=y([]),c=y([]),{chartOption:l}=k(()=>({grid:{left:"0%",right:"20",bottom:"0",top:"0",containLabel:!0},tooltip:{show:!0,trigger:"axis",formatter(t){const[e]=t;return`<div>
            <p class="tooltip-title">${e.axisValueLabel}</p>
            ${o(t)}
          </div>`},className:"echarts-tooltip-diy"},xAxis:{show:!0,splitLine:{show:!0,textStyle:{color:"#333"},lineStyle:{color:"#8c8c8c",type:"dashed"}},axisLine:{show:!0,textStyle:{color:"#333"},lineStyle:{color:"#8c8c8c",type:"dashed"}},axisTick:{show:!1},axisLabel:{show:!0},type:"value"},yAxis:[{type:"category",inverse:!0,boundaryGap:!0,axisLabel:{show:!0,lineStyle:{color:"#f2f2f2"}},splitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!1},data:i.value}],series:[{name:"GMV缺口",type:"bar",zlevel:1,itemStyle:{normal:{barBorderRadius:[0,10,10,0]}},barWidth:16,data:c.value}]}));return D(this,null,function*(){try{d(!0);const t=yield A();if(t.code===200){let e=t.data.metric;i.value=e.map(r=>r.project_name),c.value=e.map(r=>r.effective_gmv.toFixed(2))}}catch(t){}finally{d(!1)}}),(t,e)=>{const r=E("Chart"),h=w,C=F;return m(),f(C,{loading:u(n),style:{width:"100%"}},{default:s(()=>[a(h,{class:"general-card","header-style":{paddingBottom:"0"},"body-style":{padding:"20px"}},{title:s(()=>[v(x(t.$t("GMV缺口")),1)]),default:s(()=>[a(r,{style:{width:"100%",height:"215px"},option:u(l)},null,8,["option"])]),_:1})]),_:1},8,["loading"])}}}),Ft=$(Ct,[["__scopeId","data-v-0e420aeb"]]),Lt=b({__name:"content-quarterly-commission",setup(_){const o=t=>t.map(e=>`<div class="content-panel">
          <p>
            <span style="background-color: ${e.color}" class="tooltip-item-icon"></span>
            <span>${e.seriesName}</span>
          </p>
          <span class="tooltip-value">
          ${e.value}%
          </span>
        </div>`).join(""),{loading:n,setLoading:d}=L(!0),i=y([]),c=y([]),{chartOption:l}=k(t=>({grid:{left:"70",right:20,top:"20",bottom:"20"},xAxis:{type:"category",data:i.value,axisLine:{lineStyle:{color:t?"#3f3f3f":"#A9AEB8"}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{color:"#86909C"}},axisLabel:{color:"#86909C"}},yAxis:{type:"value",axisLabel:{color:"#86909C"},splitLine:{lineStyle:{color:t?"#3F3F3F":"#E5E6EB"}}},tooltip:{show:!0,trigger:"axis",formatter(e){const[r]=e;return`<div>
            <p class="tooltip-title">${r.axisValueLabel}</p>
            ${o(e)}
          </div>`},className:"echarts-tooltip-diy"},series:[{name:"季度佣金",data:c.value,stack:"one",type:"bar",barWidth:"40%"}]}));return D(this,null,function*(){try{d(!0);const t=yield lt();if(t.code===200){let e=t.data.metric;i.value=e.map(r=>r.q),c.value=e.map(r=>r.revenue.toFixed(2))}}catch(t){}finally{d(!1)}}),(t,e)=>{const r=E("Chart"),h=w,C=F;return m(),f(C,{loading:u(n),style:{width:"100%"}},{default:s(()=>[a(h,{class:"general-card","header-style":{paddingBottom:"0"},"body-style":{padding:"20px"}},{title:s(()=>[v(x(t.$t("季度佣金完成")),1)]),default:s(()=>[a(r,{style:{width:"100%",height:"215px"},option:u(l)},null,8,["option"])]),_:1})]),_:1},8,["loading"])}}}),St=$(Lt,[["__scopeId","data-v-c59b6d7d"]]),Et={class:"container"},kt={class:"space-unit"},jt={name:"DataAnalysis"},At=b(O(I({},jt),{setup(_){return(o,n)=>{const d=E("Breadcrumb"),i=T,c=V,l=Z;return m(),X("div",Et,[a(d,{items:["数据分析","短视频素材分析"]}),a(l,{direction:"vertical",size:12,fill:""},{default:s(()=>[a(l,{direction:"vertical",size:16,fill:""},{default:s(()=>[g("div",kt,[a(yt)]),g("div",null,[a(c,{cols:24,"col-gap":16},{default:s(()=>[a(i,{span:{xxl:6}},{default:s(()=>[a(vt)]),_:1}),a(i,{span:{xxl:9}},{default:s(()=>[a(xt)]),_:1}),a(i,{span:{xxl:9}},{default:s(()=>[a(Dt)]),_:1})]),_:1})]),g("div",null,[a(c,{cols:24,"col-gap":16},{default:s(()=>[a(i,{span:{xxl:6}},{default:s(()=>[a($t)]),_:1}),a(i,{span:{xxl:9}},{default:s(()=>[a(Ft)]),_:1}),a(i,{span:{xxl:9}},{default:s(()=>[a(St)]),_:1})]),_:1})])]),_:1})]),_:1})])}}})),Qt=$(At,[["__scopeId","data-v-593e54a4"]]);export{Qt as default};
