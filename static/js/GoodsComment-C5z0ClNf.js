/*!  build: Vue Shop Vite 
     copyright: https://vuejs-core.cn/shop-vite   
     time: 2025-02-12 16:08:16 
 */
import{_ as H,g as O,d as E}from"./GoodsCommentEdit.vue_vue_type_script_setup_true_lang-Dm4t8Tq-.js";import{_ as Q}from"./index.vue_vue_type_script_setup_true_lang-DG6MVEkW.js";import{_ as W}from"./index-CoUS0v3n.js";import{_ as Y}from"./VabQueryFormRightPanel.vue_vue_type_script_setup_true_lang-Bdp4gqKq.js";import{_ as Z}from"./VabQueryFormLeftPanel.vue_vue_type_script_setup_true_lang-DGp934Nh.js";import{d as J,r as m,h as K,P as X,a6 as ee,b as te,o as S,Z as e,U as ae,T as t,a8 as oe,u as s,bq as ne,a7 as p,ao as le,aB as se,ap as ie,aL as re,aR as ce,W as me,S as pe,aO as _e,Y as k,aH as de,be as ue,br as fe,aG as ge,aI as be,aQ as ye}from"./vsv-element-plus-B-S50adB.js";import{$ as V,f}from"./index-BiEcGzGC.js";import"./vsv-icon-DcXMIZgh.js";import"./vsv-nprogress-Bmiy9T8n.js";const ve={class:"goods-comment-container auto-height-container"},ze=J({name:"GoodsComment",__name:"GoodsComment",setup(he){const g=m(null),b=m(),y=m([]),_=m(!0),v=m(0),d=m([]),i=K({pageNo:1,pageSize:20}),c=async()=>{_.value=!0;const{data:a}=await O(i);y.value=a.list,v.value=a.total,_.value=!1},$=a=>{i.pageNo=1,i.pageSize=a,c()},D=a=>{i.pageNo=a,c()},R=()=>{i.pageNo=1,c()},z=a=>{d.value=a},N=(a={})=>{g.value.showEdit(a)},h=a=>{if(a.id)V("您确定要删除当前项吗",null,async()=>{const{msg:o}=await E({ids:a.id});f(o,"success","hey"),await c()});else if(d.value.length>0){const o=d.value.map(r=>r.id).join(",");V("您确定要删除选中项吗",null,async()=>{const{msg:r}=await E({ids:o});f(r,"success","hey"),await c()})}else f("您未选中任何行","warning","hey")};return X(()=>{var a;(a=b.value)==null||a.doLayout()}),ee(()=>{c()}),(a,o)=>{const r=oe,q=Z,x=re,w=ie,B=le,I=Y,L=W,l=_e,C=ue,T=de,F=fe,U=ge,G=be,M=ye,P=Q,j=H,A=me;return S(),te("div",ve,[e(L,null,{default:t(()=>[e(q,null,{default:t(()=>[e(r,{icon:s(ne),type:"danger",onClick:h},{default:t(()=>o[2]||(o[2]=[p("删除")])),_:1},8,["icon"])]),_:1}),e(I,null,{default:t(()=>[e(B,{inline:"",model:s(i),onSubmit:o[1]||(o[1]=se(()=>{},["prevent"]))},{default:t(()=>[e(w,{label:"商品名称"},{default:t(()=>[e(x,{modelValue:s(i).name,"onUpdate:modelValue":o[0]||(o[0]=n=>s(i).name=n),clearable:"",placeholder:"请输入商品名称"},null,8,["modelValue"])]),_:1}),e(w,null,{default:t(()=>[e(r,{icon:s(ce),loading:s(_),"native-type":"submit",type:"primary",onClick:R},{default:t(()=>o[3]||(o[3]=[p("查询")])),_:1},8,["icon","loading"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1}),ae((S(),pe(M,{ref_key:"tableRef",ref:b,border:"",data:s(y),onSelectionChange:z},{empty:t(()=>[e(G,{class:"vab-data-empty",description:"暂无数据"})]),default:t(()=>[e(l,{type:"selection",width:"38"}),e(l,{align:"center",label:"序号",width:"55"},{default:t(({$index:n})=>[p(k(n+1),1)]),_:1}),e(l,{align:"center",label:"商品ID","min-width":"180",prop:"id","show-overflow-tooltip":""}),e(l,{align:"center",label:"商品名称","min-width":"120",prop:"name","show-overflow-tooltip":"",sortable:""}),e(l,{align:"center",label:"商品图",prop:"image"},{default:t(({row:n})=>[e(T,{placement:"top-start"},{reference:t(()=>[e(C,{src:n.image},null,8,["src"])]),default:t(()=>[e(C,{src:n.image},null,8,["src"])]),_:2},1024)]),_:1}),e(l,{align:"center",label:"评级","min-width":"200"},{default:t(({row:n})=>[e(F,{modelValue:n.rate,"onUpdate:modelValue":u=>n.rate=u,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(l,{align:"center",label:"评论内容","min-width":"200",prop:"comment","show-overflow-tooltip":""}),e(l,{align:"center",label:"回复内容","min-width":"200",prop:"reply","show-overflow-tooltip":""}),e(l,{align:"center",label:"回复状态","min-width":"100"},{default:t(({row:n})=>[e(U,{effect:"dark",type:n.replyStatus=="已回复"?"success":n.replyStatus=="未回复"?"warning":"info"},{default:t(()=>[p(k(n.replyStatus),1)]),_:2},1032,["type"])]),_:1}),e(l,{align:"center",label:"时间","min-width":"160",prop:"datetime"}),e(l,{align:"center",label:"操作",width:"150"},{default:t(({row:n})=>[e(r,{text:"",type:"primary",onClick:u=>N(n)},{default:t(()=>o[4]||(o[4]=[p("回复")])),_:2},1032,["onClick"]),e(r,{text:"",type:"danger",onClick:u=>h(n)},{default:t(()=>o[5]||(o[5]=[p("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[A,s(_)]]),e(P,{"current-page":s(i).pageNo,"page-size":s(i).pageSize,total:s(v),onCurrentChange:D,onSizeChange:$},null,8,["current-page","page-size","total"]),e(j,{ref_key:"editRef",ref:g,onFetchData:c},null,512)])}}});export{ze as default};
