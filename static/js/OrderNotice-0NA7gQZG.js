/*!  build: Vue Shop Vite 
     copyright: https://vuejs-core.cn/shop-vite   
     time: 2025-02-08 15:33:27 
 */
import{_ as V}from"./index-DGkTrGHB.js";import{aF as B,R as F}from"./index-Ba9EqH5M.js";import{d as I,r,C as O,E as P,b as R,o as c,Z as o,T as t,b6 as A,S as h,u as g,ao as L,ap as U,aL as q,i as D,bO as M,a8 as Z,a7 as s,b7 as $}from"./vsv-element-plus-B-S50adB.js";import"./vsv-icon-BcEnJ7dJ.js";import"./vsv-nprogress-Bmiy9T8n.js";const j={class:"order-notice-container no-background-container"},W=I({name:"OrderNotice",__name:"OrderNotice",setup(z){const u=r(void 0),n=r(""),a=B(n,{voice:u}),k=async()=>{n.value="您有新的Shop Vite订单，请及时处理！"};let p;const m=r([]);let i;O(()=>{a.isSupported.value&&(i=setTimeout(()=>{p=globalThis.speechSynthesis,m.value=p.getVoices(),u.value=m.value[0]},200),k())}),P(()=>{i&&clearTimeout(i)});const d=()=>{a.status.value==="pause"?globalThis.speechSynthesis.resume():a.speak()},_=()=>{F(n.value,"温馨提示","success","bottom-right")},f=()=>{globalThis.Notification.requestPermission().then(y=>{if(y==="granted"){const e=new globalThis.Notification("温馨提示",{body:n.value});e.addEventListener("click",()=>{window.focus(),e.close()})}})},S=()=>{_(),f(),setTimeout(()=>{d()},500)};return(y,e)=>{const E=q,b=U,l=Z,N=M,T=L,v=V,w=A,x=$;return c(),R("div",j,[o(x,{gutter:20},{default:t(()=>[o(w,{lg:8,md:18,sm:24,xl:8,xs:24},{default:t(()=>[g(a).isSupported?(c(),h(v,{key:0},{default:t(()=>[o(T,{"label-position":"top"},{default:t(()=>[o(b,{label:"文本"},{default:t(()=>[o(E,{modelValue:g(n),"onUpdate:modelValue":e[0]||(e[0]=C=>D(n)?n.value=C:null),clearable:"",rows:4,type:"textarea"},null,8,["modelValue"])]),_:1}),o(b,{label:"操作"},{default:t(()=>[o(N,{wrap:""},{default:t(()=>[o(l,{type:"primary",onClick:S},{default:t(()=>e[1]||(e[1]=[s("全部推送")])),_:1}),o(l,{type:"primary",onClick:d},{default:t(()=>e[2]||(e[2]=[s("推送语音")])),_:1}),o(l,{type:"primary",onClick:_},{default:t(()=>e[3]||(e[3]=[s("推送网页通知")])),_:1}),o(l,{type:"primary",onClick:f},{default:t(()=>e[4]||(e[4]=[s("推送系统通知")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):(c(),h(v,{key:1},{default:t(()=>e[5]||(e[5]=[s("您的浏览器不支持SpeechSynthesis API")])),_:1}))]),_:1})]),_:1})])}}});export{W as default};
