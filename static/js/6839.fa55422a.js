/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2025-03-14 01:23:41
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[6839],{24024:function(e,t,l){l.d(t,{Ed:function(){return o},pL:function(){return r},vS:function(){return n}});var a=l(24380);function n(e){return(0,a.A)({url:"/table/getList",method:"get",params:e})}function o(e){return(0,a.A)({url:"/table/doEdit",method:"post",data:e})}function r(e){return(0,a.A)({url:"/table/doDelete",method:"post",data:e})}},50855:function(e,t,l){l.d(t,{A:function(){return u}});var a=l(30853),n=(l(27322),l(39585),l(34641));const o={class:"right-panel"};var r=(0,n.pM)({__name:"VabQueryFormRightPanel",props:{span:{type:Number,default:10}},setup(e){return(t,l)=>{const r=a.uD;return(0,n.uX)(),(0,n.Wv)(r,{lg:e.span,md:24,sm:24,xl:e.span,xs:24},{default:(0,n.k6)((()=>[(0,n.Lk)("div",o,[(0,n.RG)(t.$slots,"default")])])),_:3},8,["lg","xl"])}}});function i(e){e.__source="library/components/VabQueryForm/components/VabQueryFormRightPanel.vue"}"function"===typeof i&&i(r);const s=r;var u=s},56808:function(e,t,l){l.d(t,{A:function(){return u}});var a=l(30853),n=(l(27322),l(39585),l(34641));const o={class:"left-panel"};var r=(0,n.pM)({__name:"VabQueryFormLeftPanel",props:{span:{type:Number,default:14}},setup(e){return(t,l)=>{const r=a.uD;return(0,n.uX)(),(0,n.Wv)(r,{lg:e.span,md:24,sm:24,xl:e.span,xs:24},{default:(0,n.k6)((()=>[(0,n.Lk)("div",o,[(0,n.RG)(t.$slots,"default")])])),_:3},8,["lg","xl"])}}});function i(e){e.__source="library/components/VabQueryForm/components/VabQueryFormLeftPanel.vue"}"function"===typeof i&&i(r);const s=r;var u=s},63285:function(e,t,l){l.d(t,{A:function(){return d}});var a=l(76004),n=(l(27322),l(49120),l(34641));function o(e,t){const l=a.S2;return(0,n.uX)(),(0,n.Wv)(l,{class:"vab-query-form",gutter:0},{default:(0,n.k6)((()=>[(0,n.RG)(e.$slots,"default",{},void 0,!0)])),_:3})}function r(e){e.__source="library/components/VabQueryForm/index.vue"}var i=l(48499);const s={};"function"===typeof r&&r(s);const u=(0,i.A)(s,[["render",o],["__scopeId","data-v-172989c8"]]);var d=u},72240:function(e,t,l){l.r(t),l.d(t,{default:function(){return A}});var a=l(1956),n=(l(27322),l(14014),l(94577)),o=(l(9573),l(62289)),r=(l(65562),l(78925)),i=(l(35762),l(77912)),s=(l(53492),l(95489),l(63285)),u=l(50855),d=l(94981),c=(l(8784),l(72515)),p=(l(45077),l(73095)),b=(l(63701),l(91940),l(48992),l(56808)),m=l(44134),f=(l(92498),l(73120)),g=(l(52539),l(5309),l(46137)),h=(l(30957),l(34641)),k=l(27386),y=l(50670);const F={class:"stripe-panel"},v={class:"border-panel"},_={key:0},C={key:1};function V(e,t,l,V,w,S){const W=g.WK,x=m.xE,L=f.S2,D=m.US,R=b.A,E=d.dI,q=(0,h.g2)("vab-icon"),A=p.ll,Q=p.MQ,z=c.Vc,U=(0,h.g2)("vab-draggable"),X=d.o5,$=u.A,P=s.A,H=o.o8,N=i.og,M=r.x0,I=o.Up,G=n.aQ,K=(0,h.g2)("edit"),T=a.L;return(0,h.uX)(),(0,h.CE)("div",{class:(0,k.C4)(["custom-table-container",{"vab-fullscreen":e.isFullscreen}])},[(0,h.bF)(P,null,{default:(0,h.k6)((()=>[(0,h.bF)(R,null,{default:(0,h.k6)((()=>[(0,h.bF)(D,{inline:"","label-width":"0",model:e.queryForm,onSubmit:t[2]||(t[2]=(0,y.D$)((()=>{}),["prevent"]))},{default:(0,h.k6)((()=>[(0,h.bF)(x,null,{default:(0,h.k6)((()=>[(0,h.bF)(W,{modelValue:e.queryForm.title,"onUpdate:modelValue":t[0]||(t[0]=t=>e.queryForm.title=t),placeholder:"标题"},null,8,["modelValue"])])),_:1}),(0,h.bF)(x,null,{default:(0,h.k6)((()=>[(0,h.bF)(L,{icon:e.Search,"native-type":"submit",type:"primary",onClick:e.queryData},{default:(0,h.k6)((()=>t[7]||(t[7]=[(0,h.eW)(" 查询 ")]))),_:1},8,["icon","onClick"]),(0,h.bF)(L,{icon:e.Plus,type:"primary",onClick:e.handleAdd},{default:(0,h.k6)((()=>t[8]||(t[8]=[(0,h.eW)(" 添加 ")]))),_:1},8,["icon","onClick"]),(0,h.bF)(L,{icon:e.Delete,type:"danger",onClick:t[1]||(t[1]=t=>e.handleDelete(t))},{default:(0,h.k6)((()=>t[9]||(t[9]=[(0,h.eW)(" 删除 ")]))),_:1},8,["icon"])])),_:1})])),_:1},8,["model"])])),_:1}),(0,h.bF)($,null,{default:(0,h.k6)((()=>[(0,h.Lk)("div",F,[(0,h.bF)(E,{modelValue:e.stripe,"onUpdate:modelValue":t[3]||(t[3]=t=>e.stripe=t)},{default:(0,h.k6)((()=>t[10]||(t[10]=[(0,h.eW)("斑马纹")]))),_:1},8,["modelValue"])]),(0,h.Lk)("div",v,[(0,h.bF)(E,{modelValue:e.border,"onUpdate:modelValue":t[4]||(t[4]=t=>e.border=t)},{default:(0,h.k6)((()=>t[11]||(t[11]=[(0,h.eW)("边框（可拉伸列）")]))),_:1},8,["modelValue"])]),(0,h.bF)(L,{style:{margin:"0 10px 10px 0 !important"},text:"",type:"primary",onClick:e.clickFullScreen},{default:(0,h.k6)((()=>[(0,h.bF)(q,{icon:e.isFullscreen?"fullscreen-exit-fill":"fullscreen-fill"},null,8,["icon"])])),_:1},8,["onClick"]),(0,h.bF)(z,{"popper-class":"custom-table-radio",trigger:"hover"},{reference:(0,h.k6)((()=>[(0,h.bF)(L,{style:{margin:"0 10px 10px 0 !important"},text:"",type:"primary"},{default:(0,h.k6)((()=>[(0,h.bF)(q,{icon:"line-height"})])),_:1})])),default:(0,h.k6)((()=>[(0,h.bF)(Q,{modelValue:e.lineHeight,"onUpdate:modelValue":t[5]||(t[5]=t=>e.lineHeight=t)},{default:(0,h.k6)((()=>[(0,h.bF)(A,{label:"large"},{default:(0,h.k6)((()=>t[12]||(t[12]=[(0,h.eW)("大")]))),_:1}),(0,h.bF)(A,{label:"default"},{default:(0,h.k6)((()=>t[13]||(t[13]=[(0,h.eW)("中")]))),_:1}),(0,h.bF)(A,{label:"small"},{default:(0,h.k6)((()=>t[14]||(t[14]=[(0,h.eW)("小")]))),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,h.bF)(z,{"popper-class":"custom-table-checkbox",trigger:"hover"},{reference:(0,h.k6)((()=>[(0,h.bF)(L,{style:{margin:"0 0 10px !important"},text:"",type:"primary"},{default:(0,h.k6)((()=>[(0,h.bF)(q,{icon:"settings-line"})])),_:1})])),default:(0,h.k6)((()=>[(0,h.bF)(X,{modelValue:e.checkList,"onUpdate:modelValue":t[6]||(t[6]=t=>e.checkList=t)},{default:(0,h.k6)((()=>[(0,h.bF)(U,(0,h.v6)(e.dragOptions,{"item-key":"{ element }",list:e.columns}),{item:(0,h.k6)((({element:e})=>[(0,h.Lk)("div",null,[(0,h.bF)(q,{icon:"drag-drop-line"}),(0,h.bF)(E,{disabled:!0===e.disableCheck,label:e.label},{default:(0,h.k6)((()=>[(0,h.eW)((0,k.v_)(e.label),1)])),_:2},1032,["disabled","label"])])])),_:1},16,["list"])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,h.bo)(((0,h.uX)(),(0,h.Wv)(I,{ref:"tableSortRef",border:e.border,data:e.list,height:e.height,size:e.lineHeight,stripe:e.stripe,onSelectionChange:e.setSelectRows},{empty:(0,h.k6)((()=>[(0,h.bF)(M,{class:"vab-data-empty",description:"暂无数据"})])),default:(0,h.k6)((()=>[(0,h.bF)(H,{align:"center",type:"selection",width:"55"}),(0,h.bF)(H,{align:"center",label:"序号","show-overflow-tooltip":"",width:"200"},{default:(0,h.k6)((({$index:e})=>[(0,h.eW)((0,k.v_)(e+1),1)])),_:1}),((0,h.uX)(!0),(0,h.CE)(h.FK,null,(0,h.pI)(e.finallyColumns,((e,t)=>((0,h.uX)(),(0,h.Wv)(H,{key:t,align:"center",label:e.label,prop:e.prop,sortable:e.sortable,width:"auto"},{default:(0,h.k6)((({row:t})=>["评级"===e.label?((0,h.uX)(),(0,h.CE)("span",_,[(0,h.bF)(N,{modelValue:t.rate,"onUpdate:modelValue":e=>t.rate=e,disabled:""},null,8,["modelValue","onUpdate:modelValue"])])):((0,h.uX)(),(0,h.CE)("span",C,(0,k.v_)(t[e.prop]),1))])),_:2},1032,["label","prop","sortable"])))),128)),(0,h.bF)(H,{align:"center",label:"操作","show-overflow-tooltip":"",width:"200"},{default:(0,h.k6)((({row:l})=>[(0,h.bF)(L,{text:"",type:"primary",onClick:t=>e.handleEdit(l)},{default:(0,h.k6)((()=>t[15]||(t[15]=[(0,h.eW)(" 编辑 ")]))),_:2},1032,["onClick"]),(0,h.bF)(L,{text:"",type:"primary",onClick:t=>e.handleDelete(l)},{default:(0,h.k6)((()=>t[16]||(t[16]=[(0,h.eW)(" 删除 ")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["border","data","height","size","stripe","onSelectionChange"])),[[T,e.listLoading]]),(0,h.bF)(G,{background:"","current-page":e.queryForm.pageNo,layout:e.layout,"page-size":e.queryForm.pageSize,total:e.total,onCurrentChange:e.handleCurrentChange,onSizeChange:e.handleSizeChange},null,8,["current-page","layout","page-size","total","onCurrentChange","onSizeChange"]),(0,h.bF)(K,{ref:"editRef",onFetchData:e.fetchData},null,8,["onFetchData"])],2)}l(57284),l(94473),l(63135),l(12914),l(55759);var w=l(24024),S=l(52375),W=l.n(S),x=l(39928),L=l(37489),D=(0,h.pM)({name:"CustomTable",components:{Edit:(0,h.$V)((()=>l.e(348).then(l.bind(l,47967)))),VabDraggable:W()},setup(){const e=(0,h.WQ)("$baseConfirm"),t=(0,h.WQ)("$baseMessage"),l=(0,h.WQ)("$baseTableHeight"),a=(0,L.Kh)({tableSortRef:null,editRef:null,border:!0,height:l(1),stripe:!1,lineHeight:"small",isFullscreen:!1,checkList:["标题","作者","评级","点击量","时间"],columns:[{label:"标题",prop:"title",sortable:!0,disableCheck:!0},{label:"作者",prop:"author",sortable:!0},{label:"评级",prop:"rate",sortable:!0},{label:"点击量",prop:"pageViews",sortable:!0},{label:"时间",prop:"datetime",sortable:!0}],list:[],imageList:[],listLoading:!0,layout:"total, sizes, prev, pager, next, jumper",total:0,selectRows:"",queryForm:{pageNo:1,pageSize:20,title:""}}),n=(0,h.EW)((()=>({animation:600,group:"description"}))),o=(0,h.EW)((()=>a.columns.filter((e=>a.checkList.includes(e.label))))),r=async()=>{a.listLoading=!0;const{data:{list:e,total:t}}=await(0,w.vS)(a.queryForm);a.list=e;const l=[];e.forEach((e=>{l.push(e.img)})),a.total=t,a.listLoading=!1},i=e=>{a.queryForm.pageSize=e,r()},s=e=>{a.queryForm.pageNo=e,r()},u=()=>{a.queryForm.pageNo=1,r()},d=()=>{a.isFullscreen=!a.isFullscreen,c()},c=()=>{a.isFullscreen?a.height=l(1)+210:a.height=l(1)},p=e=>{a.selectRows=e},b=()=>{a["editRef"].showEdit()},m=e=>{a["editRef"].showEdit(e)},f=l=>{if(l.id)e("你确定要删除当前项吗",null,(async()=>{const{msg:e}=await(0,w.pL)({ids:l.id});t(e,"success","vab-hey-message-success"),await r()}));else if(a.selectRows.length>0){const l=a.selectRows.map((e=>e.id)).join();e("你确定要删除选中项吗",null,(async()=>{const{msg:e}=await(0,w.pL)({ids:l});t(e,"success","vab-hey-message-success"),await r()}))}else t("未选中任何行","error","vab-hey-message-error")};return(0,h.sV)((()=>{r()})),{...(0,L.QW)(a),dragOptions:n,finallyColumns:o,handleSizeChange:i,handleCurrentChange:s,queryData:u,handleHeight:c,setSelectRows:p,clickFullScreen:d,fetchData:r,handleAdd:b,handleEdit:m,handleDelete:f,Plus:x.Plus,Delete:x.Delete,Search:x.Search,Setting:x.Setting}}});function R(e){e.__source="src/views/vab/table/customTable.vue"}var E=l(48499);"function"===typeof R&&R(D);const q=(0,E.A)(D,[["render",V],["__scopeId","data-v-6da5da32"]]);var A=q}}]);