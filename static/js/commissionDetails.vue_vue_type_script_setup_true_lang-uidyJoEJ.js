/*!  build: Vue Shop Vite 
     copyright: https://vuejs-core.cn/shop-vite   
     time: 2025-02-28 11:53:44 
 */
import{d as B,b as E,L as e,V as o,D as a,u as l,Y as I,a0 as L,_ as d,a1 as T,a6 as j,o as F}from"./vsv-element-plus-DQNbQgVr.js";import{u as v,w as M}from"./xlsx-5rFX-EW9.js";import{g as R}from"./trade-DgEmw_aG.js";const O={class:"trade-container auto-height-container"},K=B({name:"commissionDetails",__name:"commissionDetails",props:{background:{type:String,default:"white"}},setup(Y){const k=ref(0),V=ref([]),w=r=>{V.value=r},h=()=>{const r=v.json_to_sheet(m.value),t=v.book_new();v.book_append_sheet(t,r,"Sheet1"),M(t,"佣金明细.xlsx")},x=r=>{i.pageNo=r,c()},S=r=>{i.pageNo=1,i.pageSize=r,c()},i=reactive({pageNo:1,pageSize:20}),n=reactive({pageNo:1,pageSize:20});ref(1);const _=ref(!0),m=ref([]);ref(0),ref(!1),ref(!1),ref(!1),ref(!1),ref(!1);const c=async()=>{_.value=!0;const{data:r}=await R(i);m.value=r.list,k.value=r.total,_.value=!1,console.log(m.value)};return onBeforeMount(()=>{c()}),(r,t)=>{const u=a("el-option"),b=a("el-select"),C=a("el-input"),f=a("el-form-item"),z=a("el-date-picker"),g=a("el-button"),N=a("el-form"),D=a("vab-query-form-top-panel"),U=a("vab-query-form"),p=a("el-table-column"),y=a("el-tag"),q=a("el-table"),A=a("vab-pagination");return F(),E("div",O,[e(U,null,{default:o(()=>[e(D,null,{default:o(()=>[e(N,{inline:"",model:l(n),onSubmit:t[5]||(t[5]=I(()=>{},["prevent"]))},{default:o(()=>[e(f,{label:"用户搜索"},{default:o(()=>[e(C,{modelValue:l(n).a,"onUpdate:modelValue":t[1]||(t[1]=s=>l(n).a=s),style:{width:"315px"},placeholder:"请输入",class:"input-with-select"},{prepend:o(()=>[e(b,{modelValue:l(n).b,"onUpdate:modelValue":t[0]||(t[0]=s=>l(n).b=s),placeholder:"请选择",style:{width:"100px"}},{default:o(()=>[e(u,{label:"用户ID",value:"1"}),e(u,{label:"用户名",value:"2"}),e(u,{label:"用户手机号",value:"3"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),e(f,{label:"交易类型"},{default:o(()=>[e(b,{modelValue:l(n).region,"onUpdate:modelValue":t[2]||(t[2]=s=>l(n).region=s),placeholder:"请选择"},{default:o(()=>[e(u,{label:"下级自助升级返款",value:"shanghai"})]),_:1},8,["modelValue"])]),_:1}),e(f,{label:"收支类型"},{default:o(()=>[e(b,{modelValue:l(n).region,"onUpdate:modelValue":t[3]||(t[3]=s=>l(n).region=s),placeholder:"请选择"},{default:o(()=>[e(u,{label:"收入",value:"shanghai"}),e(u,{label:"支出",value:"beijing"})]),_:1},8,["modelValue"])]),_:1}),e(f,{label:"日期"},{default:o(()=>[e(z,{modelValue:l(n).value1,"onUpdate:modelValue":t[4]||(t[4]=s=>l(n).value1=s),type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])]),_:1}),e(f,null,{default:o(()=>[e(g,{icon:l(L),loading:l(_),"native-type":"submit",type:"primary",onClick:c},{default:o(()=>t[6]||(t[6]=[d("查询")])),_:1},8,["icon","loading"]),e(g,{icon:l(T),"native-type":"submit",type:"primary"},{default:o(()=>t[7]||(t[7]=[d("重置")])),_:1},8,["icon"]),e(g,{icon:l(j),"native-type":"submit",type:"primary",onClick:h},{default:o(()=>t[8]||(t[8]=[d("Excel导出")])),_:1},8,["icon"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1}),e(q,{data:l(m),border:"","header-cell-style":{background:"#f5f7fa",textAlign:"center"},"cell-style":{textAlign:"center"},onSelectionChange:w},{default:o(()=>[e(p,{type:"selection",width:"38"}),e(p,{prop:"count",label:"UID"}),e(p,{prop:"merchantOrderId",label:"订单编号"}),e(p,{align:"center",label:"订单状态"},{default:o(({row:s})=>[e(y,{type:"primary",style:{color:"#fff",background:"#13ce66",border:"0"},effect:"dark"},{default:o(()=>t[9]||(t[9]=[d("处理完成")])),_:1}),e(y,{type:"primary",style:{color:"#fff",background:"#ffba00",border:"0"},effect:"dark"},{default:o(()=>t[10]||(t[10]=[d("待处理")])),_:1}),e(y,{type:"primary",style:{color:"#fff",background:"red",border:"0"},effect:"dark"},{default:o(()=>t[11]||(t[11]=[d("终止处理")])),_:1})]),_:1}),e(p,{prop:"orderAmount",label:"操作金额"}),e(p,{prop:"orderAmount",label:"变化前金额"}),e(p,{prop:"orderAmount",label:"变化后金额"}),e(p,{prop:"transactionStatus",label:"收支类型"}),e(p,{prop:"transactionTime",label:"创建时间"})]),_:1},8,["data"]),e(A,{"current-page":l(i).pageNo,"page-size":l(i).pageSize,total:l(k),onCurrentChange:x,onSizeChange:S},null,8,["current-page","page-size","total"])])}}});export{K as _};
