/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2025-03-12 00:28:56
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[4450],{24024:function(e,l,t){t.d(l,{Ed:function(){return n},pL:function(){return r},vS:function(){return o}});var a=t(24380);function o(e){return(0,a.A)({url:"/table/getList",method:"get",params:e})}function n(e){return(0,a.A)({url:"/table/doEdit",method:"post",data:e})}function r(e){return(0,a.A)({url:"/table/doDelete",method:"post",data:e})}},84450:function(e,l,t){t.r(l),t.d(l,{default:function(){return w}});var a=t(34641),o=t(50670),n=t(27386);const r={class:"comprehensive-table-container"},i={key:0},d={key:1};function u(e,l,t,u,s,c){const b=(0,a.g2)("el-alert"),m=(0,a.g2)("el-input"),p=(0,a.g2)("el-form-item"),h=(0,a.g2)("el-button"),f=(0,a.g2)("vab-icon"),g=(0,a.g2)("el-form"),F=(0,a.g2)("vab-query-form-top-panel"),y=(0,a.g2)("el-badge"),k=(0,a.g2)("vab-query-form-left-panel"),w=(0,a.g2)("vab-query-form"),C=(0,a.g2)("el-table-column"),v=(0,a.g2)("el-rate"),_=(0,a.g2)("el-image"),V=(0,a.g2)("el-switch"),q=(0,a.g2)("el-tooltip"),S=(0,a.g2)("el-tag"),R=(0,a.g2)("el-empty"),D=(0,a.g2)("el-table"),W=(0,a.g2)("el-pagination"),E=(0,a.g2)("edit"),L=(0,a.gN)("loading");return(0,a.uX)(),(0,a.CE)("div",r,[(0,a.bF)(b,{closable:!1,"show-icon":"",title:"三级路由【缓存路由、固定表格高度、并根据窗口大小自适应】的示例。详情页请点击操作列按钮，支持tab多开并高亮左侧菜单",type:"success"}),(0,a.bF)(w,null,{default:(0,a.k6)((()=>[(0,a.bF)(F,null,{default:(0,a.k6)((()=>[(0,a.bF)(g,{inline:"","label-width":"49px",model:e.queryForm,onSubmit:l[11]||(l[11]=(0,o.D$)((()=>{}),["prevent"]))},{default:(0,a.k6)((()=>[(0,a.bF)(p,{label:"标题"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{modelValue:e.queryForm.title,"onUpdate:modelValue":l[0]||(l[0]=l=>e.queryForm.title=l),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1}),(0,a.bF)(p,{label:"标题"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{modelValue:e.queryForm.title,"onUpdate:modelValue":l[1]||(l[1]=l=>e.queryForm.title=l),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1}),(0,a.bo)((0,a.bF)(p,{label:"标题"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{modelValue:e.queryForm.title,"onUpdate:modelValue":l[2]||(l[2]=l=>e.queryForm.title=l),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[o.aG,!e.fold]]),(0,a.bo)((0,a.bF)(p,{label:"标题"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{modelValue:e.queryForm.title,"onUpdate:modelValue":l[3]||(l[3]=l=>e.queryForm.title=l),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[o.aG,!e.fold]]),(0,a.bo)((0,a.bF)(p,{label:"标题"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{modelValue:e.queryForm.title,"onUpdate:modelValue":l[4]||(l[4]=l=>e.queryForm.title=l),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[o.aG,!e.fold]]),(0,a.bo)((0,a.bF)(p,{label:"标题"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{modelValue:e.queryForm.title,"onUpdate:modelValue":l[5]||(l[5]=l=>e.queryForm.title=l),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[o.aG,!e.fold]]),(0,a.bo)((0,a.bF)(p,{label:"标题"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{modelValue:e.queryForm.title,"onUpdate:modelValue":l[6]||(l[6]=l=>e.queryForm.title=l),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[o.aG,!e.fold]]),(0,a.bo)((0,a.bF)(p,{label:"标题"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{modelValue:e.queryForm.title,"onUpdate:modelValue":l[7]||(l[7]=l=>e.queryForm.title=l),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[o.aG,!e.fold]]),(0,a.bo)((0,a.bF)(p,{label:"标题"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{modelValue:e.queryForm.title,"onUpdate:modelValue":l[8]||(l[8]=l=>e.queryForm.title=l),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[o.aG,!e.fold]]),(0,a.bo)((0,a.bF)(p,{label:"标题"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{modelValue:e.queryForm.title,"onUpdate:modelValue":l[9]||(l[9]=l=>e.queryForm.title=l),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[o.aG,!e.fold]]),(0,a.bo)((0,a.bF)(p,{label:"标题"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{modelValue:e.queryForm.title,"onUpdate:modelValue":l[10]||(l[10]=l=>e.queryForm.title=l),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[o.aG,!e.fold]]),(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(h,{icon:e.Search,"native-type":"submit",type:"primary",onClick:e.queryData},{default:(0,a.k6)((()=>l[13]||(l[13]=[(0,a.eW)(" 查询 ")]))),_:1},8,["icon","onClick"]),(0,a.bF)(h,{text:"",type:"primary",onClick:e.handleFold},{default:(0,a.k6)((()=>[e.fold?((0,a.uX)(),(0,a.CE)("span",i,"展开")):((0,a.uX)(),(0,a.CE)("span",d,"合并")),(0,a.bF)(f,{class:(0,n.C4)(["vab-dropdown",{"vab-dropdown-active":e.fold}]),icon:"arrow-up-s-line"},null,8,["class"])])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])),_:1}),(0,a.bF)(k,{span:24},{default:(0,a.k6)((()=>[(0,a.bF)(h,{icon:e.Plus,type:"primary",onClick:e.handleAdd},{default:(0,a.k6)((()=>l[14]||(l[14]=[(0,a.eW)(" 添加 ")]))),_:1},8,["icon","onClick"]),(0,a.bF)(h,{icon:e.Delete,type:"danger",onClick:l[12]||(l[12]=l=>e.handleDelete(l))},{default:(0,a.k6)((()=>l[15]||(l[15]=[(0,a.eW)(" 删除 ")]))),_:1},8,["icon"]),(0,a.bF)(h,{type:"primary",onClick:e.handleMessage},{default:(0,a.k6)((()=>l[16]||(l[16]=[(0,a.eW)(" $baseMessage ")]))),_:1},8,["onClick"]),(0,a.bF)(h,{type:"primary",onClick:e.handleAlert},{default:(0,a.k6)((()=>l[17]||(l[17]=[(0,a.eW)("$baseAlert")]))),_:1},8,["onClick"]),(0,a.bF)(h,{type:"primary",onClick:e.handleConfirm},{default:(0,a.k6)((()=>l[18]||(l[18]=[(0,a.eW)(" $baseConfirm ")]))),_:1},8,["onClick"]),(0,a.bF)(h,{type:"primary",onClick:e.handleNotify},{default:(0,a.k6)((()=>l[19]||(l[19]=[(0,a.eW)("$baseNotify")]))),_:1},8,["onClick"]),(0,a.bF)(h,{type:"primary",onClick:e.handleDetailStayTable},{default:(0,a.k6)((()=>l[20]||(l[20]=[(0,a.eW)(" 停留在本页后台打开详情页后（不常用） ")]))),_:1},8,["onClick"]),(0,a.bF)(y,{class:"item",value:"New"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{style:{margin:"0 0 10px !important"},type:"primary",onClick:e.handleDetail},{default:(0,a.k6)((()=>l[21]||(l[21]=[(0,a.eW)(" 详情页支持tab多开并高亮左侧菜单 ")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(D,{ref:"tableSortRef",border:"",data:e.list,height:e.height,onSelectionChange:e.setSelectRows,onSortChange:e.tableSortChange},{empty:(0,a.k6)((()=>[(0,a.bF)(R,{class:"vab-data-empty",description:"暂无数据"})])),default:(0,a.k6)((()=>[(0,a.bF)(C,{align:"center","show-overflow-tooltip":"",type:"selection",width:"55"}),(0,a.bF)(C,{align:"center",label:"序号","show-overflow-tooltip":"",width:"55"},{default:(0,a.k6)((({$index:e})=>[(0,a.eW)((0,n.v_)(e+1),1)])),_:1}),(0,a.bF)(C,{align:"center",label:"标题",prop:"title","show-overflow-tooltip":""}),(0,a.bF)(C,{align:"center",label:"作者",prop:"author","show-overflow-tooltip":""}),(0,a.bF)(C,{align:"center",label:"评级"},{default:(0,a.k6)((({row:e})=>[(0,a.bF)(v,{modelValue:e.rate,"onUpdate:modelValue":l=>e.rate=l,disabled:""},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,a.bF)(C,{align:"center",label:"头像"},{default:(0,a.k6)((({row:l})=>[(0,a.bF)(_,{"preview-src-list":e.imageList,"preview-teleported":"",src:l.img},null,8,["preview-src-list","src"])])),_:1}),(0,a.bF)(C,{align:"center",label:"点击量",prop:"pageViews","show-overflow-tooltip":"",sortable:""}),(0,a.bF)(C,{align:"center",label:"开关",prop:"switch","show-overflow-tooltip":""},{default:(0,a.k6)((({row:e})=>[(0,a.bF)(q,{content:0===e.switch?"点击开启":"点击关闭",enterable:!1,placement:"top"},{default:(0,a.k6)((()=>[(0,a.bF)(V,{modelValue:e.switch,"onUpdate:modelValue":l=>e.switch=l},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["content"])])),_:1}),(0,a.bF)(C,{align:"center",label:"状态","show-overflow-tooltip":""},{default:(0,a.k6)((({row:l})=>[(0,a.bF)(q,{class:"item",content:l.status,effect:"dark",placement:"top-start"},{default:(0,a.k6)((()=>[(0,a.bF)(S,{type:e.statusFilter(l.status)},{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(l.status),1)])),_:2},1032,["type"])])),_:2},1032,["content"])])),_:1}),(0,a.bF)(C,{align:"center",label:"时间",prop:"datetime","show-overflow-tooltip":"",width:"200"}),(0,a.bF)(C,{align:"center",fixed:"right",label:"操作","show-overflow-tooltip":"",width:"200"},{default:(0,a.k6)((({row:t})=>[(0,a.bF)(h,{text:"",type:"primary",onClick:l=>e.handleDetail(t)},{default:(0,a.k6)((()=>l[22]||(l[22]=[(0,a.eW)(" 详情 ")]))),_:2},1032,["onClick"]),(0,a.bF)(h,{text:"",type:"primary",onClick:l=>e.handleEdit(t)},{default:(0,a.k6)((()=>l[23]||(l[23]=[(0,a.eW)(" 编辑 ")]))),_:2},1032,["onClick"]),(0,a.bF)(h,{text:"",type:"primary",onClick:l=>e.handleDelete(t)},{default:(0,a.k6)((()=>l[24]||(l[24]=[(0,a.eW)(" 删除 ")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","height","onSelectionChange","onSortChange"])),[[L,e.listLoading]]),(0,a.bF)(W,{background:"","current-page":e.queryForm.pageNo,layout:e.layout,"page-size":e.queryForm.pageSize,total:e.total,onCurrentChange:e.handleCurrentChange,onSizeChange:e.handleSizeChange},null,8,["current-page","layout","page-size","total","onCurrentChange","onSizeChange"]),(0,a.bF)(E,{ref:"editRef",onFetchData:e.fetchData},null,8,["onFetchData"])])}t(57284),t(94473),t(12914),t(55759);var s=t(66183),c=t(53241),b=t(24024),m=t(25967),p=t(39928),h=t(37489),f=t(12176),g=(0,a.pM)({name:"ComprehensiveTable",components:{Edit:(0,a.$V)((()=>t.e(3488).then(t.bind(t,31107))))},setup(){const e=(0,f.rd)(),l=(0,a.WQ)("$baseConfirm"),t=(0,a.WQ)("$baseMessage"),o=(0,a.WQ)("$baseAlert"),n=(0,a.WQ)("$baseNotify"),r=(0,a.WQ)("$baseTableHeight"),i=(0,c.j)(),{getRoutes:d}=storeToRefs(i),u=(0,s.Z)(),{changeTabsMeta:g,addVisitedRoute:F}=u,y=(0,h.Kh)({editRef:null,tableSortRef:null,fold:!1,height:r(3)-30,list:[],imageList:[],listLoading:!0,layout:"total, sizes, prev, pager, next, jumper",total:0,selectRows:"",queryForm:{pageNo:1,pageSize:10}});(0,a.n)((()=>{y["tableSortRef"].doLayout(),k()}));const k=async()=>{y.listLoading=!0;const{data:{list:e,total:l}}=await(0,b.vS)(y.queryForm);y.list=e;const t=[];e.forEach((e=>{t.push(e.img)})),y.imageList=t,y.total=l,y.listLoading=!1,setTimeout((()=>{T([y.list[0]])}),0)},w=e=>{y.queryForm.pageSize=e,k()},C=e=>{y.queryForm.pageNo=e,k()},v=()=>{y.queryForm.pageNo=1,k()},_=e=>{const l={published:"success",draft:"primary",deleted:"danger"};return l[e]},V=()=>{y.fold=!y.fold,q()},q=()=>{y.fold?y.height=r(2)-47:y.height=r(3)-30},S=()=>{const e=[];y.list.forEach((l=>{e.push(l.img)})),y.imageList=e},R=e=>{y.selectRows=e},D=()=>{y["editRef"].showEdit()},W=e=>{y["editRef"].showEdit(e)},E=e=>{if(e.id)l("你确定要删除当前项吗",null,(async()=>{const{msg:l}=await(0,b.pL)({ids:e.id});t(l,"success","vab-hey-message-success"),await k()}));else if(y.selectRows.length>0){const e=y.selectRows.map((e=>e.id)).join();l("你确定要删除选中项吗",null,(async()=>{const{msg:l}=await(0,b.pL)({ids:e});t(l,"success","vab-hey-message-success"),await k()}))}else t("未选中任何行","error","vab-hey-message-error")},L=async()=>{for(let e=0;e<y.selectRows.length;e++){const l=(0,m.n7)(d.value,"/vab/table/detail"),t=(0,m.l5)({...l[l.length-1],query:y.selectRows[e]});t&&(await F(t),await g({title:"详情页",meta:{title:`${t.query.title} 详情页`}}))}},U=l=>{l.id?e.push({path:"/vab/table/detail",query:{...l,timestamp:(new Date).getTime()}}):1===y.selectRows.length?e.push({path:"/vab/table/detail",query:{...y.selectRows[0],timestamp:(new Date).getTime()}}):t("请选择一行进行详情页跳转","error","vab-hey-message-error")},$=()=>{t("test1","success",!1,"vab-hey-message-success")},z=()=>{o("11")},A=()=>{l("你确定要执行该操作?",null,(()=>{}),(()=>{}))},N=()=>{n("测试消息提示","test","success","bottom-right")},T=e=>{e?e.forEach((e=>{y["tableSortRef"].toggleRowSelection(e)})):y["tableSortRef"].clearSelection()};return(0,a.KC)((()=>{window.addEventListener("resize",q)})),(0,a.hi)((()=>{window.removeEventListener("resize",q)})),(0,a.sV)((()=>{k()})),{...(0,h.QW)(y),handleSizeChange:w,handleCurrentChange:C,queryData:v,statusFilter:_,handleFold:V,handleHeight:q,tableSortChange:S,setSelectRows:R,handleAdd:D,handleEdit:W,handleDelete:E,handleDetailStayTable:L,handleDetail:U,handleMessage:$,handleAlert:z,handleConfirm:A,handleNotify:N,fetchData:k,Delete:p.Delete,Plus:p.Plus,Search:p.Search}}});function F(e){e.__source="src/views/vab/table/comprehensiveTable.vue"}var y=t(48499);"function"===typeof F&&F(g);const k=(0,y.A)(g,[["render",u]]);var w=k}}]);