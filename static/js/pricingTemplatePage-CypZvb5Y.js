/*!  build: Vue Shop Vite 
     copyright: https://vuejs-core.cn/shop-vite   
     time: 2025-02-28 11:53:44 
 */
import{d as J,b,e as c,Q as M,L as o,C as x,S as y,V as l,D as i,X as q,u as a,G as A,_ as r,a2 as E,o as p}from"./vsv-element-plus-DQNbQgVr.js";import{g as G,d as U}from"./trade-DgEmw_aG.js";import{h as X}from"./clipboard-B9ccURei.js";import"./index-DXRDwnmL.js";import"./vsv-icon-BSoeDgwL.js";import"./vsv-nprogress-BCb6Y0ID.js";const H={class:"trade-container auto-height-container"},K={style:{"margin-bottom":"20px"}},O={key:0,style:{width:"100%"}},W={key:1,style:{width:"100%"}},Y={class:"rowC"},Z={class:"rowC",style:{color:"#72767b"}},se=J({name:"Trade",__name:"pricingTemplatePage",setup(ee){const S=t=>{X(t)},C=ref();ref(!0);const u=ref(!1),w=ref([]),f=ref(!0),k=ref(0),V=ref([]),s=reactive({pageNo:1,pageSize:20}),_=ref(!1),v=ref("add"),m=async()=>{f.value=!0;const{data:t}=await G(s);w.value=t.list,k.value=t.total,f.value=!1},z=t=>{s.pageNo=1,s.pageSize=t,m()},h=(t,e)=>{u.value=!0,v.value=t},N=t=>{s.pageNo=t,m()},D=t=>{V.value=t},R=t=>{t.id&&$baseConfirm("你确定要删除当前商品吗，被删除商品将进入回收站，如需彻底删除请在回收站操作！",null,async()=>{const{msg:e}=await U({ids:t.id});$baseMessage(e,"success","hey"),await m()})};return onActivated(()=>{var t;(t=C.value)==null||t.doLayout()}),onBeforeMount(()=>{m()}),(t,e)=>{const g=i("el-button"),d=i("el-table-column"),T=i("el-empty"),B=i("el-table"),$=i("el-avatar"),L=i("goods-add"),j=i("el-drawer"),F=i("PricingTemplate"),P=i("vab-pagination"),Q=q("loading");return p(),b("div",H,[c("div",K,[o(g,{style:{background:"#1890ff"},type:"primary",onClick:e[0]||(e[0]=n=>h("add"))},{default:l(()=>e[4]||(e[4]=[r("添加定价模版")])),_:1})]),M((p(),x(B,{ref_key:"tableRef",ref:C,border:"",data:a(w),onSelectionChange:D,style:{height:"500px"}},{empty:l(()=>[o(T,{class:"vab-data-empty",description:"暂无数据"})]),default:l(()=>[o(d,{align:"center",label:"ID",prop:"id"}),o(d,{align:"center",label:"模版名称",prop:"name"}),o(d,{align:"center",label:"类型"},{default:l(({row:n})=>e[5]||(e[5]=[r("金额累加")])),_:1}),o(d,{align:"center",label:"加价规则"},{default:l(({row:n})=>e[6]||(e[6]=[r("1.5000|3.00000|4.50000")])),_:1}),o(d,{align:"center",label:"操作"},{default:l(({row:n})=>[o(g,{text:"",type:"primary",onClick:I=>h("edit",n)},{default:l(()=>e[7]||(e[7]=[r("编辑")])),_:2},1032,["onClick"]),o(g,{text:"",type:"primary",onClick:I=>R(n)},{default:l(()=>e[8]||(e[8]=[r("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[Q,a(f)]]),o(j,{modelValue:a(_),"onUpdate:modelValue":e[2]||(e[2]=n=>A(_)?_.value=n:null),direction:"rtl",size:"60%"},{title:l(()=>[a(v)=="add"?(p(),b("div",O,"添加商品")):y("",!0),a(v)!="add"?(p(),b("div",W,[c("div",Y,[o($,{size:55,src:"https://jytc.jubijia.com/JBJ/0c3cc076ebdc45b18524b4716f048557.png",style:{"margin-right":"20px"}}),c("div",null,[e[10]||(e[10]=c("div",{style:{"margin-bottom":"10px","font-size":"16px","font-weight":"500",color:"#000"}}," 【官方直充】腾讯QQ超级会员12个月---限价120 ",-1)),c("div",Z,[e[9]||(e[9]=r(" 商品ID：54646 ")),o(g,{icon:a(E),link:"",circle:"",style:{margin:"0"},onClick:e[1]||(e[1]=n=>S("54646"))},null,8,["icon"])])])])])):y("",!0)]),default:l(()=>[o(L)]),_:1},8,["modelValue"]),a(u)?(p(),x(F,{key:0,dialogVisible:a(u),onDialogVisibleF:e[3]||(e[3]=n=>u.value=n)},null,8,["dialogVisible"])):y("",!0),o(P,{"current-page":a(s).pageNo,"page-size":a(s).pageSize,total:a(k),onCurrentChange:N,onSizeChange:z},null,8,["current-page","page-size","total"])])}}});export{se as default};
