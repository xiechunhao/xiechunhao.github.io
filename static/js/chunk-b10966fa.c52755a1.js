/*!
 *  build: vue-admin-better 
 *  vue-admin-beautiful.com 
 *  https://gitee.com/chu1204505056/vue-admin-better 
 *  time: 2024-6-26 09:32:44
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b10966fa"],{"1c31":function(t,e,a){"use strict";a.r(e),a.d(e,"API_surviveRecord",(function(){return r})),a.d(e,"API_surviveRecordDayA",(function(){return s}));var i=a("b775");function r(t){return Object(i["default"])({url:"/api/report/surviveRecord",method:"get",params:t})}function s(t){return Object(i["default"])({url:"/api/report/surviveRecord/day/A",method:"get",params:t})}},"3d35":function(t,e,a){},"4dda":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"index-container"},[e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{lg:24,md:12,sm:24,xl:24,xs:24}},[e("el-card",{attrs:{shadow:"never"}},[e("div",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[e("span",[e("strong",[t._v("批次存活记录每日报表")])]),e("span",["desktop"==t.device?e("el-date-picker",{staticStyle:{width:"250px"},attrs:{"default-time":["00:00:00","23:59:59"],"end-placeholder":"结束时间","range-separator":"至","start-placeholder":"开始时间",type:"daterange","value-format":"timestamp"},on:{change:t.timeChange1},model:{value:t.time1,callback:function(e){t.time1=e},expression:"time1"}}):t._e()],1)]),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{lg:12,md:12,sm:12,xl:12,xs:12}},["mobile"==t.device?e("div",[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{clearable:!1,placeholder:"请选择开始时间",type:"datetime","value-format":"timestamp"},on:{change:t.timeChange1_1},model:{value:t.startTime1,callback:function(e){t.startTime1=e},expression:"startTime1"}})],1):t._e()]),e("el-col",{attrs:{lg:12,md:12,sm:12,xl:12,xs:12}},["mobile"==t.device?e("div",[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{clearable:!1,placeholder:"请选择结束时间",type:"datetime","value-format":"timestamp"},on:{change:t.timeChange1_2},model:{value:t.endTime1,callback:function(e){t.endTime1=e},expression:"endTime1"}})],1):t._e()])],1),0==t.tempData1.length?e("el-empty",{attrs:{"image-size":150}}):e("vab-chart",{attrs:{autoresize:"",option:t.data1}})],1)],1)],1),e("el-row",[e("el-col",{attrs:{lg:24,md:12,sm:24,xl:24,xs:24}},[e("el-card",{attrs:{shadow:"never"}},[e("div",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[e("span",[e("strong",[t._v("批次存活记录总报表")])]),e("span",["desktop"==t.device?e("el-date-picker",{staticStyle:{width:"250px"},attrs:{"default-time":["00:00:00","23:59:59"],"end-placeholder":"结束时间","range-separator":"至","start-placeholder":"开始时间",type:"daterange","value-format":"timestamp"},on:{change:t.timeChange2},model:{value:t.time2,callback:function(e){t.time2=e},expression:"time2"}}):t._e()],1)]),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{lg:12,md:12,sm:12,xl:12,xs:12}},["mobile"==t.device?e("div",[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择开始时间",type:"datetime","value-format":"timestamp"},on:{change:t.timeChange2_1},model:{value:t.startTime2,callback:function(e){t.startTime2=e},expression:"startTime2"}})],1):t._e()]),e("el-col",{attrs:{lg:12,md:12,sm:12,xl:12,xs:12}},["mobile"==t.device?e("div",[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择结束时间",type:"datetime","value-format":"timestamp"},on:{change:t.timeChange2_2},model:{value:t.endTime2,callback:function(e){t.endTime2=e},expression:"endTime2"}})],1):t._e()])],1),0==t.tempData2.length?e("el-empty",{attrs:{"image-size":150}}):e("vab-chart",{attrs:{autoresize:"",option:t.data2}})],1)],1)],1)],1)},r=[],s=a("7736"),d=a("1c31"),n=a("7fc4"),o={name:"Index",components:{VabChart:n["default"]},data(){return{loading1:!1,time1:[],time2:[],data1:{},data2:{},tempData1:[],tempData2:[],startTime1:new Date((new Date).getTime()).setHours(0,0,0,0),endTime1:new Date((new Date).getTime()).setHours(23,59,59,999),startTime2:"",endTime2:""}},computed:{...Object(s["c"])({device:"settings/device"})},created(){},mounted(){this.fetchData()},methods:{fetchData(){this.time1=[this.startTime1,this.endTime1],this.surviveRecordDayA({startAt:this.startTime1,endAt:this.endTime1}),this.surviveRecord({})},async surviveRecordDayA({startAt:t,endAt:e}){this.loading1=!0;let{data:a}=await Object(d["API_surviveRecordDayA"])({startAt:t,endAt:e});this.loading1=!1,this.tempData1=a;let i=this.tempData1.map(t=>t.day)||[],r=this.tempData1.map(t=>t.percentage)||[];this.data1={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},color:["#1890FF","#36CBCB","#4ECB73","#FBD437","#F2637B","#975FE5"],backgroundColor:"rgba(252,252,252,0)",grid:{top:"4%",left:"2%",right:"4%",bottom:"0%",containLabel:!0},xAxis:[{type:"category",data:i,axisTick:{alignWithLabel:!0},name:"日期"}],yAxis:[{type:"value",name:"批次"}],series:[{name:"死亡率",type:"bar",barWidth:"30",data:r}]}},async surviveRecord({startAt:t,endAt:e}){this.loading2=!0;let{data:a}=await Object(d["API_surviveRecord"])({startAt:t,endAt:e});this.loading2=!1,this.tempData2=a;let i=this.tempData2.map(t=>t.batchCode)||[],r=this.tempData2.map(t=>t.percentage)||[];this.data2={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},color:["#1890FF","#36CBCB","#4ECB73","#FBD437","#F2637B","#975FE5"],backgroundColor:"rgba(252,252,252,0)",grid:{top:"4%",left:"2%",right:"4%",bottom:"0%",containLabel:!0},xAxis:[{type:"category",data:i,axisTick:{alignWithLabel:!0},name:"批次"}],yAxis:[{type:"value",name:"批次"}],series:[{name:"死亡率",type:"bar",barWidth:"30",data:r}]}},timeChange1(t){t&&t.length>0?this.surviveRecordDayA({startAt:t[0],endAt:t[1]}):this.surviveRecordDayA({startAt:"",endAt:""})},timeChange1_1(t){if(t>this.endtTime1)return this.$baseMessage("开始时间不能大于结束时间","error");this.surviveRecordDayA({startAt:t,endAt:this.endTime1})},timeChange1_2(t){if(t<this.startTime1)return this.$baseMessage("结束时间不能小于开始时间","error");this.surviveRecordDayA({startAt:this.startTime1,endAt:t})},timeChange2(t){t&&t.length>0?this.surviveRecord({startAt:t[0],endAt:t[1]}):this.surviveRecord({startAt:"",endAt:""})},timeChange2_1(t){this.surviveRecord({startAt:t,endAt:this.endTime2})},timeChange2_2(t){this.surviveRecord({startAt:this.startTime2,endAt:t})}}},l=o,c=(a("b06d"),a("829d")),m=Object(c["a"])(l,i,r,!1,null,"df26514e",null);e["default"]=m.exports},"7fc4":function(t,e,a){"use strict";a.r(e);a("8919");var i=a("9b1f");e["default"]=i["a"]},b06d:function(t,e,a){"use strict";a("3d35")}}]);