/*!  build: Vue Shop Vite 
     copyright: https://vuejs-core.cn/shop-vite   
     time: 2024-09-27 15:46:00 
 */
import{g as N}from"./description-Dsh2I86X.js";import{d as U,N as s,o as p,b as g,T as t,$ as e,u as a,M as f,k as S,P as D,aa as I,a4 as r,a3 as L}from"./vsv-element-plus-CxGOTlXz.js";import{_ as M}from"./index-BxCyh4rX.js";import"./vsv-icon-B5tQoIEl.js";import"./vsv-nprogress-DAXSSYSi.js";const $={class:"speech-synthesis-container no-background-container"},E=U({name:"SpeechSynthesis",__name:"SpeechSynthesis",setup(F){const i=ref(void 0),u=ref(""),o=useSpeechSynthesis(u,{voice:i}),h=async()=>{const{data:v}=await N();u.value=v.description.replaceAll(`
`,"").replaceAll(/<[^>]*>/g,"").replaceAll(/\s/g,"").replaceAll(/([。：；])\s*/g,`$1
`)};let y;const c=ref([]),k=()=>{o.status.value==="pause"?window.speechSynthesis.resume():o.speak()},w=()=>{window.speechSynthesis.pause()},x=()=>{o.stop()};let d;return onMounted(()=>{o.isSupported.value&&(d=setTimeout(()=>{y=window.speechSynthesis,c.value=y.getVoices(),i.value=c.value[0]},200),h())}),onBeforeUnmount(()=>{d&&clearTimeout(d)}),(v,l)=>{const V=s("el-input"),_=s("el-form-item"),C=s("el-option"),A=s("el-select"),m=s("el-button"),P=s("el-form"),b=s("vab-card"),B=s("el-col"),T=s("el-row");return p(),g("div",$,[t(T,{gutter:20},{default:e(()=>[t(B,{lg:12,md:18,sm:24,xl:12,xs:24},{default:e(()=>[a(o).isSupported?(p(),f(b,{key:0},{default:e(()=>[t(P,{"label-position":"top"},{default:e(()=>[t(_,{label:"文本"},{default:e(()=>[t(V,{modelValue:a(u),"onUpdate:modelValue":l[0]||(l[0]=n=>S(u)?u.value=n:null),clearable:"",rows:12,type:"textarea"},null,8,["modelValue"])]),_:1}),t(_,{label:"语言"},{default:e(()=>[t(A,{modelValue:a(i),"onUpdate:modelValue":l[1]||(l[1]=n=>S(i)?i.value=n:null)},{default:e(()=>[(p(!0),g(D,null,I(a(c),n=>(p(),f(C,{key:n.name,label:n.name,value:n},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(_,{label:"操作"},{default:e(()=>[t(m,{disabled:a(o).isPlaying.value,type:"primary",onClick:k},{default:e(()=>[r(L(a(o).status.value==="pause"?"继续":"播放"),1)]),_:1},8,["disabled"]),t(m,{disabled:!a(o).isPlaying.value,type:"warning",onClick:w},{default:e(()=>l[2]||(l[2]=[r("暂停")])),_:1},8,["disabled"]),t(m,{disabled:!a(o).isPlaying.value,type:"danger",onClick:x},{default:e(()=>l[3]||(l[3]=[r("结束")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})):(p(),f(b,{key:1},{default:e(()=>l[4]||(l[4]=[r("您的浏览器不支持SpeechSynthesis API")])),_:1}))]),_:1})]),_:1})])}}}),H=M(E,[["__scopeId","data-v-af1212d1"]]);export{H as default};
