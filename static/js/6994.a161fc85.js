/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2025-03-12 00:44:12
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[4613,6994],{24929:function(e,t,l){l.d(t,{Ed:function(){return r},pL:function(){return n},vS:function(){return o}});var a=l(24380);function o(e){return(0,a.A)({url:"/roleManagement/getList",method:"get",params:e})}function r(e){return(0,a.A)({url:"/roleManagement/doEdit",method:"post",data:e})}function n(e){return(0,a.A)({url:"/roleManagement/doDelete",method:"post",data:e})}},46994:function(e,t,l){l.r(t),l.d(t,{default:function(){return b}});var a=l(34641),o=l(27386);const r={class:"vab-tree-border"};function n(e,t,l,n,s,u){const i=(0,a.g2)("el-input"),d=(0,a.g2)("el-form-item"),m=(0,a.g2)("el-tree"),f=(0,a.g2)("el-checkbox"),c=(0,a.g2)("el-checkbox-group"),b=(0,a.g2)("el-form"),g=(0,a.g2)("el-button"),k=(0,a.g2)("el-dialog");return(0,a.uX)(),(0,a.Wv)(k,{modelValue:e.dialogFormVisible,"onUpdate:modelValue":t[2]||(t[2]=t=>e.dialogFormVisible=t),title:e.title,width:"500px",onClose:e.close},{footer:(0,a.k6)((()=>[(0,a.bF)(g,{onClick:e.close},{default:(0,a.k6)((()=>t[3]||(t[3]=[(0,a.eW)("取 消")]))),_:1},8,["onClick"]),(0,a.bF)(g,{type:"primary",onClick:e.save},{default:(0,a.k6)((()=>t[4]||(t[4]=[(0,a.eW)("确 定")]))),_:1},8,["onClick"])])),default:(0,a.k6)((()=>[(0,a.bF)(b,{ref:"formRef","label-width":"80px",model:e.form,rules:e.rules},{default:(0,a.k6)((()=>[(0,a.bF)(d,{label:"角色码",prop:"role"},{default:(0,a.k6)((()=>[(0,a.bF)(i,{modelValue:e.form.role,"onUpdate:modelValue":t[0]||(t[0]=t=>e.form.role=t)},null,8,["modelValue"])])),_:1}),(0,a.bF)(d,{label:"菜单"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",r,[(0,a.bF)(m,{ref:"treeRef",data:e.list,"default-checked-keys":["/","/vab","/other","/mall","/noColumn","/setting","//github.com/chuzhixin/vue-admin-beautiful?utm_source=gold_browser_extension","/error"],"default-expanded-keys":[],"node-key":"path","show-checkbox":""},{default:(0,a.k6)((({data:e})=>[(0,a.Lk)("span",null,(0,o.v_)(e.meta.title),1)])),_:1},8,["data"])])])),_:1}),(0,a.bF)(d,{label:"按钮权限"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{modelValue:e.form.btnRolesCheckedList,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.btnRolesCheckedList=t)},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.btnRoles,(e=>((0,a.uX)(),(0,a.Wv)(f,{key:e.value,label:e.value},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.lable),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title","onClose"])}var s=l(24929),u=l(67787),i=l(37489),d=(0,a.pM)({name:"RoleManagementEdit",emits:["fetch-data"],setup(e,{emit:t}){const l=(0,a.WQ)("$baseMessage"),o=(0,i.Kh)({formRef:null,treeRef:null,form:{btnRolesCheckedList:[]},rules:{role:[{required:!0,trigger:"blur",message:"请输入角色码"}]},title:"",dialogFormVisible:!1,list:[],btnRoles:[{lable:"读",value:"read:system"},{lable:"写",value:"write:system"},{lable:"删",value:"delete:system"}]}),r=e=>{e?(o.title="编辑",o.form=JSON.parse(JSON.stringify(e))):o.title="添加",o.dialogFormVisible=!0},n=()=>{o["formRef"].resetFields(),o.form={btnRolesCheckedList:[]},o.dialogFormVisible=!1},d=async()=>{const{data:{list:e}}=await(0,u.v)();o.list=e},m=()=>{o["formRef"].validate((async e=>{if(e){const e=o["treeRef"].getCheckedKeys(),a={"treeArray:":e},{msg:r}=await(0,s.Ed)({...o.form,...a});l(r,"success","vab-hey-message-success"),t("fetch-data"),n()}}))};return(0,a.sV)((()=>{d()})),{...(0,i.QW)(o),showEdit:r,close:n,fetchData:d,save:m}}});function m(e){e.__source="src/views/setting/roleManagement/components/RoleManagementEdit.vue"}var f=l(48499);"function"===typeof m&&m(d);const c=(0,f.A)(d,[["render",n],["__scopeId","data-v-5f116ad2"]]);var b=c}}]);