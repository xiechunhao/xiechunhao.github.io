/*!
 *  build: admin-pro 
 *  copyright: vuejs-core.cn  
 *  time: 2025-3-12 23:20:41
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vab-chunk-952443dc"],{"316d":function(t,e,n){!function(e,n){t.exports=n()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=222)}([function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return U})),n.d(e,"d",(function(){return F})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return g})),n.d(e,"g",(function(){return y})),n.d(e,"h",(function(){return B})),n.d(e,"i",(function(){return o})),n.d(e,"j",(function(){return z})),n.d(e,"k",(function(){return S}));var r,o,i,u,a,c,s,l={},f=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function d(t,e){for(var n in e)t[n]=e[n];return t}function h(t){var e=t.parentNode;e&&e.removeChild(t)}function y(t,e,n){var o,i,u,a={};for(u in e)"key"==u?o=e[u]:"ref"==u?i=e[u]:a[u]=e[u];if(arguments.length>2&&(a.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(u in t.defaultProps)void 0===a[u]&&(a[u]=t.defaultProps[u]);return v(t,a,o,i,null)}function v(t,e,n,r,u){var a={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==u?++i:u};return null==u&&null!=o.vnode&&o.vnode(a),a}function g(){return{current:null}}function b(t){return t.children}function m(t,e){this.props=t,this.context=e}function O(t,e){if(null==e)return t.__?O(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?O(t):null}function _(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return _(t)}}function w(t){(!t.__d&&(t.__d=!0)&&u.push(t)&&!j.__r++||c!==o.debounceRendering)&&((c=o.debounceRendering)||a)(j)}function j(){for(var t;j.__r=u.length;)t=u.sort((function(t,e){return t.__v.__b-e.__v.__b})),u=[],t.some((function(t){var e,n,r,o,i,u;t.__d&&(i=(o=(e=t).__v).__e,(u=e.__P)&&(n=[],(r=d({},o)).__v=o.__v+1,M(u,o,r,e.__n,void 0!==u.ownerSVGElement,null!=o.__h?[i]:null,n,null==i?O(o):i,o.__h),N(n,o),o.__e!=i&&_(o)))}))}function x(t,e,n,r,o,i,u,a,c,s){var p,d,h,y,g,m,_,w=r&&r.__k||f,j=w.length;for(n.__k=[],p=0;p<e.length;p++)if(null!=(y=n.__k[p]=null==(y=e[p])||"boolean"==typeof y?null:"string"==typeof y||"number"==typeof y||"bigint"==typeof y?v(null,y,null,null,y):Array.isArray(y)?v(b,{children:y},null,null,null):y.__b>0?v(y.type,y.props,y.key,null,y.__v):y)){if(y.__=n,y.__b=n.__b+1,null===(h=w[p])||h&&y.key==h.key&&y.type===h.type)w[p]=void 0;else for(d=0;d<j;d++){if((h=w[d])&&y.key==h.key&&y.type===h.type){w[d]=void 0;break}h=null}M(t,y,h=h||l,o,i,u,a,c,s),g=y.__e,(d=y.ref)&&h.ref!=d&&(_||(_=[]),h.ref&&_.push(h.ref,null,y),_.push(d,y.__c||g,y)),null!=g?(null==m&&(m=g),"function"==typeof y.type&&y.__k===h.__k?y.__d=c=E(y,c,t):c=P(t,y,h,w,g,c),"function"==typeof n.type&&(n.__d=c)):c&&h.__e==c&&c.parentNode!=t&&(c=O(h))}for(n.__e=m,p=j;p--;)null!=w[p]&&("function"==typeof n.type&&null!=w[p].__e&&w[p].__e==n.__d&&(n.__d=O(r,p+1)),I(w[p],w[p]));if(_)for(p=0;p<_.length;p++)R(_[p],_[++p],_[++p])}function E(t,e,n){for(var r,o=t.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=t,e="function"==typeof r.type?E(r,e,n):P(n,r,r,o,r.__e,e));return e}function S(t,e){return e=e||[],null==t||"boolean"==typeof t||(Array.isArray(t)?t.some((function(t){S(t,e)})):e.push(t)),e}function P(t,e,n,r,o,i){var u,a,c;if(void 0!==e.__d)u=e.__d,e.__d=void 0;else if(null==n||o!=i||null==o.parentNode)t:if(null==i||i.parentNode!==t)t.appendChild(o),u=null;else{for(a=i,c=0;(a=a.nextSibling)&&c<r.length;c+=2)if(a==o)break t;t.insertBefore(o,i),u=i}return void 0!==u?u:o.nextSibling}function A(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]=null==n?"":"number"!=typeof n||p.test(e)?n:n+"px"}function k(t,e,n,r,o){var i;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||A(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||A(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r||t.addEventListener(e,i?T:D,i):t.removeEventListener(e,i?T:D,i);else if("dangerouslySetInnerHTML"!==e){if(o)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null!=n&&(!1!==n||"a"===e[0]&&"r"===e[1])?t.setAttribute(e,n):t.removeAttribute(e))}}function D(t){this.l[t.type+!1](o.event?o.event(t):t)}function T(t){this.l[t.type+!0](o.event?o.event(t):t)}function M(t,e,n,r,i,u,a,c,s){var l,f,p,h,y,v,g,O,_,w,j,E=e.type;if(void 0!==e.constructor)return null;null!=n.__h&&(s=n.__h,c=e.__e=n.__e,e.__h=null,u=[c]),(l=o.__b)&&l(e);try{t:if("function"==typeof E){if(O=e.props,_=(l=E.contextType)&&r[l.__c],w=l?_?_.props.value:l.__:r,n.__c?g=(f=e.__c=n.__c).__=f.__E:("prototype"in E&&E.prototype.render?e.__c=f=new E(O,w):(e.__c=f=new m(O,w),f.constructor=E,f.render=L),_&&_.sub(f),f.props=O,f.state||(f.state={}),f.context=w,f.__n=r,p=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=E.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=d({},f.__s)),d(f.__s,E.getDerivedStateFromProps(O,f.__s))),h=f.props,y=f.state,p)null==E.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==E.getDerivedStateFromProps&&O!==h&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(O,w),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(O,f.__s,w)||e.__v===n.__v){f.props=O,f.state=f.__s,e.__v!==n.__v&&(f.__d=!1),f.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach((function(t){t&&(t.__=e)})),f.__h.length&&a.push(f);break t}null!=f.componentWillUpdate&&f.componentWillUpdate(O,f.__s,w),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(h,y,v)}))}f.context=w,f.props=O,f.state=f.__s,(l=o.__r)&&l(e),f.__d=!1,f.__v=e,f.__P=t,l=f.render(f.props,f.state,f.context),f.state=f.__s,null!=f.getChildContext&&(r=d(d({},r),f.getChildContext())),p||null==f.getSnapshotBeforeUpdate||(v=f.getSnapshotBeforeUpdate(h,y)),j=null!=l&&l.type===b&&null==l.key?l.props.children:l,x(t,Array.isArray(j)?j:[j],e,n,r,i,u,a,c,s),f.base=e.__e,e.__h=null,f.__h.length&&a.push(f),g&&(f.__E=f.__=null),f.__e=!1}else null==u&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=C(n.__e,e,n,r,i,u,a,s);(l=o.diffed)&&l(e)}catch(t){e.__v=null,(s||null!=u)&&(e.__e=c,e.__h=!!s,u[u.indexOf(c)]=null),o.__e(t,e,n)}}function N(t,e){o.__c&&o.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){o.__e(t,e.__v)}}))}function C(t,e,n,o,i,u,a,c){var s,f,p,d=n.props,y=e.props,v=e.type,g=0;if("svg"===v&&(i=!0),null!=u)for(;g<u.length;g++)if((s=u[g])&&"setAttribute"in s==!!v&&(v?s.localName===v:3===s.nodeType)){t=s,u[g]=null;break}if(null==t){if(null===v)return document.createTextNode(y);t=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,y.is&&y),u=null,c=!1}if(null===v)d===y||c&&t.data===y||(t.data=y);else{if(u=u&&r.call(t.childNodes),f=(d=n.props||l).dangerouslySetInnerHTML,p=y.dangerouslySetInnerHTML,!c){if(null!=u)for(d={},g=0;g<t.attributes.length;g++)d[t.attributes[g].name]=t.attributes[g].value;(p||f)&&(p&&(f&&p.__html==f.__html||p.__html===t.innerHTML)||(t.innerHTML=p&&p.__html||""))}if(function(t,e,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in e||k(t,i,null,n[i],r);for(i in e)o&&"function"!=typeof e[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===e[i]||k(t,i,e[i],n[i],r)}(t,y,d,i,c),p)e.__k=[];else if(g=e.props.children,x(t,Array.isArray(g)?g:[g],e,n,o,i&&"foreignObject"!==v,u,a,u?u[0]:n.__k&&O(n,0),c),null!=u)for(g=u.length;g--;)null!=u[g]&&h(u[g]);c||("value"in y&&void 0!==(g=y.value)&&(g!==d.value||g!==t.value||"progress"===v&&!g)&&k(t,"value",g,d.value,!1),"checked"in y&&void 0!==(g=y.checked)&&g!==t.checked&&k(t,"checked",g,d.checked,!1))}return t}function R(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){o.__e(t,n)}}function I(t,e,n){var r,i;if(o.unmount&&o.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||R(r,null,e)),null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){o.__e(t,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&I(r[i],e,"function"!=typeof t.type);n||null==t.__e||h(t.__e),t.__e=t.__d=void 0}function L(t,e,n){return this.constructor(t,n)}function z(t,e,n){var i,u,a;o.__&&o.__(t,e),u=(i="function"==typeof n)?null:n&&n.__k||e.__k,a=[],M(e,t=(!i&&n||e).__k=y(b,null,[t]),u||l,l,void 0!==e.ownerSVGElement,!i&&n?[n]:u?null:e.firstChild?r.call(e.childNodes):null,a,!i&&n?n:u?u.__e:e.firstChild,i),N(a,t)}function B(t,e){z(t,e,B)}function U(t,e,n){var o,i,u,a=d({},t.props);for(u in e)"key"==u?o=e[u]:"ref"==u?i=e[u]:a[u]=e[u];return arguments.length>2&&(a.children=arguments.length>3?r.call(arguments,2):n),v(t.type,a,o||t.key,i||t.ref,null)}function F(t,e){var n={__c:e="__cC"+s++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,r;return this.getChildContext||(n=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&n.some(w)},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return n.Provider.__=n.Consumer.contextType=n}r=f.slice,o={__e:function(t,e){for(var n,r,o;e=e.__;)if((n=e.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(t)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(t),o=n.__d),o)return n.__E=n}catch(e){t=e}throw t}},i=0,m.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=d({},this.state),"function"==typeof t&&(t=t(d({},n),this.props)),t&&d(n,t),null!=t&&this.__v&&(e&&this.__h.push(e),w(this))},m.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),w(this))},m.prototype.render=b,u=[],a="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,j.__r=0,s=0},function(t,e,n){"use strict";(function(t,r){n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return on})),n.d(e,"c",(function(){return Gt})),n.d(e,"d",(function(){return jt})),n.d(e,"e",(function(){return ht})),n.d(e,"f",(function(){return dt})),n.d(e,"g",(function(){return wt})),n.d(e,"h",(function(){return bn})),n.d(e,"i",(function(){return ut})),n.d(e,"j",(function(){return _t})),n.d(e,"k",(function(){return te})),n.d(e,"l",(function(){return oe})),n.d(e,"m",(function(){return nt})),n.d(e,"n",(function(){return le})),n.d(e,"o",(function(){return x})),n.d(e,"p",(function(){return Pe})),n.d(e,"q",(function(){return fe})),n.d(e,"r",(function(){return be})),n.d(e,"s",(function(){return gn})),n.d(e,"t",(function(){return he})),n.d(e,"u",(function(){return ne})),n.d(e,"v",(function(){return _e})),n.d(e,"w",(function(){return we})),n.d(e,"x",(function(){return xe})),n.d(e,"y",(function(){return en})),n.d(e,"z",(function(){return un})),n.d(e,"A",(function(){return vn})),n.d(e,"B",(function(){return Ee})),n.d(e,"C",(function(){return Z})),n.d(e,"D",(function(){return ke})),n.d(e,"E",(function(){return ce})),n.d(e,"F",(function(){return ae})),n.d(e,"G",(function(){return ee})),n.d(e,"H",(function(){return Zt})),n.d(e,"I",(function(){return Ne})),n.d(e,"J",(function(){return Re})),n.d(e,"K",(function(){return lt})),n.d(e,"L",(function(){return Se})),n.d(e,"M",(function(){return Ie}));var o=[];Object.freeze(o);var i={};function u(){return++Rt.mobxGuid}function a(t){throw c(!1,t),"X"}function c(t,e){if(!t)throw new Error("[mobx] "+(e||"An invariant failed, however the error is obfuscated because this is a production build."))}function s(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}Object.freeze(i);var l=function(){};function f(t){return null!==t&&"object"==typeof t}function p(t){if(null===t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function d(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function h(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(t){return f(t)&&!0===t[n]}}function y(t){return t instanceof Map}function v(t){return t instanceof Set}function g(t){var e=new Set;for(var n in t)e.add(n);return Object.getOwnPropertySymbols(t).forEach((function(n){Object.getOwnPropertyDescriptor(t,n).enumerable&&e.add(n)})),Array.from(e)}function b(t){return t&&t.toString?t.toString():new String(t).toString()}function m(t){return null===t?null:"object"==typeof t?""+t:t}var O="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,_=Symbol("mobx administration"),w=function(){function t(t){void 0===t&&(t="Atom@"+u()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=J.NOT_TRACKING}return t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.reportObserved=function(){return Ft(this)},t.prototype.reportChanged=function(){Bt(),function(t){t.lowestObserverState!==J.STALE&&(t.lowestObserverState=J.STALE,t.observers.forEach((function(e){e.dependenciesState===J.UP_TO_DATE&&(e.isTracing!==Q.NONE&&Ht(e,t),e.onBecomeStale()),e.dependenciesState=J.STALE})))}(this),Ut()},t.prototype.toString=function(){return this.name},t}(),j=h("Atom",w);function x(t,e,n){void 0===e&&(e=l),void 0===n&&(n=l);var r,o=new w(t);return e!==l&&se("onBecomeObserved",o,e,r),n!==l&&ce(o,n),o}var E={identity:function(t,e){return t===e},structural:function(t,e){return On(t,e)},default:function(t,e){return Object.is(t,e)},shallow:function(t,e){return On(t,e,1)}},S=function(t,e){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},S(t,e)
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */},P=function(){return P=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},P.apply(this,arguments)};function A(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function k(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u}function D(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(k(arguments[e]));return t}var T=Symbol("mobx did run lazy initializers"),M=Symbol("mobx pending decorators"),N={},C={};function R(t,e){var n=e?N:C;return n[t]||(n[t]={configurable:!0,enumerable:e,get:function(){return I(this),this[t]},set:function(e){I(this),this[t]=e}})}function I(t){var e,n;if(!0!==t[T]){var r=t[M];if(r){d(t,T,!0);var o=D(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var i=A(o),u=i.next();!u.done;u=i.next()){var a=r[u.value];a.propertyCreator(t,a.prop,a.descriptor,a.decoratorTarget,a.decoratorArguments)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}}}function L(t,e){return function(){var n,r=function(r,o,i,u){if(!0===u)return e(r,o,i,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,M)){var a=r[M];d(r,M,P({},a))}return r[M][o]={prop:o,propertyCreator:e,descriptor:i,decoratorTarget:r,decoratorArguments:n},R(o,t)};return z(arguments)?(n=o,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function z(t){return(2===t.length||3===t.length)&&("string"==typeof t[1]||"symbol"==typeof t[1])||4===t.length&&!0===t[3]}function B(t,e,n){return xe(t)?t:Array.isArray(t)?Z.array(t,{name:n}):p(t)?Z.object(t,void 0,{name:n}):y(t)?Z.map(t,{name:n}):v(t)?Z.set(t,{name:n}):t}function U(t){return t}function F(e){c(e);var n=L(!0,(function(t,n,r,o,i){var u=r?r.initializer?r.initializer.call(t):r.value:void 0;fn(t).addObservableProp(n,u,e)})),r=(void 0!==t&&t.env,n);return r.enhancer=e,r}var H={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function X(t){return null==t?H:"string"==typeof t?{name:t,deep:!0,proxy:!0}:t}Object.freeze(H);var G=F(B),Y=F((function(t,e,n){return null==t||vn(t)||en(t)||un(t)||sn(t)?t:Array.isArray(t)?Z.array(t,{name:n,deep:!1}):p(t)?Z.object(t,void 0,{name:n,deep:!1}):y(t)?Z.map(t,{name:n,deep:!1}):v(t)?Z.set(t,{name:n,deep:!1}):a(!1)})),V=F(U),W=F((function(t,e,n){return On(t,e)?e:t}));function K(t){return t.defaultDecorator?t.defaultDecorator.enhancer:!1===t.deep?U:B}var $={box:function(t,e){arguments.length>2&&q("box");var n=X(e);return new St(t,K(n),n.name,!0,n.equals)},array:function(t,e){arguments.length>2&&q("array");var n=X(e);return Ze(t,K(n),n.name)},map:function(t,e){arguments.length>2&&q("map");var n=X(e);return new on(t,K(n),n.name)},set:function(t,e){arguments.length>2&&q("set");var n=X(e);return new cn(t,K(n),n.name)},object:function(t,e,n){"string"==typeof arguments[1]&&q("object");var r=X(n);if(!1===r.proxy)return fe({},t,e,r);var o=pe(r),i=fe({},void 0,void 0,r),u=He(i);return de(u,t,e,o),u},ref:V,shallow:Y,deep:G,struct:W},Z=function(t,e,n){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return G.apply(null,arguments);if(xe(t))return t;var r=p(t)?Z.object(t,e,n):Array.isArray(t)?Z.array(t,e):y(t)?Z.map(t,e):v(t)?Z.set(t,e):t;if(r!==t)return r;a(!1)};function q(t){a("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}Object.keys($).forEach((function(t){return Z[t]=$[t]}));var J,Q,tt=L(!1,(function(t,e,n,r,o){var i=n.get,u=n.set,a=o[0]||{};fn(t).addComputedProp(t,e,P({get:i,set:u,context:t},a))})),et=tt({equals:E.structural}),nt=function(t,e,n){if("string"==typeof e)return tt.apply(null,arguments);if(null!==t&&"object"==typeof t&&1===arguments.length)return tt.apply(null,arguments);var r="object"==typeof e?e:{};return r.get=t,r.set="function"==typeof e?e:r.set,r.name=r.name||t.name||"",new At(r)};nt.struct=et,function(t){t[t.NOT_TRACKING=-1]="NOT_TRACKING",t[t.UP_TO_DATE=0]="UP_TO_DATE",t[t.POSSIBLY_STALE=1]="POSSIBLY_STALE",t[t.STALE=2]="STALE"}(J||(J={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(Q||(Q={}));var rt=function(t){this.cause=t};function ot(t){return t instanceof rt}function it(t){switch(t.dependenciesState){case J.UP_TO_DATE:return!1;case J.NOT_TRACKING:case J.STALE:return!0;case J.POSSIBLY_STALE:for(var e=dt(!0),n=ft(),r=t.observing,o=r.length,i=0;i<o;i++){var u=r[i];if(kt(u)){if(Rt.disableErrorBoundaries)u.get();else try{u.get()}catch(t){return pt(n),ht(e),!0}if(t.dependenciesState===J.STALE)return pt(n),ht(e),!0}}return yt(t),pt(n),ht(e),!1}}function ut(){return null!==Rt.trackingDerivation}function at(t){var e=t.observers.size>0;Rt.computationDepth>0&&e&&a(!1),Rt.allowStateChanges||!e&&"strict"!==Rt.enforceActions||a(!1)}function ct(t,e,n){var r=dt(!0);yt(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++Rt.runId;var o,i=Rt.trackingDerivation;if(Rt.trackingDerivation=t,!0===Rt.disableErrorBoundaries)o=e.call(n);else try{o=e.call(n)}catch(t){o=new rt(t)}return Rt.trackingDerivation=i,function(t){for(var e=t.observing,n=t.observing=t.newObserving,r=J.UP_TO_DATE,o=0,i=t.unboundDepsCount,u=0;u<i;u++)0===(a=n[u]).diffValue&&(a.diffValue=1,o!==u&&(n[o]=a),o++),a.dependenciesState>r&&(r=a.dependenciesState);for(n.length=o,t.newObserving=null,i=e.length;i--;)0===(a=e[i]).diffValue&&Lt(a,t),a.diffValue=0;for(;o--;){var a;1===(a=n[o]).diffValue&&(a.diffValue=0,It(a,t))}r!==J.UP_TO_DATE&&(t.dependenciesState=r,t.onBecomeStale())}(t),ht(r),o}function st(t){var e=t.observing;t.observing=[];for(var n=e.length;n--;)Lt(e[n],t);t.dependenciesState=J.NOT_TRACKING}function lt(t){var e=ft();try{return t()}finally{pt(e)}}function ft(){var t=Rt.trackingDerivation;return Rt.trackingDerivation=null,t}function pt(t){Rt.trackingDerivation=t}function dt(t){var e=Rt.allowStateReads;return Rt.allowStateReads=t,e}function ht(t){Rt.allowStateReads=t}function yt(t){if(t.dependenciesState!==J.UP_TO_DATE){t.dependenciesState=J.UP_TO_DATE;for(var e=t.observing,n=e.length;n--;)e[n].lowestObserverState=J.UP_TO_DATE}}var vt=0,gt=1,bt=Object.getOwnPropertyDescriptor((function(){}),"name");function mt(t,e,n){var r=function(){return Ot(t,e,n||this,arguments)};return r.isMobxAction=!0,r}function Ot(t,e,n,r){var o=_t(t,n,r);try{return e.apply(n,r)}catch(t){throw o.error=t,t}finally{wt(o)}}function _t(t,e,n){var r=0,o=ft();Bt();var i={prevDerivation:o,prevAllowStateChanges:xt(!0),prevAllowStateReads:dt(!0),notifySpy:!1,startTime:r,actionId:gt++,parentActionId:vt};return vt=i.actionId,i}function wt(t){vt!==t.actionId&&a("invalid action stack. did you forget to finish an action?"),vt=t.parentActionId,void 0!==t.error&&(Rt.suppressReactionErrors=!0),Et(t.prevAllowStateChanges),ht(t.prevAllowStateReads),Ut(),pt(t.prevDerivation),t.notifySpy,Rt.suppressReactionErrors=!1}function jt(t,e){var n,r=xt(t);try{n=e()}finally{Et(r)}return n}function xt(t){var e=Rt.allowStateChanges;return Rt.allowStateChanges=t,e}function Et(t){Rt.allowStateChanges=t}bt&&bt.configurable;var St=function(t){function e(e,n,r,o,i){void 0===r&&(r="ObservableValue@"+u()),void 0===o&&(o=!0),void 0===i&&(i=E.default);var a=t.call(this,r)||this;return a.enhancer=n,a.name=r,a.equals=i,a.hasUnreportedChange=!1,a.value=n(e,void 0,r),a}return function(t,e){function n(){this.constructor=t}S(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.prototype.set=function(t){this.value,(t=this.prepareNewValue(t))!==Rt.UNCHANGED&&this.setNewValue(t)},e.prototype.prepareNewValue=function(t){if(at(this),Xe(this)){var e=Ye(this,{object:this,type:"update",newValue:t});if(!e)return Rt.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value,this.name),this.equals(this.value,t)?Rt.UNCHANGED:t},e.prototype.setNewValue=function(t){var e=this.value;this.value=t,this.reportChanged(),Ve(this)&&Ke(this,{type:"update",object:this,newValue:t,oldValue:e})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(t){return Ge(this,t)},e.prototype.observe=function(t,e){return e&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),We(this,t)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return m(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(w),Pt=h("ObservableValue",St),At=function(){function t(t){this.dependenciesState=J.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=J.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+u(),this.value=new rt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Q.NONE,c(t.get,"missing option for computed: get"),this.derivation=t.get,this.name=t.name||"ComputedValue@"+u(),t.set&&(this.setter=mt(this.name+"-setter",t.set)),this.equals=t.equals||(t.compareStructural||t.struct?E.structural:E.default),this.scope=t.context,this.requiresReaction=!!t.requiresReaction,this.keepAlive=!!t.keepAlive}return t.prototype.onBecomeStale=function(){!function(t){t.lowestObserverState===J.UP_TO_DATE&&(t.lowestObserverState=J.POSSIBLY_STALE,t.observers.forEach((function(e){e.dependenciesState===J.UP_TO_DATE&&(e.dependenciesState=J.POSSIBLY_STALE,e.isTracing!==Q.NONE&&Ht(e,t),e.onBecomeStale())})))}(this)},t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.get=function(){this.isComputing&&a("Cycle detected in computation "+this.name+": "+this.derivation),0!==Rt.inBatch||0!==this.observers.size||this.keepAlive?(Ft(this),it(this)&&this.trackAndCompute()&&function(t){t.lowestObserverState!==J.STALE&&(t.lowestObserverState=J.STALE,t.observers.forEach((function(e){e.dependenciesState===J.POSSIBLY_STALE?e.dependenciesState=J.STALE:e.dependenciesState===J.UP_TO_DATE&&(t.lowestObserverState=J.UP_TO_DATE)})))}(this)):it(this)&&(this.warnAboutUntrackedRead(),Bt(),this.value=this.computeValue(!1),Ut());var t=this.value;if(ot(t))throw t.cause;return t},t.prototype.peek=function(){var t=this.computeValue(!1);if(ot(t))throw t.cause;return t},t.prototype.set=function(t){if(this.setter){c(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else c(!1,!1)},t.prototype.trackAndCompute=function(){var t=this.value,e=this.dependenciesState===J.NOT_TRACKING,n=this.computeValue(!0),r=e||ot(t)||ot(n)||!this.equals(t,n);return r&&(this.value=n),r},t.prototype.computeValue=function(t){var e;if(this.isComputing=!0,Rt.computationDepth++,t)e=ct(this,this.derivation,this.scope);else if(!0===Rt.disableErrorBoundaries)e=this.derivation.call(this.scope);else try{e=this.derivation.call(this.scope)}catch(t){e=new rt(t)}return Rt.computationDepth--,this.isComputing=!1,e},t.prototype.suspend=function(){this.keepAlive||(st(this),this.value=void 0)},t.prototype.observe=function(t,e){var n=this,r=!0,o=void 0;return oe((function(){var i=n.get();if(!r||e){var u=ft();t({type:"update",object:n,newValue:i,oldValue:o}),pt(u)}r=!1,o=i}))},t.prototype.warnAboutUntrackedRead=function(){},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return m(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(),kt=h("ComputedValue",At),Dt=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Tt={};function Mt(){return"undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:Tt}var Nt=!0,Ct=!1,Rt=function(){var t=Mt();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Nt=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new Dt).version&&(Nt=!1),Nt?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Dt):(setTimeout((function(){Ct||a("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Dt)}();function It(t,e){t.observers.add(e),t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function Lt(t,e){t.observers.delete(e),0===t.observers.size&&zt(t)}function zt(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,Rt.pendingUnobservations.push(t))}function Bt(){Rt.inBatch++}function Ut(){if(0==--Rt.inBatch){Vt();for(var t=Rt.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof At&&n.suspend())}Rt.pendingUnobservations=[]}}function Ft(t){var e=Rt.trackingDerivation;return null!==e?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(0===t.observers.size&&Rt.inBatch>0&&zt(t),!1)}function Ht(t,e){if(t.isTracing===Q.BREAK){var n=[];Xt(he(t),n,1),new Function("debugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+e.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof At?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function Xt(t,e,n){e.length>=1e3?e.push("(and many more)"):(e.push(""+new Array(n).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return Xt(t,e,n+1)})))}var Gt=function(){function t(t,e,n,r){void 0===t&&(t="Reaction@"+u()),void 0===r&&(r=!1),this.name=t,this.onInvalidate=e,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=J.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+u(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Q.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Rt.pendingReactions.push(this),Vt())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){if(!this.isDisposed){if(Bt(),this._isScheduled=!1,it(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(t){this.reportExceptionInDerivation(t)}}Ut()}},t.prototype.track=function(t){if(!this.isDisposed){Bt(),this._isRunning=!0;var e=ct(this,t,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&st(this),ot(e)&&this.reportExceptionInDerivation(e.cause),Ut()}},t.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler)this.errorHandler(t,this);else{if(Rt.disableErrorBoundaries)throw t;Rt.suppressReactionErrors,Rt.globalReactionErrorHandlers.forEach((function(n){return n(t,e)}))}},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Bt(),st(this),Ut()))},t.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t[_]=this,t},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(t){void 0===t&&(t=!1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!1;"boolean"==typeof t[t.length-1]&&(n=t.pop());var r=Ce(t);if(!r)return a(!1);r.isTracing,Q.NONE,r.isTracing=n?Q.BREAK:Q.LOG}(this,t)},t}(),Yt=function(t){return t()};function Vt(){Rt.inBatch>0||Rt.isRunningReactions||Yt(Wt)}function Wt(){Rt.isRunningReactions=!0;for(var t=Rt.pendingReactions,e=0;t.length>0;){100==++e&&t.splice(0);for(var n=t.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}Rt.isRunningReactions=!1}var Kt=h("Reaction",Gt);function $t(t){var e=Yt;Yt=function(n){return t((function(){return e(n)}))}}function Zt(t){return function(){}}function qt(){a(!1)}function Jt(t){return function(e,n,r){if(r){if(r.value)return{value:mt(t,r.value),enumerable:!1,configurable:!0,writable:!0};var o=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return mt(t,o.call(this))}}}return Qt(t).apply(this,arguments)}}function Qt(t){return function(e,n,r){Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:function(){},set:function(e){d(this,n,te(t,e))}})}}var te=function(t,e,n,r){return 1===arguments.length&&"function"==typeof t?mt(t.name||"<unnamed action>",t):2===arguments.length&&"function"==typeof e?mt(t,e):1===arguments.length&&"string"==typeof t?Jt(t):!0!==r?Jt(e).apply(null,arguments):void d(t,e,mt(t.name||e,n.value,this))};function ee(t,e){return Ot("string"==typeof t?t:t.name||"<unnamed action>","function"==typeof t?t:e,this,void 0)}function ne(t){return"function"==typeof t&&!0===t.isMobxAction}function re(t,e,n){d(t,e,mt(e,n.bind(t)))}function oe(t,e){void 0===e&&(e=i);var n,r=e&&e.name||t.name||"Autorun@"+u();if(e.scheduler||e.delay){var o=ue(e),a=!1;n=new Gt(r,(function(){a||(a=!0,o((function(){a=!1,n.isDisposed||n.track(c)})))}),e.onError,e.requiresObservable)}else n=new Gt(r,(function(){this.track(c)}),e.onError,e.requiresObservable);function c(){t(n)}return n.schedule(),n.getDisposer()}te.bound=function(t,e,n,r){return!0===r?(re(t,e,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return re(this,e,n.value||n.initializer.call(this)),this[e]},set:qt}:{enumerable:!1,configurable:!0,set:function(t){re(this,e,t)},get:function(){}}};var ie=function(t){return t()};function ue(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:ie}function ae(t,e,n){void 0===n&&(n=i);var r,o,a,c=n.name||"Reaction@"+u(),s=te(c,n.onError?(r=n.onError,o=e,function(){try{return o.apply(this,arguments)}catch(t){r.call(this,t)}}):e),l=!n.scheduler&&!n.delay,f=ue(n),p=!0,d=!1,h=n.compareStructural?E.structural:n.equals||E.default,y=new Gt(c,(function(){p||l?v():d||(d=!0,f(v))}),n.onError,n.requiresObservable);function v(){if(d=!1,!y.isDisposed){var e=!1;y.track((function(){var n=t(y);e=p||!h(a,n),a=n})),p&&n.fireImmediately&&s(a,y),p||!0!==e||s(a,y),p&&(p=!1)}}return y.schedule(),y.getDisposer()}function ce(t,e,n){return se("onBecomeUnobserved",t,e,n)}function se(t,e,n,r){var o="function"==typeof r?gn(e,n):gn(e),i="function"==typeof r?r:n,u=t+"Listeners";return o[u]?o[u].add(i):o[u]=new Set([i]),"function"!=typeof o[t]?a(!1):function(){var t=o[u];t&&(t.delete(i),0===t.size&&delete o[u])}}function le(t){var e=t.enforceActions,n=t.computedRequiresReaction,r=t.computedConfigurable,o=t.disableErrorBoundaries,i=t.reactionScheduler,u=t.reactionRequiresObservable,c=t.observableRequiresReaction;if(!0===t.isolateGlobalState&&((Rt.pendingReactions.length||Rt.inBatch||Rt.isRunningReactions)&&a("isolateGlobalState should be called before MobX is running any reactions"),Ct=!0,Nt&&(0==--Mt().__mobxInstanceCount&&(Mt().__mobxGlobals=void 0),Rt=new Dt)),void 0!==e){var s=void 0;switch(e){case!0:case"observed":s=!0;break;case!1:case"never":s=!1;break;case"strict":case"always":s="strict";break;default:a("Invalid value for 'enforceActions': '"+e+"', expected 'never', 'always' or 'observed'")}Rt.enforceActions=s,Rt.allowStateChanges=!0!==s&&"strict"!==s}void 0!==n&&(Rt.computedRequiresReaction=!!n),void 0!==u&&(Rt.reactionRequiresObservable=!!u),void 0!==c&&(Rt.observableRequiresReaction=!!c,Rt.allowStateReads=!Rt.observableRequiresReaction),void 0!==r&&(Rt.computedConfigurable=!!r),void 0!==o&&(Rt.disableErrorBoundaries=!!o),i&&$t(i)}function fe(t,e,n,r){var o=pe(r=X(r));return I(t),fn(t,r.name,o.enhancer),e&&de(t,e,n,o),t}function pe(t){return t.defaultDecorator||(!1===t.deep?V:G)}function de(t,e,n,r){var o,i;Bt();try{var u=O(e);try{for(var a=A(u),c=a.next();!c.done;c=a.next()){var s=c.value,l=Object.getOwnPropertyDescriptor(e,s),f=(n&&s in n?n[s]:l.get?tt:r)(t,s,l,!0);f&&Object.defineProperty(t,s,f)}}catch(t){o={error:t}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}}finally{Ut()}}function he(t,e){return ye(gn(t,e))}function ye(t){var e,n,r={name:t.name};return t.observing&&t.observing.length>0&&(r.dependencies=(e=t.observing,n=[],e.forEach((function(t){-1===n.indexOf(t)&&n.push(t)})),n).map(ye)),r}var ve=0;function ge(){this.message="FLOW_CANCELLED"}function be(t){1!==arguments.length&&a("Flow expects 1 argument and cannot be used as decorator");var e=t.name||"<unnamed flow>";return function(){var n,r=this,o=arguments,i=++ve,u=te(e+" - runid: "+i+" - init",t).apply(r,o),a=void 0,c=new Promise((function(t,r){var o=0;function c(t){var n;a=void 0;try{n=te(e+" - runid: "+i+" - yield "+o++,u.next).call(u,t)}catch(t){return r(t)}l(n)}function s(t){var n;a=void 0;try{n=te(e+" - runid: "+i+" - yield "+o++,u.throw).call(u,t)}catch(t){return r(t)}l(n)}function l(e){if(!e||"function"!=typeof e.then)return e.done?t(e.value):(a=Promise.resolve(e.value)).then(c,s);e.then(l,r)}n=r,c(void 0)}));return c.cancel=te(e+" - runid: "+i+" - cancel",(function(){try{a&&me(a);var t=u.return(void 0),e=Promise.resolve(t.value);e.then(l,l),me(e),n(new ge)}catch(t){n(t)}})),c}}function me(t){"function"==typeof t.cancel&&t.cancel()}function Oe(t,e){if(null==t)return!1;if(void 0!==e){if(!1===vn(t))return!1;if(!t[_].values.has(e))return!1;var n=gn(t,e);return kt(n)}return kt(t)}function _e(t){return arguments.length>1?a(!1):Oe(t)}function we(t,e){return"string"!=typeof e?a(!1):Oe(t,e)}function je(t,e){return null!=t&&(void 0!==e?!!vn(t)&&t[_].values.has(e):vn(t)||!!t[_]||j(t)||Kt(t)||kt(t))}function xe(t){return 1!==arguments.length&&a(!1),je(t)}function Ee(t){return vn(t)?t[_].getKeys():un(t)||sn(t)?Array.from(t.keys()):en(t)?t.map((function(t,e){return e})):a(!1)}function Se(t){return vn(t)?Ee(t).map((function(e){return t[e]})):un(t)?Ee(t).map((function(e){return t.get(e)})):sn(t)?Array.from(t.values()):en(t)?t.slice():a(!1)}function Pe(t){return vn(t)?Ee(t).map((function(e){return[e,t[e]]})):un(t)?Ee(t).map((function(e){return[e,t.get(e)]})):sn(t)?Array.from(t.entries()):en(t)?t.map((function(t,e){return[e,t]})):a(!1)}function Ae(t,e,n){if(2!==arguments.length||sn(t))if(vn(t)){var r=t[_],o=r.values.get(e);o?r.write(e,n):r.addObservableProp(e,n,r.defaultEnhancer)}else if(un(t))t.set(e,n);else if(sn(t))t.add(e);else{if(!en(t))return a(!1);"number"!=typeof e&&(e=parseInt(e,10)),c(e>=0,"Not a valid index: '"+e+"'"),Bt(),e>=t.length&&(t.length=e+1),t[e]=n,Ut()}else{Bt();var i=e;try{for(var u in i)Ae(t,u,i[u])}finally{Ut()}}}function ke(t,e,n,r){return"function"==typeof n?function(t,e,n,r){return bn(t,e).observe(n,r)}(t,e,n,r):function(t,e,n){return bn(t).observe(e,n)}(t,e,n)}ge.prototype=Object.create(Error.prototype);var De={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Te(t,e,n,r){return r.detectCycles&&t.set(e,n),n}function Me(t,e,n){if(!e.recurseEverything&&!xe(t))return t;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return t;if(Pt(t))return Me(t.get(),e,n);if(xe(t)&&Ee(t),!0===e.detectCycles&&null!==t&&n.has(t))return n.get(t);if(en(t)||Array.isArray(t)){var r=Te(n,t,[],e),o=t.map((function(t){return Me(t,e,n)}));r.length=o.length;for(var i=0,u=o.length;i<u;i++)r[i]=o[i];return r}if(sn(t)||Object.getPrototypeOf(t)===Set.prototype){if(!1===e.exportMapsAsObjects){var a=Te(n,t,new Set,e);return t.forEach((function(t){a.add(Me(t,e,n))})),a}var c=Te(n,t,[],e);return t.forEach((function(t){c.push(Me(t,e,n))})),c}if(un(t)||Object.getPrototypeOf(t)===Map.prototype){if(!1===e.exportMapsAsObjects){var s=Te(n,t,new Map,e);return t.forEach((function(t,r){s.set(r,Me(t,e,n))})),s}var l=Te(n,t,{},e);return t.forEach((function(t,r){l[r]=Me(t,e,n)})),l}var f=Te(n,t,{},e);return g(t).forEach((function(r){f[r]=Me(t[r],e,n)})),f}function Ne(t,e){var n;return"boolean"==typeof e&&(e={detectCycles:e}),e||(e=De),e.detectCycles=void 0===e.detectCycles?!0===e.recurseEverything:!0===e.detectCycles,e.detectCycles&&(n=new Map),Me(t,e,n)}function Ce(t){switch(t.length){case 0:return Rt.trackingDerivation;case 1:return gn(t[0]);case 2:return gn(t[0],t[1])}}function Re(t,e){void 0===e&&(e=void 0),Bt();try{return t.apply(e)}finally{Ut()}}function Ie(t,e,n){return 1===arguments.length||e&&"object"==typeof e?ze(t,e):Le(t,e,n||{})}function Le(t,e,n){var r;"number"==typeof n.timeout&&(r=setTimeout((function(){if(!i[_].isDisposed){i();var t=new Error("WHEN_TIMEOUT");if(!n.onError)throw t;n.onError(t)}}),n.timeout)),n.name=n.name||"When@"+u();var o=mt(n.name+"-effect",e),i=oe((function(e){t()&&(e.dispose(),r&&clearTimeout(r),o())}),n);return i}function ze(t,e){var n,r=new Promise((function(r,o){var i=Le(t,r,P(P({},e),{onError:o}));n=function(){i(),o("WHEN_CANCELLED")}}));return r.cancel=n,r}function Be(t){return t[_]}function Ue(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t}var Fe={has:function(t,e){if(e===_||"constructor"===e||e===T)return!0;var n=Be(t);return Ue(e)?n.has(e):e in t},get:function(t,e){if(e===_||"constructor"===e||e===T)return t[e];var n=Be(t),r=n.values.get(e);if(r instanceof w){var o=r.get();return void 0===o&&n.has(e),o}return Ue(e)&&n.has(e),t[e]},set:function(t,e,n){return!!Ue(e)&&(Ae(t,e,n),!0)},deleteProperty:function(t,e){return!!Ue(e)&&(Be(t).remove(e),!0)},ownKeys:function(t){return Be(t).keysAtom.reportObserved(),Reflect.ownKeys(t)},preventExtensions:function(t){return a("Dynamic observable objects cannot be frozen"),!1}};function He(t){var e=new Proxy(t,Fe);return t[_].proxy=e,e}function Xe(t){return void 0!==t.interceptors&&t.interceptors.length>0}function Ge(t,e){var n=t.interceptors||(t.interceptors=[]);return n.push(e),s((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function Ye(t,e){var n=ft();try{for(var r=D(t.interceptors||[]),o=0,i=r.length;o<i&&(c(!(e=r[o](e))||e.type,"Intercept handlers should return nothing or a change object"),e);o++);return e}finally{pt(n)}}function Ve(t){return void 0!==t.changeListeners&&t.changeListeners.length>0}function We(t,e){var n=t.changeListeners||(t.changeListeners=[]);return n.push(e),s((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function Ke(t,e){var n=ft(),r=t.changeListeners;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](e);pt(n)}}var $e={get:function(t,e){return e===_?t[_]:"length"===e?t[_].getArrayLength():"number"==typeof e?Je.get.call(t,e):"string"!=typeof e||isNaN(e)?Je.hasOwnProperty(e)?Je[e]:t[e]:Je.get.call(t,parseInt(e))},set:function(t,e,n){return"length"===e&&t[_].setArrayLength(n),"number"==typeof e&&Je.set.call(t,e,n),"symbol"==typeof e||isNaN(e)?t[e]=n:Je.set.call(t,parseInt(e),n),!0},preventExtensions:function(t){return a("Observable arrays cannot be frozen"),!1}};function Ze(t,e,n,r){void 0===n&&(n="ObservableArray@"+u()),void 0===r&&(r=!1);var o,i,a,c=new qe(n,e,r);o=c.values,i=_,a=c,Object.defineProperty(o,i,{enumerable:!1,writable:!1,configurable:!0,value:a});var s=new Proxy(c.values,$e);if(c.proxy=s,t&&t.length){var l=xt(!0);c.spliceWithArray(0,0,t),Et(l)}return s}var qe=function(){function t(t,e,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new w(t||"ObservableArray@"+u()),this.enhancer=function(n,r){return e(n,r,t+"[..]")}}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.dehanceValues=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.prototype.intercept=function(t){return Ge(this,t)},t.prototype.observe=function(t,e){return void 0===e&&(e=!1),e&&t({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),We(this,t)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(t){if("number"!=typeof t||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t!==e)if(t>e){for(var n=new Array(t-e),r=0;r<t-e;r++)n[r]=void 0;this.spliceWithArray(e,0,n)}else this.spliceWithArray(t,e-t)},t.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=e},t.prototype.spliceWithArray=function(t,e,n){var r=this;at(this.atom);var i=this.values.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),e=1===arguments.length?i-t:null==e?0:Math.max(0,Math.min(e,i-t)),void 0===n&&(n=o),Xe(this)){var u=Ye(this,{object:this.proxy,type:"splice",index:t,removedCount:e,added:n});if(!u)return o;e=u.removedCount,n=u.added}n=0===n.length?n:n.map((function(t){return r.enhancer(t,void 0)}));var a=this.spliceItemsIntoValues(t,e,n);return 0===e&&0===n.length||this.notifyArraySplice(t,n,a),this.dehanceValues(a)},t.prototype.spliceItemsIntoValues=function(t,e,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,D([t,e],n));var o=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(n,this.values.slice(t+e)),o},t.prototype.notifyArrayChildUpdate=function(t,e,n){var r=!this.owned&&!1,o=Ve(this),i=o||r?{object:this.proxy,type:"update",index:t,newValue:e,oldValue:n}:null;this.atom.reportChanged(),o&&Ke(this,i)},t.prototype.notifyArraySplice=function(t,e,n){var r=!this.owned&&!1,o=Ve(this),i=o||r?{object:this.proxy,type:"splice",index:t,removed:n,added:e,removedCount:n.length,addedCount:e.length}:null;this.atom.reportChanged(),o&&Ke(this,i)},t}(),Je={intercept:function(t){return this[_].intercept(t)},observe:function(t,e){return void 0===e&&(e=!1),this[_].observe(t,e)},clear:function(){return this.splice(0)},replace:function(t){var e=this[_];return e.spliceWithArray(0,e.values.length,t)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this[_];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray(t);case 2:return o.spliceWithArray(t,e)}return o.spliceWithArray(t,e,n)},spliceWithArray:function(t,e,n){return this[_].spliceWithArray(t,e,n)},push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[_];return n.spliceWithArray(n.values.length,0,t),n.values.length},pop:function(){return this.splice(Math.max(this[_].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[_];return n.spliceWithArray(0,0,t),n.values.length},reverse:function(){var t=this.slice();return t.reverse.apply(t,arguments)},sort:function(t){var e=this.slice();return e.sort.apply(e,arguments)},remove:function(t){var e=this[_],n=e.dehanceValues(e.values).indexOf(t);return n>-1&&(this.splice(n,1),!0)},get:function(t){var e=this[_];if(e&&t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t])},set:function(t,e){var n=this[_],r=n.values;if(t<r.length){at(n.atom);var o=r[t];if(Xe(n)){var i=Ye(n,{type:"update",object:n.proxy,index:t,newValue:e});if(!i)return;e=i.newValue}(e=n.enhancer(e,o))!==o&&(r[t]=e,n.notifyArrayChildUpdate(t,e,o))}else{if(t!==r.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+r.length);n.spliceWithArray(t,0,[e])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(t){"function"==typeof Array.prototype[t]&&(Je[t]=function(){var e=this[_];e.atom.reportObserved();var n=e.dehanceValues(e.values);return n[t].apply(n,arguments)})})),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach((function(t){"function"==typeof Array.prototype[t]&&(Je[t]=function(e,n){var r=this,o=this[_];return o.atom.reportObserved(),o.dehanceValues(o.values)[t]((function(t,o){return e.call(n,t,o,r)}),n)})})),["reduce","reduceRight"].forEach((function(t){Je[t]=function(){var e=this,n=this[_];n.atom.reportObserved();var r=arguments[0];return arguments[0]=function(t,o,i){return o=n.dehanceValue(o),r(t,o,i,e)},n.values[t].apply(n.values,arguments)}}));var Qe,tn=h("ObservableArrayAdministration",qe);function en(t){return f(t)&&tn(t[_])}var nn,rn={},on=function(){function t(t,e,n){if(void 0===e&&(e=B),void 0===n&&(n="ObservableMap@"+u()),this.enhancer=e,this.name=n,this[Qe]=rn,this._keysAtom=x(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(t)}return t.prototype._has=function(t){return this._data.has(t)},t.prototype.has=function(t){var e=this;if(!Rt.trackingDerivation)return this._has(t);var n=this._hasMap.get(t);if(!n){var r=n=new St(this._has(t),U,this.name+"."+b(t)+"?",!1);this._hasMap.set(t,r),ce(r,(function(){return e._hasMap.delete(t)}))}return n.get()},t.prototype.set=function(t,e){var n=this._has(t);if(Xe(this)){var r=Ye(this,{type:n?"update":"add",object:this,newValue:e,name:t});if(!r)return this;e=r.newValue}return n?this._updateValue(t,e):this._addValue(t,e),this},t.prototype.delete=function(t){var e=this;if(at(this._keysAtom),Xe(this)&&!(r=Ye(this,{type:"delete",object:this,name:t})))return!1;if(this._has(t)){var n=Ve(this),r=n?{type:"delete",object:this,oldValue:this._data.get(t).value,name:t}:null;return Re((function(){e._keysAtom.reportChanged(),e._updateHasMapEntry(t,!1),e._data.get(t).setNewValue(void 0),e._data.delete(t)})),n&&Ke(this,r),!0}return!1},t.prototype._updateHasMapEntry=function(t,e){var n=this._hasMap.get(t);n&&n.setNewValue(e)},t.prototype._updateValue=function(t,e){var n=this._data.get(t);if((e=n.prepareNewValue(e))!==Rt.UNCHANGED){var r=Ve(this),o=r?{type:"update",object:this,oldValue:n.value,name:t,newValue:e}:null;n.setNewValue(e),r&&Ke(this,o)}},t.prototype._addValue=function(t,e){var n=this;at(this._keysAtom),Re((function(){var r=new St(e,n.enhancer,n.name+"."+b(t),!1);n._data.set(t,r),e=r.value,n._updateHasMapEntry(t,!0),n._keysAtom.reportChanged()}));var r=Ve(this),o=r?{type:"add",object:this,name:t,newValue:e}:null;r&&Ke(this,o)},t.prototype.get=function(t){return this.has(t)?this.dehanceValue(this._data.get(t).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},t.prototype.values=function(){var t=this,e=this.keys();return xn({next:function(){var n=e.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:t.get(o)}}})},t.prototype.entries=function(){var t=this,e=this.keys();return xn({next:function(){var n=e.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:[o,t.get(o)]}}})},t.prototype[(Qe=_,Symbol.iterator)]=function(){return this.entries()},t.prototype.forEach=function(t,e){var n,r;try{for(var o=A(this),i=o.next();!i.done;i=o.next()){var u=k(i.value,2),a=u[0],c=u[1];t.call(e,c,a,this)}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.merge=function(t){var e=this;return un(t)&&(t=t.toJS()),Re((function(){var n=xt(!0);try{p(t)?g(t).forEach((function(n){return e.set(n,t[n])})):Array.isArray(t)?t.forEach((function(t){var n=k(t,2),r=n[0],o=n[1];return e.set(r,o)})):y(t)?(t.constructor!==Map&&a("Cannot initialize from classes that inherit from Map: "+t.constructor.name),t.forEach((function(t,n){return e.set(n,t)}))):null!=t&&a("Cannot initialize map from "+t)}finally{Et(n)}})),this},t.prototype.clear=function(){var t=this;Re((function(){lt((function(){var e,n;try{for(var r=A(t.keys()),o=r.next();!o.done;o=r.next()){var i=o.value;t.delete(i)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}))}))},t.prototype.replace=function(t){var e=this;return Re((function(){var n,r,o,i,u=function(t){if(y(t)||un(t))return t;if(Array.isArray(t))return new Map(t);if(p(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}return a("Cannot convert to map from '"+t+"'")}(t),c=new Map,s=!1;try{for(var l=A(e._data.keys()),f=l.next();!f.done;f=l.next()){var d=f.value;if(!u.has(d))if(e.delete(d))s=!0;else{var h=e._data.get(d);c.set(d,h)}}}catch(t){n={error:t}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}try{for(var v=A(u.entries()),g=v.next();!g.done;g=v.next()){var b=k(g.value,2),m=(d=b[0],h=b[1],e._data.has(d));if(e.set(d,h),e._data.has(d)){var O=e._data.get(d);c.set(d,O),m||(s=!0)}}}catch(t){o={error:t}}finally{try{g&&!g.done&&(i=v.return)&&i.call(v)}finally{if(o)throw o.error}}if(!s)if(e._data.size!==c.size)e._keysAtom.reportChanged();else for(var _=e._data.keys(),w=c.keys(),j=_.next(),x=w.next();!j.done;){if(j.value!==x.value){e._keysAtom.reportChanged();break}j=_.next(),x=w.next()}e._data=c})),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var t,e,n={};try{for(var r=A(this),o=r.next();!o.done;o=r.next()){var i=k(o.value,2),u=i[0],a=i[1];n["symbol"==typeof u?u:b(u)]=a}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.toJS=function(){return new Map(this)},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var t=this;return this.name+"[{ "+Array.from(this.keys()).map((function(e){return b(e)+": "+t.get(e)})).join(", ")+" }]"},t.prototype.observe=function(t,e){return We(this,t)},t.prototype.intercept=function(t){return Ge(this,t)},t}(),un=h("ObservableMap",on),an={},cn=function(){function t(t,e,n){if(void 0===e&&(e=B),void 0===n&&(n="ObservableSet@"+u()),this.name=n,this[nn]=an,this._data=new Set,this._atom=x(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(t,r){return e(t,r,n)},t&&this.replace(t)}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.clear=function(){var t=this;Re((function(){lt((function(){var e,n;try{for(var r=A(t._data.values()),o=r.next();!o.done;o=r.next()){var i=o.value;t.delete(i)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}))}))},t.prototype.forEach=function(t,e){var n,r;try{for(var o=A(this),i=o.next();!i.done;i=o.next()){var u=i.value;t.call(e,u,u,this)}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.add=function(t){var e=this;if(at(this._atom),Xe(this)&&!(r=Ye(this,{type:"add",object:this,newValue:t})))return this;if(!this.has(t)){Re((function(){e._data.add(e.enhancer(t,void 0)),e._atom.reportChanged()}));var n=Ve(this),r=n?{type:"add",object:this,newValue:t}:null;n&&Ke(this,r)}return this},t.prototype.delete=function(t){var e=this;if(Xe(this)&&!(r=Ye(this,{type:"delete",object:this,oldValue:t})))return!1;if(this.has(t)){var n=Ve(this),r=n?{type:"delete",object:this,oldValue:t}:null;return Re((function(){e._atom.reportChanged(),e._data.delete(t)})),n&&Ke(this,r),!0}return!1},t.prototype.has=function(t){return this._atom.reportObserved(),this._data.has(this.dehanceValue(t))},t.prototype.entries=function(){var t=0,e=Array.from(this.keys()),n=Array.from(this.values());return xn({next:function(){var r=t;return t+=1,r<n.length?{value:[e[r],n[r]],done:!1}:{done:!0}}})},t.prototype.keys=function(){return this.values()},t.prototype.values=function(){this._atom.reportObserved();var t=this,e=0,n=Array.from(this._data.values());return xn({next:function(){return e<n.length?{value:t.dehanceValue(n[e++]),done:!1}:{done:!0}}})},t.prototype.replace=function(t){var e=this;return sn(t)&&(t=t.toJS()),Re((function(){var n=xt(!0);try{Array.isArray(t)||v(t)?(e.clear(),t.forEach((function(t){return e.add(t)}))):null!=t&&a("Cannot initialize set from "+t)}finally{Et(n)}})),this},t.prototype.observe=function(t,e){return We(this,t)},t.prototype.intercept=function(t){return Ge(this,t)},t.prototype.toJS=function(){return new Set(this)},t.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},t.prototype[(nn=_,Symbol.iterator)]=function(){return this.values()},t}(),sn=h("ObservableSet",cn),ln=function(){function t(t,e,n,r){void 0===e&&(e=new Map),this.target=t,this.values=e,this.name=n,this.defaultEnhancer=r,this.keysAtom=new w(n+".keys")}return t.prototype.read=function(t){return this.values.get(t).get()},t.prototype.write=function(t,e){var n=this.target,r=this.values.get(t);if(r instanceof At)r.set(e);else{if(Xe(this)){if(!(i=Ye(this,{type:"update",object:this.proxy||n,name:t,newValue:e})))return;e=i.newValue}if((e=r.prepareNewValue(e))!==Rt.UNCHANGED){var o=Ve(this),i=o?{type:"update",object:this.proxy||n,oldValue:r.value,name:t,newValue:e}:null;r.setNewValue(e),o&&Ke(this,i)}}},t.prototype.has=function(t){var e=this.pendingKeys||(this.pendingKeys=new Map),n=e.get(t);if(n)return n.get();var r=!!this.values.get(t);return n=new St(r,U,this.name+"."+b(t)+"?",!1),e.set(t,n),n.get()},t.prototype.addObservableProp=function(t,e,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(Xe(this)){var o=Ye(this,{object:this.proxy||r,name:t,type:"add",newValue:e});if(!o)return;e=o.newValue}var i=new St(e,n,this.name+"."+b(t),!1);this.values.set(t,i),e=i.value,Object.defineProperty(r,t,function(t){return pn[t]||(pn[t]={configurable:!0,enumerable:!0,get:function(){return this[_].read(t)},set:function(e){this[_].write(t,e)}})}(t)),this.notifyPropertyAddition(t,e)},t.prototype.addComputedProp=function(t,e,n){var r,o,i,u=this.target;n.name=n.name||this.name+"."+b(e),this.values.set(e,new At(n)),(t===u||(r=t,o=e,!(i=Object.getOwnPropertyDescriptor(r,o))||!1!==i.configurable&&!1!==i.writable))&&Object.defineProperty(t,e,function(t){return dn[t]||(dn[t]={configurable:Rt.computedConfigurable,enumerable:!1,get:function(){return hn(this).read(t)},set:function(e){hn(this).write(t,e)}})}(e))},t.prototype.remove=function(t){if(this.values.has(t)){var e=this.target;if(Xe(this)&&!(u=Ye(this,{object:this.proxy||e,name:t,type:"remove"})))return;try{Bt();var n=Ve(this),r=this.values.get(t),o=r&&r.get();if(r&&r.set(void 0),this.keysAtom.reportChanged(),this.values.delete(t),this.pendingKeys){var i=this.pendingKeys.get(t);i&&i.set(!1)}delete this.target[t];var u=n?{type:"remove",object:this.proxy||e,oldValue:o,name:t}:null;n&&Ke(this,u)}finally{Ut()}}},t.prototype.illegalAccess=function(t,e){},t.prototype.observe=function(t,e){return We(this,t)},t.prototype.intercept=function(t){return Ge(this,t)},t.prototype.notifyPropertyAddition=function(t,e){var n=Ve(this),r=n?{type:"add",object:this.proxy||this.target,name:t,newValue:e}:null;if(n&&Ke(this,r),this.pendingKeys){var o=this.pendingKeys.get(t);o&&o.set(!0)}this.keysAtom.reportChanged()},t.prototype.getKeys=function(){var t,e;this.keysAtom.reportObserved();var n=[];try{for(var r=A(this.values),o=r.next();!o.done;o=r.next()){var i=k(o.value,2),u=i[0];i[1]instanceof St&&n.push(u)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t}();function fn(t,e,n){if(void 0===e&&(e=""),void 0===n&&(n=B),Object.prototype.hasOwnProperty.call(t,_))return t[_];p(t)||(e=(t.constructor.name||"ObservableObject")+"@"+u()),e||(e="ObservableObject@"+u());var r=new ln(t,new Map,b(e),n);return d(t,_,r),r}var pn=Object.create(null),dn=Object.create(null);function hn(t){var e=t[_];return e||(I(t),t[_])}var yn=h("ObservableObjectAdministration",ln);function vn(t){return!!f(t)&&(I(t),yn(t[_]))}function gn(t,e){if("object"==typeof t&&null!==t){if(en(t))return void 0!==e&&a(!1),t[_].atom;if(sn(t))return t[_];if(un(t)){var n=t;return void 0===e?n._keysAtom:((r=n._data.get(e)||n._hasMap.get(e))||a(!1),r)}var r;if(I(t),e&&!t[_]&&t[e],vn(t))return e?((r=t[_].values.get(e))||a(!1),r):a(!1);if(j(t)||kt(t)||Kt(t))return t}else if("function"==typeof t&&Kt(t[_]))return t[_];return a(!1)}function bn(t,e){return t||a("Expecting some object"),void 0!==e?bn(gn(t,e)):j(t)||kt(t)||Kt(t)||un(t)||sn(t)?t:(I(t),t[_]?t[_]:void a(!1))}var mn=Object.prototype.toString;function On(t,e,n){return void 0===n&&(n=-1),_n(t,e,n)}function _n(t,e,n,r,o){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;if("function"!==i&&"object"!==i&&"object"!=typeof e)return!1;var u=mn.call(t);if(u!==mn.call(e))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++}t=wn(t),e=wn(e);var a="[object Array]"===u;if(!a){if("object"!=typeof t||"object"!=typeof e)return!1;var c=t.constructor,s=e.constructor;if(c!==s&&!("function"==typeof c&&c instanceof c&&"function"==typeof s&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}if(0===n)return!1;n<0&&(n=-1),o=o||[];for(var l=(r=r||[]).length;l--;)if(r[l]===t)return o[l]===e;if(r.push(t),o.push(e),a){if((l=t.length)!==e.length)return!1;for(;l--;)if(!_n(t[l],e[l],n-1,r,o))return!1}else{var f=Object.keys(t),p=void 0;if(l=f.length,Object.keys(e).length!==l)return!1;for(;l--;)if(!jn(e,p=f[l])||!_n(t[p],e[p],n-1,r,o))return!1}return r.pop(),o.pop(),!0}function wn(t){return en(t)?t.slice():y(t)||un(t)||v(t)||sn(t)?Array.from(t.entries()):t}function jn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function xn(t){return t[Symbol.iterator]=En,t}function En(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Zt,extras:{getDebugName:function(t,e){return(void 0!==e?gn(t,e):vn(t)||un(t)||sn(t)?bn(t):gn(t)).name}},$mobx:_})}).call(this,n(163),n(68))},function(t,e,n){var r=n(113),o=n(42),i=n(179);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(t,e,n){"use strict";var r=n(41),o=n(100),i=n(80),u=n(58),a=n(116),c="Array Iterator",s=u.set,l=u.getterFor(c);t.exports=a(Array,"Array",(function(t,e){s(this,{type:c,target:r(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){"use strict";var r=n(16),o=n(7),i=n(46),u=n(76),a=n(34),c=n(15),s=n(71),l=n(36),f=n(108),p=n(18),d=n(35),h=n(96),y=n(30),v=n(33),g=n(54),b=n(87),m=n(32),O=n(40),_=n(41),w=n(86),j=n(39),x=n(69),E=n(60),S=n(77),P=n(74),A=n(139),k=n(112),D=n(50),T=n(38),M=n(84),N=n(98),C=n(42),R=n(89),I=n(93),L=n(72),z=n(90),B=n(28),U=n(140),F=n(141),H=n(78),X=n(58),G=n(79).forEach,Y=I("hidden"),V="Symbol",W=B("toPrimitive"),K=X.set,$=X.getterFor(V),Z=Object.prototype,q=o.Symbol,J=q&&q.prototype,Q=o.TypeError,tt=o.QObject,et=i("JSON","stringify"),nt=D.f,rt=T.f,ot=A.f,it=M.f,ut=c([].push),at=R("symbols"),ct=R("op-symbols"),st=R("string-to-symbol-registry"),lt=R("symbol-to-string-registry"),ft=R("wks"),pt=!tt||!tt.prototype||!tt.prototype.findChild,dt=l&&p((function(){return 7!=E(rt({},"a",{get:function(){return rt(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=nt(Z,e);r&&delete Z[e],rt(t,e,n),r&&t!==Z&&rt(Z,e,r)}:rt,ht=function(t,e){var n=at[t]=E(J);return K(n,{type:V,tag:t,description:e}),l||(n.description=e),n},yt=function(t,e,n){t===Z&&yt(ct,e,n),m(t);var r=w(e);return m(n),d(at,r)?(n.enumerable?(d(t,Y)&&t[Y][r]&&(t[Y][r]=!1),n=E(n,{enumerable:x(0,!1)})):(d(t,Y)||rt(t,Y,x(1,{})),t[Y][r]=!0),dt(t,r,n)):rt(t,r,n)},vt=function(t,e){m(t);var n=_(e),r=S(n).concat(Ot(n));return G(r,(function(e){l&&!a(gt,n,e)||yt(t,e,n[e])})),t},gt=function(t){var e=w(t),n=a(it,this,e);return!(this===Z&&d(at,e)&&!d(ct,e))&&(!(n||!d(this,e)||!d(at,e)||d(this,Y)&&this[Y][e])||n)},bt=function(t,e){var n=_(t),r=w(e);if(n!==Z||!d(at,r)||d(ct,r)){var o=nt(n,r);return!o||!d(at,r)||d(n,Y)&&n[Y][r]||(o.enumerable=!0),o}},mt=function(t){var e=ot(_(t)),n=[];return G(e,(function(t){d(at,t)||d(L,t)||ut(n,t)})),n},Ot=function(t){var e=t===Z,n=ot(e?ct:_(t)),r=[];return G(n,(function(t){!d(at,t)||e&&!d(Z,t)||ut(r,at[t])})),r};if(f||(q=function(){if(g(J,this))throw Q("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?j(arguments[0]):void 0,e=z(t),n=function(t){this===Z&&a(n,ct,t),d(this,Y)&&d(this[Y],e)&&(this[Y][e]=!1),dt(this,e,x(1,t))};return l&&pt&&dt(Z,e,{configurable:!0,set:n}),ht(e,t)},C(J=q.prototype,"toString",(function(){return $(this).tag})),C(q,"withoutSetter",(function(t){return ht(z(t),t)})),M.f=gt,T.f=yt,D.f=bt,P.f=A.f=mt,k.f=Ot,U.f=function(t){return ht(B(t),t)},l&&(rt(J,"description",{configurable:!0,get:function(){return $(this).description}}),s||C(Z,"propertyIsEnumerable",gt,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:q}),G(S(ft),(function(t){F(t)})),r({target:V,stat:!0,forced:!f},{for:function(t){var e=j(t);if(d(st,e))return st[e];var n=q(e);return st[e]=n,lt[n]=e,n},keyFor:function(t){if(!b(t))throw Q(t+" is not a symbol");if(d(lt,t))return lt[t]},useSetter:function(){pt=!0},useSimple:function(){pt=!1}}),r({target:"Object",stat:!0,forced:!f,sham:!l},{create:function(t,e){return void 0===e?E(t):vt(E(t),e)},defineProperty:yt,defineProperties:vt,getOwnPropertyDescriptor:bt}),r({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:mt,getOwnPropertySymbols:Ot}),r({target:"Object",stat:!0,forced:p((function(){k.f(1)}))},{getOwnPropertySymbols:function(t){return k.f(O(t))}}),et&&r({target:"JSON",stat:!0,forced:!f||p((function(){var t=q();return"[null]"!=et([t])||"{}"!=et({a:t})||"{}"!=et(Object(t))}))},{stringify:function(t,e,n){var r=N(arguments),o=e;if((v(e)||void 0!==t)&&!b(t))return h(e)||(e=function(t,e){if(y(o)&&(e=a(o,this,t,e)),!b(e))return e}),r[1]=e,u(et,null,r)}}),!J[W]){var _t=J.valueOf;C(J,W,(function(t){return a(_t,this)}))}H(q,V),L[Y]=!0},function(t,e,n){var r=n(7),o=n(152),i=n(153),u=n(3),a=n(57),c=n(28),s=c("iterator"),l=c("toStringTag"),f=u.values,p=function(t,e){if(t){if(t[s]!==f)try{a(t,s,f)}catch(e){t[s]=f}if(t[l]||a(t,l,e),o[e])for(var n in u)if(t[n]!==u[n])try{a(t,n,u[n])}catch(e){t[n]=u[n]}}};for(var d in o)p(r[d]&&r[d].prototype,d);p(i,"DOMTokenList")},function(t,e,n){"use strict";var r=n(151).charAt,o=n(39),i=n(58),u=n(116),a="String Iterator",c=i.set,s=i.getterFor(a);u(String,"String",(function(t){c(this,{type:a,string:o(t),index:0})}),(function(){var t,e=s(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n(68))},function(t,e,n){"use strict";var r=n(16),o=n(36),i=n(7),u=n(15),a=n(35),c=n(30),s=n(54),l=n(39),f=n(38).f,p=n(134),d=i.Symbol,h=d&&d.prototype;if(o&&c(d)&&(!("description"in h)||void 0!==d().description)){var y={},v=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=s(h,this)?new d(t):void 0===t?d():d(t);return""===t&&(y[e]=!0),e};p(v,d),v.prototype=h,h.constructor=v;var g="Symbol(test)"==String(d("test")),b=u(h.toString),m=u(h.valueOf),O=/^Symbol\((.*)\)[^)]+$/,_=u("".replace),w=u("".slice);f(h,"description",{configurable:!0,get:function(){var t=m(this),e=b(t);if(a(y,t))return"";var n=g?w(e,7,-1):_(e,O,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:v})}},function(t,e,n){n(141)("iterator")},function(t,e,n){"use strict";n.d(e,"a",(function(){return u.a})),n.d(e,"c",(function(){return u.e})),n.d(e,"h",(function(){return O})),n.d(e,"i",(function(){return g})),n.d(e,"j",(function(){return y})),n.d(e,"b",(function(){return D})),n.d(e,"e",(function(){return C})),n.d(e,"f",(function(){return T})),n.d(e,"g",(function(){return at}));var r,o,i,u=n(0),a=0,c=[],s=u.i.__b,l=u.i.__r,f=u.i.diffed,p=u.i.__c,d=u.i.unmount;function h(t,e){u.i.__h&&u.i.__h(o,t,a||e),a=0;var n=o.__H||(o.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function y(t){return a=1,v(P,t)}function v(t,e,n){var i=h(r++,2);return i.t=t,i.__c||(i.__=[n?n(e):P(void 0,e),function(t){var e=i.t(i.__[0],t);i.__[0]!==e&&(i.__=[e,i.__[1]],i.__c.setState({}))}],i.__c=o),i.__}function g(t,e){var n=h(r++,3);!u.i.__s&&S(n.__H,e)&&(n.__=t,n.__H=e,o.__H.__h.push(n))}function b(t,e){var n=h(r++,4);!u.i.__s&&S(n.__H,e)&&(n.__=t,n.__H=e,o.__h.push(n))}function m(t,e){var n=h(r++,7);return S(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function O(t,e){return a=8,m((function(){return t}),e)}function _(){var t;for(c.sort((function(t,e){return t.__v.__b-e.__v.__b}));t=c.pop();)if(t.__P)try{t.__H.__h.forEach(x),t.__H.__h.forEach(E),t.__H.__h=[]}catch(e){t.__H.__h=[],u.i.__e(e,t.__v)}}u.i.__b=function(t){o=null,s&&s(t)},u.i.__r=function(t){l&&l(t),r=0;var e=(o=t.__c).__H;e&&(e.__h.forEach(x),e.__h.forEach(E),e.__h=[])},u.i.diffed=function(t){f&&f(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(1!==c.push(e)&&i===u.i.requestAnimationFrame||((i=u.i.requestAnimationFrame)||j)(_)),o=null},u.i.__c=function(t,e){e.some((function(t){try{t.__h.forEach(x),t.__h=t.__h.filter((function(t){return!t.__||E(t)}))}catch(n){e.some((function(t){t.__h&&(t.__h=[])})),e=[],u.i.__e(n,t.__v)}})),p&&p(t,e)},u.i.unmount=function(t){d&&d(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach((function(t){try{x(t)}catch(t){e=t}})),e&&u.i.__e(e,n.__v))};var w="function"==typeof requestAnimationFrame;function j(t){var e,n=function(){clearTimeout(r),w&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);w&&(e=requestAnimationFrame(n))}function x(t){var e=o,n=t.__c;"function"==typeof n&&(t.__c=void 0,n()),o=e}function E(t){var e=o;t.__c=t.__(),o=e}function S(t,e){return!t||t.length!==e.length||e.some((function(e,n){return e!==t[n]}))}function P(t,e){return"function"==typeof e?e(t):e}function A(t,e){for(var n in e)t[n]=e[n];return t}function k(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}function D(t){this.props=t}function T(t,e){function n(t){var n=this.props.ref,r=n==t.ref;return!r&&n&&(n.call?n(null):n.current=null),e?!e(this.props,t)||!r:k(this.props,t)}function r(e){return this.shouldComponentUpdate=n,Object(u.e)(t,e)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(D.prototype=new u.a).isPureReactComponent=!0,D.prototype.shouldComponentUpdate=function(t,e){return k(this.props,t)||k(this.state,e)};var M=u.i.__b;u.i.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),M&&M(t)};var N="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function C(t){function e(e,n){var r=A({},e);return delete r.ref,t(r,!(n=e.ref||n)||"object"==typeof n&&!("current"in n)?null:n)}return e.$$typeof=N,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var R=function(t,e){return null==t?null:Object(u.k)(Object(u.k)(t).map(e))},I={map:R,forEach:R,count:function(t){return t?Object(u.k)(t).length:0},only:function(t){var e=Object(u.k)(t);if(1!==e.length)throw"Children.only";return e[0]},toArray:u.k},L=u.i.__e;u.i.__e=function(t,e,n){if(t.then)for(var r,o=e;o=o.__;)if((r=o.__c)&&r.__c)return null==e.__e&&(e.__e=n.__e,e.__k=n.__k),r.__c(t,e);L(t,e,n)};var z=u.i.unmount;function B(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(t){"function"==typeof t.__c&&t.__c()})),t.__c.__H=null),null!=(t=A({},t)).__c&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return B(t,e,n)}))),t}function U(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return U(t,e,n)})),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function F(){this.__u=0,this.t=null,this.__b=null}function H(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function X(){this.u=null,this.o=null}u.i.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&!0===t.__h&&(t.type=null),z&&z(t)},(F.prototype=new u.a).__c=function(t,e){var n=e.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=H(r.__v),i=!1,u=function(){i||(i=!0,n.__R=null,o?o(a):a())};n.__R=u;var a=function(){if(!--r.__u){if(r.state.__e){var t=r.state.__e;r.__v.__k[0]=U(t,t.__c.__P,t.__c.__O)}var e;for(r.setState({__e:r.__b=null});e=r.t.pop();)e.forceUpdate()}},c=!0===e.__h;r.__u++||c||r.setState({__e:r.__b=r.__v.__k[0]}),t.then(u,u)},F.prototype.componentWillUnmount=function(){this.t=[]},F.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=B(this.__b,n,r.__O=r.__P)}this.__b=null}var o=e.__e&&Object(u.e)(u.b,null,t.fallback);return o&&(o.__h=null),[Object(u.e)(u.b,null,e.__e?null:t.children),o]};var G=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function Y(t){return this.getChildContext=function(){return t.context},t.children}function V(t){var e=this,n=t.i;e.componentWillUnmount=function(){Object(u.j)(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(t){this.childNodes.push(t),e.i.appendChild(t)},insertBefore:function(t,n){this.childNodes.push(t),e.i.appendChild(t)},removeChild:function(t){this.childNodes.splice(this.childNodes.indexOf(t)>>>1,1),e.i.removeChild(t)}}),Object(u.j)(Object(u.e)(Y,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}(X.prototype=new u.a).__e=function(t){var e=this,n=H(e.__v),r=e.o.get(t);return r[0]++,function(o){var i=function(){e.props.revealOrder?(r.push(o),G(e,t,r)):o()};n?n(i):i()}},X.prototype.render=function(t){this.u=null,this.o=new Map;var e=Object(u.k)(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},X.prototype.componentDidUpdate=X.prototype.componentDidMount=function(){var t=this;this.o.forEach((function(e,n){G(t,n,e)}))};var W="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,K=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,$="undefined"!=typeof document,Z=function(t){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(t)};u.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(t){Object.defineProperty(u.a.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})}));var q=u.i.event;function J(){}function Q(){return this.cancelBubble}function tt(){return this.defaultPrevented}u.i.event=function(t){return q&&(t=q(t)),t.persist=J,t.isPropagationStopped=Q,t.isDefaultPrevented=tt,t.nativeEvent=t};var et,nt={configurable:!0,get:function(){return this.class}},rt=u.i.vnode;u.i.vnode=function(t){var e=t.type,n=t.props,r=n;if("string"==typeof e){var o=-1===e.indexOf("-");for(var i in r={},n){var a=n[i];$&&"children"===i&&"noscript"===e||"value"===i&&"defaultValue"in n&&null==a||("defaultValue"===i&&"value"in n&&null==n.value?i="value":"download"===i&&!0===a?a="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+e)&&!Z(n.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():o&&K.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===a&&(a=void 0),r[i]=a)}"select"==e&&r.multiple&&Array.isArray(r.value)&&(r.value=Object(u.k)(n.children).forEach((function(t){t.props.selected=-1!=r.value.indexOf(t.props.value)}))),"select"==e&&null!=r.defaultValue&&(r.value=Object(u.k)(n.children).forEach((function(t){t.props.selected=r.multiple?-1!=r.defaultValue.indexOf(t.props.value):r.defaultValue==t.props.value}))),t.props=r,n.class!=n.className&&(nt.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",nt))}t.$$typeof=W,rt&&rt(t)};var ot=u.i.__r;u.i.__r=function(t){ot&&ot(t),et=t.__c};var it={ReactCurrentDispatcher:{current:{readContext:function(t){return et.__n[t.__c].props.value}}}};function ut(t){return!!t&&t.$$typeof===W}var at=function(t,e){return t(e)},ct=u.b,st={useState:y,useReducer:v,useEffect:g,useLayoutEffect:b,useRef:function(t){return a=5,m((function(){return{current:t}}),[])},useImperativeHandle:function(t,e,n){a=6,b((function(){"function"==typeof t?t(e()):t&&(t.current=e())}),null==n?n:n.concat(t))},useMemo:m,useCallback:O,useContext:function(t){var e=o.context[t.__c],n=h(r++,9);return n.c=t,e?(null==n.__&&(n.__=!0,e.sub(o)),e.props.value):t.__},useDebugValue:function(t,e){u.i.useDebugValue&&u.i.useDebugValue(e?e(t):t)},version:"17.0.2",Children:I,render:function(t,e,n){return null==e.__k&&(e.textContent=""),Object(u.j)(t,e),"function"==typeof n&&n(),t?t.__c:null},hydrate:function(t,e,n){return Object(u.h)(t,e),"function"==typeof n&&n(),t?t.__c:null},unmountComponentAtNode:function(t){return!!t.__k&&(Object(u.j)(null,t),!0)},createPortal:function(t,e){return Object(u.e)(V,{__v:t,i:e})},createElement:u.e,createContext:u.d,createFactory:function(t){return u.e.bind(null,t)},cloneElement:function(t){return ut(t)?u.c.apply(null,arguments):t},createRef:u.f,Fragment:u.b,isValidElement:ut,findDOMNode:function(t){return t&&(t.base||1===t.nodeType&&t)||null},Component:u.a,PureComponent:D,memo:T,forwardRef:C,flushSync:function(t,e){return t(e)},unstable_batchedUpdates:at,StrictMode:ct,Suspense:F,SuspenseList:X,lazy:function(t){var e,n,r;function o(o){if(e||(e=t()).then((function(t){n=t.default||t}),(function(t){r=t})),r)throw r;if(!n)throw e;return Object(u.e)(n,o)}return o.displayName="Lazy",o.__f=!0,o},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:it};e.d=st},function(t,e,n){var r=n(7),o=n(152),i=n(153),u=n(187),a=n(57),c=function(t){if(t&&t.forEach!==u)try{a(t,"forEach",u)}catch(e){t.forEach=u}};for(var s in o)o[s]&&c(r[s]&&r[s].prototype);c(i)},function(t,e,n){n(16)({target:"Object",stat:!0},{setPrototypeOf:n(102)})},function(t,e,n){var r=n(16),o=n(18),i=n(40),u=n(101),a=n(143);r({target:"Object",stat:!0,forced:o((function(){u(1)})),sham:!a},{getPrototypeOf:function(t){return u(i(t))}})},function(t,e,n){var r=n(16),o=n(46),i=n(76),u=n(203),a=n(165),c=n(32),s=n(33),l=n(60),f=n(18),p=o("Reflect","construct"),d=Object.prototype,h=[].push,y=f((function(){function t(){}return!(p((function(){}),[],t)instanceof t)})),v=!f((function(){p((function(){}))})),g=y||v;r({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(t,e){a(t),c(e);var n=arguments.length<3?t:a(arguments[2]);if(v&&!y)return p(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return i(h,r,e),new(i(u,t,r))}var o=n.prototype,f=l(s(o)?o:d),g=i(t,f,e);return s(g)?g:f}})},function(t,e){var n=Function.prototype,r=n.bind,o=n.call,i=r&&r.bind(o);t.exports=r?function(t){return t&&i(o,t)}:function(t){return t&&function(){return o.apply(t,arguments)}}},function(t,e,n){var r=n(7),o=n(50).f,i=n(57),u=n(42),a=n(110),c=n(134),s=n(95);t.exports=function(t,e){var n,l,f,p,d,h=t.target,y=t.global,v=t.stat;if(n=y?r:v?r[h]||a(h,{}):(r[h]||{}).prototype)for(l in e){if(p=e[l],f=t.noTargetGet?(d=o(n,l))&&d.value:n[l],!s(y?l:h+(v?".":"#")+l,t.forced)&&void 0!==f){if(typeof p==typeof f)continue;c(p,f)}(t.sham||f&&f.sham)&&i(p,"sham",!0),u(n,l,p,t)}}},function(t,e,n){"use strict";var r=n(16),o=n(7),i=n(96),u=n(99),a=n(33),c=n(75),s=n(45),l=n(41),f=n(63),p=n(28),d=n(81),h=n(98),y=d("slice"),v=p("species"),g=o.Array,b=Math.max;r({target:"Array",proto:!0,forced:!y},{slice:function(t,e){var n,r,o,p=l(this),d=s(p),y=c(t,d),m=c(void 0===e?d:e,d);if(i(p)&&(n=p.constructor,(u(n)&&(n===g||i(n.prototype))||a(n)&&null===(n=n[v]))&&(n=void 0),n===g||void 0===n))return h(p,y,m);for(r=new(void 0===n?g:n)(b(m-y,0)),o=0;y<m;y++,o++)y in p&&f(r,o,p[y]);return r.length=o,r}})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";var r=n(16),o=n(103);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(t,e,n){var r=n(16),o=n(40),i=n(77);r({target:"Object",stat:!0,forced:n(18)((function(){i(1)}))},{keys:function(t){return i(o(t))}})},function(t,e,n){var r=n(36),o=n(73).EXISTS,i=n(15),u=n(38).f,a=Function.prototype,c=i(a.toString),s=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=i(s.exec);r&&!o&&u(a,"name",{configurable:!0,get:function(){try{return l(s,c(this))[1]}catch(t){return""}}})},function(t,e,n){var r=n(16),o=n(18),i=n(41),u=n(50).f,a=n(36),c=o((function(){u(1)}));r({target:"Object",stat:!0,forced:!a||c,sham:!a},{getOwnPropertyDescriptor:function(t,e){return u(i(t),e)}})},function(t,e,n){var r=n(16),o=n(188);r({target:"Array",stat:!0,forced:!n(120)((function(t){Array.from(t)}))},{from:o})},function(t,e,n){"use strict";var r=n(16),o=n(79).filter;r({target:"Array",proto:!0,forced:!n(81)("filter")},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(16),o=n(36),i=n(135),u=n(41),a=n(50),c=n(63);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var e,n,r=u(t),o=a.f,s=i(r),l={},f=0;s.length>f;)void 0!==(n=o(r,e=s[f++]))&&c(l,e,n);return l}})},,function(t,e,n){"use strict";var r=n(16),o=n(7),i=n(18),u=n(96),a=n(33),c=n(40),s=n(45),l=n(63),f=n(115),p=n(81),d=n(28),h=n(70),y=d("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",b=o.TypeError,m=h>=51||!i((function(){var t=[];return t[y]=!1,t.concat()[0]!==t})),O=p("concat"),_=function(t){if(!a(t))return!1;var e=t[y];return void 0!==e?!!e:u(t)};r({target:"Array",proto:!0,forced:!m||!O},{concat:function(t){var e,n,r,o,i,u=c(this),a=f(u,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(_(i=-1===e?u:arguments[e])){if(p+(o=s(i))>v)throw b(g);for(n=0;n<o;n++,p++)n in i&&l(a,p,i[n])}else{if(p>=v)throw b(g);l(a,p++,i)}return a.length=p,a}})},function(t,e,n){var r=n(7),o=n(89),i=n(35),u=n(90),a=n(108),c=n(132),s=o("wks"),l=r.Symbol,f=l&&l.for,p=c?l:l&&l.withoutSetter||u;t.exports=function(t){if(!i(s,t)||!a&&"string"!=typeof s[t]){var e="Symbol."+t;a&&i(l,t)?s[t]=l[t]:s[t]=c&&f?f(e):p(e)}return s[t]}},function(t,e,n){var r=n(16),o=n(202);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(t,e){t.exports=function(t){return"function"==typeof t}},function(t,e,n){"use strict";var r=n(106),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();e.a=i},function(t,e,n){var r=n(7),o=n(33),i=r.String,u=r.TypeError;t.exports=function(t){if(o(t))return t;throw u(i(t)+" is not an object")}},function(t,e,n){var r=n(30);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},function(t,e){var n=Function.prototype.call;t.exports=n.bind?n.bind(n):function(){return n.apply(n,arguments)}},function(t,e,n){var r=n(15),o=n(40),i=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},function(t,e,n){var r=n(18);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){"use strict";var r=n(16),o=n(79).map;r({target:"Array",proto:!0,forced:!n(81)("map")},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(7),o=n(36),i=n(133),u=n(32),a=n(86),c=r.TypeError,s=Object.defineProperty;e.f=o?s:function(t,e,n){if(u(t),e=a(e),u(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(7),o=n(97),i=r.String;t.exports=function(t){if("Symbol"===o(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},function(t,e,n){var r=n(7),o=n(44),i=r.Object;t.exports=function(t){return i(o(t))}},function(t,e,n){var r=n(85),o=n(44);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(7),o=n(30),i=n(35),u=n(57),a=n(110),c=n(92),s=n(58),l=n(73).CONFIGURABLE,f=s.get,p=s.enforce,d=String(String).split("String");(t.exports=function(t,e,n,c){var s,f=!!c&&!!c.unsafe,h=!!c&&!!c.enumerable,y=!!c&&!!c.noTargetGet,v=c&&void 0!==c.name?c.name:e;o(n)&&("Symbol("===String(v).slice(0,7)&&(v="["+String(v).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(n,"name")||l&&n.name!==v)&&u(n,"name",v),(s=p(n)).source||(s.source=d.join("string"==typeof v?v:""))),t!==r?(f?!y&&t[e]&&(h=!0):delete t[e],h?t[e]=n:u(t,e,n)):h?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return o(this)&&f(this).source||c(this)}))},function(t,e,n){"use strict";(function(t){n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return s}));var r=n(10),o=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u};function i(){var t=o(Object(r.j)(0),2)[1];return Object(r.h)((function(){t((function(t){return t+1}))}),[])}function u(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return!e||e===Object.prototype}function a(t){return"function"==typeof Symbol?Symbol.for(t):"__$mobx-react "+t+"__"}var c={};function s(){return"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:c}}).call(this,n(68))},function(t,e,n){var r=n(7).TypeError;t.exports=function(t){if(null==t)throw r("Can't call method on "+t);return t}},function(t,e,n){var r=n(94);t.exports=function(t){return r(t.length)}},function(t,e,n){var r=n(7),o=n(30),i=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t]):r[t]&&r[t][e]}},function(t,e,n){var r=n(16),o=n(34),i=n(33),u=n(32),a=n(204),c=n(50),s=n(101);r({target:"Reflect",stat:!0},{get:function t(e,n){var r,l,f=arguments.length<3?e:arguments[2];return u(e)===f?e[n]:(r=c.f(e,n))?a(r)?r.value:void 0===r.get?void 0:o(r.get,f):i(l=s(e))?t(l,n,f):void 0}})},function(t,n,r){"use strict";(function(t){var o=r(31),i=r(171),u=e&&!e.nodeType&&e,a=u&&"object"==typeof t&&t&&!t.nodeType&&t,c=a&&a.exports===u?o.a.Buffer:void 0,s=(c?c.isBuffer:void 0)||i.a;n.a=s}).call(this,r(122)(t))},function(t,n,r){"use strict";(function(t){var o=r(106),i=e&&!e.nodeType&&e,u=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=u&&u.exports===i&&o.a.process,c=function(){try{var t=u&&u.require&&u.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();n.a=c}).call(this,r(122)(t))},function(t,e,n){var r=n(36),o=n(34),i=n(84),u=n(69),a=n(41),c=n(86),s=n(35),l=n(133),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=a(t),e=c(e),l)try{return f(t,e)}catch(t){}if(s(t,e))return u(!o(i.f,t,e),t[e])}},function(t,e,n){var r=n(15),o=r({}.toString),i=r("".slice);t.exports=function(t){return i(o(t),8,-1)}},function(t,e,n){"use strict";n(182)("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(186))},function(t,e,n){var r=n(16),o=n(220).entries;r({target:"Object",stat:!0},{entries:function(t){return o(t)}})},function(t,e,n){var r=n(15);t.exports=r({}.isPrototypeOf)},function(t,e,n){var r=n(46);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r=n(7),o=n(30),i=n(88),u=r.TypeError;t.exports=function(t){if(o(t))return t;throw u(i(t)+" is not a function")}},function(t,e,n){var r=n(36),o=n(38),i=n(69);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r,o,i,u=n(175),a=n(7),c=n(15),s=n(33),l=n(57),f=n(35),p=n(109),d=n(93),h=n(72),y="Object already initialized",v=a.TypeError,g=a.WeakMap;if(u||p.state){var b=p.state||(p.state=new g),m=c(b.get),O=c(b.has),_=c(b.set);r=function(t,e){if(O(b,t))throw new v(y);return e.facade=t,_(b,t,e),e},o=function(t){return m(b,t)||{}},i=function(t){return O(b,t)}}else{var w=d("state");h[w]=!0,r=function(t,e){if(f(t,w))throw new v(y);return e.facade=t,l(t,w,e),e},o=function(t){return f(t,w)?t[w]:{}},i=function(t){return f(t,w)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!s(e)||(n=o(e)).type!==t)throw v("Incompatible receiver, "+t+" required");return n}}}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){var e=+t;return e!=e||0===e?0:(e>0?r:n)(e)}},function(t,e,n){var r,o=n(32),i=n(176),u=n(111),a=n(72),c=n(138),s=n(91),l=n(93),f=l("IE_PROTO"),p=function(){},d=function(t){return"<script>"+t+"<\/script>"},h=function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e},y=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e;y="undefined"!=typeof document?document.domain&&r?h(r):((e=s("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F):h(r);for(var n=u.length;n--;)delete y.prototype[u[n]];return y()};a[f]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p.prototype=o(t),n=new p,p.prototype=null,n[f]=t):n=y(),void 0===e?n:i(n,e)}},function(t,e,n){"use strict";var r=n(36),o=n(7),i=n(15),u=n(95),a=n(42),c=n(35),s=n(148),l=n(54),f=n(87),p=n(131),d=n(18),h=n(74).f,y=n(50).f,v=n(38).f,g=n(160),b=n(161).trim,m="Number",O=o.Number,_=O.prototype,w=o.TypeError,j=i("".slice),x=i("".charCodeAt),E=function(t){var e=p(t,"number");return"bigint"==typeof e?e:S(e)},S=function(t){var e,n,r,o,i,u,a,c,s=p(t,"number");if(f(s))throw w("Cannot convert a Symbol value to a number");if("string"==typeof s&&s.length>2)if(s=b(s),43===(e=x(s,0))||45===e){if(88===(n=x(s,2))||120===n)return NaN}else if(48===e){switch(x(s,1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+s}for(u=(i=j(s,2)).length,a=0;a<u;a++)if((c=x(i,a))<48||c>o)return NaN;return parseInt(i,r)}return+s};if(u(m,!O(" 0o1")||!O("0b1")||O("+0x1"))){for(var P,A=function(t){var e=arguments.length<1?0:O(E(t)),n=this;return l(_,n)&&d((function(){g(n)}))?s(Object(e),n,A):e},k=r?h(O):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),D=0;k.length>D;D++)c(O,P=k[D])&&!c(A,P)&&v(A,P,y(O,P));A.prototype=_,_.constructor=A,a(o,m,A)}},function(t,e,n){var r=n(56);t.exports=function(t,e){var n=t[e];return null==n?void 0:r(n)}},function(t,e,n){"use strict";var r=n(86),o=n(38),i=n(69);t.exports=function(t,e,n){var u=r(e);u in t?o.f(t,u,i(0,n)):t[u]=n}},function(t,e,n){var r=n(15),o=n(56),i=r(r.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?i(t,e):function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";var r=n(16),o=n(15),i=n(85),u=n(41),a=n(121),c=o([].join),s=i!=Object,l=a("join",",");r({target:"Array",proto:!0,forced:s||!l},{join:function(t){return c(u(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(15),o=n(73).PROPER,i=n(42),u=n(32),a=n(54),c=n(39),s=n(18),l=n(154),f="toString",p=RegExp.prototype,d=p.toString,h=r(l),y=s((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),v=o&&d.name!=f;(y||v)&&i(RegExp.prototype,f,(function(){var t=u(this),e=c(t.source),n=t.flags;return"/"+e+"/"+c(void 0===n&&a(p,t)&&!("flags"in p)?h(t):n)}),{unsafe:!0})},function(t,e,n){var r=n(16),o=n(217),i=n(100);r({target:"Array",proto:!0},{fill:o}),i("fill")},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r,o,i=n(7),u=n(55),a=i.process,c=i.Deno,s=a&&a.versions||c&&c.version,l=s&&s.v8;l&&(o=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&u&&(!(r=u.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=u.match(/Chrome\/(\d+)/))&&(o=+r[1]),t.exports=o},function(t,e){t.exports=!1},function(t,e){t.exports={}},function(t,e,n){var r=n(36),o=n(35),i=Function.prototype,u=r&&Object.getOwnPropertyDescriptor,a=o(i,"name"),c=a&&"something"===function(){}.name,s=a&&(!r||r&&u(i,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:s}},function(t,e,n){var r=n(136),o=n(111).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(59),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},function(t,e){var n=Function.prototype,r=n.apply,o=n.bind,i=n.call;t.exports="object"==typeof Reflect&&Reflect.apply||(o?i.bind(r):function(){return i.apply(r,arguments)})},function(t,e,n){var r=n(136),o=n(111);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(38).f,o=n(35),i=n(28)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(64),o=n(15),i=n(85),u=n(40),a=n(45),c=n(115),s=o([].push),l=function(t){var e=1==t,n=2==t,o=3==t,l=4==t,f=6==t,p=7==t,d=5==t||f;return function(h,y,v,g){for(var b,m,O=u(h),_=i(O),w=r(y,v),j=a(_),x=0,E=g||c,S=e?E(h,j):n||p?E(h,0):void 0;j>x;x++)if((d||x in _)&&(m=w(b=_[x],x,O),t))if(e)S[x]=m;else if(m)switch(t){case 3:return!0;case 5:return b;case 6:return x;case 2:s(S,b)}else switch(t){case 4:return!1;case 7:s(S,b)}return f?-1:o||l?l:S}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},function(t,e){t.exports={}},function(t,e,n){var r=n(18),o=n(28),i=n(70),u=o("species");t.exports=function(t){return i>=51||!r((function(){var e=[];return(e.constructor={})[u]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){"use strict";var r=n(76),o=n(34),i=n(15),u=n(123),a=n(159),c=n(32),s=n(44),l=n(164),f=n(124),p=n(94),d=n(39),h=n(62),y=n(114),v=n(125),g=n(103),b=n(155),m=n(18),O=b.UNSUPPORTED_Y,_=4294967295,w=Math.min,j=[].push,x=i(/./.exec),E=i(j),S=i("".slice),P=!m((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));u("split",(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=d(s(this)),u=void 0===n?_:n>>>0;if(0===u)return[];if(void 0===t)return[i];if(!a(t))return o(e,i,t,u);for(var c,l,f,p=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,b=new RegExp(t.source,h+"g");(c=o(g,b,i))&&!((l=b.lastIndex)>v&&(E(p,S(i,v,c.index)),c.length>1&&c.index<i.length&&r(j,p,y(c,1)),f=c[0].length,v=l,p.length>=u));)b.lastIndex===c.index&&b.lastIndex++;return v===i.length?!f&&x(b,"")||E(p,""):E(p,S(i,v)),p.length>u?y(p,0,u):p}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:o(e,this,t,n)}:e,[function(e,n){var r=s(this),u=null==e?void 0:h(e,t);return u?o(u,e,r,n):o(i,d(r),e,n)},function(t,r){var o=c(this),u=d(t),a=n(i,o,u,r,i!==e);if(a.done)return a.value;var s=l(o,RegExp),h=o.unicode,y=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(O?"g":"y"),g=new s(O?"^(?:"+o.source+")":o,y),b=void 0===r?_:r>>>0;if(0===b)return[];if(0===u.length)return null===v(g,u)?[u]:[];for(var m=0,j=0,x=[];j<u.length;){g.lastIndex=O?0:j;var P,A=v(g,O?S(u,j):u);if(null===A||(P=w(p(g.lastIndex+(O?j:0)),u.length))===m)j=f(u,j,h);else{if(E(x,S(u,m,j)),x.length===b)return x;for(var k=1;k<=A.length-1;k++)if(E(x,A[k]),x.length===b)return x;j=m=P}}return E(x,S(u,m)),x}]}),!P,O)},function(t,e,n){n(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(7),o=n(15),i=n(18),u=n(51),a=r.Object,c=o("".split);t.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==u(t)?c(t,""):a(t)}:a},function(t,e,n){var r=n(131),o=n(87);t.exports=function(t){var e=r(t,"string");return o(e)?e:e+""}},function(t,e,n){var r=n(7),o=n(46),i=n(30),u=n(54),a=n(132),c=r.Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=o("Symbol");return i(e)&&u(e.prototype,c(t))}},function(t,e,n){var r=n(7).String;t.exports=function(t){try{return r(t)}catch(t){return"Object"}}},function(t,e,n){var r=n(71),o=n(109);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.3",mode:r?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(15),o=0,i=Math.random(),u=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+u(++o+i,36)}},function(t,e,n){var r=n(7),o=n(33),i=r.document,u=o(i)&&o(i.createElement);t.exports=function(t){return u?i.createElement(t):{}}},function(t,e,n){var r=n(15),o=n(30),i=n(109),u=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return u(t)}),t.exports=i.inspectSource},function(t,e,n){var r=n(89),o=n(90),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,n){var r=n(59),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(18),o=n(30),i=/#|\.prototype\./,u=function(t,e){var n=c[a(t)];return n==l||n!=s&&(o(e)?r(e):!!e)},a=u.normalize=function(t){return String(t).replace(i,".").toLowerCase()},c=u.data={},s=u.NATIVE="N",l=u.POLYFILL="P";t.exports=u},function(t,e,n){var r=n(51);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(7),o=n(113),i=n(30),u=n(51),a=n(28)("toStringTag"),c=r.Object,s="Arguments"==u(function(){return arguments}());t.exports=o?u:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=c(t),a))?n:s?u(e):"Object"==(r=u(e))&&i(e.callee)?"Arguments":r}},function(t,e,n){var r=n(15);t.exports=r([].slice)},function(t,e,n){var r=n(15),o=n(18),i=n(30),u=n(97),a=n(46),c=n(92),s=function(){},l=[],f=a("Reflect","construct"),p=/^\s*(?:class|function)\b/,d=r(p.exec),h=!p.exec(s),y=function(t){if(!i(t))return!1;try{return f(s,l,t),!0}catch(t){return!1}};t.exports=!f||o((function(){var t;return y(y.call)||!y(Object)||!y((function(){t=!0}))||t}))?function(t){if(!i(t))return!1;switch(u(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return h||!!d(p,c(t))}:y},function(t,e,n){var r=n(28),o=n(60),i=n(38),u=r("unscopables"),a=Array.prototype;null==a[u]&&i.f(a,u,{configurable:!0,value:o(null)}),t.exports=function(t){a[u][t]=!0}},function(t,e,n){var r=n(7),o=n(35),i=n(30),u=n(40),a=n(93),c=n(143),s=a("IE_PROTO"),l=r.Object,f=l.prototype;t.exports=c?l.getPrototypeOf:function(t){var e=u(t);if(o(e,s))return e[s];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof l?f:null}},function(t,e,n){var r=n(15),o=n(32),i=n(181);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return o(n),i(r),e?t(n,r):n.__proto__=r,n}}():void 0)},function(t,e,n){"use strict";var r,o,i=n(34),u=n(15),a=n(39),c=n(154),s=n(155),l=n(89),f=n(60),p=n(58).get,d=n(190),h=n(191),y=l("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,g=v,b=u("".charAt),m=u("".indexOf),O=u("".replace),_=u("".slice),w=(o=/b*/g,i(v,r=/a/,"a"),i(v,o,"a"),0!==r.lastIndex||0!==o.lastIndex),j=s.BROKEN_CARET,x=void 0!==/()??/.exec("")[1];(w||x||j||d||h)&&(g=function(t){var e,n,r,o,u,s,l,d=this,h=p(d),E=a(t),S=h.raw;if(S)return S.lastIndex=d.lastIndex,e=i(g,S,E),d.lastIndex=S.lastIndex,e;var P=h.groups,A=j&&d.sticky,k=i(c,d),D=d.source,T=0,M=E;if(A&&(k=O(k,"y",""),-1===m(k,"g")&&(k+="g"),M=_(E,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==b(E,d.lastIndex-1))&&(D="(?: "+D+")",M=" "+M,T++),n=new RegExp("^(?:"+D+")",k)),x&&(n=new RegExp("^"+D+"$(?!\\s)",k)),w&&(r=d.lastIndex),o=i(v,A?n:d,M),A?o?(o.input=_(o.input,T),o[0]=_(o[0],T),o.index=d.lastIndex,d.lastIndex+=o[0].length):d.lastIndex=0:w&&o&&(d.lastIndex=d.global?o.index+o[0].length:r),x&&o&&o.length>1&&i(y,o[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(o[u]=void 0)})),o&&P)for(o.groups=s=f(null),u=0;u<P.length;u++)s[(l=P[u])[0]]=o[l[1]];return o}),t.exports=g},function(t,e,n){"use strict";var r=n(16),o=n(7),i=n(75),u=n(59),a=n(45),c=n(40),s=n(115),l=n(63),f=n(81)("splice"),p=o.TypeError,d=Math.max,h=Math.min,y=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f},{splice:function(t,e){var n,r,o,f,g,b,m=c(this),O=a(m),_=i(t,O),w=arguments.length;if(0===w?n=r=0:1===w?(n=0,r=O-_):(n=w-2,r=h(d(u(e),0),O-_)),O+n-r>y)throw p(v);for(o=s(m,r),f=0;f<r;f++)(g=_+f)in m&&l(o,f,m[g]);if(o.length=r,n<r){for(f=_;f<O-r;f++)b=f+n,(g=f+r)in m?m[b]=m[g]:delete m[b];for(f=O;f>O-r+n;f--)delete m[f-1]}else if(n>r)for(f=O-r;f>_;f--)b=f+n-1,(g=f+r-1)in m?m[b]=m[g]:delete m[b];for(f=0;f<n;f++)m[f+_]=arguments[f+2];return m.length=O-r+n,o}})},function(t,e,n){"use strict";var r=n(16),o=n(205);r({target:"String",proto:!0,forced:n(206)("anchor")},{anchor:function(t){return o(this,"a","name",t)}})},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(68))},function(t,n,r){"use strict";(function(t){var o=r(31),i=e&&!e.nodeType&&e,u=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=u&&u.exports===i?o.a.Buffer:void 0,c=a?a.allocUnsafe:void 0;n.a=function(t,e){if(e)return t.slice();var n=t.length,r=c?c(n):new t.constructor(n);return t.copy(r),r}}).call(this,r(122)(t))},function(t,e,n){var r=n(70),o=n(18);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(t,e,n){var r=n(7),o=n(110),i="__core-js_shared__",u=r[i]||o(i,{});t.exports=u},function(t,e,n){var r=n(7),o=Object.defineProperty;t.exports=function(t,e){try{o(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r={};r[n(28)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){var r=n(7),o=n(75),i=n(45),u=n(63),a=r.Array,c=Math.max;t.exports=function(t,e,n){for(var r=i(t),s=o(e,r),l=o(void 0===n?r:n,r),f=a(c(l-s,0)),p=0;s<l;s++,p++)u(f,p,t[s]);return f.length=p,f}},function(t,e,n){var r=n(178);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},function(t,e,n){"use strict";var r=n(16),o=n(34),i=n(71),u=n(73),a=n(30),c=n(180),s=n(101),l=n(102),f=n(78),p=n(57),d=n(42),h=n(28),y=n(80),v=n(142),g=u.PROPER,b=u.CONFIGURABLE,m=v.IteratorPrototype,O=v.BUGGY_SAFARI_ITERATORS,_=h("iterator"),w="keys",j="values",x="entries",E=function(){return this};t.exports=function(t,e,n,u,h,v,S){c(n,e,u);var P,A,k,D=function(t){if(t===h&&R)return R;if(!O&&t in N)return N[t];switch(t){case w:case j:case x:return function(){return new n(this,t)}}return function(){return new n(this)}},T=e+" Iterator",M=!1,N=t.prototype,C=N[_]||N["@@iterator"]||h&&N[h],R=!O&&C||D(h),I="Array"==e&&N.entries||C;if(I&&(P=s(I.call(new t)))!==Object.prototype&&P.next&&(i||s(P)===m||(l?l(P,m):a(P[_])||d(P,_,E)),f(P,T,!0,!0),i&&(y[T]=E)),g&&h==j&&C&&C.name!==j&&(!i&&b?p(N,"name",j):(M=!0,R=function(){return o(C,this)})),h)if(A={values:D(j),keys:v?R:D(w),entries:D(x)},S)for(k in A)(O||M||!(k in N))&&d(N,k,A[k]);else r({target:e,proto:!0,forced:O||M},A);return i&&!S||N[_]===R||d(N,_,R,{name:h}),y[e]=R,A}},function(t,e,n){var r=n(7),o=n(64),i=n(34),u=n(32),a=n(88),c=n(145),s=n(45),l=n(54),f=n(146),p=n(118),d=n(147),h=r.TypeError,y=function(t,e){this.stopped=t,this.result=e},v=y.prototype;t.exports=function(t,e,n){var r,g,b,m,O,_,w,j=n&&n.that,x=!(!n||!n.AS_ENTRIES),E=!(!n||!n.IS_ITERATOR),S=!(!n||!n.INTERRUPTED),P=o(e,j),A=function(t){return r&&d(r,"normal",t),new y(!0,t)},k=function(t){return x?(u(t),S?P(t[0],t[1],A):P(t[0],t[1])):S?P(t,A):P(t)};if(E)r=t;else{if(!(g=p(t)))throw h(a(t)+" is not iterable");if(c(g)){for(b=0,m=s(t);m>b;b++)if((O=k(t[b]))&&l(v,O))return O;return new y(!1)}r=f(t,g)}for(_=r.next;!(w=i(_,r)).done;){try{O=k(w.value)}catch(t){d(r,"throw",t)}if("object"==typeof O&&O&&l(v,O))return O}return new y(!1)}},function(t,e,n){var r=n(97),o=n(62),i=n(80),u=n(28)("iterator");t.exports=function(t){if(null!=t)return o(t,u)||o(t,"@@iterator")||i[r(t)]}},function(t,e,n){var r=n(7),o=n(54),i=r.TypeError;t.exports=function(t,e){if(o(e,t))return t;throw i("Incorrect invocation")}},function(t,e,n){var r=n(28)("iterator"),o=!1;try{var i=0,u={next:function(){return{done:!!i++}},return:function(){o=!0}};u[r]=function(){return this},Array.from(u,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(18);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";n(19);var r=n(15),o=n(42),i=n(103),u=n(18),a=n(28),c=n(57),s=a("species"),l=RegExp.prototype;t.exports=function(t,e,n,f){var p=a(t),d=!u((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),h=d&&!u((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[s]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return e=!0,null},n[p](""),!e}));if(!d||!h||n){var y=r(/./[p]),v=e(p,""[t],(function(t,e,n,o,u){var a=r(t),c=e.exec;return c===i||c===l.exec?d&&!u?{done:!0,value:y(e,n,o)}:{done:!0,value:a(n,e,o)}:{done:!1}}));o(String.prototype,t,v[0]),o(l,p,v[1])}f&&c(l[p],"sham",!0)}},function(t,e,n){"use strict";var r=n(151).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(7),o=n(34),i=n(32),u=n(30),a=n(51),c=n(103),s=r.TypeError;t.exports=function(t,e){var n=t.exec;if(u(n)){var r=o(n,t,e);return null!==r&&i(r),r}if("RegExp"===a(t))return o(c,t,e);throw s("RegExp#exec called on incompatible receiver")}},function(t,e,n){"use strict";var r=n(76),o=n(34),i=n(15),u=n(123),a=n(18),c=n(32),s=n(30),l=n(59),f=n(94),p=n(39),d=n(44),h=n(124),y=n(62),v=n(201),g=n(125),b=n(28)("replace"),m=Math.max,O=Math.min,_=i([].concat),w=i([].push),j=i("".indexOf),x=i("".slice),E="$0"==="a".replace(/./,"$0"),S=!!/./[b]&&""===/./[b]("a","$0");u("replace",(function(t,e,n){var i=S?"$":"$0";return[function(t,n){var r=d(this),i=null==t?void 0:y(t,b);return i?o(i,t,r,n):o(e,p(r),t,n)},function(t,o){var u=c(this),a=p(t);if("string"==typeof o&&-1===j(o,i)&&-1===j(o,"$<")){var d=n(e,u,a,o);if(d.done)return d.value}var y=s(o);y||(o=p(o));var b=u.global;if(b){var E=u.unicode;u.lastIndex=0}for(var S=[];;){var P=g(u,a);if(null===P)break;if(w(S,P),!b)break;""===p(P[0])&&(u.lastIndex=h(a,f(u.lastIndex),E))}for(var A,k="",D=0,T=0;T<S.length;T++){for(var M=p((P=S[T])[0]),N=m(O(l(P.index),a.length),0),C=[],R=1;R<P.length;R++)w(C,void 0===(A=P[R])?A:String(A));var I=P.groups;if(y){var L=_([M],C,N,a);void 0!==I&&w(L,I);var z=p(r(o,void 0,L))}else z=v(M,a,N,C,I,o);N>=D&&(k+=x(a,D,N)+z,D=N+M.length)}return k+x(a,D)}]}),!!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!E||S)},function(t,e,n){var r=n(16),o=Math.hypot,i=Math.abs,u=Math.sqrt;r({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,o=0,a=0,c=arguments.length,s=0;a<c;)s<(n=i(arguments[a++]))?(o=o*(r=s/n)*r+1,s=n):o+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*u(o)}})},function(t,e,n){var r=n(51),o=n(7);t.exports="process"==r(o.process)},function(t,e,n){n(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){(function(t,r){var o;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i,u="Expected a function",a="__lodash_hash_undefined__",c="__lodash_placeholder__",s=16,l=32,f=64,p=128,d=256,h=1/0,y=9007199254740991,v=NaN,g=4294967295,b=[["ary",p],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",l],["partialRight",f],["rearg",d]],m="[object Arguments]",O="[object Array]",_="[object Boolean]",w="[object Date]",j="[object Error]",x="[object Function]",E="[object GeneratorFunction]",S="[object Map]",P="[object Number]",A="[object Object]",k="[object Promise]",D="[object RegExp]",T="[object Set]",M="[object String]",N="[object Symbol]",C="[object WeakMap]",R="[object ArrayBuffer]",I="[object DataView]",L="[object Float32Array]",z="[object Float64Array]",B="[object Int8Array]",U="[object Int16Array]",F="[object Int32Array]",H="[object Uint8Array]",X="[object Uint8ClampedArray]",G="[object Uint16Array]",Y="[object Uint32Array]",V=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$=/&(?:amp|lt|gt|quot|#39);/g,Z=/[&<>"']/g,q=RegExp($.source),J=RegExp(Z.source),Q=/<%-([\s\S]+?)%>/g,tt=/<%([\s\S]+?)%>/g,et=/<%=([\s\S]+?)%>/g,nt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rt=/^\w*$/,ot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it=/[\\^$.*+?()[\]{}|]/g,ut=RegExp(it.source),at=/^\s+/,ct=/\s/,st=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lt=/\{\n\/\* \[wrapped with (.+)\] \*/,ft=/,? & /,pt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dt=/[()=,{}\[\]\/\s]/,ht=/\\(\\)?/g,yt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vt=/\w*$/,gt=/^[-+]0x[0-9a-f]+$/i,bt=/^0b[01]+$/i,mt=/^\[object .+?Constructor\]$/,Ot=/^0o[0-7]+$/i,_t=/^(?:0|[1-9]\d*)$/,wt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jt=/($^)/,xt=/['\n\r\u2028\u2029\\]/g,Et="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",St="\\u2700-\\u27bf",Pt="a-z\\xdf-\\xf6\\xf8-\\xff",At="A-Z\\xc0-\\xd6\\xd8-\\xde",kt="\\ufe0e\\ufe0f",Dt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Tt="[']",Mt="[\\ud800-\\udfff]",Nt="["+Dt+"]",Ct="["+Et+"]",Rt="\\d+",It="[\\u2700-\\u27bf]",Lt="["+Pt+"]",zt="[^\\ud800-\\udfff"+Dt+Rt+St+Pt+At+"]",Bt="\\ud83c[\\udffb-\\udfff]",Ut="[^\\ud800-\\udfff]",Ft="(?:\\ud83c[\\udde6-\\uddff]){2}",Ht="[\\ud800-\\udbff][\\udc00-\\udfff]",Xt="["+At+"]",Gt="(?:"+Lt+"|"+zt+")",Yt="(?:"+Xt+"|"+zt+")",Vt="(?:['](?:d|ll|m|re|s|t|ve))?",Wt="(?:['](?:D|LL|M|RE|S|T|VE))?",Kt="(?:"+Ct+"|"+Bt+")?",$t="[\\ufe0e\\ufe0f]?",Zt=$t+Kt+"(?:\\u200d(?:"+[Ut,Ft,Ht].join("|")+")"+$t+Kt+")*",qt="(?:"+[It,Ft,Ht].join("|")+")"+Zt,Jt="(?:"+[Ut+Ct+"?",Ct,Ft,Ht,Mt].join("|")+")",Qt=RegExp(Tt,"g"),te=RegExp(Ct,"g"),ee=RegExp(Bt+"(?="+Bt+")|"+Jt+Zt,"g"),ne=RegExp([Xt+"?"+Lt+"+"+Vt+"(?="+[Nt,Xt,"$"].join("|")+")",Yt+"+"+Wt+"(?="+[Nt,Xt+Gt,"$"].join("|")+")",Xt+"?"+Gt+"+"+Vt,Xt+"+"+Wt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Rt,qt].join("|"),"g"),re=RegExp("[\\u200d\\ud800-\\udfff"+Et+kt+"]"),oe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ie=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ue=-1,ae={};ae[L]=ae[z]=ae[B]=ae[U]=ae[F]=ae[H]=ae[X]=ae[G]=ae[Y]=!0,ae[m]=ae[O]=ae[R]=ae[_]=ae[I]=ae[w]=ae[j]=ae[x]=ae[S]=ae[P]=ae[A]=ae[D]=ae[T]=ae[M]=ae[C]=!1;var ce={};ce[m]=ce[O]=ce[R]=ce[I]=ce[_]=ce[w]=ce[L]=ce[z]=ce[B]=ce[U]=ce[F]=ce[S]=ce[P]=ce[A]=ce[D]=ce[T]=ce[M]=ce[N]=ce[H]=ce[X]=ce[G]=ce[Y]=!0,ce[j]=ce[x]=ce[C]=!1;var se={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},le=parseFloat,fe=parseInt,pe="object"==typeof t&&t&&t.Object===Object&&t,de="object"==typeof self&&self&&self.Object===Object&&self,he=pe||de||Function("return this")(),ye=e&&!e.nodeType&&e,ve=ye&&"object"==typeof r&&r&&!r.nodeType&&r,ge=ve&&ve.exports===ye,be=ge&&pe.process,me=function(){try{var t=ve&&ve.require&&ve.require("util").types;return t||be&&be.binding&&be.binding("util")}catch(t){}}(),Oe=me&&me.isArrayBuffer,_e=me&&me.isDate,we=me&&me.isMap,je=me&&me.isRegExp,xe=me&&me.isSet,Ee=me&&me.isTypedArray;function Se(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Pe(t,e,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var u=t[o];e(r,u,n(u),t)}return r}function Ae(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function ke(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function De(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Te(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var u=t[n];e(u,n,t)&&(i[o++]=u)}return i}function Me(t,e){return!(null==t||!t.length)&&He(t,e,0)>-1}function Ne(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}function Ce(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function Re(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function Ie(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function Le(t,e,n,r){var o=null==t?0:t.length;for(r&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function ze(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Be=Ve("length");function Ue(t,e,n){var r;return n(t,(function(t,n,o){if(e(t,n,o))return r=n,!1})),r}function Fe(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function He(t,e,n){return e==e?function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}(t,e,n):Fe(t,Ge,n)}function Xe(t,e,n,r){for(var o=n-1,i=t.length;++o<i;)if(r(t[o],e))return o;return-1}function Ge(t){return t!=t}function Ye(t,e){var n=null==t?0:t.length;return n?$e(t,e)/n:v}function Ve(t){return function(e){return null==e?i:e[t]}}function We(t){return function(e){return null==t?i:t[e]}}function Ke(t,e,n,r,o){return o(t,(function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)})),n}function $e(t,e){for(var n,r=-1,o=t.length;++r<o;){var u=e(t[r]);u!==i&&(n=n===i?u:n+u)}return n}function Ze(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function qe(t){return t?t.slice(0,vn(t)+1).replace(at,""):t}function Je(t){return function(e){return t(e)}}function Qe(t,e){return Ce(e,(function(e){return t[e]}))}function tn(t,e){return t.has(e)}function en(t,e){for(var n=-1,r=t.length;++n<r&&He(e,t[n],0)>-1;);return n}function nn(t,e){for(var n=t.length;n--&&He(e,t[n],0)>-1;);return n}function rn(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var on=We({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),un=We({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(t){return"\\"+se[t]}function cn(t){return re.test(t)}function sn(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function ln(t,e){return function(n){return t(e(n))}}function fn(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var u=t[n];u!==e&&u!==c||(t[n]=c,i[o++]=n)}return i}function pn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function dn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function hn(t){return cn(t)?function(t){for(var e=ee.lastIndex=0;ee.test(t);)++e;return e}(t):Be(t)}function yn(t){return cn(t)?function(t){return t.match(ee)||[]}(t):function(t){return t.split("")}(t)}function vn(t){for(var e=t.length;e--&&ct.test(t.charAt(e)););return e}var gn=We({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),bn=function t(e){var n,r=(e=null==e?he:bn.defaults(he.Object(),e,bn.pick(he,ie))).Array,o=e.Date,ct=e.Error,Et=e.Function,St=e.Math,Pt=e.Object,At=e.RegExp,kt=e.String,Dt=e.TypeError,Tt=r.prototype,Mt=Et.prototype,Nt=Pt.prototype,Ct=e["__core-js_shared__"],Rt=Mt.toString,It=Nt.hasOwnProperty,Lt=0,zt=(n=/[^.]+$/.exec(Ct&&Ct.keys&&Ct.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Bt=Nt.toString,Ut=Rt.call(Pt),Ft=he._,Ht=At("^"+Rt.call(It).replace(it,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xt=ge?e.Buffer:i,Gt=e.Symbol,Yt=e.Uint8Array,Vt=Xt?Xt.allocUnsafe:i,Wt=ln(Pt.getPrototypeOf,Pt),Kt=Pt.create,$t=Nt.propertyIsEnumerable,Zt=Tt.splice,qt=Gt?Gt.isConcatSpreadable:i,Jt=Gt?Gt.iterator:i,ee=Gt?Gt.toStringTag:i,re=function(){try{var t=hi(Pt,"defineProperty");return t({},"",{}),t}catch(t){}}(),se=e.clearTimeout!==he.clearTimeout&&e.clearTimeout,pe=o&&o.now!==he.Date.now&&o.now,de=e.setTimeout!==he.setTimeout&&e.setTimeout,ye=St.ceil,ve=St.floor,be=Pt.getOwnPropertySymbols,me=Xt?Xt.isBuffer:i,Be=e.isFinite,We=Tt.join,mn=ln(Pt.keys,Pt),On=St.max,_n=St.min,wn=o.now,jn=e.parseInt,xn=St.random,En=Tt.reverse,Sn=hi(e,"DataView"),Pn=hi(e,"Map"),An=hi(e,"Promise"),kn=hi(e,"Set"),Dn=hi(e,"WeakMap"),Tn=hi(Pt,"create"),Mn=Dn&&new Dn,Nn={},Cn=Fi(Sn),Rn=Fi(Pn),In=Fi(An),Ln=Fi(kn),zn=Fi(Dn),Bn=Gt?Gt.prototype:i,Un=Bn?Bn.valueOf:i,Fn=Bn?Bn.toString:i;function Hn(t){if(oa(t)&&!Wu(t)&&!(t instanceof Vn)){if(t instanceof Yn)return t;if(It.call(t,"__wrapped__"))return Hi(t)}return new Yn(t)}var Xn=function(){function t(){}return function(e){if(!ra(e))return{};if(Kt)return Kt(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function Gn(){}function Yn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function Vn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Wn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Kn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function $n(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Zn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new $n;++e<n;)this.add(t[e])}function qn(t){var e=this.__data__=new Kn(t);this.size=e.size}function Jn(t,e){var n=Wu(t),r=!n&&Vu(t),o=!n&&!r&&qu(t),i=!n&&!r&&!o&&pa(t),u=n||r||o||i,a=u?Ze(t.length,kt):[],c=a.length;for(var s in t)!e&&!It.call(t,s)||u&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||_i(s,c))||a.push(s);return a}function Qn(t){var e=t.length;return e?t[Zr(0,e-1)]:i}function tr(t,e){return zi(Mo(t),sr(e,0,t.length))}function er(t){return zi(Mo(t))}function nr(t,e,n){(n!==i&&!Xu(t[e],n)||n===i&&!(e in t))&&ar(t,e,n)}function rr(t,e,n){var r=t[e];It.call(t,e)&&Xu(r,n)&&(n!==i||e in t)||ar(t,e,n)}function or(t,e){for(var n=t.length;n--;)if(Xu(t[n][0],e))return n;return-1}function ir(t,e,n,r){return hr(t,(function(t,o,i){e(r,t,n(t),i)})),r}function ur(t,e){return t&&No(e,Ca(e),t)}function ar(t,e,n){"__proto__"==e&&re?re(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function cr(t,e){for(var n=-1,o=e.length,u=r(o),a=null==t;++n<o;)u[n]=a?i:ka(t,e[n]);return u}function sr(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function lr(t,e,n,r,o,u){var a,c=1&e,s=2&e,l=4&e;if(n&&(a=o?n(t,r,o,u):n(t)),a!==i)return a;if(!ra(t))return t;var f=Wu(t);if(f){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&It.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!c)return Mo(t,a)}else{var p=gi(t),d=p==x||p==E;if(qu(t))return So(t,c);if(p==A||p==m||d&&!o){if(a=s||d?{}:mi(t),!c)return s?function(t,e){return No(t,vi(t),e)}(t,function(t,e){return t&&No(e,Ra(e),t)}(a,t)):function(t,e){return No(t,yi(t),e)}(t,ur(a,t))}else{if(!ce[p])return o?t:{};a=function(t,e,n){var r,o=t.constructor;switch(e){case R:return Po(t);case _:case w:return new o(+t);case I:return function(t,e){var n=e?Po(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case L:case z:case B:case U:case F:case H:case X:case G:case Y:return Ao(t,n);case S:return new o;case P:case M:return new o(t);case D:return function(t){var e=new t.constructor(t.source,vt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case T:return new o;case N:return r=t,Un?Pt(Un.call(r)):{}}}(t,p,c)}}u||(u=new qn);var h=u.get(t);if(h)return h;u.set(t,a),sa(t)?t.forEach((function(r){a.add(lr(r,e,n,r,t,u))})):ia(t)&&t.forEach((function(r,o){a.set(o,lr(r,e,n,o,t,u))}));var y=f?i:(l?s?ai:ui:s?Ra:Ca)(t);return Ae(y||t,(function(r,o){y&&(r=t[o=r]),rr(a,o,lr(r,e,n,o,t,u))})),a}function fr(t,e,n){var r=n.length;if(null==t)return!r;for(t=Pt(t);r--;){var o=n[r],u=e[o],a=t[o];if(a===i&&!(o in t)||!u(a))return!1}return!0}function pr(t,e,n){if("function"!=typeof t)throw new Dt(u);return Ci((function(){t.apply(i,n)}),e)}function dr(t,e,n,r){var o=-1,i=Me,u=!0,a=t.length,c=[],s=e.length;if(!a)return c;n&&(e=Ce(e,Je(n))),r?(i=Ne,u=!1):e.length>=200&&(i=tn,u=!1,e=new Zn(e));t:for(;++o<a;){var l=t[o],f=null==n?l:n(l);if(l=r||0!==l?l:0,u&&f==f){for(var p=s;p--;)if(e[p]===f)continue t;c.push(l)}else i(e,f,r)||c.push(l)}return c}Hn.templateSettings={escape:Q,evaluate:tt,interpolate:et,variable:"",imports:{_:Hn}},Hn.prototype=Gn.prototype,Hn.prototype.constructor=Hn,Yn.prototype=Xn(Gn.prototype),Yn.prototype.constructor=Yn,Vn.prototype=Xn(Gn.prototype),Vn.prototype.constructor=Vn,Wn.prototype.clear=function(){this.__data__=Tn?Tn(null):{},this.size=0},Wn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Wn.prototype.get=function(t){var e=this.__data__;if(Tn){var n=e[t];return n===a?i:n}return It.call(e,t)?e[t]:i},Wn.prototype.has=function(t){var e=this.__data__;return Tn?e[t]!==i:It.call(e,t)},Wn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Tn&&e===i?a:e,this},Kn.prototype.clear=function(){this.__data__=[],this.size=0},Kn.prototype.delete=function(t){var e=this.__data__,n=or(e,t);return!(n<0)&&(n==e.length-1?e.pop():Zt.call(e,n,1),--this.size,!0)},Kn.prototype.get=function(t){var e=this.__data__,n=or(e,t);return n<0?i:e[n][1]},Kn.prototype.has=function(t){return or(this.__data__,t)>-1},Kn.prototype.set=function(t,e){var n=this.__data__,r=or(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},$n.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(Pn||Kn),string:new Wn}},$n.prototype.delete=function(t){var e=pi(this,t).delete(t);return this.size-=e?1:0,e},$n.prototype.get=function(t){return pi(this,t).get(t)},$n.prototype.has=function(t){return pi(this,t).has(t)},$n.prototype.set=function(t,e){var n=pi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Zn.prototype.add=Zn.prototype.push=function(t){return this.__data__.set(t,a),this},Zn.prototype.has=function(t){return this.__data__.has(t)},qn.prototype.clear=function(){this.__data__=new Kn,this.size=0},qn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},qn.prototype.get=function(t){return this.__data__.get(t)},qn.prototype.has=function(t){return this.__data__.has(t)},qn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Kn){var r=n.__data__;if(!Pn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new $n(r)}return n.set(t,e),this.size=n.size,this};var hr=Io(wr),yr=Io(jr,!0);function vr(t,e){var n=!0;return hr(t,(function(t,r,o){return n=!!e(t,r,o)})),n}function gr(t,e,n){for(var r=-1,o=t.length;++r<o;){var u=t[r],a=e(u);if(null!=a&&(c===i?a==a&&!fa(a):n(a,c)))var c=a,s=u}return s}function br(t,e){var n=[];return hr(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}function mr(t,e,n,r,o){var i=-1,u=t.length;for(n||(n=Oi),o||(o=[]);++i<u;){var a=t[i];e>0&&n(a)?e>1?mr(a,e-1,n,r,o):Re(o,a):r||(o[o.length]=a)}return o}var Or=Lo(),_r=Lo(!0);function wr(t,e){return t&&Or(t,e,Ca)}function jr(t,e){return t&&_r(t,e,Ca)}function xr(t,e){return Te(e,(function(e){return ta(t[e])}))}function Er(t,e){for(var n=0,r=(e=wo(e,t)).length;null!=t&&n<r;)t=t[Ui(e[n++])];return n&&n==r?t:i}function Sr(t,e,n){var r=e(t);return Wu(t)?r:Re(r,n(t))}function Pr(t){return null==t?t===i?"[object Undefined]":"[object Null]":ee&&ee in Pt(t)?function(t){var e=It.call(t,ee),n=t[ee];try{t[ee]=i;var r=!0}catch(t){}var o=Bt.call(t);return r&&(e?t[ee]=n:delete t[ee]),o}(t):function(t){return Bt.call(t)}(t)}function Ar(t,e){return t>e}function kr(t,e){return null!=t&&It.call(t,e)}function Dr(t,e){return null!=t&&e in Pt(t)}function Tr(t,e,n){for(var o=n?Ne:Me,u=t[0].length,a=t.length,c=a,s=r(a),l=1/0,f=[];c--;){var p=t[c];c&&e&&(p=Ce(p,Je(e))),l=_n(p.length,l),s[c]=!n&&(e||u>=120&&p.length>=120)?new Zn(c&&p):i}p=t[0];var d=-1,h=s[0];t:for(;++d<u&&f.length<l;){var y=p[d],v=e?e(y):y;if(y=n||0!==y?y:0,!(h?tn(h,v):o(f,v,n))){for(c=a;--c;){var g=s[c];if(!(g?tn(g,v):o(t[c],v,n)))continue t}h&&h.push(v),f.push(y)}}return f}function Mr(t,e,n){var r=null==(t=Di(t,e=wo(e,t)))?t:t[Ui(Qi(e))];return null==r?i:Se(r,t,n)}function Nr(t){return oa(t)&&Pr(t)==m}function Cr(t,e,n,r,o){return t===e||(null==t||null==e||!oa(t)&&!oa(e)?t!=t&&e!=e:function(t,e,n,r,o,u){var a=Wu(t),c=Wu(e),s=a?O:gi(t),l=c?O:gi(e),f=(s=s==m?A:s)==A,p=(l=l==m?A:l)==A,d=s==l;if(d&&qu(t)){if(!qu(e))return!1;a=!0,f=!1}if(d&&!f)return u||(u=new qn),a||pa(t)?oi(t,e,n,r,o,u):function(t,e,n,r,o,i,u){switch(n){case I:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case R:return!(t.byteLength!=e.byteLength||!i(new Yt(t),new Yt(e)));case _:case w:case P:return Xu(+t,+e);case j:return t.name==e.name&&t.message==e.message;case D:case M:return t==e+"";case S:var a=sn;case T:var c=1&r;if(a||(a=pn),t.size!=e.size&&!c)return!1;var s=u.get(t);if(s)return s==e;r|=2,u.set(t,e);var l=oi(a(t),a(e),r,o,i,u);return u.delete(t),l;case N:if(Un)return Un.call(t)==Un.call(e)}return!1}(t,e,s,n,r,o,u);if(!(1&n)){var h=f&&It.call(t,"__wrapped__"),y=p&&It.call(e,"__wrapped__");if(h||y){var v=h?t.value():t,g=y?e.value():e;return u||(u=new qn),o(v,g,n,r,u)}}return!!d&&(u||(u=new qn),function(t,e,n,r,o,u){var a=1&n,c=ui(t),s=c.length,l=ui(e).length;if(s!=l&&!a)return!1;for(var f=s;f--;){var p=c[f];if(!(a?p in e:It.call(e,p)))return!1}var d=u.get(t),h=u.get(e);if(d&&h)return d==e&&h==t;var y=!0;u.set(t,e),u.set(e,t);for(var v=a;++f<s;){var g=t[p=c[f]],b=e[p];if(r)var m=a?r(b,g,p,e,t,u):r(g,b,p,t,e,u);if(!(m===i?g===b||o(g,b,n,r,u):m)){y=!1;break}v||(v="constructor"==p)}if(y&&!v){var O=t.constructor,_=e.constructor;O==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof O&&O instanceof O&&"function"==typeof _&&_ instanceof _||(y=!1)}return u.delete(t),u.delete(e),y}(t,e,n,r,o,u))}(t,e,n,r,Cr,o))}function Rr(t,e,n,r){var o=n.length,u=o,a=!r;if(null==t)return!u;for(t=Pt(t);o--;){var c=n[o];if(a&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++o<u;){var s=(c=n[o])[0],l=t[s],f=c[1];if(a&&c[2]){if(l===i&&!(s in t))return!1}else{var p=new qn;if(r)var d=r(l,f,s,t,e,p);if(!(d===i?Cr(f,l,3,r,p):d))return!1}}return!0}function Ir(t){return!(!ra(t)||(e=t,zt&&zt in e))&&(ta(t)?Ht:mt).test(Fi(t));var e}function Lr(t){return"function"==typeof t?t:null==t?uc:"object"==typeof t?Wu(t)?Xr(t[0],t[1]):Hr(t):yc(t)}function zr(t){if(!Si(t))return mn(t);var e=[];for(var n in Pt(t))It.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Br(t){if(!ra(t))return function(t){var e=[];if(null!=t)for(var n in Pt(t))e.push(n);return e}(t);var e=Si(t),n=[];for(var r in t)("constructor"!=r||!e&&It.call(t,r))&&n.push(r);return n}function Ur(t,e){return t<e}function Fr(t,e){var n=-1,o=$u(t)?r(t.length):[];return hr(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}function Hr(t){var e=di(t);return 1==e.length&&e[0][2]?Ai(e[0][0],e[0][1]):function(n){return n===t||Rr(n,t,e)}}function Xr(t,e){return ji(t)&&Pi(e)?Ai(Ui(t),e):function(n){var r=ka(n,t);return r===i&&r===e?Da(n,t):Cr(e,r,3)}}function Gr(t,e,n,r,o){t!==e&&Or(e,(function(u,a){if(o||(o=new qn),ra(u))!function(t,e,n,r,o,u,a){var c=Mi(t,n),s=Mi(e,n),l=a.get(s);if(l)nr(t,n,l);else{var f=u?u(c,s,n+"",t,e,a):i,p=f===i;if(p){var d=Wu(s),h=!d&&qu(s),y=!d&&!h&&pa(s);f=s,d||h||y?Wu(c)?f=c:Zu(c)?f=Mo(c):h?(p=!1,f=So(s,!0)):y?(p=!1,f=Ao(s,!0)):f=[]:aa(s)||Vu(s)?(f=c,Vu(c)?f=Oa(c):ra(c)&&!ta(c)||(f=mi(s))):p=!1}p&&(a.set(s,f),o(f,s,r,u,a),a.delete(s)),nr(t,n,f)}}(t,e,a,n,Gr,r,o);else{var c=r?r(Mi(t,a),u,a+"",t,e,o):i;c===i&&(c=u),nr(t,a,c)}}),Ra)}function Yr(t,e){var n=t.length;if(n)return _i(e+=e<0?n:0,n)?t[e]:i}function Vr(t,e,n){e=e.length?Ce(e,(function(t){return Wu(t)?function(e){return Er(e,1===t.length?t[0]:t)}:t})):[uc];var r=-1;e=Ce(e,Je(fi()));var o=Fr(t,(function(t,n,o){var i=Ce(e,(function(e){return e(t)}));return{criteria:i,index:++r,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(o,(function(t,e){return function(t,e,n){for(var r=-1,o=t.criteria,i=e.criteria,u=o.length,a=n.length;++r<u;){var c=ko(o[r],i[r]);if(c)return r>=a?c:c*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function Wr(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var u=e[r],a=Er(t,u);n(a,u)&&eo(i,wo(u,t),a)}return i}function Kr(t,e,n,r){var o=r?Xe:He,i=-1,u=e.length,a=t;for(t===e&&(e=Mo(e)),n&&(a=Ce(t,Je(n)));++i<u;)for(var c=0,s=e[i],l=n?n(s):s;(c=o(a,l,c,r))>-1;)a!==t&&Zt.call(a,c,1),Zt.call(t,c,1);return t}function $r(t,e){for(var n=t?e.length:0,r=n-1;n--;){var o=e[n];if(n==r||o!==i){var i=o;_i(o)?Zt.call(t,o,1):ho(t,o)}}return t}function Zr(t,e){return t+ve(xn()*(e-t+1))}function qr(t,e){var n="";if(!t||e<1||e>y)return n;do{e%2&&(n+=t),(e=ve(e/2))&&(t+=t)}while(e);return n}function Jr(t,e){return Ri(ki(t,e,uc),t+"")}function Qr(t){return Qn(Xa(t))}function to(t,e){var n=Xa(t);return zi(n,sr(e,0,n.length))}function eo(t,e,n,r){if(!ra(t))return t;for(var o=-1,u=(e=wo(e,t)).length,a=u-1,c=t;null!=c&&++o<u;){var s=Ui(e[o]),l=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return t;if(o!=a){var f=c[s];(l=r?r(f,s,c):i)===i&&(l=ra(f)?f:_i(e[o+1])?[]:{})}rr(c,s,l),c=c[s]}return t}var no=Mn?function(t,e){return Mn.set(t,e),t}:uc,ro=re?function(t,e){return re(t,"toString",{configurable:!0,enumerable:!1,value:rc(e),writable:!0})}:uc;function oo(t){return zi(Xa(t))}function io(t,e,n){var o=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var u=r(i);++o<i;)u[o]=t[o+e];return u}function uo(t,e){var n;return hr(t,(function(t,r,o){return!(n=e(t,r,o))})),!!n}function ao(t,e,n){var r=0,o=null==t?r:t.length;if("number"==typeof e&&e==e&&o<=2147483647){for(;r<o;){var i=r+o>>>1,u=t[i];null!==u&&!fa(u)&&(n?u<=e:u<e)?r=i+1:o=i}return o}return co(t,e,uc,n)}function co(t,e,n,r){var o=0,u=null==t?0:t.length;if(0===u)return 0;for(var a=(e=n(e))!=e,c=null===e,s=fa(e),l=e===i;o<u;){var f=ve((o+u)/2),p=n(t[f]),d=p!==i,h=null===p,y=p==p,v=fa(p);if(a)var g=r||y;else g=l?y&&(r||d):c?y&&d&&(r||!h):s?y&&d&&!h&&(r||!v):!h&&!v&&(r?p<=e:p<e);g?o=f+1:u=f}return _n(u,4294967294)}function so(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var u=t[n],a=e?e(u):u;if(!n||!Xu(a,c)){var c=a;i[o++]=0===u?0:u}}return i}function lo(t){return"number"==typeof t?t:fa(t)?v:+t}function fo(t){if("string"==typeof t)return t;if(Wu(t))return Ce(t,fo)+"";if(fa(t))return Fn?Fn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function po(t,e,n){var r=-1,o=Me,i=t.length,u=!0,a=[],c=a;if(n)u=!1,o=Ne;else if(i>=200){var s=e?null:Jo(t);if(s)return pn(s);u=!1,o=tn,c=new Zn}else c=e?[]:a;t:for(;++r<i;){var l=t[r],f=e?e(l):l;if(l=n||0!==l?l:0,u&&f==f){for(var p=c.length;p--;)if(c[p]===f)continue t;e&&c.push(f),a.push(l)}else o(c,f,n)||(c!==a&&c.push(f),a.push(l))}return a}function ho(t,e){return null==(t=Di(t,e=wo(e,t)))||delete t[Ui(Qi(e))]}function yo(t,e,n,r){return eo(t,e,n(Er(t,e)),r)}function vo(t,e,n,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&e(t[i],i,t););return n?io(t,r?0:i,r?i+1:o):io(t,r?i+1:0,r?o:i)}function go(t,e){var n=t;return n instanceof Vn&&(n=n.value()),Ie(e,(function(t,e){return e.func.apply(e.thisArg,Re([t],e.args))}),n)}function bo(t,e,n){var o=t.length;if(o<2)return o?po(t[0]):[];for(var i=-1,u=r(o);++i<o;)for(var a=t[i],c=-1;++c<o;)c!=i&&(u[i]=dr(u[i]||a,t[c],e,n));return po(mr(u,1),e,n)}function mo(t,e,n){for(var r=-1,o=t.length,u=e.length,a={};++r<o;){var c=r<u?e[r]:i;n(a,t[r],c)}return a}function Oo(t){return Zu(t)?t:[]}function _o(t){return"function"==typeof t?t:uc}function wo(t,e){return Wu(t)?t:ji(t,e)?[t]:Bi(_a(t))}var jo=Jr;function xo(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:io(t,e,n)}var Eo=se||function(t){return he.clearTimeout(t)};function So(t,e){if(e)return t.slice();var n=t.length,r=Vt?Vt(n):new t.constructor(n);return t.copy(r),r}function Po(t){var e=new t.constructor(t.byteLength);return new Yt(e).set(new Yt(t)),e}function Ao(t,e){var n=e?Po(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ko(t,e){if(t!==e){var n=t!==i,r=null===t,o=t==t,u=fa(t),a=e!==i,c=null===e,s=e==e,l=fa(e);if(!c&&!l&&!u&&t>e||u&&a&&s&&!c&&!l||r&&a&&s||!n&&s||!o)return 1;if(!r&&!u&&!l&&t<e||l&&n&&o&&!r&&!u||c&&n&&o||!a&&o||!s)return-1}return 0}function Do(t,e,n,o){for(var i=-1,u=t.length,a=n.length,c=-1,s=e.length,l=On(u-a,0),f=r(s+l),p=!o;++c<s;)f[c]=e[c];for(;++i<a;)(p||i<u)&&(f[n[i]]=t[i]);for(;l--;)f[c++]=t[i++];return f}function To(t,e,n,o){for(var i=-1,u=t.length,a=-1,c=n.length,s=-1,l=e.length,f=On(u-c,0),p=r(f+l),d=!o;++i<f;)p[i]=t[i];for(var h=i;++s<l;)p[h+s]=e[s];for(;++a<c;)(d||i<u)&&(p[h+n[a]]=t[i++]);return p}function Mo(t,e){var n=-1,o=t.length;for(e||(e=r(o));++n<o;)e[n]=t[n];return e}function No(t,e,n,r){var o=!n;n||(n={});for(var u=-1,a=e.length;++u<a;){var c=e[u],s=r?r(n[c],t[c],c,n,t):i;s===i&&(s=t[c]),o?ar(n,c,s):rr(n,c,s)}return n}function Co(t,e){return function(n,r){var o=Wu(n)?Pe:ir,i=e?e():{};return o(n,t,fi(r,2),i)}}function Ro(t){return Jr((function(e,n){var r=-1,o=n.length,u=o>1?n[o-1]:i,a=o>2?n[2]:i;for(u=t.length>3&&"function"==typeof u?(o--,u):i,a&&wi(n[0],n[1],a)&&(u=o<3?i:u,o=1),e=Pt(e);++r<o;){var c=n[r];c&&t(e,c,r,u)}return e}))}function Io(t,e){return function(n,r){if(null==n)return n;if(!$u(n))return t(n,r);for(var o=n.length,i=e?o:-1,u=Pt(n);(e?i--:++i<o)&&!1!==r(u[i],i,u););return n}}function Lo(t){return function(e,n,r){for(var o=-1,i=Pt(e),u=r(e),a=u.length;a--;){var c=u[t?a:++o];if(!1===n(i[c],c,i))break}return e}}function zo(t){return function(e){var n=cn(e=_a(e))?yn(e):i,r=n?n[0]:e.charAt(0),o=n?xo(n,1).join(""):e.slice(1);return r[t]()+o}}function Bo(t){return function(e){return Ie(tc(Va(e).replace(Qt,"")),t,"")}}function Uo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Xn(t.prototype),r=t.apply(n,e);return ra(r)?r:n}}function Fo(t){return function(e,n,r){var o=Pt(e);if(!$u(e)){var u=fi(n,3);e=Ca(e),n=function(t){return u(o[t],t,o)}}var a=t(e,n,r);return a>-1?o[u?e[a]:a]:i}}function Ho(t){return ii((function(e){var n=e.length,r=n,o=Yn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new Dt(u);if(o&&!c&&"wrapper"==si(a))var c=new Yn([],!0)}for(r=c?r:n;++r<n;){var s=si(a=e[r]),l="wrapper"==s?ci(a):i;c=l&&xi(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[si(l[0])].apply(c,l[3]):1==a.length&&xi(a)?c[s]():c.thru(a)}return function(){var t=arguments,r=t[0];if(c&&1==t.length&&Wu(r))return c.plant(r).value();for(var o=0,i=n?e[o].apply(this,t):r;++o<n;)i=e[o].call(this,i);return i}}))}function Xo(t,e,n,o,u,a,c,s,l,f){var d=e&p,h=1&e,y=2&e,v=24&e,g=512&e,b=y?i:Uo(t);return function i(){for(var p=arguments.length,m=r(p),O=p;O--;)m[O]=arguments[O];if(v)var _=li(i),w=rn(m,_);if(o&&(m=Do(m,o,u,v)),a&&(m=To(m,a,c,v)),p-=w,v&&p<f){var j=fn(m,_);return Zo(t,e,Xo,i.placeholder,n,m,j,s,l,f-p)}var x=h?n:this,E=y?x[t]:t;return p=m.length,s?m=Ti(m,s):g&&p>1&&m.reverse(),d&&l<p&&(m.length=l),this&&this!==he&&this instanceof i&&(E=b||Uo(E)),E.apply(x,m)}}function Go(t,e){return function(n,r){return function(t,e,n,r){return wr(t,(function(t,o,i){e(r,n(t),o,i)})),r}(n,t,e(r),{})}}function Yo(t,e){return function(n,r){var o;if(n===i&&r===i)return e;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=fo(n),r=fo(r)):(n=lo(n),r=lo(r)),o=t(n,r)}return o}}function Vo(t){return ii((function(e){return e=Ce(e,Je(fi())),Jr((function(n){var r=this;return t(e,(function(t){return Se(t,r,n)}))}))}))}function Wo(t,e){var n=(e=e===i?" ":fo(e)).length;if(n<2)return n?qr(e,t):e;var r=qr(e,ye(t/hn(e)));return cn(e)?xo(yn(r),0,t).join(""):r.slice(0,t)}function Ko(t){return function(e,n,o){return o&&"number"!=typeof o&&wi(e,n,o)&&(n=o=i),e=va(e),n===i?(n=e,e=0):n=va(n),function(t,e,n,o){for(var i=-1,u=On(ye((e-t)/(n||1)),0),a=r(u);u--;)a[o?u:++i]=t,t+=n;return a}(e,n,o=o===i?e<n?1:-1:va(o),t)}}function $o(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ma(e),n=ma(n)),t(e,n)}}function Zo(t,e,n,r,o,u,a,c,s,p){var d=8&e;e|=d?l:f,4&(e&=~(d?f:l))||(e&=-4);var h=[t,e,o,d?u:i,d?a:i,d?i:u,d?i:a,c,s,p],y=n.apply(i,h);return xi(t)&&Ni(y,h),y.placeholder=r,Ii(y,t,e)}function qo(t){var e=St[t];return function(t,n){if(t=ma(t),(n=null==n?0:_n(ga(n),292))&&Be(t)){var r=(_a(t)+"e").split("e");return+((r=(_a(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Jo=kn&&1/pn(new kn([,-0]))[1]==h?function(t){return new kn(t)}:fc;function Qo(t){return function(e){var n=gi(e);return n==S?sn(e):n==T?dn(e):function(t,e){return Ce(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function ti(t,e,n,o,a,h,y,v){var g=2&e;if(!g&&"function"!=typeof t)throw new Dt(u);var b=o?o.length:0;if(b||(e&=-97,o=a=i),y=y===i?y:On(ga(y),0),v=v===i?v:ga(v),b-=a?a.length:0,e&f){var m=o,O=a;o=a=i}var _=g?i:ci(t),w=[t,e,n,o,a,m,O,h,y,v];if(_&&function(t,e){var n=t[1],r=e[1],o=n|r,i=o<131,u=r==p&&8==n||r==p&&n==d&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!i&&!u)return t;1&r&&(t[2]=e[2],o|=1&n?0:4);var a=e[3];if(a){var s=t[3];t[3]=s?Do(s,a,e[4]):a,t[4]=s?fn(t[3],c):e[4]}(a=e[5])&&(s=t[5],t[5]=s?To(s,a,e[6]):a,t[6]=s?fn(t[5],c):e[6]),(a=e[7])&&(t[7]=a),r&p&&(t[8]=null==t[8]?e[8]:_n(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o}(w,_),t=w[0],e=w[1],n=w[2],o=w[3],a=w[4],!(v=w[9]=w[9]===i?g?0:t.length:On(w[9]-b,0))&&24&e&&(e&=-25),e&&1!=e)j=8==e||e==s?function(t,e,n){var o=Uo(t);return function u(){for(var a=arguments.length,c=r(a),s=a,l=li(u);s--;)c[s]=arguments[s];var f=a<3&&c[0]!==l&&c[a-1]!==l?[]:fn(c,l);return(a-=f.length)<n?Zo(t,e,Xo,u.placeholder,i,c,f,i,i,n-a):Se(this&&this!==he&&this instanceof u?o:t,this,c)}}(t,e,v):e!=l&&33!=e||a.length?Xo.apply(i,w):function(t,e,n,o){var i=1&e,u=Uo(t);return function e(){for(var a=-1,c=arguments.length,s=-1,l=o.length,f=r(l+c),p=this&&this!==he&&this instanceof e?u:t;++s<l;)f[s]=o[s];for(;c--;)f[s++]=arguments[++a];return Se(p,i?n:this,f)}}(t,e,n,o);else var j=function(t,e,n){var r=1&e,o=Uo(t);return function e(){return(this&&this!==he&&this instanceof e?o:t).apply(r?n:this,arguments)}}(t,e,n);return Ii((_?no:Ni)(j,w),t,e)}function ei(t,e,n,r){return t===i||Xu(t,Nt[n])&&!It.call(r,n)?e:t}function ni(t,e,n,r,o,u){return ra(t)&&ra(e)&&(u.set(e,t),Gr(t,e,i,ni,u),u.delete(e)),t}function ri(t){return aa(t)?i:t}function oi(t,e,n,r,o,u){var a=1&n,c=t.length,s=e.length;if(c!=s&&!(a&&s>c))return!1;var l=u.get(t),f=u.get(e);if(l&&f)return l==e&&f==t;var p=-1,d=!0,h=2&n?new Zn:i;for(u.set(t,e),u.set(e,t);++p<c;){var y=t[p],v=e[p];if(r)var g=a?r(v,y,p,e,t,u):r(y,v,p,t,e,u);if(g!==i){if(g)continue;d=!1;break}if(h){if(!ze(e,(function(t,e){if(!tn(h,e)&&(y===t||o(y,t,n,r,u)))return h.push(e)}))){d=!1;break}}else if(y!==v&&!o(y,v,n,r,u)){d=!1;break}}return u.delete(t),u.delete(e),d}function ii(t){return Ri(ki(t,i,Ki),t+"")}function ui(t){return Sr(t,Ca,yi)}function ai(t){return Sr(t,Ra,vi)}var ci=Mn?function(t){return Mn.get(t)}:fc;function si(t){for(var e=t.name+"",n=Nn[e],r=It.call(Nn,e)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==t)return o.name}return e}function li(t){return(It.call(Hn,"placeholder")?Hn:t).placeholder}function fi(){var t=Hn.iteratee||ac;return t=t===ac?Lr:t,arguments.length?t(arguments[0],arguments[1]):t}function pi(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function di(t){for(var e=Ca(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,Pi(o)]}return e}function hi(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return Ir(n)?n:i}var yi=be?function(t){return null==t?[]:(t=Pt(t),Te(be(t),(function(e){return $t.call(t,e)})))}:bc,vi=be?function(t){for(var e=[];t;)Re(e,yi(t)),t=Wt(t);return e}:bc,gi=Pr;function bi(t,e,n){for(var r=-1,o=(e=wo(e,t)).length,i=!1;++r<o;){var u=Ui(e[r]);if(!(i=null!=t&&n(t,u)))break;t=t[u]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&na(o)&&_i(u,o)&&(Wu(t)||Vu(t))}function mi(t){return"function"!=typeof t.constructor||Si(t)?{}:Xn(Wt(t))}function Oi(t){return Wu(t)||Vu(t)||!!(qt&&t&&t[qt])}function _i(t,e){var n=typeof t;return!!(e=null==e?y:e)&&("number"==n||"symbol"!=n&&_t.test(t))&&t>-1&&t%1==0&&t<e}function wi(t,e,n){if(!ra(n))return!1;var r=typeof e;return!!("number"==r?$u(n)&&_i(e,n.length):"string"==r&&e in n)&&Xu(n[e],t)}function ji(t,e){if(Wu(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!fa(t))||rt.test(t)||!nt.test(t)||null!=e&&t in Pt(e)}function xi(t){var e=si(t),n=Hn[e];if("function"!=typeof n||!(e in Vn.prototype))return!1;if(t===n)return!0;var r=ci(n);return!!r&&t===r[0]}(Sn&&gi(new Sn(new ArrayBuffer(1)))!=I||Pn&&gi(new Pn)!=S||An&&gi(An.resolve())!=k||kn&&gi(new kn)!=T||Dn&&gi(new Dn)!=C)&&(gi=function(t){var e=Pr(t),n=e==A?t.constructor:i,r=n?Fi(n):"";if(r)switch(r){case Cn:return I;case Rn:return S;case In:return k;case Ln:return T;case zn:return C}return e});var Ei=Ct?ta:mc;function Si(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Nt)}function Pi(t){return t==t&&!ra(t)}function Ai(t,e){return function(n){return null!=n&&n[t]===e&&(e!==i||t in Pt(n))}}function ki(t,e,n){return e=On(e===i?t.length-1:e,0),function(){for(var o=arguments,i=-1,u=On(o.length-e,0),a=r(u);++i<u;)a[i]=o[e+i];i=-1;for(var c=r(e+1);++i<e;)c[i]=o[i];return c[e]=n(a),Se(t,this,c)}}function Di(t,e){return e.length<2?t:Er(t,io(e,0,-1))}function Ti(t,e){for(var n=t.length,r=_n(e.length,n),o=Mo(t);r--;){var u=e[r];t[r]=_i(u,n)?o[u]:i}return t}function Mi(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ni=Li(no),Ci=de||function(t,e){return he.setTimeout(t,e)},Ri=Li(ro);function Ii(t,e,n){var r=e+"";return Ri(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(st,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Ae(b,(function(n){var r="_."+n[0];e&n[1]&&!Me(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(lt);return e?e[1].split(ft):[]}(r),n)))}function Li(t){var e=0,n=0;return function(){var r=wn(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function zi(t,e){var n=-1,r=t.length,o=r-1;for(e=e===i?r:e;++n<e;){var u=Zr(n,o),a=t[u];t[u]=t[n],t[n]=a}return t.length=e,t}var Bi=function(t){var e=Lu(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(ot,(function(t,n,r,o){e.push(r?o.replace(ht,"$1"):n||t)})),e}));function Ui(t){if("string"==typeof t||fa(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Fi(t){if(null!=t){try{return Rt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Hi(t){if(t instanceof Vn)return t.clone();var e=new Yn(t.__wrapped__,t.__chain__);return e.__actions__=Mo(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Xi=Jr((function(t,e){return Zu(t)?dr(t,mr(e,1,Zu,!0)):[]})),Gi=Jr((function(t,e){var n=Qi(e);return Zu(n)&&(n=i),Zu(t)?dr(t,mr(e,1,Zu,!0),fi(n,2)):[]})),Yi=Jr((function(t,e){var n=Qi(e);return Zu(n)&&(n=i),Zu(t)?dr(t,mr(e,1,Zu,!0),i,n):[]}));function Vi(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:ga(n);return o<0&&(o=On(r+o,0)),Fe(t,fi(e,3),o)}function Wi(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==i&&(o=ga(n),o=n<0?On(r+o,0):_n(o,r-1)),Fe(t,fi(e,3),o,!0)}function Ki(t){return null!=t&&t.length?mr(t,1):[]}function $i(t){return t&&t.length?t[0]:i}var Zi=Jr((function(t){var e=Ce(t,Oo);return e.length&&e[0]===t[0]?Tr(e):[]})),qi=Jr((function(t){var e=Qi(t),n=Ce(t,Oo);return e===Qi(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Tr(n,fi(e,2)):[]})),Ji=Jr((function(t){var e=Qi(t),n=Ce(t,Oo);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?Tr(n,i,e):[]}));function Qi(t){var e=null==t?0:t.length;return e?t[e-1]:i}var tu=Jr(eu);function eu(t,e){return t&&t.length&&e&&e.length?Kr(t,e):t}var nu=ii((function(t,e){var n=null==t?0:t.length,r=cr(t,e);return $r(t,Ce(e,(function(t){return _i(t,n)?+t:t})).sort(ko)),r}));function ru(t){return null==t?t:En.call(t)}var ou=Jr((function(t){return po(mr(t,1,Zu,!0))})),iu=Jr((function(t){var e=Qi(t);return Zu(e)&&(e=i),po(mr(t,1,Zu,!0),fi(e,2))})),uu=Jr((function(t){var e=Qi(t);return e="function"==typeof e?e:i,po(mr(t,1,Zu,!0),i,e)}));function au(t){if(!t||!t.length)return[];var e=0;return t=Te(t,(function(t){if(Zu(t))return e=On(t.length,e),!0})),Ze(e,(function(e){return Ce(t,Ve(e))}))}function cu(t,e){if(!t||!t.length)return[];var n=au(t);return null==e?n:Ce(n,(function(t){return Se(e,i,t)}))}var su=Jr((function(t,e){return Zu(t)?dr(t,e):[]})),lu=Jr((function(t){return bo(Te(t,Zu))})),fu=Jr((function(t){var e=Qi(t);return Zu(e)&&(e=i),bo(Te(t,Zu),fi(e,2))})),pu=Jr((function(t){var e=Qi(t);return e="function"==typeof e?e:i,bo(Te(t,Zu),i,e)})),du=Jr(au),hu=Jr((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,cu(t,n)}));function yu(t){var e=Hn(t);return e.__chain__=!0,e}function vu(t,e){return e(t)}var gu=ii((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return cr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Vn&&_i(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:vu,args:[o],thisArg:i}),new Yn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)})),bu=Co((function(t,e,n){It.call(t,n)?++t[n]:ar(t,n,1)})),mu=Fo(Vi),Ou=Fo(Wi);function _u(t,e){return(Wu(t)?Ae:hr)(t,fi(e,3))}function wu(t,e){return(Wu(t)?ke:yr)(t,fi(e,3))}var ju=Co((function(t,e,n){It.call(t,n)?t[n].push(e):ar(t,n,[e])})),xu=Jr((function(t,e,n){var o=-1,i="function"==typeof e,u=$u(t)?r(t.length):[];return hr(t,(function(t){u[++o]=i?Se(e,t,n):Mr(t,e,n)})),u})),Eu=Co((function(t,e,n){ar(t,n,e)}));function Su(t,e){return(Wu(t)?Ce:Fr)(t,fi(e,3))}var Pu=Co((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),Au=Jr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&wi(t,e[0],e[1])?e=[]:n>2&&wi(e[0],e[1],e[2])&&(e=[e[0]]),Vr(t,mr(e,1),[])})),ku=pe||function(){return he.Date.now()};function Du(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,ti(t,p,i,i,i,i,e)}function Tu(t,e){var n;if("function"!=typeof e)throw new Dt(u);return t=ga(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Mu=Jr((function(t,e,n){var r=1;if(n.length){var o=fn(n,li(Mu));r|=l}return ti(t,r,e,n,o)})),Nu=Jr((function(t,e,n){var r=3;if(n.length){var o=fn(n,li(Nu));r|=l}return ti(e,r,t,n,o)}));function Cu(t,e,n){var r,o,a,c,s,l,f=0,p=!1,d=!1,h=!0;if("function"!=typeof t)throw new Dt(u);function y(e){var n=r,u=o;return r=o=i,f=e,c=t.apply(u,n)}function v(t){return f=t,s=Ci(b,e),p?y(t):c}function g(t){var n=t-l;return l===i||n>=e||n<0||d&&t-f>=a}function b(){var t=ku();if(g(t))return m(t);s=Ci(b,function(t){var n=e-(t-l);return d?_n(n,a-(t-f)):n}(t))}function m(t){return s=i,h&&r?y(t):(r=o=i,c)}function O(){var t=ku(),n=g(t);if(r=arguments,o=this,l=t,n){if(s===i)return v(l);if(d)return Eo(s),s=Ci(b,e),y(l)}return s===i&&(s=Ci(b,e)),c}return e=ma(e)||0,ra(n)&&(p=!!n.leading,a=(d="maxWait"in n)?On(ma(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h),O.cancel=function(){s!==i&&Eo(s),f=0,r=l=o=s=i},O.flush=function(){return s===i?c:m(ku())},O}var Ru=Jr((function(t,e){return pr(t,1,e)})),Iu=Jr((function(t,e,n){return pr(t,ma(e)||0,n)}));function Lu(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Dt(u);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return n.cache=i.set(o,u)||i,u};return n.cache=new(Lu.Cache||$n),n}function zu(t){if("function"!=typeof t)throw new Dt(u);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Lu.Cache=$n;var Bu=jo((function(t,e){var n=(e=1==e.length&&Wu(e[0])?Ce(e[0],Je(fi())):Ce(mr(e,1),Je(fi()))).length;return Jr((function(r){for(var o=-1,i=_n(r.length,n);++o<i;)r[o]=e[o].call(this,r[o]);return Se(t,this,r)}))})),Uu=Jr((function(t,e){var n=fn(e,li(Uu));return ti(t,l,i,e,n)})),Fu=Jr((function(t,e){var n=fn(e,li(Fu));return ti(t,f,i,e,n)})),Hu=ii((function(t,e){return ti(t,d,i,i,i,e)}));function Xu(t,e){return t===e||t!=t&&e!=e}var Gu=$o(Ar),Yu=$o((function(t,e){return t>=e})),Vu=Nr(function(){return arguments}())?Nr:function(t){return oa(t)&&It.call(t,"callee")&&!$t.call(t,"callee")},Wu=r.isArray,Ku=Oe?Je(Oe):function(t){return oa(t)&&Pr(t)==R};function $u(t){return null!=t&&na(t.length)&&!ta(t)}function Zu(t){return oa(t)&&$u(t)}var qu=me||mc,Ju=_e?Je(_e):function(t){return oa(t)&&Pr(t)==w};function Qu(t){if(!oa(t))return!1;var e=Pr(t);return e==j||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!aa(t)}function ta(t){if(!ra(t))return!1;var e=Pr(t);return e==x||e==E||"[object AsyncFunction]"==e||"[object Proxy]"==e}function ea(t){return"number"==typeof t&&t==ga(t)}function na(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=y}function ra(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function oa(t){return null!=t&&"object"==typeof t}var ia=we?Je(we):function(t){return oa(t)&&gi(t)==S};function ua(t){return"number"==typeof t||oa(t)&&Pr(t)==P}function aa(t){if(!oa(t)||Pr(t)!=A)return!1;var e=Wt(t);if(null===e)return!0;var n=It.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Rt.call(n)==Ut}var ca=je?Je(je):function(t){return oa(t)&&Pr(t)==D},sa=xe?Je(xe):function(t){return oa(t)&&gi(t)==T};function la(t){return"string"==typeof t||!Wu(t)&&oa(t)&&Pr(t)==M}function fa(t){return"symbol"==typeof t||oa(t)&&Pr(t)==N}var pa=Ee?Je(Ee):function(t){return oa(t)&&na(t.length)&&!!ae[Pr(t)]},da=$o(Ur),ha=$o((function(t,e){return t<=e}));function ya(t){if(!t)return[];if($u(t))return la(t)?yn(t):Mo(t);if(Jt&&t[Jt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Jt]());var e=gi(t);return(e==S?sn:e==T?pn:Xa)(t)}function va(t){return t?(t=ma(t))===h||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ga(t){var e=va(t),n=e%1;return e==e?n?e-n:e:0}function ba(t){return t?sr(ga(t),0,g):0}function ma(t){if("number"==typeof t)return t;if(fa(t))return v;if(ra(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ra(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=qe(t);var n=bt.test(t);return n||Ot.test(t)?fe(t.slice(2),n?2:8):gt.test(t)?v:+t}function Oa(t){return No(t,Ra(t))}function _a(t){return null==t?"":fo(t)}var wa=Ro((function(t,e){if(Si(e)||$u(e))No(e,Ca(e),t);else for(var n in e)It.call(e,n)&&rr(t,n,e[n])})),ja=Ro((function(t,e){No(e,Ra(e),t)})),xa=Ro((function(t,e,n,r){No(e,Ra(e),t,r)})),Ea=Ro((function(t,e,n,r){No(e,Ca(e),t,r)})),Sa=ii(cr),Pa=Jr((function(t,e){t=Pt(t);var n=-1,r=e.length,o=r>2?e[2]:i;for(o&&wi(e[0],e[1],o)&&(r=1);++n<r;)for(var u=e[n],a=Ra(u),c=-1,s=a.length;++c<s;){var l=a[c],f=t[l];(f===i||Xu(f,Nt[l])&&!It.call(t,l))&&(t[l]=u[l])}return t})),Aa=Jr((function(t){return t.push(i,ni),Se(La,i,t)}));function ka(t,e,n){var r=null==t?i:Er(t,e);return r===i?n:r}function Da(t,e){return null!=t&&bi(t,e,Dr)}var Ta=Go((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Bt.call(e)),t[e]=n}),rc(uc)),Ma=Go((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Bt.call(e)),It.call(t,e)?t[e].push(n):t[e]=[n]}),fi),Na=Jr(Mr);function Ca(t){return $u(t)?Jn(t):zr(t)}function Ra(t){return $u(t)?Jn(t,!0):Br(t)}var Ia=Ro((function(t,e,n){Gr(t,e,n)})),La=Ro((function(t,e,n,r){Gr(t,e,n,r)})),za=ii((function(t,e){var n={};if(null==t)return n;var r=!1;e=Ce(e,(function(e){return e=wo(e,t),r||(r=e.length>1),e})),No(t,ai(t),n),r&&(n=lr(n,7,ri));for(var o=e.length;o--;)ho(n,e[o]);return n})),Ba=ii((function(t,e){return null==t?{}:function(t,e){return Wr(t,e,(function(e,n){return Da(t,n)}))}(t,e)}));function Ua(t,e){if(null==t)return{};var n=Ce(ai(t),(function(t){return[t]}));return e=fi(e),Wr(t,n,(function(t,n){return e(t,n[0])}))}var Fa=Qo(Ca),Ha=Qo(Ra);function Xa(t){return null==t?[]:Qe(t,Ca(t))}var Ga=Bo((function(t,e,n){return e=e.toLowerCase(),t+(n?Ya(e):e)}));function Ya(t){return Qa(_a(t).toLowerCase())}function Va(t){return(t=_a(t))&&t.replace(wt,on).replace(te,"")}var Wa=Bo((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ka=Bo((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),$a=zo("toLowerCase"),Za=Bo((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),qa=Bo((function(t,e,n){return t+(n?" ":"")+Qa(e)})),Ja=Bo((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Qa=zo("toUpperCase");function tc(t,e,n){return t=_a(t),(e=n?i:e)===i?function(t){return oe.test(t)}(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.match(pt)||[]}(t):t.match(e)||[]}var ec=Jr((function(t,e){try{return Se(t,i,e)}catch(t){return Qu(t)?t:new ct(t)}})),nc=ii((function(t,e){return Ae(e,(function(e){e=Ui(e),ar(t,e,Mu(t[e],t))})),t}));function rc(t){return function(){return t}}var oc=Ho(),ic=Ho(!0);function uc(t){return t}function ac(t){return Lr("function"==typeof t?t:lr(t,1))}var cc=Jr((function(t,e){return function(n){return Mr(n,t,e)}})),sc=Jr((function(t,e){return function(n){return Mr(t,n,e)}}));function lc(t,e,n){var r=Ca(e),o=xr(e,r);null!=n||ra(e)&&(o.length||!r.length)||(n=e,e=t,t=this,o=xr(e,Ca(e)));var i=!(ra(n)&&"chain"in n&&!n.chain),u=ta(t);return Ae(o,(function(n){var r=e[n];t[n]=r,u&&(t.prototype[n]=function(){var e=this.__chain__;if(i||e){var n=t(this.__wrapped__),o=n.__actions__=Mo(this.__actions__);return o.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Re([this.value()],arguments))})})),t}function fc(){}var pc=Vo(Ce),dc=Vo(De),hc=Vo(ze);function yc(t){return ji(t)?Ve(Ui(t)):function(t){return function(e){return Er(e,t)}}(t)}var vc=Ko(),gc=Ko(!0);function bc(){return[]}function mc(){return!1}var Oc,_c=Yo((function(t,e){return t+e}),0),wc=qo("ceil"),jc=Yo((function(t,e){return t/e}),1),xc=qo("floor"),Ec=Yo((function(t,e){return t*e}),1),Sc=qo("round"),Pc=Yo((function(t,e){return t-e}),0);return Hn.after=function(t,e){if("function"!=typeof e)throw new Dt(u);return t=ga(t),function(){if(--t<1)return e.apply(this,arguments)}},Hn.ary=Du,Hn.assign=wa,Hn.assignIn=ja,Hn.assignInWith=xa,Hn.assignWith=Ea,Hn.at=Sa,Hn.before=Tu,Hn.bind=Mu,Hn.bindAll=nc,Hn.bindKey=Nu,Hn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Wu(t)?t:[t]},Hn.chain=yu,Hn.chunk=function(t,e,n){e=(n?wi(t,e,n):e===i)?1:On(ga(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var u=0,a=0,c=r(ye(o/e));u<o;)c[a++]=io(t,u,u+=e);return c},Hn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o},Hn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],o=t;o--;)e[o-1]=arguments[o];return Re(Wu(n)?Mo(n):[n],mr(e,1))},Hn.cond=function(t){var e=null==t?0:t.length,n=fi();return t=e?Ce(t,(function(t){if("function"!=typeof t[1])throw new Dt(u);return[n(t[0]),t[1]]})):[],Jr((function(n){for(var r=-1;++r<e;){var o=t[r];if(Se(o[0],this,n))return Se(o[1],this,n)}}))},Hn.conforms=function(t){return function(t){var e=Ca(t);return function(n){return fr(n,t,e)}}(lr(t,1))},Hn.constant=rc,Hn.countBy=bu,Hn.create=function(t,e){var n=Xn(t);return null==e?n:ur(n,e)},Hn.curry=function t(e,n,r){var o=ti(e,8,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Hn.curryRight=function t(e,n,r){var o=ti(e,s,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Hn.debounce=Cu,Hn.defaults=Pa,Hn.defaultsDeep=Aa,Hn.defer=Ru,Hn.delay=Iu,Hn.difference=Xi,Hn.differenceBy=Gi,Hn.differenceWith=Yi,Hn.drop=function(t,e,n){var r=null==t?0:t.length;return r?io(t,(e=n||e===i?1:ga(e))<0?0:e,r):[]},Hn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?io(t,0,(e=r-(e=n||e===i?1:ga(e)))<0?0:e):[]},Hn.dropRightWhile=function(t,e){return t&&t.length?vo(t,fi(e,3),!0,!0):[]},Hn.dropWhile=function(t,e){return t&&t.length?vo(t,fi(e,3),!0):[]},Hn.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&wi(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=ga(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:ga(r))<0&&(r+=o),r=n>r?0:ba(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Hn.filter=function(t,e){return(Wu(t)?Te:br)(t,fi(e,3))},Hn.flatMap=function(t,e){return mr(Su(t,e),1)},Hn.flatMapDeep=function(t,e){return mr(Su(t,e),h)},Hn.flatMapDepth=function(t,e,n){return n=n===i?1:ga(n),mr(Su(t,e),n)},Hn.flatten=Ki,Hn.flattenDeep=function(t){return null!=t&&t.length?mr(t,h):[]},Hn.flattenDepth=function(t,e){return null!=t&&t.length?mr(t,e=e===i?1:ga(e)):[]},Hn.flip=function(t){return ti(t,512)},Hn.flow=oc,Hn.flowRight=ic,Hn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var o=t[e];r[o[0]]=o[1]}return r},Hn.functions=function(t){return null==t?[]:xr(t,Ca(t))},Hn.functionsIn=function(t){return null==t?[]:xr(t,Ra(t))},Hn.groupBy=ju,Hn.initial=function(t){return null!=t&&t.length?io(t,0,-1):[]},Hn.intersection=Zi,Hn.intersectionBy=qi,Hn.intersectionWith=Ji,Hn.invert=Ta,Hn.invertBy=Ma,Hn.invokeMap=xu,Hn.iteratee=ac,Hn.keyBy=Eu,Hn.keys=Ca,Hn.keysIn=Ra,Hn.map=Su,Hn.mapKeys=function(t,e){var n={};return e=fi(e,3),wr(t,(function(t,r,o){ar(n,e(t,r,o),t)})),n},Hn.mapValues=function(t,e){var n={};return e=fi(e,3),wr(t,(function(t,r,o){ar(n,r,e(t,r,o))})),n},Hn.matches=function(t){return Hr(lr(t,1))},Hn.matchesProperty=function(t,e){return Xr(t,lr(e,1))},Hn.memoize=Lu,Hn.merge=Ia,Hn.mergeWith=La,Hn.method=cc,Hn.methodOf=sc,Hn.mixin=lc,Hn.negate=zu,Hn.nthArg=function(t){return t=ga(t),Jr((function(e){return Yr(e,t)}))},Hn.omit=za,Hn.omitBy=function(t,e){return Ua(t,zu(fi(e)))},Hn.once=function(t){return Tu(2,t)},Hn.orderBy=function(t,e,n,r){return null==t?[]:(Wu(e)||(e=null==e?[]:[e]),Wu(n=r?i:n)||(n=null==n?[]:[n]),Vr(t,e,n))},Hn.over=pc,Hn.overArgs=Bu,Hn.overEvery=dc,Hn.overSome=hc,Hn.partial=Uu,Hn.partialRight=Fu,Hn.partition=Pu,Hn.pick=Ba,Hn.pickBy=Ua,Hn.property=yc,Hn.propertyOf=function(t){return function(e){return null==t?i:Er(t,e)}},Hn.pull=tu,Hn.pullAll=eu,Hn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Kr(t,e,fi(n,2)):t},Hn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Kr(t,e,i,n):t},Hn.pullAt=nu,Hn.range=vc,Hn.rangeRight=gc,Hn.rearg=Hu,Hn.reject=function(t,e){return(Wu(t)?Te:br)(t,zu(fi(e,3)))},Hn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,o=[],i=t.length;for(e=fi(e,3);++r<i;){var u=t[r];e(u,r,t)&&(n.push(u),o.push(r))}return $r(t,o),n},Hn.rest=function(t,e){if("function"!=typeof t)throw new Dt(u);return Jr(t,e=e===i?e:ga(e))},Hn.reverse=ru,Hn.sampleSize=function(t,e,n){return e=(n?wi(t,e,n):e===i)?1:ga(e),(Wu(t)?tr:to)(t,e)},Hn.set=function(t,e,n){return null==t?t:eo(t,e,n)},Hn.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:eo(t,e,n,r)},Hn.shuffle=function(t){return(Wu(t)?er:oo)(t)},Hn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&wi(t,e,n)?(e=0,n=r):(e=null==e?0:ga(e),n=n===i?r:ga(n)),io(t,e,n)):[]},Hn.sortBy=Au,Hn.sortedUniq=function(t){return t&&t.length?so(t):[]},Hn.sortedUniqBy=function(t,e){return t&&t.length?so(t,fi(e,2)):[]},Hn.split=function(t,e,n){return n&&"number"!=typeof n&&wi(t,e,n)&&(e=n=i),(n=n===i?g:n>>>0)?(t=_a(t))&&("string"==typeof e||null!=e&&!ca(e))&&!(e=fo(e))&&cn(t)?xo(yn(t),0,n):t.split(e,n):[]},Hn.spread=function(t,e){if("function"!=typeof t)throw new Dt(u);return e=null==e?0:On(ga(e),0),Jr((function(n){var r=n[e],o=xo(n,0,e);return r&&Re(o,r),Se(t,this,o)}))},Hn.tail=function(t){var e=null==t?0:t.length;return e?io(t,1,e):[]},Hn.take=function(t,e,n){return t&&t.length?io(t,0,(e=n||e===i?1:ga(e))<0?0:e):[]},Hn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?io(t,(e=r-(e=n||e===i?1:ga(e)))<0?0:e,r):[]},Hn.takeRightWhile=function(t,e){return t&&t.length?vo(t,fi(e,3),!1,!0):[]},Hn.takeWhile=function(t,e){return t&&t.length?vo(t,fi(e,3)):[]},Hn.tap=function(t,e){return e(t),t},Hn.throttle=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new Dt(u);return ra(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Cu(t,e,{leading:r,maxWait:e,trailing:o})},Hn.thru=vu,Hn.toArray=ya,Hn.toPairs=Fa,Hn.toPairsIn=Ha,Hn.toPath=function(t){return Wu(t)?Ce(t,Ui):fa(t)?[t]:Mo(Bi(_a(t)))},Hn.toPlainObject=Oa,Hn.transform=function(t,e,n){var r=Wu(t),o=r||qu(t)||pa(t);if(e=fi(e,4),null==n){var i=t&&t.constructor;n=o?r?new i:[]:ra(t)&&ta(i)?Xn(Wt(t)):{}}return(o?Ae:wr)(t,(function(t,r,o){return e(n,t,r,o)})),n},Hn.unary=function(t){return Du(t,1)},Hn.union=ou,Hn.unionBy=iu,Hn.unionWith=uu,Hn.uniq=function(t){return t&&t.length?po(t):[]},Hn.uniqBy=function(t,e){return t&&t.length?po(t,fi(e,2)):[]},Hn.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?po(t,i,e):[]},Hn.unset=function(t,e){return null==t||ho(t,e)},Hn.unzip=au,Hn.unzipWith=cu,Hn.update=function(t,e,n){return null==t?t:yo(t,e,_o(n))},Hn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:yo(t,e,_o(n),r)},Hn.values=Xa,Hn.valuesIn=function(t){return null==t?[]:Qe(t,Ra(t))},Hn.without=su,Hn.words=tc,Hn.wrap=function(t,e){return Uu(_o(e),t)},Hn.xor=lu,Hn.xorBy=fu,Hn.xorWith=pu,Hn.zip=du,Hn.zipObject=function(t,e){return mo(t||[],e||[],rr)},Hn.zipObjectDeep=function(t,e){return mo(t||[],e||[],eo)},Hn.zipWith=hu,Hn.entries=Fa,Hn.entriesIn=Ha,Hn.extend=ja,Hn.extendWith=xa,lc(Hn,Hn),Hn.add=_c,Hn.attempt=ec,Hn.camelCase=Ga,Hn.capitalize=Ya,Hn.ceil=wc,Hn.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=ma(n))==n?n:0),e!==i&&(e=(e=ma(e))==e?e:0),sr(ma(t),e,n)},Hn.clone=function(t){return lr(t,4)},Hn.cloneDeep=function(t){return lr(t,5)},Hn.cloneDeepWith=function(t,e){return lr(t,5,e="function"==typeof e?e:i)},Hn.cloneWith=function(t,e){return lr(t,4,e="function"==typeof e?e:i)},Hn.conformsTo=function(t,e){return null==e||fr(t,e,Ca(e))},Hn.deburr=Va,Hn.defaultTo=function(t,e){return null==t||t!=t?e:t},Hn.divide=jc,Hn.endsWith=function(t,e,n){t=_a(t),e=fo(e);var r=t.length,o=n=n===i?r:sr(ga(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},Hn.eq=Xu,Hn.escape=function(t){return(t=_a(t))&&J.test(t)?t.replace(Z,un):t},Hn.escapeRegExp=function(t){return(t=_a(t))&&ut.test(t)?t.replace(it,"\\$&"):t},Hn.every=function(t,e,n){var r=Wu(t)?De:vr;return n&&wi(t,e,n)&&(e=i),r(t,fi(e,3))},Hn.find=mu,Hn.findIndex=Vi,Hn.findKey=function(t,e){return Ue(t,fi(e,3),wr)},Hn.findLast=Ou,Hn.findLastIndex=Wi,Hn.findLastKey=function(t,e){return Ue(t,fi(e,3),jr)},Hn.floor=xc,Hn.forEach=_u,Hn.forEachRight=wu,Hn.forIn=function(t,e){return null==t?t:Or(t,fi(e,3),Ra)},Hn.forInRight=function(t,e){return null==t?t:_r(t,fi(e,3),Ra)},Hn.forOwn=function(t,e){return t&&wr(t,fi(e,3))},Hn.forOwnRight=function(t,e){return t&&jr(t,fi(e,3))},Hn.get=ka,Hn.gt=Gu,Hn.gte=Yu,Hn.has=function(t,e){return null!=t&&bi(t,e,kr)},Hn.hasIn=Da,Hn.head=$i,Hn.identity=uc,Hn.includes=function(t,e,n,r){t=$u(t)?t:Xa(t),n=n&&!r?ga(n):0;var o=t.length;return n<0&&(n=On(o+n,0)),la(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&He(t,e,n)>-1},Hn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:ga(n);return o<0&&(o=On(r+o,0)),He(t,e,o)},Hn.inRange=function(t,e,n){return e=va(e),n===i?(n=e,e=0):n=va(n),function(t,e,n){return t>=_n(e,n)&&t<On(e,n)}(t=ma(t),e,n)},Hn.invoke=Na,Hn.isArguments=Vu,Hn.isArray=Wu,Hn.isArrayBuffer=Ku,Hn.isArrayLike=$u,Hn.isArrayLikeObject=Zu,Hn.isBoolean=function(t){return!0===t||!1===t||oa(t)&&Pr(t)==_},Hn.isBuffer=qu,Hn.isDate=Ju,Hn.isElement=function(t){return oa(t)&&1===t.nodeType&&!aa(t)},Hn.isEmpty=function(t){if(null==t)return!0;if($u(t)&&(Wu(t)||"string"==typeof t||"function"==typeof t.splice||qu(t)||pa(t)||Vu(t)))return!t.length;var e=gi(t);if(e==S||e==T)return!t.size;if(Si(t))return!zr(t).length;for(var n in t)if(It.call(t,n))return!1;return!0},Hn.isEqual=function(t,e){return Cr(t,e)},Hn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?Cr(t,e,i,n):!!r},Hn.isError=Qu,Hn.isFinite=function(t){return"number"==typeof t&&Be(t)},Hn.isFunction=ta,Hn.isInteger=ea,Hn.isLength=na,Hn.isMap=ia,Hn.isMatch=function(t,e){return t===e||Rr(t,e,di(e))},Hn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Rr(t,e,di(e),n)},Hn.isNaN=function(t){return ua(t)&&t!=+t},Hn.isNative=function(t){if(Ei(t))throw new ct("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ir(t)},Hn.isNil=function(t){return null==t},Hn.isNull=function(t){return null===t},Hn.isNumber=ua,Hn.isObject=ra,Hn.isObjectLike=oa,Hn.isPlainObject=aa,Hn.isRegExp=ca,Hn.isSafeInteger=function(t){return ea(t)&&t>=-9007199254740991&&t<=y},Hn.isSet=sa,Hn.isString=la,Hn.isSymbol=fa,Hn.isTypedArray=pa,Hn.isUndefined=function(t){return t===i},Hn.isWeakMap=function(t){return oa(t)&&gi(t)==C},Hn.isWeakSet=function(t){return oa(t)&&"[object WeakSet]"==Pr(t)},Hn.join=function(t,e){return null==t?"":We.call(t,e)},Hn.kebabCase=Wa,Hn.last=Qi,Hn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=ga(n))<0?On(r+o,0):_n(o,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):Fe(t,Ge,o,!0)},Hn.lowerCase=Ka,Hn.lowerFirst=$a,Hn.lt=da,Hn.lte=ha,Hn.max=function(t){return t&&t.length?gr(t,uc,Ar):i},Hn.maxBy=function(t,e){return t&&t.length?gr(t,fi(e,2),Ar):i},Hn.mean=function(t){return Ye(t,uc)},Hn.meanBy=function(t,e){return Ye(t,fi(e,2))},Hn.min=function(t){return t&&t.length?gr(t,uc,Ur):i},Hn.minBy=function(t,e){return t&&t.length?gr(t,fi(e,2),Ur):i},Hn.stubArray=bc,Hn.stubFalse=mc,Hn.stubObject=function(){return{}},Hn.stubString=function(){return""},Hn.stubTrue=function(){return!0},Hn.multiply=Ec,Hn.nth=function(t,e){return t&&t.length?Yr(t,ga(e)):i},Hn.noConflict=function(){return he._===this&&(he._=Ft),this},Hn.noop=fc,Hn.now=ku,Hn.pad=function(t,e,n){t=_a(t);var r=(e=ga(e))?hn(t):0;if(!e||r>=e)return t;var o=(e-r)/2;return Wo(ve(o),n)+t+Wo(ye(o),n)},Hn.padEnd=function(t,e,n){t=_a(t);var r=(e=ga(e))?hn(t):0;return e&&r<e?t+Wo(e-r,n):t},Hn.padStart=function(t,e,n){t=_a(t);var r=(e=ga(e))?hn(t):0;return e&&r<e?Wo(e-r,n)+t:t},Hn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),jn(_a(t).replace(at,""),e||0)},Hn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&wi(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=va(t),e===i?(e=t,t=0):e=va(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=xn();return _n(t+o*(e-t+le("1e-"+((o+"").length-1))),e)}return Zr(t,e)},Hn.reduce=function(t,e,n){var r=Wu(t)?Ie:Ke,o=arguments.length<3;return r(t,fi(e,4),n,o,hr)},Hn.reduceRight=function(t,e,n){var r=Wu(t)?Le:Ke,o=arguments.length<3;return r(t,fi(e,4),n,o,yr)},Hn.repeat=function(t,e,n){return e=(n?wi(t,e,n):e===i)?1:ga(e),qr(_a(t),e)},Hn.replace=function(){var t=arguments,e=_a(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Hn.result=function(t,e,n){var r=-1,o=(e=wo(e,t)).length;for(o||(o=1,t=i);++r<o;){var u=null==t?i:t[Ui(e[r])];u===i&&(r=o,u=n),t=ta(u)?u.call(t):u}return t},Hn.round=Sc,Hn.runInContext=t,Hn.sample=function(t){return(Wu(t)?Qn:Qr)(t)},Hn.size=function(t){if(null==t)return 0;if($u(t))return la(t)?hn(t):t.length;var e=gi(t);return e==S||e==T?t.size:zr(t).length},Hn.snakeCase=Za,Hn.some=function(t,e,n){var r=Wu(t)?ze:uo;return n&&wi(t,e,n)&&(e=i),r(t,fi(e,3))},Hn.sortedIndex=function(t,e){return ao(t,e)},Hn.sortedIndexBy=function(t,e,n){return co(t,e,fi(n,2))},Hn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ao(t,e);if(r<n&&Xu(t[r],e))return r}return-1},Hn.sortedLastIndex=function(t,e){return ao(t,e,!0)},Hn.sortedLastIndexBy=function(t,e,n){return co(t,e,fi(n,2),!0)},Hn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=ao(t,e,!0)-1;if(Xu(t[n],e))return n}return-1},Hn.startCase=qa,Hn.startsWith=function(t,e,n){return t=_a(t),n=null==n?0:sr(ga(n),0,t.length),e=fo(e),t.slice(n,n+e.length)==e},Hn.subtract=Pc,Hn.sum=function(t){return t&&t.length?$e(t,uc):0},Hn.sumBy=function(t,e){return t&&t.length?$e(t,fi(e,2)):0},Hn.template=function(t,e,n){var r=Hn.templateSettings;n&&wi(t,e,n)&&(e=i),t=_a(t),e=xa({},e,r,ei);var o,u,a=xa({},e.imports,r.imports,ei),c=Ca(a),s=Qe(a,c),l=0,f=e.interpolate||jt,p="__p += '",d=At((e.escape||jt).source+"|"+f.source+"|"+(f===et?yt:jt).source+"|"+(e.evaluate||jt).source+"|$","g"),h="//# sourceURL="+(It.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ue+"]")+"\n";t.replace(d,(function(e,n,r,i,a,c){return r||(r=i),p+=t.slice(l,c).replace(xt,an),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),a&&(u=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+e.length,e})),p+="';\n";var y=It.call(e,"variable")&&e.variable;if(y){if(dt.test(y))throw new ct("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(u?p.replace(V,""):p).replace(W,"$1").replace(K,"$1;"),p="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=ec((function(){return Et(c,h+"return "+p).apply(i,s)}));if(v.source=p,Qu(v))throw v;return v},Hn.times=function(t,e){if((t=ga(t))<1||t>y)return[];var n=g,r=_n(t,g);e=fi(e),t-=g;for(var o=Ze(r,e);++n<t;)e(n);return o},Hn.toFinite=va,Hn.toInteger=ga,Hn.toLength=ba,Hn.toLower=function(t){return _a(t).toLowerCase()},Hn.toNumber=ma,Hn.toSafeInteger=function(t){return t?sr(ga(t),-9007199254740991,y):0===t?t:0},Hn.toString=_a,Hn.toUpper=function(t){return _a(t).toUpperCase()},Hn.trim=function(t,e,n){if((t=_a(t))&&(n||e===i))return qe(t);if(!t||!(e=fo(e)))return t;var r=yn(t),o=yn(e);return xo(r,en(r,o),nn(r,o)+1).join("")},Hn.trimEnd=function(t,e,n){if((t=_a(t))&&(n||e===i))return t.slice(0,vn(t)+1);if(!t||!(e=fo(e)))return t;var r=yn(t);return xo(r,0,nn(r,yn(e))+1).join("")},Hn.trimStart=function(t,e,n){if((t=_a(t))&&(n||e===i))return t.replace(at,"");if(!t||!(e=fo(e)))return t;var r=yn(t);return xo(r,en(r,yn(e))).join("")},Hn.truncate=function(t,e){var n=30,r="...";if(ra(e)){var o="separator"in e?e.separator:o;n="length"in e?ga(e.length):n,r="omission"in e?fo(e.omission):r}var u=(t=_a(t)).length;if(cn(t)){var a=yn(t);u=a.length}if(n>=u)return t;var c=n-hn(r);if(c<1)return r;var s=a?xo(a,0,c).join(""):t.slice(0,c);if(o===i)return s+r;if(a&&(c+=s.length-c),ca(o)){if(t.slice(c).search(o)){var l,f=s;for(o.global||(o=At(o.source,_a(vt.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var p=l.index;s=s.slice(0,p===i?c:p)}}else if(t.indexOf(fo(o),c)!=c){var d=s.lastIndexOf(o);d>-1&&(s=s.slice(0,d))}return s+r},Hn.unescape=function(t){return(t=_a(t))&&q.test(t)?t.replace($,gn):t},Hn.uniqueId=function(t){var e=++Lt;return _a(t)+e},Hn.upperCase=Ja,Hn.upperFirst=Qa,Hn.each=_u,Hn.eachRight=wu,Hn.first=$i,lc(Hn,(Oc={},wr(Hn,(function(t,e){It.call(Hn.prototype,e)||(Oc[e]=t)})),Oc),{chain:!1}),Hn.VERSION="4.17.21",Ae(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Hn[t].placeholder=Hn})),Ae(["drop","take"],(function(t,e){Vn.prototype[t]=function(n){n=n===i?1:On(ga(n),0);var r=this.__filtered__&&!e?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=_n(n,r.__takeCount__):r.__views__.push({size:_n(n,g),type:t+(r.__dir__<0?"Right":"")}),r},Vn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Ae(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Vn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:fi(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Ae(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Vn.prototype[t]=function(){return this[n](1).value()[0]}})),Ae(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Vn.prototype[t]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(uc)},Vn.prototype.find=function(t){return this.filter(t).head()},Vn.prototype.findLast=function(t){return this.reverse().find(t)},Vn.prototype.invokeMap=Jr((function(t,e){return"function"==typeof t?new Vn(this):this.map((function(n){return Mr(n,t,e)}))})),Vn.prototype.reject=function(t){return this.filter(zu(fi(t)))},Vn.prototype.slice=function(t,e){t=ga(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Vn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=ga(e))<0?n.dropRight(-e):n.take(e-t)),n)},Vn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Vn.prototype.toArray=function(){return this.take(g)},wr(Vn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=Hn[r?"take"+("last"==e?"Right":""):e],u=r||/^find/.test(e);o&&(Hn.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,c=e instanceof Vn,s=a[0],l=c||Wu(e),f=function(t){var e=o.apply(Hn,Re([t],a));return r&&p?e[0]:e};l&&n&&"function"==typeof s&&1!=s.length&&(c=l=!1);var p=this.__chain__,d=!!this.__actions__.length,h=u&&!p,y=c&&!d;if(!u&&l){e=y?e:new Vn(this);var v=t.apply(e,a);return v.__actions__.push({func:vu,args:[f],thisArg:i}),new Yn(v,p)}return h&&y?t.apply(this,a):(v=this.thru(f),h?r?v.value()[0]:v.value():v)})})),Ae(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Tt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Hn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var o=this.value();return e.apply(Wu(o)?o:[],t)}return this[n]((function(n){return e.apply(Wu(n)?n:[],t)}))}})),wr(Vn.prototype,(function(t,e){var n=Hn[e];if(n){var r=n.name+"";It.call(Nn,r)||(Nn[r]=[]),Nn[r].push({name:e,func:n})}})),Nn[Xo(i,2).name]=[{name:"wrapper",func:i}],Vn.prototype.clone=function(){var t=new Vn(this.__wrapped__);return t.__actions__=Mo(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Mo(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Mo(this.__views__),t},Vn.prototype.reverse=function(){if(this.__filtered__){var t=new Vn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Vn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Wu(t),r=e<0,o=n?t.length:0,i=function(t,e,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],u=i.size;switch(i.type){case"drop":t+=u;break;case"dropRight":e-=u;break;case"take":e=_n(e,t+u);break;case"takeRight":t=On(t,e-u)}}return{start:t,end:e}}(0,o,this.__views__),u=i.start,a=i.end,c=a-u,s=r?a:u-1,l=this.__iteratees__,f=l.length,p=0,d=_n(c,this.__takeCount__);if(!n||!r&&o==c&&d==c)return go(t,this.__actions__);var h=[];t:for(;c--&&p<d;){for(var y=-1,v=t[s+=e];++y<f;){var g=l[y],b=g.iteratee,m=g.type,O=b(v);if(2==m)v=O;else if(!O){if(1==m)continue t;break t}}h[p++]=v}return h},Hn.prototype.at=gu,Hn.prototype.chain=function(){return yu(this)},Hn.prototype.commit=function(){return new Yn(this.value(),this.__chain__)},Hn.prototype.next=function(){this.__values__===i&&(this.__values__=ya(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Hn.prototype.plant=function(t){for(var e,n=this;n instanceof Gn;){var r=Hi(n);r.__index__=0,r.__values__=i,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},Hn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Vn){var e=t;return this.__actions__.length&&(e=new Vn(this)),(e=e.reverse()).__actions__.push({func:vu,args:[ru],thisArg:i}),new Yn(e,this.__chain__)}return this.thru(ru)},Hn.prototype.toJSON=Hn.prototype.valueOf=Hn.prototype.value=function(){return go(this.__wrapped__,this.__actions__)},Hn.prototype.first=Hn.prototype.head,Jt&&(Hn.prototype[Jt]=function(){return this}),Hn}();he._=bn,(o=function(){return bn}.call(e,n,e,r))===i||(r.exports=o)}).call(this)}).call(this,n(68),n(221)(t))},function(t,e,n){var r=n(7),o=n(34),i=n(33),u=n(87),a=n(62),c=n(174),s=n(28),l=r.TypeError,f=s("toPrimitive");t.exports=function(t,e){if(!i(t)||u(t))return t;var n,r=a(t,f);if(r){if(void 0===e&&(e="default"),n=o(r,t,e),!i(n)||u(n))return n;throw l("Can't convert object to primitive value")}return void 0===e&&(e="number"),c(t,e)}},function(t,e,n){var r=n(108);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(36),o=n(18),i=n(91);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(35),o=n(135),i=n(50),u=n(38);t.exports=function(t,e){for(var n=o(e),a=u.f,c=i.f,s=0;s<n.length;s++){var l=n[s];r(t,l)||a(t,l,c(e,l))}}},function(t,e,n){var r=n(46),o=n(15),i=n(74),u=n(112),a=n(32),c=o([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(a(t)),n=u.f;return n?c(e,n(t)):e}},function(t,e,n){var r=n(15),o=n(35),i=n(41),u=n(137).indexOf,a=n(72),c=r([].push);t.exports=function(t,e){var n,r=i(t),s=0,l=[];for(n in r)!o(a,n)&&o(r,n)&&c(l,n);for(;e.length>s;)o(r,n=e[s++])&&(~u(l,n)||c(l,n));return l}},function(t,e,n){var r=n(41),o=n(75),i=n(45),u=function(t){return function(e,n,u){var a,c=r(e),s=i(c),l=o(u,s);if(t&&n!=n){for(;s>l;)if((a=c[l++])!=a)return!0}else for(;s>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:u(!0),indexOf:u(!1)}},function(t,e,n){var r=n(46);t.exports=r("document","documentElement")},function(t,e,n){var r=n(51),o=n(41),i=n(74).f,u=n(114),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"Window"==r(t)?function(t){try{return i(t)}catch(t){return u(a)}}(t):i(o(t))}},function(t,e,n){var r=n(28);e.f=r},function(t,e,n){var r=n(177),o=n(35),i=n(140),u=n(38).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||u(e,t,{value:i.f(t)})}},function(t,e,n){"use strict";var r,o,i,u=n(18),a=n(30),c=n(60),s=n(101),l=n(42),f=n(28),p=n(71),d=f("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=s(s(i)))!==Object.prototype&&(r=o):h=!0),null==r||u((function(){var t={};return r[d].call(t)!==t}))?r={}:p&&(r=c(r)),a(r[d])||l(r,d,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(t,e,n){var r=n(18);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r=n(16),o=n(15),i=n(72),u=n(33),a=n(35),c=n(38).f,s=n(74),l=n(139),f=n(183),p=n(90),d=n(185),h=!1,y=p("meta"),v=0,g=function(t){c(t,y,{value:{objectID:"O"+v++,weakData:{}}})},b=t.exports={enable:function(){b.enable=function(){},h=!0;var t=s.f,e=o([].splice),n={};n[y]=1,t(n).length&&(s.f=function(n){for(var r=t(n),o=0,i=r.length;o<i;o++)if(r[o]===y){e(r,o,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(t,e){if(!u(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,y)){if(!f(t))return"F";if(!e)return"E";g(t)}return t[y].objectID},getWeakData:function(t,e){if(!a(t,y)){if(!f(t))return!0;if(!e)return!1;g(t)}return t[y].weakData},onFreeze:function(t){return d&&h&&f(t)&&!a(t,y)&&g(t),t}};i[y]=!0},function(t,e,n){var r=n(28),o=n(80),i=r("iterator"),u=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||u[i]===t)}},function(t,e,n){var r=n(7),o=n(34),i=n(56),u=n(32),a=n(88),c=n(118),s=r.TypeError;t.exports=function(t,e){var n=arguments.length<2?c(t):e;if(i(n))return u(o(n,t));throw s(a(t)+" is not iterable")}},function(t,e,n){var r=n(34),o=n(32),i=n(62);t.exports=function(t,e,n){var u,a;o(t);try{if(!(u=i(t,"return"))){if("throw"===e)throw n;return n}u=r(u,t)}catch(t){a=!0,u=t}if("throw"===e)throw n;if(a)throw u;return o(u),n}},function(t,e,n){var r=n(30),o=n(33),i=n(102);t.exports=function(t,e,n){var u,a;return i&&r(u=e.constructor)&&u!==n&&o(a=u.prototype)&&a!==n.prototype&&i(t,a),t}},function(t,e,n){var r=n(42);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){"use strict";var r=n(46),o=n(38),i=n(28),u=n(36),a=i("species");t.exports=function(t){var e=r(t),n=o.f;u&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(15),o=n(59),i=n(39),u=n(44),a=r("".charAt),c=r("".charCodeAt),s=r("".slice),l=function(t){return function(e,n){var r,l,f=i(u(e)),p=o(n),d=f.length;return p<0||p>=d?t?"":void 0:(r=c(f,p))<55296||r>56319||p+1===d||(l=c(f,p+1))<56320||l>57343?t?a(f,p):r:t?s(f,p,p+2):l-56320+(r-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){var r=n(91)("span").classList,o=r&&r.constructor&&r.constructor.prototype;t.exports=o===Object.prototype?void 0:o},function(t,e,n){"use strict";var r=n(32);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(18),o=n(7).RegExp,i=r((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),u=i||r((function(){return!o("a","y").sticky})),a=i||r((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:a,MISSED_STICKY:u,UNSUPPORTED_Y:i}},function(t,e,n){"use strict";var r=n(16),o=n(79).find,i=n(100),u="find",a=!0;u in[]&&Array(1).find((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(u)},function(t,e,n){"use strict";var r=n(16),o=n(137).includes,i=n(100);r({target:"Array",proto:!0},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(t,e,n){"use strict";var r=n(16),o=n(15),i=n(197),u=n(44),a=n(39),c=n(198),s=o("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~s(a(u(this)),a(i(t)),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(33),o=n(51),i=n(28)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,n){var r=n(15);t.exports=r(1..valueOf)},function(t,e,n){var r=n(15),o=n(44),i=n(39),u=n(162),a=r("".replace),c="["+u+"]",s=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),f=function(t){return function(e){var n=i(o(e));return 1&t&&(n=a(n,s,"")),2&t&&(n=a(n,l,"")),n}};t.exports={start:f(1),end:f(2),trim:f(3)}},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var c,s=[],l=!1,f=-1;function p(){l&&c&&(l=!1,c.length?s=c.concat(s):f=-1,s.length&&d())}function d(){if(!l){var t=a(p);l=!0;for(var e=s.length;e;){for(c=s,s=[];++f<e;)c&&c[f].run();f=-1,e=s.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new h(t,e)),1!==s.length||l||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){var r=n(32),o=n(165),i=n(28)("species");t.exports=function(t,e){var n,u=r(t).constructor;return void 0===u||null==(n=r(u)[i])?e:o(n)}},function(t,e,n){var r=n(7),o=n(99),i=n(88),u=r.TypeError;t.exports=function(t){if(o(t))return t;throw u(i(t)+" is not a constructor")}},function(t,e,n){"use strict";var r=n(16),o=n(161).trim;r({target:"String",proto:!0,forced:n(200)("trim")},{trim:function(){return o(this)}})},function(t,e,n){"use strict";var r=n(34),o=n(123),i=n(32),u=n(94),a=n(39),c=n(44),s=n(62),l=n(124),f=n(125);o("match",(function(t,e,n){return[function(e){var n=c(this),o=null==e?void 0:s(e,t);return o?r(o,e,n):new RegExp(e)[t](a(n))},function(t){var r=i(this),o=a(t),c=n(e,r,o);if(c.done)return c.value;if(!r.global)return f(r,o);var s=r.unicode;r.lastIndex=0;for(var p,d=[],h=0;null!==(p=f(r,o));){var y=a(p[0]);d[h]=y,""===y&&(r.lastIndex=l(o,u(r.lastIndex),s)),h++}return 0===h?null:d}]}))},function(t,e,n){var r,o,i,u,a=n(7),c=n(76),s=n(64),l=n(30),f=n(35),p=n(18),d=n(138),h=n(98),y=n(91),v=n(169),g=n(128),b=a.setImmediate,m=a.clearImmediate,O=a.process,_=a.Dispatch,w=a.Function,j=a.MessageChannel,x=a.String,E=0,S={},P="onreadystatechange";try{r=a.location}catch(t){}var A=function(t){if(f(S,t)){var e=S[t];delete S[t],e()}},k=function(t){return function(){A(t)}},D=function(t){A(t.data)},T=function(t){a.postMessage(x(t),r.protocol+"//"+r.host)};b&&m||(b=function(t){var e=h(arguments,1);return S[++E]=function(){c(l(t)?t:w(t),void 0,e)},o(E),E},m=function(t){delete S[t]},g?o=function(t){O.nextTick(k(t))}:_&&_.now?o=function(t){_.now(k(t))}:j&&!v?(u=(i=new j).port2,i.port1.onmessage=D,o=s(u.postMessage,u)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&r&&"file:"!==r.protocol&&!p(T)?(o=T,a.addEventListener("message",D,!1)):o=P in y("script")?function(t){d.appendChild(y("script")).onreadystatechange=function(){d.removeChild(this),A(t)}}:function(t){setTimeout(k(t),0)}),t.exports={set:b,clear:m}},function(t,e,n){var r=n(55);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(t,e,n){"use strict";var r=n(56),o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},function(t,e,n){"use strict";e.a=function(){return!1}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return m}));var r=n(1);function o(t){throw new Error("[mobx-utils] "+t)}function i(t,e){void 0===e&&(e="Illegal state"),t||o(e)}var u=function(t){return t&&t!==Object.prototype&&Object.getOwnPropertyNames(t).concat(u(Object.getPrototypeOf(t))||[])},a=function(t){return function(t){var e=u(t);return e.filter((function(t,n){return e.indexOf(t)===n}))}(t).filter((function(t){return"constructor"!==t&&!~t.indexOf("__")}))},c="pending",s="fulfilled",l="rejected";function f(t){switch(this.state){case c:return t.pending&&t.pending(this.value);case l:return t.rejected&&t.rejected(this.value);case s:return t.fulfilled?t.fulfilled(this.value):this.value}}function p(t,e){if(i(arguments.length<=2,"fromPromise expects up to two arguments"),i("function"==typeof t||"object"==typeof t&&t&&"function"==typeof t.then,"Please pass a promise or function to fromPromise"),!0===t.isPromiseBasedObservable)return t;"function"==typeof t&&(t=new Promise(t));var n=t;t.then(Object(r.k)("observableFromPromise-resolve",(function(t){n.value=t,n.state=s})),Object(r.k)("observableFromPromise-reject",(function(t){n.value=t,n.state=l}))),n.isPromiseBasedObservable=!0,n.case=f;var o=e&&e.state===s?e.value:void 0;return Object(r.q)(n,{value:o,state:c},{},{deep:!1}),n}!function(t){t.reject=Object(r.k)("fromPromise.reject",(function(e){var n=t(Promise.reject(e));return n.state=l,n.value=e,n})),t.resolve=Object(r.k)("fromPromise.resolve",(function(e){void 0===e&&(e=void 0);var n=t(Promise.resolve(e));return n.state=s,n.value=e,n}))}(p||(p={}));var d=function(t,e,n,r){var o,i=arguments.length,u=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(u=(i<3?o(u):i>3?o(e,n,u):o(e,n))||u);return i>3&&u&&Object.defineProperty(e,n,u),u};!function(){function t(t,e){var n=this;Object(r.G)((function(){n.current=e,n.subscription=t.subscribe(n)}))}t.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype.next=function(t){this.current=t},t.prototype.complete=function(){this.dispose()},t.prototype.error=function(t){this.current=t,this.dispose()},d([r.C.ref],t.prototype,"current",void 0),d([r.k.bound],t.prototype,"next",null),d([r.k.bound],t.prototype,"complete",null),d([r.k.bound],t.prototype,"error",null)}();var h=function(){return h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},h.apply(this,arguments)},y=function(t,e,n,r){var o,i=arguments.length,u=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(u=(i<3?o(u):i>3?o(e,n,u):o(e,n))||u);return i>3&&u&&Object.defineProperty(e,n,u),u},v=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];function g(t){if(!t)return"ROOT";for(var e=[];t.parent;)e.push(t.path),t=t.parent;return e.reverse().join("/")}function b(t){return Object(r.A)(t)||Object(r.y)(t)||Object(r.z)(t)}function m(t,e){var n=new WeakMap;function o(r){var o=n.get(r.object);!function(t,e){switch(t.type){case"add":i(t.newValue,e,t.name);break;case"update":u(t.oldValue),i(t.newValue,e,t.name||""+t.index);break;case"remove":case"delete":u(t.oldValue);break;case"splice":t.removed.map(u),t.added.forEach((function(n,r){return i(n,e,""+(t.index+r))}));for(var r=t.index+t.addedCount;r<t.object.length;r++)if(b(t.object[r])){var o=n.get(t.object[r]);o&&(o.path=""+r)}}}(r,o),e(r,g(o),t)}function i(t,e,u){if(b(t)){var a=n.get(t);if(a){if(a.parent!==e||a.path!==u)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+g(e)+"/"+u+"', but it already exists at '"+g(a.parent)+"/"+a.path+"'")}else{var c={parent:e,path:u,dispose:Object(r.D)(t,o)};n.set(t,c),Object(r.p)(t).forEach((function(t){var e=t[0];return i(t[1],c,e)}))}}}function u(t){if(b(t)){var e=n.get(t);if(!e)return;n.delete(t),e.dispose(),Object(r.L)(t).forEach(u)}}return i(t,void 0,""),function(){u(t)}}!function(){function t(t){var e=this;this.model=t,this.localValues=r.C.map({}),this.localComputedValues=r.C.map({}),this.isPropertyDirty=function(t){return e.localValues.has(t)},i(Object(r.A)(t),"createViewModel expects an observable object"),a(t).forEach((function(n){if(n!==r.a&&"__mobxDidRunLazyInitializers"!==n){if(i(-1===v.indexOf(n),"The propertyname "+n+" is reserved and cannot be used with viewModels"),Object(r.w)(t,n)){var o=Object(r.h)(t,n).derivation;e.localComputedValues.set(n,Object(r.m)(o.bind(e)))}var u=Object.getOwnPropertyDescriptor(t,n),a=u?{enumerable:u.enumerable}:{};Object.defineProperty(e,n,h(h({},a),{configurable:!0,get:function(){return Object(r.w)(t,n)?e.localComputedValues.get(n).get():e.isPropertyDirty(n)?e.localValues.get(n):e.model[n]},set:Object(r.k)((function(t){t!==e.model[n]?e.localValues.set(n,t):e.localValues.delete(n)}))}))}}))}Object.defineProperty(t.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),t.prototype.submit=function(){var t=this;Object(r.B)(this.localValues).forEach((function(e){var n=t.localValues.get(e),o=t.model[e];Object(r.y)(o)?o.replace(n):Object(r.z)(o)?(o.clear(),o.merge(n)):Object(r.v)(n)||(t.model[e]=n)})),this.localValues.clear()},t.prototype.reset=function(){this.localValues.clear()},t.prototype.resetProperty=function(t){this.localValues.delete(t)},y([r.m],t.prototype,"isDirty",null),y([r.m],t.prototype,"changedValues",null),y([r.k.bound],t.prototype,"submit",null),y([r.k.bound],t.prototype,"reset",null),y([r.k.bound],t.prototype,"resetProperty",null)}();var O,_=(O=function(t,e){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},O(t,e)},function(t,e){function n(){this.constructor=t}O(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),w=(function(t){function e(e,n,o){var i=void 0===o?{}:o,u=i.name,a=void 0===u?"ogm"+(1e3*Math.random()|0):u,c=i.keyToName,s=void 0===c?function(t){return""+t}:c,l=t.call(this)||this;l._keyToName=s,l._groupBy=n,l._ogmInfoKey=Symbol("ogmInfo"+a),l._base=e;for(var f=0;f<e.length;f++)l._addItem(e[f]);return l._disposeBaseObserver=Object(r.D)(l._base,(function(t){if("splice"===t.type)Object(r.J)((function(){for(var e=0,n=t.removed;e<n.length;e++){var r=n[e];l._removeItem(r)}for(var o=0,i=t.added;o<i.length;o++){var u=i[o];l._addItem(u)}}));else{if("update"!==t.type)throw new Error("illegal state");Object(r.J)((function(){l._removeItem(t.oldValue),l._addItem(t.newValue)}))}})),l}_(e,t),e.prototype.clear=function(){throw new Error("not supported")},e.prototype.delete=function(t){throw new Error("not supported")},e.prototype.set=function(t,e){throw new Error("not supported")},e.prototype.dispose=function(){this._disposeBaseObserver();for(var t=0;t<this._base.length;t++){var e=this._base[t];e[this._ogmInfoKey].reaction(),delete e[this._ogmInfoKey]}},e.prototype._getGroupArr=function(e){var n=t.prototype.get.call(this,e);return void 0===n&&(n=Object(r.C)([],{name:"GroupArray["+this._keyToName(e)+"]",deep:!1}),t.prototype.set.call(this,e,n)),n},e.prototype._removeFromGroupArr=function(e,n){var r=t.prototype.get.call(this,e);1===r.length?t.prototype.delete.call(this,e):(n===r.length-1||(r[n]=r[r.length-1],r[n][this._ogmInfoKey].groupArrIndex=n),r.length--)},e.prototype._addItem=function(t){var e=this,n=this._groupBy(t),o=this._getGroupArr(n),i={groupByValue:n,groupArrIndex:o.length,reaction:Object(r.F)((function(){return e._groupBy(t)}),(function(n,r){var o=t[e._ogmInfoKey];e._removeFromGroupArr(o.groupByValue,o.groupArrIndex);var i=e._getGroupArr(n),u=i.length;i.push(t),o.groupByValue=n,o.groupArrIndex=u}))};Object.defineProperty(t,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:i}),o.push(t)},e.prototype._removeItem=function(t){var e=t[this._ogmInfoKey];this._removeFromGroupArr(e.groupByValue,e.groupArrIndex),e.reaction(),delete t[this._ogmInfoKey]}}(r.b),function(){function t(t,e){this.base=t,this.args=e,this.closestIdx=0,this.isDisposed=!1;for(var n=this.closest=this.root=t,r=0;r<this.args.length-1&&(n=n.get(e[r]));r++)this.closest=n;this.closestIdx=r}return t.prototype.exists=function(){this.assertNotDisposed();var t=this.args.length;return this.closestIdx>=t-1&&this.closest.has(this.args[t-1])},t.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},t.prototype.set=function(t){this.assertNotDisposed();for(var e=this.args.length,n=this.closest,r=this.closestIdx;r<e-1;r++){var o=new Map;n.set(this.args[r],o),n=o}this.closestIdx=e-1,this.closest=n,n.set(this.args[e-1],t)},t.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var t=this.args.length;this.closest.delete(this.args[t-1]);for(var e=this.root,n=[e],r=0;r<t-1;r++)e=e.get(this.args[r]),n.push(e);for(r=n.length-1;r>0;r--)0===n[r].size&&n[r-1].delete(this.args[r-1]);this.isDisposed=!0},t.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},t}());!function(){function t(){this.store=new Map,this.argsLength=-1}t.prototype.entry=function(t){if(-1===this.argsLength)this.argsLength=t.length;else if(this.argsLength!==t.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+t.length);return this.last&&(this.last.isDisposed=!0),this.last=new w(this.store,t)}}(),new Set,new Set;Promise.resolve();"undefined"!=typeof queueMicrotask?queueMicrotask:void 0!==t&&t.nextTick}).call(this,n(163))},function(t,e,n){var r;!function(o,i,u){if(o){for(var a,c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p=1;p<20;++p)c[111+p]="f"+p;for(p=0;p<=9;++p)c[p+96]=p.toString();m.prototype.bind=function(t,e,n){var r=this;return t=t instanceof Array?t:[t],r._bindMultiple.call(r,t,e,n),r},m.prototype.unbind=function(t,e){return this.bind.call(this,t,(function(){}),e)},m.prototype.trigger=function(t,e){var n=this;return n._directMap[t+":"+e]&&n._directMap[t+":"+e]({},t),n},m.prototype.reset=function(){var t=this;return t._callbacks={},t._directMap={},t},m.prototype.stopCallback=function(t,e){if((" "+e.className+" ").indexOf(" mousetrap ")>-1)return!1;if(b(e,this.target))return!1;if("composedPath"in t&&"function"==typeof t.composedPath){var n=t.composedPath()[0];n!==t.target&&(e=n)}return"INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable},m.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},m.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(c[e]=t[e]);a=null},m.init=function(){var t=m(i);for(var e in t)"_"!==e.charAt(0)&&(m[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},m.init(),o.Mousetrap=m,t.exports&&(t.exports=m),void 0===(r=function(){return m}.call(e,n,e,t))||(t.exports=r)}function d(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function h(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return c[t.which]?c[t.which]:s[t.which]?s[t.which]:String.fromCharCode(t.which).toLowerCase()}function y(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function v(t,e,n){return n||(n=function(){if(!a)for(var t in a={},c)t>95&&t<112||c.hasOwnProperty(t)&&(a[c[t]]=t);return a}()[t]?"keydown":"keypress"),"keypress"==n&&e.length&&(n="keydown"),n}function g(t,e){var n,r,o,i=[];for(n=function(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus")).split("+")}(t),o=0;o<n.length;++o)r=n[o],f[r]&&(r=f[r]),e&&"keypress"!=e&&l[r]&&(r=l[r],i.push("shift")),y(r)&&i.push(r);return{key:r,modifiers:i,action:e=v(r,i,e)}}function b(t,e){return null!==t&&t!==i&&(t===e||b(t.parentNode,e))}function m(t){var e=this;if(t=t||i,!(e instanceof m))return new m(t);e.target=t,e._callbacks={},e._directMap={};var n,r={},o=!1,u=!1,a=!1;function c(t){t=t||{};var e,n=!1;for(e in r)t[e]?n=!0:r[e]=0;n||(a=!1)}function s(t,n,o,i,u,a){var c,s,l,f,p=[],d=o.type;if(!e._callbacks[t])return[];for("keyup"==d&&y(t)&&(n=[t]),c=0;c<e._callbacks[t].length;++c)if(s=e._callbacks[t][c],(i||!s.seq||r[s.seq]==s.level)&&d==s.action&&("keypress"==d&&!o.metaKey&&!o.ctrlKey||(l=n,f=s.modifiers,l.sort().join(",")===f.sort().join(",")))){var h=!i&&s.combo==u,v=i&&s.seq==i&&s.level==a;(h||v)&&e._callbacks[t].splice(c,1),p.push(s)}return p}function l(t,n,r,o){e.stopCallback(n,n.target||n.srcElement,r,o)||!1===t(n,r)&&(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}(n),function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}(n))}function f(t){"number"!=typeof t.which&&(t.which=t.keyCode);var n=h(t);n&&("keyup"!=t.type||o!==n?e.handleKey(n,function(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}(t),t):o=!1)}function p(t,e,i,u){function s(e){return function(){a=e,++r[t],clearTimeout(n),n=setTimeout(c,1e3)}}function f(e){l(i,e,t),"keyup"!==u&&(o=h(e)),setTimeout(c,10)}r[t]=0;for(var p=0;p<e.length;++p){var d=p+1===e.length?f:s(u||g(e[p+1]).action);v(e[p],d,u,t,p)}}function v(t,n,r,o,i){e._directMap[t+":"+r]=n;var u,a=(t=t.replace(/\s+/g," ")).split(" ");a.length>1?p(t,a,n,r):(u=g(t,r),e._callbacks[u.key]=e._callbacks[u.key]||[],s(u.key,u.modifiers,{type:u.action},o,t,i),e._callbacks[u.key][o?"unshift":"push"]({callback:n,modifiers:u.modifiers,action:u.action,seq:o,level:i,combo:t}))}e._handleKey=function(t,e,n){var r,o=s(t,e,n),i={},f=0,p=!1;for(r=0;r<o.length;++r)o[r].seq&&(f=Math.max(f,o[r].level));for(r=0;r<o.length;++r)if(o[r].seq){if(o[r].level!=f)continue;p=!0,i[o[r].seq]=1,l(o[r].callback,n,o[r].combo,o[r].seq)}else p||l(o[r].callback,n,o[r].combo);var d="keypress"==n.type&&u;n.type!=a||y(t)||d||c(i),u=p&&"keydown"==n.type},e._bindMultiple=function(t,e,n){for(var r=0;r<t.length;++r)v(t[r],e,n)},d(t,"keypress",f),d(t,"keydown",f),d(t,"keyup",f)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(t,e,n){var r=n(7),o=n(34),i=n(30),u=n(33),a=r.TypeError;t.exports=function(t,e){var n,r;if("string"===e&&i(n=t.toString)&&!u(r=o(n,t)))return r;if(i(n=t.valueOf)&&!u(r=o(n,t)))return r;if("string"!==e&&i(n=t.toString)&&!u(r=o(n,t)))return r;throw a("Can't convert object to primitive value")}},function(t,e,n){var r=n(7),o=n(30),i=n(92),u=r.WeakMap;t.exports=o(u)&&/native code/.test(i(u))},function(t,e,n){var r=n(36),o=n(38),i=n(32),u=n(41),a=n(77);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=u(e),c=a(e),s=c.length,l=0;s>l;)o.f(t,n=c[l++],r[n]);return t}},function(t,e,n){var r=n(7);t.exports=r},function(t,e,n){var r=n(7),o=n(96),i=n(99),u=n(33),a=n(28)("species"),c=r.Array;t.exports=function(t){var e;return o(t)&&(e=t.constructor,(i(e)&&(e===c||o(e.prototype))||u(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?c:e}},function(t,e,n){"use strict";var r=n(113),o=n(97);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(t,e,n){"use strict";var r=n(142).IteratorPrototype,o=n(60),i=n(69),u=n(78),a=n(80),c=function(){return this};t.exports=function(t,e,n,s){var l=e+" Iterator";return t.prototype=o(r,{next:i(+!s,n)}),u(t,l,!1,!0),a[l]=c,t}},function(t,e,n){var r=n(7),o=n(30),i=r.String,u=r.TypeError;t.exports=function(t){if("object"==typeof t||o(t))return t;throw u("Can't set "+i(t)+" as a prototype")}},function(t,e,n){"use strict";var r=n(16),o=n(7),i=n(15),u=n(95),a=n(42),c=n(144),s=n(117),l=n(119),f=n(30),p=n(33),d=n(18),h=n(120),y=n(78),v=n(148);t.exports=function(t,e,n){var g=-1!==t.indexOf("Map"),b=-1!==t.indexOf("Weak"),m=g?"set":"add",O=o[t],_=O&&O.prototype,w=O,j={},x=function(t){var e=i(_[t]);a(_,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(b&&!p(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return b&&!p(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(b&&!p(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})};if(u(t,!f(O)||!(b||_.forEach&&!d((function(){(new O).entries().next()})))))w=n.getConstructor(e,t,g,m),c.enable();else if(u(t,!0)){var E=new w,S=E[m](b?{}:-0,1)!=E,P=d((function(){E.has(1)})),A=h((function(t){new O(t)})),k=!b&&d((function(){for(var t=new O,e=5;e--;)t[m](e,e);return!t.has(-0)}));A||((w=e((function(t,e){l(t,_);var n=v(new O,t,w);return null!=e&&s(e,n[m],{that:n,AS_ENTRIES:g}),n}))).prototype=_,_.constructor=w),(P||k)&&(x("delete"),x("has"),g&&x("get")),(k||S)&&x(m),b&&_.clear&&delete _.clear}return j[t]=w,r({global:!0,forced:w!=O},j),y(w,t),b||n.setStrong(w,t,g),w}},function(t,e,n){var r=n(18),o=n(33),i=n(51),u=n(184),a=Object.isExtensible,c=r((function(){a(1)}));t.exports=c||u?function(t){return!!o(t)&&(!u||"ArrayBuffer"!=i(t))&&(!a||a(t))}:a},function(t,e,n){var r=n(18);t.exports=r((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},function(t,e,n){var r=n(18);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){"use strict";var r=n(38).f,o=n(60),i=n(149),u=n(64),a=n(119),c=n(117),s=n(116),l=n(150),f=n(36),p=n(144).fastKey,d=n(58),h=d.set,y=d.getterFor;t.exports={getConstructor:function(t,e,n,s){var l=t((function(t,r){a(t,d),h(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),f||(t.size=0),null!=r&&c(r,t[s],{that:t,AS_ENTRIES:n})})),d=l.prototype,v=y(e),g=function(t,e,n){var r,o,i=v(t),u=b(t,e);return u?u.value=n:(i.last=u={index:o=p(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=u),r&&(r.next=u),f?i.size++:t.size++,"F"!==o&&(i.index[o]=u)),t},b=function(t,e){var n,r=v(t),o=p(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return i(d,{clear:function(){for(var t=v(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,f?t.size=0:this.size=0},delete:function(t){var e=this,n=v(e),r=b(e,t);if(r){var o=r.next,i=r.previous;delete n.index[r.index],r.removed=!0,i&&(i.next=o),o&&(o.previous=i),n.first==r&&(n.first=o),n.last==r&&(n.last=i),f?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=v(this),r=u(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!b(this,t)}}),i(d,n?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),f&&r(d,"size",{get:function(){return v(this).size}}),l},setStrong:function(t,e,n){var r=e+" Iterator",o=y(e),i=y(r);s(t,e,(function(t,e){h(this,{type:r,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(e)}}},function(t,e,n){"use strict";var r=n(79).forEach,o=n(121)("forEach");t.exports=o?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){"use strict";var r=n(7),o=n(64),i=n(34),u=n(40),a=n(189),c=n(145),s=n(99),l=n(45),f=n(63),p=n(146),d=n(118),h=r.Array;t.exports=function(t){var e=u(t),n=s(this),r=arguments.length,y=r>1?arguments[1]:void 0,v=void 0!==y;v&&(y=o(y,r>2?arguments[2]:void 0));var g,b,m,O,_,w,j=d(e),x=0;if(!j||this==h&&c(j))for(g=l(e),b=n?new this(g):h(g);g>x;x++)w=v?y(e[x],x):e[x],f(b,x,w);else for(_=(O=p(e,j)).next,b=n?new this:[];!(m=i(_,O)).done;x++)w=v?a(O,y,[m.value,x],!0):m.value,f(b,x,w);return b.length=x,b}},function(t,e,n){var r=n(32),o=n(147);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){o(t,"throw",e)}}},function(t,e,n){var r=n(18),o=n(7).RegExp;t.exports=r((function(){var t=o(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},function(t,e,n){var r=n(18),o=n(7).RegExp;t.exports=r((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},function(t,e,n){"use strict";var r=n(16),o=n(15),i=n(56),u=n(40),a=n(45),c=n(39),s=n(18),l=n(193),f=n(121),p=n(194),d=n(195),h=n(70),y=n(196),v=[],g=o(v.sort),b=o(v.push),m=s((function(){v.sort(void 0)})),O=s((function(){v.sort(null)})),_=f("sort"),w=!s((function(){if(h)return h<70;if(!(p&&p>3)){if(d)return!0;if(y)return y<603;var t,e,n,r,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)v.push({k:e+r,v:n})}for(v.sort((function(t,e){return e.v-t.v})),r=0;r<v.length;r++)e=v[r].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));r({target:"Array",proto:!0,forced:m||!O||!_||!w},{sort:function(t){void 0!==t&&i(t);var e=u(this);if(w)return void 0===t?g(e):g(e,t);var n,r,o=[],s=a(e);for(r=0;r<s;r++)r in e&&b(o,e[r]);for(l(o,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:c(e)>c(n)?1:-1}}(t)),n=o.length,r=0;r<n;)e[r]=o[r++];for(;r<s;)delete e[r++];return e}})},function(t,e,n){var r=n(114),o=Math.floor,i=function(t,e){var n=t.length,c=o(n/2);return n<8?u(t,e):a(t,i(r(t,0,c),e),i(r(t,c),e),e)},u=function(t,e){for(var n,r,o=t.length,i=1;i<o;){for(r=i,n=t[i];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==i++&&(t[r]=n)}return t},a=function(t,e,n,r){for(var o=e.length,i=n.length,u=0,a=0;u<o||a<i;)t[u+a]=u<o&&a<i?r(e[u],n[a])<=0?e[u++]:n[a++]:u<o?e[u++]:n[a++];return t};t.exports=i},function(t,e,n){var r=n(55).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},function(t,e,n){var r=n(55);t.exports=/MSIE|Trident/.test(r)},function(t,e,n){var r=n(55).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},function(t,e,n){var r=n(7),o=n(159),i=r.TypeError;t.exports=function(t){if(o(t))throw i("The method doesn't accept regular expressions");return t}},function(t,e,n){var r=n(28)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,n){n(16)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(73).PROPER,o=n(18),i=n(162);t.exports=function(t){return o((function(){return!!i[t]()||""!==""[t]()||r&&i[t].name!==t}))}},function(t,e,n){var r=n(15),o=n(40),i=Math.floor,u=r("".charAt),a=r("".replace),c=r("".slice),s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,r,f,p){var d=n+t.length,h=r.length,y=l;return void 0!==f&&(f=o(f),y=s),a(p,y,(function(o,a){var s;switch(u(a,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,n);case"'":return c(e,d);case"<":s=f[c(a,1,-1)];break;default:var l=+a;if(0===l)return o;if(l>h){var p=i(l/10);return 0===p?o:p<=h?void 0===r[p-1]?u(a,1):r[p-1]+u(a,1):o}s=r[l-1]}return void 0===s?"":s}))}},function(t,e,n){"use strict";var r=n(36),o=n(15),i=n(34),u=n(18),a=n(77),c=n(112),s=n(84),l=n(40),f=n(85),p=Object.assign,d=Object.defineProperty,h=o([].concat);t.exports=!p||u((function(){if(r&&1!==p({b:1},p(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach((function(t){e[t]=t})),7!=p({},t)[n]||a(p({},e)).join("")!=o}))?function(t,e){for(var n=l(t),o=arguments.length,u=1,p=c.f,d=s.f;o>u;)for(var y,v=f(arguments[u++]),g=p?h(a(v),p(v)):a(v),b=g.length,m=0;b>m;)y=g[m++],r&&!i(d,v,y)||(n[y]=v[y]);return n}:p},function(t,e,n){"use strict";var r=n(7),o=n(15),i=n(56),u=n(33),a=n(35),c=n(98),s=r.Function,l=o([].concat),f=o([].join),p={},d=function(t,e,n){if(!a(p,e)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";p[e]=s("C,a","return new C("+f(r,",")+")")}return p[e](t,n)};t.exports=s.bind||function(t){var e=i(this),n=e.prototype,r=c(arguments,1),o=function(){var n=l(r,c(arguments));return this instanceof o?d(e,n.length,n):e.apply(t,n)};return u(n)&&(o.prototype=n),o}},function(t,e,n){var r=n(35);t.exports=function(t){return void 0!==t&&(r(t,"value")||r(t,"writable"))}},function(t,e,n){var r=n(15),o=n(44),i=n(39),u=/"/g,a=r("".replace);t.exports=function(t,e,n,r){var c=i(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+a(i(r),u,"&quot;")+'"'),s+">"+c+"</"+e+">"}},function(t,e,n){var r=n(18);t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},function(t,e,n){n(16)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(t,e,n){"use strict";var r,o,i,u,a=n(16),c=n(71),s=n(7),l=n(46),f=n(34),p=n(209),d=n(42),h=n(149),y=n(102),v=n(78),g=n(150),b=n(56),m=n(30),O=n(33),_=n(119),w=n(92),j=n(117),x=n(120),E=n(164),S=n(168).set,P=n(210),A=n(213),k=n(214),D=n(170),T=n(215),M=n(58),N=n(95),C=n(28),R=n(216),I=n(128),L=n(70),z=C("species"),B="Promise",U=M.getterFor(B),F=M.set,H=M.getterFor(B),X=p&&p.prototype,G=p,Y=X,V=s.TypeError,W=s.document,K=s.process,$=D.f,Z=$,q=!!(W&&W.createEvent&&s.dispatchEvent),J=m(s.PromiseRejectionEvent),Q="unhandledrejection",tt=!1,et=N(B,(function(){var t=w(G),e=t!==String(G);if(!e&&66===L)return!0;if(c&&!Y.finally)return!0;if(L>=51&&/native code/.test(t))return!1;var n=new G((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};return(n.constructor={})[z]=r,!(tt=n.then((function(){}))instanceof r)||!e&&R&&!J})),nt=et||!x((function(t){G.all(t).catch((function(){}))})),rt=function(t){var e;return!(!O(t)||!m(e=t.then))&&e},ot=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;P((function(){for(var r=t.value,o=1==t.state,i=0;n.length>i;){var u,a,c,s=n[i++],l=o?s.ok:s.fail,p=s.resolve,d=s.reject,h=s.domain;try{l?(o||(2===t.rejection&&ct(t),t.rejection=1),!0===l?u=r:(h&&h.enter(),u=l(r),h&&(h.exit(),c=!0)),u===s.promise?d(V("Promise-chain cycle")):(a=rt(u))?f(a,u,p,d):p(u)):d(r)}catch(t){h&&!c&&h.exit(),d(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&ut(t)}))}},it=function(t,e,n){var r,o;q?((r=W.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),s.dispatchEvent(r)):r={promise:e,reason:n},!J&&(o=s["on"+t])?o(r):t===Q&&k("Unhandled promise rejection",n)},ut=function(t){f(S,s,(function(){var e,n=t.facade,r=t.value;if(at(t)&&(e=T((function(){I?K.emit("unhandledRejection",r,n):it(Q,n,r)})),t.rejection=I||at(t)?2:1,e.error))throw e.value}))},at=function(t){return 1!==t.rejection&&!t.parent},ct=function(t){f(S,s,(function(){var e=t.facade;I?K.emit("rejectionHandled",e):it("rejectionhandled",e,t.value)}))},st=function(t,e,n){return function(r){t(e,r,n)}},lt=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,ot(t,!0))},ft=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw V("Promise can't be resolved itself");var r=rt(e);r?P((function(){var n={done:!1};try{f(r,e,st(ft,n,t),st(lt,n,t))}catch(e){lt(n,e,t)}})):(t.value=e,t.state=1,ot(t,!1))}catch(e){lt({done:!1},e,t)}}};if(et&&(Y=(G=function(t){_(this,Y),b(t),f(r,this);var e=U(this);try{t(st(ft,e),st(lt,e))}catch(t){lt(e,t)}}).prototype,(r=function(t){F(this,{type:B,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(Y,{then:function(t,e){var n=H(this),r=n.reactions,o=$(E(this,G));return o.ok=!m(t)||t,o.fail=m(e)&&e,o.domain=I?K.domain:void 0,n.parent=!0,r[r.length]=o,0!=n.state&&ot(n,!1),o.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r,e=U(t);this.promise=t,this.resolve=st(ft,e),this.reject=st(lt,e)},D.f=$=function(t){return t===G||t===i?new o(t):Z(t)},!c&&m(p)&&X!==Object.prototype)){u=X.then,tt||(d(X,"then",(function(t,e){var n=this;return new G((function(t,e){f(u,n,t,e)})).then(t,e)}),{unsafe:!0}),d(X,"catch",Y.catch,{unsafe:!0}));try{delete X.constructor}catch(t){}y&&y(X,Y)}a({global:!0,wrap:!0,forced:et},{Promise:G}),v(G,B,!1,!0),g(B),i=l(B),a({target:B,stat:!0,forced:et},{reject:function(t){var e=$(this);return f(e.reject,void 0,t),e.promise}}),a({target:B,stat:!0,forced:c||et},{resolve:function(t){return A(c&&this===i?G:this,t)}}),a({target:B,stat:!0,forced:nt},{all:function(t){var e=this,n=$(e),r=n.resolve,o=n.reject,i=T((function(){var n=b(e.resolve),i=[],u=0,a=1;j(t,(function(t){var c=u++,s=!1;a++,f(n,e,t).then((function(t){s||(s=!0,i[c]=t,--a||r(i))}),o)})),--a||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=$(e),r=n.reject,o=T((function(){var o=b(e.resolve);j(t,(function(t){f(o,e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},function(t,e,n){var r=n(7);t.exports=r.Promise},function(t,e,n){var r,o,i,u,a,c,s,l,f=n(7),p=n(64),d=n(50).f,h=n(168).set,y=n(169),v=n(211),g=n(212),b=n(128),m=f.MutationObserver||f.WebKitMutationObserver,O=f.document,_=f.process,w=f.Promise,j=d(f,"queueMicrotask"),x=j&&j.value;x||(r=function(){var t,e;for(b&&(t=_.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?u():i=void 0,t}}i=void 0,t&&t.enter()},y||b||g||!m||!O?!v&&w&&w.resolve?((s=w.resolve(void 0)).constructor=w,l=p(s.then,s),u=function(){l(r)}):b?u=function(){_.nextTick(r)}:(h=p(h,f),u=function(){h(r)}):(a=!0,c=O.createTextNode(""),new m(r).observe(c,{characterData:!0}),u=function(){c.data=a=!a})),t.exports=x||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,u()),i=e}},function(t,e,n){var r=n(55),o=n(7);t.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==o.Pebble},function(t,e,n){var r=n(55);t.exports=/web0s(?!.*chrome)/i.test(r)},function(t,e,n){var r=n(32),o=n(33),i=n(170);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(7);t.exports=function(t,e){var n=r.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e){t.exports="object"==typeof window},function(t,e,n){"use strict";var r=n(40),o=n(75),i=n(45);t.exports=function(t){for(var e=r(this),n=i(e),u=arguments.length,a=o(u>1?arguments[1]:void 0,n),c=u>2?arguments[2]:void 0,s=void 0===c?n:o(c,n);s>a;)e[a++]=t;return e}},function(t,e,n){"use strict";var r=n(16),o=n(7),i=n(15),u=n(59),a=n(160),c=n(219),s=n(18),l=o.RangeError,f=o.String,p=Math.floor,d=i(c),h=i("".slice),y=i(1..toFixed),v=function(t,e,n){return 0===e?n:e%2==1?v(t,e-1,n*t):v(t*t,e/2,n)},g=function(t,e,n){for(var r=-1,o=n;++r<6;)o+=e*t[r],t[r]=o%1e7,o=p(o/1e7)},b=function(t,e){for(var n=6,r=0;--n>=0;)r+=t[n],t[n]=p(r/e),r=r%e*1e7},m=function(t){for(var e=6,n="";--e>=0;)if(""!==n||0===e||0!==t[e]){var r=f(t[e]);n=""===n?r:n+d("0",7-r.length)+r}return n};r({target:"Number",proto:!0,forced:s((function(){return"0.000"!==y(8e-5,3)||"1"!==y(.9,0)||"1.25"!==y(1.255,2)||"1000000000000000128"!==y(0xde0b6b3a7640080,0)}))||!s((function(){y({})}))},{toFixed:function(t){var e,n,r,o,i=a(this),c=u(t),s=[0,0,0,0,0,0],p="",y="0";if(c<0||c>20)throw l("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return f(i);if(i<0&&(p="-",i=-i),i>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(i*v(2,69,1))-69)<0?i*v(2,-e,1):i/v(2,e,1),n*=4503599627370496,(e=52-e)>0){for(g(s,0,n),r=c;r>=7;)g(s,1e7,0),r-=7;for(g(s,v(10,r,1),0),r=e-1;r>=23;)b(s,1<<23),r-=23;b(s,1<<r),g(s,1,1),b(s,2),y=m(s)}else g(s,0,n),g(s,1<<-e,0),y=m(s)+d("0",c);return c>0?p+((o=y.length)<=c?"0."+d("0",c-o)+y:h(y,0,o-c)+"."+h(y,o-c)):p+y}})},function(t,e,n){"use strict";var r=n(7),o=n(59),i=n(39),u=n(44),a=r.RangeError;t.exports=function(t){var e=i(u(this)),n="",r=o(t);if(r<0||r==1/0)throw a("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}},function(t,e,n){var r=n(36),o=n(15),i=n(77),u=n(41),a=o(n(84).f),c=o([].push),s=function(t){return function(e){for(var n,o=u(e),s=i(o),l=s.length,f=0,p=[];l>f;)n=s[f++],r&&!a(o,n)||c(p,t?[n,o[n]]:o[n]);return p}};t.exports={entries:s(!0),values:s(!1)}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";n.r(e),n.d(e,"observer",(function(){return T_})),n.d(e,"LogicFlow",(function(){return D_})),n.d(e,"h",(function(){return tt.g})),n.d(e,"LogicFlowUtil",(function(){return r})),n.d(e,"BaseNode",(function(){return hg})),n.d(e,"RectNode",(function(){return jg})),n.d(e,"CircleNode",(function(){return Mg})),n.d(e,"PolygonNode",(function(){return Yg})),n.d(e,"DiamondNode",(function(){return tb})),n.d(e,"EllipseNode",(function(){return db})),n.d(e,"TextNode",(function(){return xb})),n.d(e,"HtmlNode",(function(){return Rb})),n.d(e,"BaseEdge",(function(){return wm})),n.d(e,"LineEdge",(function(){return Rm})),n.d(e,"PolylineEdge",(function(){return Qm})),n.d(e,"BezierEdge",(function(){return lO})),n.d(e,"Arrow",(function(){return OO})),n.d(e,"BaseEdgeModel",(function(){return ga})),n.d(e,"BezierEdgeModel",(function(){return Ed})),n.d(e,"LineEdgeModel",(function(){return Ca})),n.d(e,"PolylineEdgeModel",(function(){return Ja})),n.d(e,"BaseNodeModel",(function(){return Bd})),n.d(e,"CircleNodeModel",(function(){return oh})),n.d(e,"DiamondNodeModel",(function(){return Eh})),n.d(e,"EllipseNodeModel",(function(){return Xh})),n.d(e,"PolygonNodeModel",(function(){return sy})),n.d(e,"RectNodeModel",(function(){return Ey})),n.d(e,"TextNodeModel",(function(){return Uy})),n.d(e,"HtmlNodeModel",(function(){return tv})),n.d(e,"EditConfigModel",(function(){return Ao})),n.d(e,"GraphModel",(function(){return jl})),n.d(e,"SnaplineModel",(function(){return uv})),n.d(e,"Keyboard",(function(){return g_})),n.d(e,"get",(function(){return Rp})),n.d(e,"defaults",(function(){return zp})),n.d(e,"ElementState",(function(){return lo})),n.d(e,"ModelType",(function(){return po})),n.d(e,"ElementType",(function(){return ho})),n.d(e,"EventType",(function(){return yo})),n.d(e,"formateAnchorConnectValidateData",(function(){return ua}));var r={};n.r(r),n.d(r,"createUuid",(function(){return gu})),n.d(r,"refreshGraphId",(function(){return bu})),n.d(r,"StepDrag",(function(){return cs})),n.d(r,"setupEdgeModel",(function(){return dc})),n.d(r,"isBboxOverLapping",(function(){return hc})),n.d(r,"filterRepeatPoints",(function(){return yc})),n.d(r,"getSimplePolyline",(function(){return vc})),n.d(r,"getExpandedBBox",(function(){return gc})),n.d(r,"pointDirection",(function(){return bc})),n.d(r,"getExpandedBBoxPoint",(function(){return mc})),n.d(r,"mergeBBox",(function(){return Oc})),n.d(r,"getBBoxOfPoints",(function(){return _c})),n.d(r,"getPointsFromBBox",(function(){return wc})),n.d(r,"isPointOutsideBBox",(function(){return jc})),n.d(r,"getBBoxXCrossPoints",(function(){return xc})),n.d(r,"getBBoxYCrossPoints",(function(){return Ec})),n.d(r,"getBBoxCrossPointsByPoint",(function(){return Sc})),n.d(r,"estimateDistance",(function(){return Pc})),n.d(r,"costByPoints",(function(){return Ac})),n.d(r,"heuristicCostEstimate",(function(){return kc})),n.d(r,"rebuildPath",(function(){return Dc})),n.d(r,"removeClosePointFromOpenList",(function(){return Tc})),n.d(r,"isSegmentsIntersected",(function(){return Mc})),n.d(r,"isSegmentCrossingBBox",(function(){return Nc})),n.d(r,"getNextNeighborPoints",(function(){return Cc})),n.d(r,"pathFinder",(function(){return Rc})),n.d(r,"getBoxByOriginNode",(function(){return Ic})),n.d(r,"pointFilter",(function(){return Lc})),n.d(r,"getPolylinePoints",(function(){return zc})),n.d(r,"getLongestEdge",(function(){return Bc})),n.d(r,"isSegmentsInNode",(function(){return Uc})),n.d(r,"isSegmentsCrossNode",(function(){return Fc})),n.d(r,"getCrossPointInRect",(function(){return Hc})),n.d(r,"segmentDirection",(function(){return Xc})),n.d(r,"points2PointsList",(function(){return Gc})),n.d(r,"getSimplePoints",(function(){return Yc})),n.d(r,"getBytesLength",(function(){return Wc})),n.d(r,"getTextWidth",(function(){return $c})),n.d(r,"getAppendAttributes",(function(){return Zc})),n.d(r,"getBezierControlPoints",(function(){return qc})),n.d(r,"getBezierPoints",(function(){return Jc})),n.d(r,"getEndTangent",(function(){return ts})),n.d(r,"getClosestPointOfPolyline",(function(){return es})),n.d(r,"pickEdgeConfig",(function(){return ns})),n.d(r,"twoPointDistance",(function(){return rs})),n.d(r,"createEdgeGenerator",(function(){return os})),n.d(r,"snapToGrid",(function(){return Ui})),n.d(r,"getGridOffset",(function(){return Fi})),n.d(r,"sampleCubic",(function(){return ec})),n.d(r,"getThetaOfVector",(function(){return rc})),n.d(r,"degrees",(function(){return oc})),n.d(r,"Vector",(function(){return Es})),n.d(r,"Point",(function(){return Ss})),n.d(r,"Matrix",(function(){return ol})),n.d(r,"RotateMatrix",(function(){return il})),n.d(r,"ScaleMatrix",(function(){return ul})),n.d(r,"TranslateMatrix",(function(){return al}));var o=n(1),i=n(10);if(!i.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!o.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var u=n(43),a=Object(u.b)("observerBatching");function c(t){t()}var s=!1;function l(){return s}function f(t){return Object(o.t)(t)}var p,d=1e4,h=new Set;function y(){void 0===p&&(p=setTimeout(v,1e4))}function v(){p=void 0;var t=Date.now();h.forEach((function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,h.delete(e))})),h.size>0&&y()}var g=!1,b=[],m={};function O(t){return"observer"+t}function _(t,e,n){if(void 0===e&&(e="observed"),void 0===n&&(n=m),l())return t();var r,a=function(t){return function(){g?b.push(t):t()}}((n.useForceUpdate||u.d)()),c=i.d.useRef(null);if(!c.current){var s=new o.c(O(e),(function(){p.mounted?a():(s.dispose(),c.current=null)})),p=function(t){return{cleanAt:Date.now()+d,reaction:t}}(s);c.current=p,r=c,h.add(r),y()}var v=c.current.reaction;return i.d.useDebugValue(v,f),i.d.useEffect((function(){var t;return t=c,h.delete(t),c.current?c.current.mounted=!0:(c.current={reaction:new o.c(O(e),(function(){a()})),cleanAt:1/0},a()),function(){c.current.reaction.dispose(),c.current=null}}),[]),function(t){g=!0,b=[];try{var e=t();g=!1;var n=b.length>0?b:void 0;return i.d.useLayoutEffect((function(){n&&n.forEach((function(t){return t()}))}),[n]),e}finally{g=!1}}((function(){var e,n;if(v.track((function(){try{e=t()}catch(t){n=t}})),n)throw n;return e}))}var w=function(){return w=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},w.apply(this,arguments)};function j(t,e){if(l())return t;var n,r,o,u=w({forwardRef:!1},e),a=t.displayName||t.name,c=function(e,n){return _((function(){return t(e,n)}),a)};return c.displayName=a,n=u.forwardRef?Object(i.f)(Object(i.e)(c)):Object(i.f)(c),r=t,o=n,Object.keys(r).forEach((function(t){E[t]||Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(r,t))})),n.displayName=a,n}var x,E={$$typeof:!0,render:!0,compare:!0,type:!0};function S(t){var e=t.children,n=t.render,r=e||n;return"function"!=typeof r?null:_(r)}function P(t,e,n,r,o){var i="children"===e?"render":"children",u="function"==typeof t[e],a="function"==typeof t[i];return u&&a?new Error("MobX Observer: Do not use children and render in the same time in`"+n):u||a?null:new Error("Invalid prop `"+o+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}S.propTypes={children:P,render:P},S.displayName="Observer",(x=i.g)||(x=c),Object(o.n)({reactionScheduler:x}),Object(u.a)()[a]=!0;var A=0,k={};function D(t){return k[t]||(k[t]=function(t){if("function"==typeof Symbol)return Symbol(t);var e="__$mobx-react "+t+" ("+A+")";return A++,e}(t)),k[t]}function T(t,e){if(M(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.hasOwnProperty.call(e,n[o])||!M(t[n[o]],e[n[o]]))return!1;return!0}function M(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function N(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var C=D("patchMixins"),R=D("patchedDefinition");function I(t,e){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];e.locks++;try{var u;return null!=t&&(u=t.apply(this,o)),u}finally{e.locks--,0===e.locks&&e.methods.forEach((function(t){t.apply(n,o)}))}}function L(t,e){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];I.call.apply(I,[this,t,e].concat(r))}}function z(t,e,n){var r=function(t,e){var n=t[C]=t[C]||{},r=n[e]=n[e]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var o=Object.getOwnPropertyDescriptor(t,e);if(!o||!o[R]){var i=t[e],u=B(t,e,o?o.enumerable:void 0,r,i);Object.defineProperty(t,e,u)}}function B(t,e,n,r,o){var i,u=L(o,r);return(i={})[R]=!0,i.get=function(){return u},i.set=function(o){if(this===t)u=L(o,r);else{var i=B(this,e,n,r,o);Object.defineProperty(this,e,i)}},i.configurable=!0,i.enumerable=n,i}var U=o.a||"$mobx",F=D("isMobXReactObserver"),H=D("isUnmounted"),X=D("skipRender"),G=D("isForcingUpdate");function Y(t){var e=t.prototype;if(t[F]?V(e):t[F]=!0,e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==i.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==K)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=K;$(e,"props"),$(e,"state");var n=e.render;return e.render=function(){return W.call(this,n)},z(e,"componentWillUnmount",(function(){var t;!0===l()||(null===(t=this.render[U])||void 0===t||t.dispose(),this[H]=!0,this.render[U])||V(this)})),t}function V(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function W(t){var e=this;if(!0===l())return t.call(this);N(this,X,!1),N(this,G,!1);var n=V(this),r=t.bind(this),u=!1,a=new o.c(n+".render()",(function(){if(!u&&(u=!0,!0!==e[H])){var t=!0;try{N(e,G,!0),e[X]||i.a.prototype.forceUpdate.call(e),t=!1}finally{N(e,G,!1),t&&a.dispose()}}}));function c(){u=!1;var t=void 0,e=void 0;if(a.track((function(){try{e=Object(o.d)(!1,r)}catch(e){t=e}})),t)throw t;return e}return a.reactComponent=this,c[U]=a,this.render=c,c.call(this)}function K(t,e){return l(),this.state!==e||!T(this.props,t)}function $(t,e){var n=D("reactProp_"+e+"_valueHolder"),r=D("reactProp_"+e+"_atomHolder");function i(){return this[r]||N(this,r,Object(o.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var t=!1;return o.f&&o.e&&(t=Object(o.f)(!0)),i.call(this).reportObserved(),o.f&&o.e&&Object(o.e)(t),this[n]},set:function(t){this[G]||T(this[n],t)?N(this,n,t):(N(this,n,t),N(this,X,!0),i.call(this).reportChanged(),N(this,X,!1))}})}var Z="function"==typeof Symbol&&Symbol.for,q=Z?Symbol.for("react.forward_ref"):"function"==typeof i.e&&Object(i.e)((function(t){return null})).$$typeof,J=Z?Symbol.for("react.memo"):"function"==typeof i.f&&Object(i.f)((function(t){return null})).$$typeof;function Q(t){if(t.isMobxInjector,J&&t.$$typeof===J)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(q&&t.$$typeof===q){var e=t.render;if("function"!=typeof e)throw new Error("render property of ForwardRef was not a function");return Object(i.e)((function(){var t=arguments;return Object(i.c)(S,null,(function(){return e.apply(void 0,t)}))}))}return"function"!=typeof t||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(i.a,t)?Y(t):j(t)}if(!i.a)throw new Error("mobx-react requires React to be available");if(!o.C)throw new Error("mobx-react requires mobx to be available");var tt=n(0);n(4),n(8),n(2),n(3),n(52),n(6),n(5),n(11),n(37),n(27),n(21),n(20),n(24),n(22),n(25),n(9),n(17),n(23),n(19),n(192),n(156),n(104),n(157),n(158),n(199),n(61);var et=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o},nt=function(){this.__data__=[],this.size=0},rt=function(t,e){return t===e||t!=t&&e!=e},ot=function(t,e){for(var n=t.length;n--;)if(rt(t[n][0],e))return n;return-1},it=Array.prototype.splice,ut=function(t){var e=this.__data__,n=ot(e,t);return!(n<0)&&(n==e.length-1?e.pop():it.call(e,n,1),--this.size,!0)},at=function(t){var e=this.__data__,n=ot(e,t);return n<0?void 0:e[n][1]},ct=function(t){return ot(this.__data__,t)>-1},st=function(t,e){var n=this.__data__,r=ot(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function lt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}lt.prototype.clear=nt,lt.prototype.delete=ut,lt.prototype.get=at,lt.prototype.has=ct,lt.prototype.set=st;var ft,pt=lt,dt=function(){this.__data__=new pt,this.size=0},ht=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},yt=function(t){return this.__data__.get(t)},vt=function(t){return this.__data__.has(t)},gt=n(31),bt=gt.a.Symbol,mt=Object.prototype,Ot=mt.hasOwnProperty,_t=mt.toString,wt=bt?bt.toStringTag:void 0,jt=function(t){var e=Ot.call(t,wt),n=t[wt];try{t[wt]=void 0;var r=!0}catch(t){}var o=_t.call(t);return r&&(e?t[wt]=n:delete t[wt]),o},xt=Object.prototype.toString,Et=function(t){return xt.call(t)},St=bt?bt.toStringTag:void 0,Pt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":St&&St in Object(t)?jt(t):Et(t)},At=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},kt=function(t){if(!At(t))return!1;var e=Pt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Dt=gt.a["__core-js_shared__"],Tt=(ft=/[^.]+$/.exec(Dt&&Dt.keys&&Dt.keys.IE_PROTO||""))?"Symbol(src)_1."+ft:"",Mt=function(t){return!!Tt&&Tt in t},Nt=Function.prototype.toString,Ct=function(t){if(null!=t){try{return Nt.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Rt=/^\[object .+?Constructor\]$/,It=Function.prototype,Lt=Object.prototype,zt=It.toString,Bt=Lt.hasOwnProperty,Ut=RegExp("^"+zt.call(Bt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ft=function(t){return!(!At(t)||Mt(t))&&(kt(t)?Ut:Rt).test(Ct(t))},Ht=function(t,e){return null==t?void 0:t[e]},Xt=function(t,e){var n=Ht(t,e);return Ft(n)?n:void 0},Gt=Xt(gt.a,"Map"),Yt=Xt(Object,"create"),Vt=function(){this.__data__=Yt?Yt(null):{},this.size=0},Wt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Kt=Object.prototype.hasOwnProperty,$t=function(t){var e=this.__data__;if(Yt){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Kt.call(e,t)?e[t]:void 0},Zt=Object.prototype.hasOwnProperty,qt=function(t){var e=this.__data__;return Yt?void 0!==e[t]:Zt.call(e,t)},Jt=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Yt&&void 0===e?"__lodash_hash_undefined__":e,this};function Qt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qt.prototype.clear=Vt,Qt.prototype.delete=Wt,Qt.prototype.get=$t,Qt.prototype.has=qt,Qt.prototype.set=Jt;var te=Qt,ee=function(){this.size=0,this.__data__={hash:new te,map:new(Gt||pt),string:new te}},ne=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},re=function(t,e){var n=t.__data__;return ne(e)?n["string"==typeof e?"string":"hash"]:n.map},oe=function(t){var e=re(this,t).delete(t);return this.size-=e?1:0,e},ie=function(t){return re(this,t).get(t)},ue=function(t){return re(this,t).has(t)},ae=function(t,e){var n=re(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function ce(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ce.prototype.clear=ee,ce.prototype.delete=oe,ce.prototype.get=ie,ce.prototype.has=ue,ce.prototype.set=ae;var se=ce,le=function(t,e){var n=this.__data__;if(n instanceof pt){var r=n.__data__;if(!Gt||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new se(r)}return n.set(t,e),this.size=n.size,this};function fe(t){var e=this.__data__=new pt(t);this.size=e.size}fe.prototype.clear=dt,fe.prototype.delete=ht,fe.prototype.get=yt,fe.prototype.has=vt,fe.prototype.set=le;var pe=fe,de=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},he=function(t){return this.__data__.has(t)};function ye(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new se;++e<n;)this.add(t[e])}ye.prototype.add=ye.prototype.push=de,ye.prototype.has=he;var ve=ye,ge=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},be=function(t,e){return t.has(e)},me=function(t,e,n,r,o,i){var u=1&n,a=t.length,c=e.length;if(a!=c&&!(u&&c>a))return!1;var s=i.get(t),l=i.get(e);if(s&&l)return s==e&&l==t;var f=-1,p=!0,d=2&n?new ve:void 0;for(i.set(t,e),i.set(e,t);++f<a;){var h=t[f],y=e[f];if(r)var v=u?r(y,h,f,e,t,i):r(h,y,f,t,e,i);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!ge(e,(function(t,e){if(!be(d,e)&&(h===t||o(h,t,n,r,i)))return d.push(e)}))){p=!1;break}}else if(h!==y&&!o(h,y,n,r,i)){p=!1;break}}return i.delete(t),i.delete(e),p},Oe=gt.a.Uint8Array,_e=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n},we=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},je=bt?bt.prototype:void 0,xe=je?je.valueOf:void 0,Ee=function(t,e,n,r,o,i,u){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new Oe(t),new Oe(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return rt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=_e;case"[object Set]":var c=1&r;if(a||(a=we),t.size!=e.size&&!c)return!1;var s=u.get(t);if(s)return s==e;r|=2,u.set(t,e);var l=me(a(t),a(e),r,o,i,u);return u.delete(t),l;case"[object Symbol]":if(xe)return xe.call(t)==xe.call(e)}return!1},Se=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},Pe=Array.isArray,Ae=function(t,e,n){var r=e(t);return Pe(t)?r:Se(r,n(t))},ke=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var u=t[n];e(u,n,t)&&(i[o++]=u)}return i},De=function(){return[]},Te=Object.prototype.propertyIsEnumerable,Me=Object.getOwnPropertySymbols,Ne=Me?function(t){return null==t?[]:(t=Object(t),ke(Me(t),(function(e){return Te.call(t,e)})))}:De,Ce=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},Re=function(t){return null!=t&&"object"==typeof t},Ie=function(t){return Re(t)&&"[object Arguments]"==Pt(t)},Le=Object.prototype,ze=Le.hasOwnProperty,Be=Le.propertyIsEnumerable,Ue=Ie(function(){return arguments}())?Ie:function(t){return Re(t)&&ze.call(t,"callee")&&!Be.call(t,"callee")},Fe=Ue,He=n(48),Xe=/^(?:0|[1-9]\d*)$/,Ge=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Xe.test(t))&&t>-1&&t%1==0&&t<e},Ye=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Ve={};Ve["[object Float32Array]"]=Ve["[object Float64Array]"]=Ve["[object Int8Array]"]=Ve["[object Int16Array]"]=Ve["[object Int32Array]"]=Ve["[object Uint8Array]"]=Ve["[object Uint8ClampedArray]"]=Ve["[object Uint16Array]"]=Ve["[object Uint32Array]"]=!0,Ve["[object Arguments]"]=Ve["[object Array]"]=Ve["[object ArrayBuffer]"]=Ve["[object Boolean]"]=Ve["[object DataView]"]=Ve["[object Date]"]=Ve["[object Error]"]=Ve["[object Function]"]=Ve["[object Map]"]=Ve["[object Number]"]=Ve["[object Object]"]=Ve["[object RegExp]"]=Ve["[object Set]"]=Ve["[object String]"]=Ve["[object WeakMap]"]=!1;var We=function(t){return Re(t)&&Ye(t.length)&&!!Ve[Pt(t)]},Ke=function(t){return function(e){return t(e)}},$e=n(49),Ze=$e.a&&$e.a.isTypedArray,qe=Ze?Ke(Ze):We,Je=Object.prototype.hasOwnProperty,Qe=function(t,e){var n=Pe(t),r=!n&&Fe(t),o=!n&&!r&&Object(He.a)(t),i=!n&&!r&&!o&&qe(t),u=n||r||o||i,a=u?Ce(t.length,String):[],c=a.length;for(var s in t)!e&&!Je.call(t,s)||u&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Ge(s,c))||a.push(s);return a},tn=Object.prototype,en=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||tn)},nn=function(t,e){return function(n){return t(e(n))}},rn=nn(Object.keys,Object),on=Object.prototype.hasOwnProperty,un=function(t){if(!en(t))return rn(t);var e=[];for(var n in Object(t))on.call(t,n)&&"constructor"!=n&&e.push(n);return e},an=function(t){return null!=t&&Ye(t.length)&&!kt(t)},cn=function(t){return an(t)?Qe(t):un(t)},sn=function(t){return Ae(t,cn,Ne)},ln=Object.prototype.hasOwnProperty,fn=function(t,e,n,r,o,i){var u=1&n,a=sn(t),c=a.length;if(c!=sn(e).length&&!u)return!1;for(var s=c;s--;){var l=a[s];if(!(u?l in e:ln.call(e,l)))return!1}var f=i.get(t),p=i.get(e);if(f&&p)return f==e&&p==t;var d=!0;i.set(t,e),i.set(e,t);for(var h=u;++s<c;){var y=t[l=a[s]],v=e[l];if(r)var g=u?r(v,y,l,e,t,i):r(y,v,l,t,e,i);if(!(void 0===g?y===v||o(y,v,n,r,i):g)){d=!1;break}h||(h="constructor"==l)}if(d&&!h){var b=t.constructor,m=e.constructor;b==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof m&&m instanceof m||(d=!1)}return i.delete(t),i.delete(e),d},pn=Xt(gt.a,"DataView"),dn=Xt(gt.a,"Promise"),hn=Xt(gt.a,"Set"),yn=Xt(gt.a,"WeakMap"),vn="[object Map]",gn="[object Promise]",bn="[object Set]",mn="[object WeakMap]",On="[object DataView]",_n=Ct(pn),wn=Ct(Gt),jn=Ct(dn),xn=Ct(hn),En=Ct(yn),Sn=Pt;(pn&&Sn(new pn(new ArrayBuffer(1)))!=On||Gt&&Sn(new Gt)!=vn||dn&&Sn(dn.resolve())!=gn||hn&&Sn(new hn)!=bn||yn&&Sn(new yn)!=mn)&&(Sn=function(t){var e=Pt(t),n="[object Object]"==e?t.constructor:void 0,r=n?Ct(n):"";if(r)switch(r){case _n:return On;case wn:return vn;case jn:return gn;case xn:return bn;case En:return mn}return e});var Pn=Sn,An="[object Arguments]",kn="[object Array]",Dn="[object Object]",Tn=Object.prototype.hasOwnProperty,Mn=function(t,e,n,r,o,i){var u=Pe(t),a=Pe(e),c=u?kn:Pn(t),s=a?kn:Pn(e),l=(c=c==An?Dn:c)==Dn,f=(s=s==An?Dn:s)==Dn,p=c==s;if(p&&Object(He.a)(t)){if(!Object(He.a)(e))return!1;u=!0,l=!1}if(p&&!l)return i||(i=new pe),u||qe(t)?me(t,e,n,r,o,i):Ee(t,e,c,n,r,o,i);if(!(1&n)){var d=l&&Tn.call(t,"__wrapped__"),h=f&&Tn.call(e,"__wrapped__");if(d||h){var y=d?t.value():t,v=h?e.value():e;return i||(i=new pe),o(y,v,n,r,i)}}return!!p&&(i||(i=new pe),fn(t,e,n,r,o,i))},Nn=function t(e,n,r,o,i){return e===n||(null==e||null==n||!Re(e)&&!Re(n)?e!=e&&n!=n:Mn(e,n,r,o,t,i))},Cn=function(t,e,n,r){var o=n.length,i=o,u=!r;if(null==t)return!i;for(t=Object(t);o--;){var a=n[o];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){var c=(a=n[o])[0],s=t[c],l=a[1];if(u&&a[2]){if(void 0===s&&!(c in t))return!1}else{var f=new pe;if(r)var p=r(s,l,c,t,e,f);if(!(void 0===p?Nn(l,s,3,r,f):p))return!1}}return!0},Rn=function(t){return t==t&&!At(t)},In=function(t){for(var e=cn(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,Rn(o)]}return e},Ln=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}},zn=function(t){var e=In(t);return 1==e.length&&e[0][2]?Ln(e[0][0],e[0][1]):function(n){return n===t||Cn(n,t,e)}},Bn=function(t){return"symbol"==typeof t||Re(t)&&"[object Symbol]"==Pt(t)},Un=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fn=/^\w*$/,Hn=function(t,e){if(Pe(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Bn(t))||Fn.test(t)||!Un.test(t)||null!=e&&t in Object(e)};function Xn(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return n.cache=i.set(o,u)||i,u};return n.cache=new(Xn.Cache||se),n}Xn.Cache=se;var Gn=Xn,Yn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vn=/\\(\\)?/g,Wn=function(t){var e=Gn(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Yn,(function(t,n,r,o){e.push(r?o.replace(Vn,"$1"):n||t)})),e})),Kn=bt?bt.prototype:void 0,$n=Kn?Kn.toString:void 0,Zn=function t(e){if("string"==typeof e)return e;if(Pe(e))return et(e,t)+"";if(Bn(e))return $n?$n.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n},qn=function(t){return null==t?"":Zn(t)},Jn=function(t,e){return Pe(t)?t:Hn(t,e)?[t]:Wn(qn(t))},Qn=function(t){if("string"==typeof t||Bn(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},tr=function(t,e){for(var n=0,r=(e=Jn(e,t)).length;null!=t&&n<r;)t=t[Qn(e[n++])];return n&&n==r?t:void 0},er=function(t,e,n){var r=null==t?void 0:tr(t,e);return void 0===r?n:r},nr=function(t,e){return null!=t&&e in Object(t)},rr=function(t,e,n){for(var r=-1,o=(e=Jn(e,t)).length,i=!1;++r<o;){var u=Qn(e[r]);if(!(i=null!=t&&n(t,u)))break;t=t[u]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&Ye(o)&&Ge(u,o)&&(Pe(t)||Fe(t))},or=function(t,e){return null!=t&&rr(t,e,nr)},ir=function(t,e){return Hn(t)&&Rn(e)?Ln(Qn(t),e):function(n){var r=er(n,t);return void 0===r&&r===e?or(n,t):Nn(e,r,3)}},ur=function(t){return t},ar=function(t){return function(e){return null==e?void 0:e[t]}},cr=function(t){return function(e){return tr(e,t)}},sr=function(t){return Hn(t)?ar(Qn(t)):cr(t)},lr=function(t){return"function"==typeof t?t:null==t?ur:"object"==typeof t?Pe(t)?ir(t[0],t[1]):zn(t):sr(t)},fr=function(t){return function(e,n,r){for(var o=-1,i=Object(e),u=r(e),a=u.length;a--;){var c=u[t?a:++o];if(!1===n(i[c],c,i))break}return e}}(),pr=function(t,e){return function(n,r){if(null==n)return n;if(!an(n))return t(n,r);for(var o=n.length,i=e?o:-1,u=Object(n);(e?i--:++i<o)&&!1!==r(u[i],i,u););return n}}((function(t,e){return t&&fr(t,e,cn)})),dr=function(t,e){var n=-1,r=an(t)?Array(t.length):[];return pr(t,(function(t,o,i){r[++n]=e(t,o,i)})),r},hr=function(t,e){return(Pe(t)?et:dr)(t,lr(e,3))};Object(o.n)({isolateGlobalState:!0});var yr,vr,gr,br,mr,Or,_r,wr,jr,xr,Er,Sr,Pr,Ar,kr,Dr,Tr,Mr,Nr,Cr=function(){try{var t=Xt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Rr=function(t,e,n){"__proto__"==e&&Cr?Cr(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Ir=Object.prototype.hasOwnProperty,Lr=function(t,e,n){var r=t[e];Ir.call(t,e)&&rt(r,n)&&(void 0!==n||e in t)||Rr(t,e,n)},zr=function(t,e,n,r){var o=!n;n||(n={});for(var i=-1,u=e.length;++i<u;){var a=e[i],c=r?r(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),o?Rr(n,a,c):Lr(n,a,c)}return n},Br=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Ur=Math.max,Fr=function(t,e,n){return e=Ur(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=Ur(r.length-e,0),u=Array(i);++o<i;)u[o]=r[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=r[o];return a[e]=n(u),Br(t,this,a)}},Hr=function(t){return function(){return t}},Xr=Cr?function(t,e){return Cr(t,"toString",{configurable:!0,enumerable:!1,value:Hr(e),writable:!0})}:ur,Gr=Date.now,Yr=function(t){var e=0,n=0;return function(){var r=Gr(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},Vr=Yr(Xr),Wr=function(t,e){return Vr(Fr(t,e,ur),t+"")},Kr=function(t,e,n){if(!At(n))return!1;var r=typeof e;return!!("number"==r?an(n)&&Ge(e,n.length):"string"==r&&e in n)&&rt(n[e],t)},$r=function(t){return Wr((function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,u=o>2?n[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,u&&Kr(n[0],n[1],u)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var a=n[r];a&&t(e,a,r,i)}return e}))},Zr=Object.prototype.hasOwnProperty,qr=$r((function(t,e){if(en(e)||an(e))zr(e,cn(e),t);else for(var n in e)Zr.call(e,n)&&Lr(t,n,e[n])})),Jr=function(t,e,n,r){if(!At(t))return t;for(var o=-1,i=(e=Jn(e,t)).length,u=i-1,a=t;null!=a&&++o<i;){var c=Qn(e[o]),s=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=u){var l=a[c];void 0===(s=r?r(l,c,a):void 0)&&(s=At(l)?l:Ge(e[o+1])?[]:{})}Lr(a,c,s),a=a[c]}return t},Qr=function(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var u=e[r],a=tr(t,u);n(a,u)&&Jr(i,Jn(u,t),a)}return i},to=function(t,e){return Qr(t,e,(function(e,n){return or(t,n)}))},eo=bt?bt.isConcatSpreadable:void 0,no=function(t){return Pe(t)||Fe(t)||!!(eo&&t&&t[eo])},ro=function t(e,n,r,o,i){var u=-1,a=e.length;for(r||(r=no),i||(i=[]);++u<a;){var c=e[u];n>0&&r(c)?n>1?t(c,n-1,r,o,i):Se(i,c):o||(i[i.length]=c)}return i},oo=function(t){return null!=t&&t.length?ro(t,1):[]},io=function(t){return Vr(Fr(t,void 0,oo),t+"")}((function(t,e){return null==t?{}:to(t,e)}));function uo(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ao(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function co(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function so(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var lo,fo,po,ho,yo,vo,go,bo,mo,Oo,_o,wo,jo,xo,Eo,So={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,allowRotation:!1,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Po=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","allowRotation","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Ao=(vr=so((yr=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),uo(this,"isSilentMode",vr,this),uo(this,"stopZoomGraph",gr,this),uo(this,"stopScrollGraph",br,this),uo(this,"stopMoveGraph",mr,this),uo(this,"adjustEdge",Or,this),uo(this,"adjustEdgeMiddle",_r,this),uo(this,"adjustEdgeStartAndEnd",wr,this),uo(this,"adjustNodePosition",jr,this),uo(this,"hideAnchors",xr,this),uo(this,"allowRotation",Er,this),uo(this,"hoverOutline",Sr,this),uo(this,"nodeSelectedOutline",Pr,this),uo(this,"edgeSelectedOutline",Ar,this),uo(this,"nodeTextEdit",kr,this),uo(this,"edgeTextEdit",Dr,this),uo(this,"nodeTextDraggable",Tr,this),uo(this,"edgeTextDraggable",Mr,this),uo(this,"autoExpand",Nr,this),co(this,"multipleSelectKey",""),co(this,"defaultConfig",{}),qr(this,this.getConfigDetail(e))}var e,n,r;return e=t,(n=[{key:"updateEditConfig",value:function(t){var e=this.getConfigDetail(t);qr(this,e)}},{key:"getConfigDetail",value:function(t){var e=t.isSilentMode,n=t.textEdit,r={};if(!1===e&&qr(r,this.defaultConfig),!0===e&&e!==this.isSilentMode){var o=io(So,Po);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,allowRotation:this.allowRotation,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},qr(r,o)}!1===n&&qr(r,{nodeTextEdit:!1,edgeTextEdit:!1});var i=io(t,Po);return qr(r,i)}},{key:"getConfig",value:function(){return io(this,Po)}}])&&ao(e.prototype,n),r&&ao(e,r),t}()).prototype,"isSilentMode",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gr=so(yr.prototype,"stopZoomGraph",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),br=so(yr.prototype,"stopScrollGraph",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mr=so(yr.prototype,"stopMoveGraph",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Or=so(yr.prototype,"adjustEdge",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_r=so(yr.prototype,"adjustEdgeMiddle",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wr=so(yr.prototype,"adjustEdgeStartAndEnd",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jr=so(yr.prototype,"adjustNodePosition",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xr=so(yr.prototype,"hideAnchors",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Er=so(yr.prototype,"allowRotation",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Sr=so(yr.prototype,"hoverOutline",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Pr=so(yr.prototype,"nodeSelectedOutline",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ar=so(yr.prototype,"edgeSelectedOutline",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),kr=so(yr.prototype,"nodeTextEdit",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Dr=so(yr.prototype,"edgeTextEdit",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Tr=so(yr.prototype,"nodeTextDraggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Mr=so(yr.prototype,"edgeTextDraggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Nr=so(yr.prototype,"autoExpand",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),so(yr.prototype,"updateEditConfig",[o.k],Object.getOwnPropertyDescriptor(yr.prototype,"updateEditConfig"),yr.prototype),yr);function ko(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Do(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Do(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Do(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function To(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Mo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function No(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Co(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}n(65),n(66),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(lo||(lo={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(fo||(fo={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(po||(po={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(ho||(ho={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_GROUP_COPY="node:group-copy-add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.NODE_ROTATE="node:rotate",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.ANCHOR_DRAGEND="anchor:dragend",t.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",t.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",t.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",t.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",t.ADJUST_POINT_DRAG="adjustPoint:drag",t.ADJUST_POINT_DROP="adjustPoint:drop",t.ADJUST_POINT_DRAGEND="adjustPoint:dragend",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"}(yo||(yo={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(vo||(vo={})),function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"}(go||(go={}));var Ro={false:[-1/0,-1/0,1/0,1/0],true:[0,0,0,0],vertical:[-1/0,0,1/0,0],horizontal:[0,-1/0,0,1/0]},Io=(bo=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),No(this,"MINI_SCALE_SIZE",.2),No(this,"MAX_SCALE_SIZE",16),To(this,"SCALE_X",mo,this),To(this,"SKEW_Y",Oo,this),To(this,"SKEW_X",_o,this),To(this,"SCALE_Y",wo,this),To(this,"TRANSLATE_X",jo,this),To(this,"TRANSLATE_Y",xo,this),To(this,"ZOOM_SIZE",Eo,this),No(this,"eventCenter",void 0),No(this,"translateLimitMinX",void 0),No(this,"translateLimitMinY",void 0),No(this,"translateLimitMaxX",void 0),No(this,"translateLimitMaxY",void 0),this.eventCenter=e;var r=n.stopMoveGraph,o=void 0!==r&&r;this.updateTranslateLimits(o)}var e,n,r;return e=t,n=[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){var e=ko(t,2),n=e[0],r=e[1];return[(n-this.TRANSLATE_X)/this.SCALE_X,(r-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){var e=ko(t,2),n=e[0],r=e[1];return[n*this.SCALE_X+this.TRANSLATE_X,r*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,e,n){var r=ko(t,2),o=r[0],i=r[1];return[o+e/this.SCALE_X,i+n/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,e){return[t/this.SCALE_X,e/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var t=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")")}}},{key:"zoom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0,n=this.SCALE_X,r=this.SCALE_Y;return!0===t?(n+=this.ZOOM_SIZE,r+=this.ZOOM_SIZE):!1===t?(n-=this.ZOOM_SIZE,r-=this.ZOOM_SIZE):"number"==typeof t&&(n=t,r=t),n<this.MINI_SCALE_SIZE||n>this.MAX_SCALE_SIZE||(e&&(this.TRANSLATE_X-=(n-this.SCALE_X)*e[0],this.TRANSLATE_Y-=(r-this.SCALE_Y)*e[1]),this.SCALE_X=n,this.SCALE_Y=r,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(t){this.eventCenter.emit(yo.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(t,e){this.TRANSLATE_X+t<=this.translateLimitMaxX&&this.TRANSLATE_X+t>=this.translateLimitMinX&&(this.TRANSLATE_X+=t),this.TRANSLATE_Y+e<=this.translateLimitMaxY&&this.TRANSLATE_Y+e>=this.translateLimitMinY&&(this.TRANSLATE_Y+=e),this.emitGraphTransform("translate")}},{key:"focusOn",value:function(t,e,n,r){var o=ko(this.CanvasPointToHtmlPoint([t,e]),2),i=n/2-o[0],u=r/2-o[1];this.TRANSLATE_X+=i,this.TRANSLATE_Y+=u,this.emitGraphTransform("focusOn")}},{key:"updateTranslateLimits",value:function(t){var e=ko(Array.isArray(t)&&4===t.length?t:Ro[t.toString()],4);this.translateLimitMinX=e[0],this.translateLimitMinY=e[1],this.translateLimitMaxX=e[2],this.translateLimitMaxY=e[3]}}],n&&Mo(e.prototype,n),r&&Mo(e,r),t}(),mo=Co(bo.prototype,"SCALE_X",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Oo=Co(bo.prototype,"SKEW_Y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_o=Co(bo.prototype,"SKEW_X",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),wo=Co(bo.prototype,"SCALE_Y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),jo=Co(bo.prototype,"TRANSLATE_X",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xo=Co(bo.prototype,"TRANSLATE_Y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Eo=Co(bo.prototype,"ZOOM_SIZE",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.04}}),Co(bo.prototype,"zoom",[o.k],Object.getOwnPropertyDescriptor(bo.prototype,"zoom"),bo.prototype),Co(bo.prototype,"resetZoom",[o.k],Object.getOwnPropertyDescriptor(bo.prototype,"resetZoom"),bo.prototype),Co(bo.prototype,"translate",[o.k],Object.getOwnPropertyDescriptor(bo.prototype,"translate"),bo.prototype),Co(bo.prototype,"focusOn",[o.k],Object.getOwnPropertyDescriptor(bo.prototype,"focusOn"),bo.prototype),bo),Lo=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t},zo=function(t,e){return t&&zr(e,cn(e),t)},Bo=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},Uo=Object.prototype.hasOwnProperty,Fo=function(t){if(!At(t))return Bo(t);var e=en(t),n=[];for(var r in t)("constructor"!=r||!e&&Uo.call(t,r))&&n.push(r);return n},Ho=function(t){return an(t)?Qe(t,!0):Fo(t)},Xo=function(t,e){return t&&zr(e,Ho(e),t)},Go=n(107),Yo=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},Vo=function(t,e){return zr(t,Ne(t),e)},Wo=nn(Object.getPrototypeOf,Object),Ko=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Se(e,Ne(t)),t=Wo(t);return e}:De,$o=function(t,e){return zr(t,Ko(t),e)},Zo=function(t){return Ae(t,Ho,Ko)},qo=Object.prototype.hasOwnProperty,Jo=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&qo.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Qo=function(t){var e=new t.constructor(t.byteLength);return new Oe(e).set(new Oe(t)),e},ti=function(t,e){var n=e?Qo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},ei=/\w*$/,ni=function(t){var e=new t.constructor(t.source,ei.exec(t));return e.lastIndex=t.lastIndex,e},ri=bt?bt.prototype:void 0,oi=ri?ri.valueOf:void 0,ii=function(t){return oi?Object(oi.call(t)):{}},ui=function(t,e){var n=e?Qo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},ai=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return Qo(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return ti(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ui(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return ni(t);case"[object Symbol]":return ii(t)}},ci=Object.create,si=function(){function t(){}return function(e){if(!At(e))return{};if(ci)return ci(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),li=function(t){return"function"!=typeof t.constructor||en(t)?{}:si(Wo(t))},fi=function(t){return Re(t)&&"[object Map]"==Pn(t)},pi=$e.a&&$e.a.isMap,di=pi?Ke(pi):fi,hi=function(t){return Re(t)&&"[object Set]"==Pn(t)},yi=$e.a&&$e.a.isSet,vi=yi?Ke(yi):hi,gi="[object Arguments]",bi="[object Function]",mi="[object Object]",Oi={};Oi[gi]=Oi["[object Array]"]=Oi["[object ArrayBuffer]"]=Oi["[object DataView]"]=Oi["[object Boolean]"]=Oi["[object Date]"]=Oi["[object Float32Array]"]=Oi["[object Float64Array]"]=Oi["[object Int8Array]"]=Oi["[object Int16Array]"]=Oi["[object Int32Array]"]=Oi["[object Map]"]=Oi["[object Number]"]=Oi["[object Object]"]=Oi["[object RegExp]"]=Oi["[object Set]"]=Oi["[object String]"]=Oi["[object Symbol]"]=Oi["[object Uint8Array]"]=Oi["[object Uint8ClampedArray]"]=Oi["[object Uint16Array]"]=Oi["[object Uint32Array]"]=!0,Oi["[object Error]"]=Oi[bi]=Oi["[object WeakMap]"]=!1;var _i=function t(e,n,r,o,i,u){var a,c=1&n,s=2&n,l=4&n;if(r&&(a=i?r(e,o,i,u):r(e)),void 0!==a)return a;if(!At(e))return e;var f=Pe(e);if(f){if(a=Jo(e),!c)return Yo(e,a)}else{var p=Pn(e),d=p==bi||"[object GeneratorFunction]"==p;if(Object(He.a)(e))return Object(Go.a)(e,c);if(p==mi||p==gi||d&&!i){if(a=s||d?{}:li(e),!c)return s?$o(e,Xo(a,e)):Vo(e,zo(a,e))}else{if(!Oi[p])return i?e:{};a=ai(e,p,c)}}u||(u=new pe);var h=u.get(e);if(h)return h;u.set(e,a),vi(e)?e.forEach((function(o){a.add(t(o,n,r,o,e,u))})):di(e)&&e.forEach((function(o,i){a.set(i,t(o,n,r,i,e,u))}));var y=f?void 0:(l?s?Zo:sn:s?Ho:cn)(e);return Lo(y||e,(function(o,i){y&&(o=e[i=o]),Lr(a,i,t(o,n,r,i,e,u))})),a},wi=function(t){return _i(t,5)},ji=function(t,e,n){(void 0!==n&&!rt(t[e],n)||void 0===n&&!(e in t))&&Rr(t,e,n)},xi=function(t){return Re(t)&&an(t)},Ei=Function.prototype,Si=Object.prototype,Pi=Ei.toString,Ai=Si.hasOwnProperty,ki=Pi.call(Object),Di=function(t){if(!Re(t)||"[object Object]"!=Pt(t))return!1;var e=Wo(t);if(null===e)return!0;var n=Ai.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Pi.call(n)==ki},Ti=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},Mi=function(t){return zr(t,Ho(t))},Ni=function(t,e,n,r,o,i,u){var a=Ti(t,n),c=Ti(e,n),s=u.get(c);if(s)ji(t,n,s);else{var l=i?i(a,c,n+"",t,e,u):void 0,f=void 0===l;if(f){var p=Pe(c),d=!p&&Object(He.a)(c),h=!p&&!d&&qe(c);l=c,p||d||h?Pe(a)?l=a:xi(a)?l=Yo(a):d?(f=!1,l=Object(Go.a)(c,!0)):h?(f=!1,l=ui(c,!0)):l=[]:Di(c)||Fe(c)?(l=a,Fe(a)?l=Mi(a):At(a)&&!kt(a)||(l=li(c))):f=!1}f&&(u.set(c,l),o(l,c,r,i,u),u.delete(c)),ji(t,n,l)}},Ci=function t(e,n,r,o,i){e!==n&&fr(n,(function(u,a){if(i||(i=new pe),At(u))Ni(e,n,a,r,t,o,i);else{var c=o?o(Ti(e,a),u,a+"",e,n,i):void 0;void 0===c&&(c=u),ji(e,a,c)}}),Ho)},Ri=$r((function(t,e,n){Ci(t,e,n)})),Ii={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"},rotateControl:{stroke:"#000",fill:"#fff",strokeWidth:1.5}},Li=function(t){var e=wi(Ii);return t&&(e=Ri(e,t)),e};function zi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(82),n(166);var Bi=function(){function t(){var e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r={},(n="_events")in(e=this)?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}var e,n,r;return e=t,(n=[{key:"on",value:function(t,e,n){var r=this;return null==t||t.split(",").forEach((function(t){t=t.trim(),r._events[t]||(r._events[t]=[]),r._events[t].push({callback:e,once:!!n})})),this}},{key:"once",value:function(t,e){var n=this;null==t||t.split(",").forEach((function(t){return t=t.trim(),n.on(t,e,!0)}))}},{key:"emit",value:function(t,e){var n=this;null==t||t.split(",").forEach((function(t){var r=n._events[t]||[],o=n._events["*"]||[],i=function(r){for(var o=r.length,i=0;i<o;i++)if(r[i]){var u=r[i],a=u.callback;u.once&&(r.splice(i,1),0===r.length&&delete n._events[t],o--,i--),a.apply(n,[e])}};i(r),i(o)}))}},{key:"off",value:function(t,e){var n=this;return t||(this._events={}),t.split(",").forEach((function(t){if(e){for(var r=n._events[t]||[],o=r.length,i=0;i<o;i++)r[i].callback===e&&(r.splice(i,1),o--,i--);0===r.length&&delete n._events[t]}else delete n._events[t]})),this}},{key:"getEvents",value:function(){return this._events}}])&&zi(e.prototype,n),r&&zi(e,r),t}();function Ui(t,e){return e*Math.round(t/e)||t}function Fi(t,e){return t%e}function Hi(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Xi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xi(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Gi=function(t,e,n){var r=Hi(t,2),o=r[0],i=r[1],u=Hi(e,2),a=u[0],c=u[1],s=Hi(n,2),l=s[0],f=s[1];return o>a&&o<l&&i>c&&i<f},Yi=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;case"ctrl":n=t.ctrlKey;break;default:n=!1}return n};n(167),n(126),n(83),n(29),n(12),n(13),n(14),n(47);var Vi,Wi=function(t){return function(e,n,r){var o=Object(e);if(!an(e)){var i=lr(n,3);e=cn(e),n=function(t){return i(o[t],t,o)}}var u=t(e,n,r);return u>-1?o[i?e[u]:u]:void 0}},Ki=function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1},$i=/\s/,Zi=function(t){for(var e=t.length;e--&&$i.test(t.charAt(e)););return e},qi=/^\s+/,Ji=function(t){return t?t.slice(0,Zi(t)+1).replace(qi,""):t},Qi=/^[-+]0x[0-9a-f]+$/i,tu=/^0b[01]+$/i,eu=/^0o[0-7]+$/i,nu=parseInt,ru=function(t){if("number"==typeof t)return t;if(Bn(t))return NaN;if(At(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=At(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ji(t);var n=tu.test(t);return n||eu.test(t)?nu(t.slice(2),n?2:8):Qi.test(t)?NaN:+t},ou=1/0,iu=function(t){return t?(t=ru(t))===ou||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0},uu=function(t){var e=iu(t),n=e%1;return e==e?n?e-n:e:0},au=Math.max,cu=Wi((function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:uu(n);return o<0&&(o=au(r+o,0)),Ki(t,lr(e,3),o)})),su=new Uint8Array(16);function lu(){if(!Vi&&!(Vi="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Vi(su)}for(var fu=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,pu=function(t){return"string"==typeof t&&fu.test(t)},du=[],hu=0;hu<256;++hu)du.push((hu+256).toString(16).substr(1));var yu=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(du[t[e+0]]+du[t[e+1]]+du[t[e+2]]+du[t[e+3]]+"-"+du[t[e+4]]+du[t[e+5]]+"-"+du[t[e+6]]+du[t[e+7]]+"-"+du[t[e+8]]+du[t[e+9]]+"-"+du[t[e+10]]+du[t[e+11]]+du[t[e+12]]+du[t[e+13]]+du[t[e+14]]+du[t[e+15]]).toLowerCase();if(!pu(n))throw TypeError("Stringified UUID is invalid");return n},vu=function(t,e,n){var r=(t=t||{}).random||(t.rng||lu)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return yu(r)},gu=function(){return vu()},bu=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.nodes.reduce((function(t,n){return t[n.id]=e+vu(),n.id=t[n.id],t}),{});return t.edges.forEach((function(t){t.id=e+vu(),t.sourceNodeId=n[t.sourceNodeId],t.targetNodeId=n[t.targetNodeId]})),t},mu=(n(105),n(127),n(207),function(t,e,n){var r=t.x,o=t.y,i=e.x,u=e.y,a=n.x,c=n.y,s=(c-u)/(a-i),l=u-s*i;return r>=i&&r<=a&&o>=u&&o<=c&&Math.abs(o-s*r+l)<Number.EPSILON});function Ou(t){return Ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(t)}function _u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_u(Object(n),!0).forEach((function(e){ju(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ju(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xu,Eu,Su,Pu,Au,ku,Du,Tu,Mu,Nu,Cu,Ru,Iu,Lu,zu,Bu,Uu,Fu,Hu,Xu,Gu,Yu=function(t){return t.anchors},Vu=function(t,e){for(var n,r=e.nodes,o=r.length-1;o>=0;o--){var i=r[o];if(Zu(t,i)){var u=i.getTargetAnchor(t);if(u){var a={node:i,anchorIndex:u.index,anchor:u.anchor};n&&!Wu(i,n.node,e)||(n=a)}}}return n},Wu=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},Ku=function(t,e,n,r){return Math.hypot(t-n,e-r)},$u=function(t,e){var n=!1,r=qu(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},Zu=function(t,e){var n=!1,r=qu(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},qu=function(t){var e=t.x,n=t.y,r=t.width,o=t.height;return{minX:e-r/2,minY:n-o/2,maxX:e+r/2,maxY:n+o/2,x:e,y:n,width:r,height:o,centerX:e,centerY:n}},Ju=function(t,e,n){var r,o=function(t){var e=t,n=e.x,r=e.y,o=e.width,i=e.height,u=e.radius;return[{x:n-o/2+u,y:r-i/2+u,r:u},{x:n+o/2-u,y:r-i/2+u,r:u},{x:n-o/2+u,y:r+i/2-u,r:u},{x:n+o/2-u,y:r+i/2-u,r:u}]}(n),i=Number.MAX_SAFE_INTEGER;return o.forEach((function(e){var n=Ku(t.x,t.y,e.x,e.y);n<i&&(i=n,r=e)})),Qu(t,e,r)},Qu=function(t,e,n){var r,o=n,i=o.x,u=o.y,a=o.r;if(e===vo.HORIZONTAL){var c=i-Math.sqrt(a*a-(t.y-u)*(t.y-u)),s=i+Math.sqrt(a*a-(t.y-u)*(t.y-u));r={x:Math.abs(c-t.x)<Math.abs(s-t.x)?c:s,y:t.y}}else if(e===vo.VERTICAL){var l=u-Math.sqrt(a*a-(t.x-i)*(t.x-i)),f=u+Math.sqrt(a*a-(t.x-i)*(t.x-i)),p=Math.abs(l-t.y)<Math.abs(f-t.y)?l:f;r={x:t.x,y:p}}return r},ta=function(t,e){var n=e,r=!1,o=n.x-n.width/2+n.radius,i=n.x+n.width/2-n.radius,u=n.y-n.height/2+n.radius,a=n.y+n.height/2-n.radius,c=n.x,s=n.y,l=n.width,f=n.height;return t.y===s+f/2||t.y===s-f/2?r=t.x>o&&t.x<i:t.x!==c+l/2&&t.x!==c-l/2||(r=t.y>u&&t.y<a),r},ea=function(t,e,n){var r,o=n,i=o.x,u=o.y,a=o.rx,c=o.ry;if(e===vo.HORIZONTAL){var s=i-Math.sqrt(a*a-(t.y-u)*(t.y-u)*a*a/(c*c)),l=i+Math.sqrt(a*a-(t.y-u)*(t.y-u)*a*a/(c*c));r={x:Math.abs(s-t.x)<Math.abs(l-t.x)?s:l,y:t.y}}else if(e===vo.VERTICAL){var f=u-Math.sqrt(c*c-(t.x-i)*(t.x-i)*c*c/(a*a)),p=u+Math.sqrt(c*c-(t.x-i)*(t.x-i)*c*c/(a*a)),d=Math.abs(f-t.y)<Math.abs(p-t.y)?f:p;r={x:t.x,y:d}}return r},na=function(t,e,n){for(var r,o=n.pointsPosition,i=Number.MAX_SAFE_INTEGER,u=[],a=0;a<o.length;a++)u.push({start:o[a],end:o[(a+1)%o.length]});return u.forEach((function(n){var o=n.start,u=n.end,a=o,c=u;o.x>u.x&&(a=u,c=o);var s={x:t.x,y:t.y};if(a.x===c.x&&e===vo.HORIZONTAL&&(s={x:a.x,y:t.y}),a.y===c.y&&e===vo.VERTICAL&&(s={x:t.x,y:a.y}),a.x!==c.x&&a.y!==c.y){var l=(c.y-a.y)/(c.x-a.x),f=(a.x*c.y-c.x*a.y)/(a.x-c.x);e===vo.HORIZONTAL?s={x:(t.y-f)/l,y:t.y}:e===vo.VERTICAL&&(s={x:t.x,y:l*t.x+f})}if(mu(s,o,u)){var p=Ku(s.x,s.y,t.x,t.y);p<i&&(i=p,r=s)}})),r},ra=function(t,e,n,r){var o=t.x,i=t.y;return e.x>t.x?o=t.x+n/2:e.x<t.x&&(o=t.x-n/2),e.y>t.y?i=t.y+r/2:e.y<t.y&&(i=t.y-r/2),{x:o,y:i}},oa=function(t){var e=t.rows,n=t.style,r=t.rowsLength,o=t.className,i=document.createElement("div");i.style.fontSize=n.fontSize,i.style.width=n.width,i.className=o,i.style.lineHeight=n.lineHeight,i.style.padding=n.padding,n.fontFamily&&(i.style.fontFamily=n.fontFamily),r>1?e.forEach((function(t){var e=document.createElement("div");e.textContent=t,i.appendChild(e)})):i.textContent=e,document.body.appendChild(i);var u=i.clientHeight;return document.body.removeChild(i),u},ia=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,o=0;return e&&e.forEach((function(t){var e=Wc(t);o=e>o?e:o})),{width:Math.ceil(o/2)*r+r/4,height:n*(r+2)+r/4}},ua=function(t){return"object"!==Ou(t)?{isAllPass:!!t,msg:t?"":""}:t},aa=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}},ca=1e3,sa=999,la=function(){return++ca};function fa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fa(Object(n),!0).forEach((function(e){ya(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fa(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function da(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ha(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ya(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function va(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var ga=(xu=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ya(this,"id",""),da(this,"type",Eu,this),da(this,"sourceNodeId",Su,this),da(this,"targetNodeId",Pu,this),da(this,"startPoint",Au,this),da(this,"endPoint",ku,this),da(this,"text",Du,this),da(this,"properties",Tu,this),da(this,"points",Mu,this),da(this,"pointsList",Nu,this),da(this,"isSelected",Cu,this),da(this,"isHovered",Ru,this),da(this,"isHitable",Iu,this),da(this,"draggable",Lu,this),da(this,"visible",zu,this),ya(this,"virtual",!1),da(this,"isAnimation",Bu,this),da(this,"isShowAdjustPoint",Uu,this),ya(this,"graphModel",void 0),da(this,"zIndex",Fu,this),ya(this,"BaseType",ho.EDGE),ya(this,"modelType",po.EDGE),da(this,"state",Hu,this),ya(this,"additionStateData",void 0),ya(this,"sourceAnchorId",""),ya(this,"targetAnchorId",""),ya(this,"menu",void 0),ya(this,"customTextPosition",!1),da(this,"style",Xu,this),da(this,"arrowConfig",Gu,this),this.graphModel=n,this.initEdgeData(e),this.setAttributes()}var e,n,r;return e=t,n=[{key:"initEdgeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var e=this.graphModel.idGenerator,n=e&&e(t.type),r=this.createId();t.id=r||n||gu()}this.arrowConfig.markerEnd="url(#marker-end-".concat(t.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(t.id,")");var o=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=o,qr(this,ns(t)),this.graphModel.overlapMode===go.INCREASE&&(this.zIndex=t.zIndex||la()),this.setAnchors(),this.initPoints(),this.formatText(t)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return pa(pa({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return pa({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.edgeText;return wi(t)}},{key:"getEdgeAnimationStyle",value:function(){var t=this.graphModel.theme.edgeAnimation;return wi(t)}},{key:"getArrowStyle",value:function(){var t=this.getEdgeStyle(),e=this.getEdgeAnimationStyle(),n=this.graphModel.theme.arrow,r=this.isAnimation?e.stroke:t.stroke;return pa(pa({},t),{},{fill:r,stroke:r},n)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return wi(t)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var t,e;return null===(t=this.graphModel)||void 0===t||null===(e=t.nodesMap[this.sourceNodeId])||void 0===e?void 0:e.model}},{key:"targetNode",get:function(){var t,e;return null===(t=this.graphModel)||void 0===t||null===(e=t.nodesMap[this.targetNodeId])||void 0===e?void 0:e.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(t,e,n){var r,o,i=Yu(t);return n&&(r=cu(i,(function(t){return t.id===n})))||i.forEach((function(t){var n=rs(t,e);(void 0===o||n<o)&&(o=n,r=t)})),r}},{key:"getEndAnchor",value:function(t,e){var n,r,o=this,i=Yu(t);return e&&(n=cu(i,(function(t){return t.id===e})))||i.forEach((function(t){var e=rs(t,o.startPoint);(void 0===r||e<r)&&(r=e,n=t)})),n}},{key:"getProperties",value:function(){return Object(o.I)(this.properties)}},{key:"getData",value:function(){var t=this.text,e=t.x,n=t.y,r=t.value,i={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(o.I)(this.properties)};return r&&(i.text={x:e,y:n,value:r}),this.graphModel.overlapMode===go.INCREASE&&(i.zIndex=this.zIndex),i}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(t,e){this.properties[t]=aa(e),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=pa(pa({},Object(o.I)(this.properties)),aa(t)),this.setAttributes()}},{key:"changeEdgeId",value:function(t){var e=this.arrowConfig,n=e.markerEnd,r=e.markerStart;r&&r==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(t,")")),n&&n==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(t,")")),this.id=t}},{key:"setStyle",value:function(t,e){this.style=pa(pa({},this.style),{},ya({},t,aa(e)))}},{key:"setStyles",value:function(t){this.style=pa(pa({},this.style),aa(t))}},{key:"updateStyles",value:function(t){this.style=pa({},aa(t))}},{key:"formatText",value:function(t){var e=this.textPosition,n=e.x,r=e.y;t.text&&"string"!=typeof t.text?"[object Object]"===Object.prototype.toString.call(t.text)&&(this.text={x:t.text.x||n,y:t.text.y||r,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:t.text||"",x:n,y:r,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var t=this.textPosition,e=t.x,n=t.y;this.text.x=e,this.text.y=n}},{key:"moveText",value:function(t,e){if(this.text){var n=this.text,r=n.x,o=n.y,i=n.value,u=n.draggable,a=n.editable;this.text={value:i,draggable:u,x:r+t,y:o+e,editable:a}}}},{key:"setText",value:function(t){t&&qr(this.text,t)}},{key:"updateText",value:function(t){this.text=pa(pa({},Object(o.I)(this.text)),{},{value:t})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode,this.sourceAnchorId);if(!t)throw new Error("beginAnchoranchorsanchors");this.startPoint||(this.startPoint={x:t.x,y:t.y}),this.sourceAnchorId||(this.sourceAnchorId=t.id)}if(!this.targetAnchorId||!this.endPoint){var e=this.getEndAnchor(this.targetNode,this.targetAnchorId);if(!e)throw new Error("endAnchoranchorsanchors");this.endPoint||(this.endPoint={x:e.x,y:e.y}),this.targetAnchorId||(this.targetAnchorId=e.id)}}},{key:"setSelected",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=t}},{key:"setHovered",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=t}},{key:"setHitable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=t}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(t,e){this.state=t,this.additionStateData=e}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"moveStartPoint",value:function(t,e){this.startPoint.x+=t,this.startPoint.y+=e}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"moveEndPoint",value:function(t,e){this.endPoint.x+=t,this.endPoint.y+=e}},{key:"setZIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.zIndex=t}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){qr(this,t)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var e=t.startPoint,n=t.endPoint;this.updateStartPoint({x:e.x,y:e.y}),this.updateEndPoint({x:n.x,y:n.y})}}],n&&ha(e.prototype,n),r&&ha(e,r),t}(),Eu=va(xu.prototype,"type",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Su=va(xu.prototype,"sourceNodeId",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Pu=va(xu.prototype,"targetNodeId",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Au=va(xu.prototype,"startPoint",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ku=va(xu.prototype,"endPoint",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Du=va(xu.prototype,"text",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Tu=va(xu.prototype,"properties",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Mu=va(xu.prototype,"points",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Nu=va(xu.prototype,"pointsList",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Cu=va(xu.prototype,"isSelected",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ru=va(xu.prototype,"isHovered",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Iu=va(xu.prototype,"isHitable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Lu=va(xu.prototype,"draggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),zu=va(xu.prototype,"visible",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Bu=va(xu.prototype,"isAnimation",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Uu=va(xu.prototype,"isShowAdjustPoint",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fu=va(xu.prototype,"zIndex",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Hu=va(xu.prototype,"state",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Xu=va(xu.prototype,"style",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Gu=va(xu.prototype,"arrowConfig",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),va(xu.prototype,"sourceNode",[o.m],Object.getOwnPropertyDescriptor(xu.prototype,"sourceNode"),xu.prototype),va(xu.prototype,"targetNode",[o.m],Object.getOwnPropertyDescriptor(xu.prototype,"targetNode"),xu.prototype),va(xu.prototype,"textPosition",[o.m],Object.getOwnPropertyDescriptor(xu.prototype,"textPosition"),xu.prototype),va(xu.prototype,"setProperty",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"setProperty"),xu.prototype),va(xu.prototype,"deleteProperty",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"deleteProperty"),xu.prototype),va(xu.prototype,"setProperties",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"setProperties"),xu.prototype),va(xu.prototype,"changeEdgeId",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"changeEdgeId"),xu.prototype),va(xu.prototype,"setStyle",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"setStyle"),xu.prototype),va(xu.prototype,"setStyles",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"setStyles"),xu.prototype),va(xu.prototype,"updateStyles",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"updateStyles"),xu.prototype),va(xu.prototype,"formatText",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"formatText"),xu.prototype),va(xu.prototype,"resetTextPosition",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"resetTextPosition"),xu.prototype),va(xu.prototype,"moveText",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"moveText"),xu.prototype),va(xu.prototype,"setText",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"setText"),xu.prototype),va(xu.prototype,"updateText",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"updateText"),xu.prototype),va(xu.prototype,"setAnchors",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"setAnchors"),xu.prototype),va(xu.prototype,"setSelected",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"setSelected"),xu.prototype),va(xu.prototype,"setHovered",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"setHovered"),xu.prototype),va(xu.prototype,"setHitable",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"setHitable"),xu.prototype),va(xu.prototype,"openEdgeAnimation",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"openEdgeAnimation"),xu.prototype),va(xu.prototype,"closeEdgeAnimation",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"closeEdgeAnimation"),xu.prototype),va(xu.prototype,"setElementState",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"setElementState"),xu.prototype),va(xu.prototype,"updateStartPoint",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"updateStartPoint"),xu.prototype),va(xu.prototype,"moveStartPoint",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"moveStartPoint"),xu.prototype),va(xu.prototype,"updateEndPoint",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"updateEndPoint"),xu.prototype),va(xu.prototype,"moveEndPoint",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"moveEndPoint"),xu.prototype),va(xu.prototype,"setZIndex",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"setZIndex"),xu.prototype),va(xu.prototype,"initPoints",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"initPoints"),xu.prototype),va(xu.prototype,"updateAttributes",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"updateAttributes"),xu.prototype),va(xu.prototype,"getAdjustStart",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"getAdjustStart"),xu.prototype),va(xu.prototype,"getAdjustEnd",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"getAdjustEnd"),xu.prototype),va(xu.prototype,"updateAfterAdjustStartAndEnd",[o.k],Object.getOwnPropertyDescriptor(xu.prototype,"updateAfterAdjustStartAndEnd"),xu.prototype),xu),ba=ga;function ma(t){return ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ma(t)}function Oa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oa(Object(n),!0).forEach((function(e){Ta(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oa(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ja(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xa(){return xa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Ea(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},xa.apply(this,arguments)}function Ea(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Da(t)););return t}function Sa(t,e){return Sa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Sa(t,e)}function Pa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Da(t);if(e){var o=Da(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Aa(this,n)}}function Aa(t,e){if(e&&("object"===ma(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ka(t)}function ka(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Da(t){return Da=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Da(t)}function Ta(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ma,Na,Ca=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sa(t,e)}(i,t);var e,n,r,o=Pa(i);function i(){var t;wa(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ta(ka(t=o.call.apply(o,[this].concat(n))),"modelType",po.LINE_EDGE),t}return e=i,(n=[{key:"getEdgeStyle",value:function(){var t=this.graphModel.theme.line;return _a(_a({},xa(Da(i.prototype),"getEdgeStyle",this).call(this)),wi(t))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&ja(e.prototype,n),r&&ja(e,r),i}(ba);function Ra(t){return Ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ra(t)}function Ia(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return La(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?La(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function La(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function za(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ba(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?za(Object(n),!0).forEach((function(e){Za(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):za(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ua(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Fa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ha(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xa(){return Xa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Ga(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Xa.apply(this,arguments)}function Ga(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$a(t)););return t}function Ya(t,e){return Ya=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ya(t,e)}function Va(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$a(t);if(e){var o=$a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wa(this,n)}}function Wa(t,e){if(e&&("object"===Ra(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ka(t)}function Ka(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $a(t){return $a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$a(t)}function Za(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qa(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Ja=(Ma=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ya(t,e)}(i,t);var e,n,r,o=Va(i);function i(){var t;Fa(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Za(Ka(t=o.call.apply(o,[this].concat(n))),"modelType",po.POLYLINE_EDGE),Za(Ka(t),"draggingPointList",void 0),Ua(Ka(t),"dbClickPosition",Na,Ka(t)),t}return e=i,(n=[{key:"initEdgeData",value:function(t){this.offset=30,Xa($a(i.prototype),"initEdgeData",this).call(this,t)}},{key:"getEdgeStyle",value:function(){var t=this.graphModel.theme.polyline;return Ba(Ba({},Xa($a(i.prototype),"getEdgeStyle",this).call(this)),wi(t))}},{key:"getTextPosition",value:function(){var t,e=null===(t=this.text)||void 0===t?void 0:t.value;if(this.dbClickPosition&&!e){var n=this.dbClickPosition;return{x:n.x,y:n.y}}var r=Gc(this.points),o=Ia(Bc(r),2),i=o[0],u=o[1];return{x:(i.x+u.x)/2,y:(i.y+u.y)/2}}},{key:"getAfterAnchor",value:function(t,e,n){var r,o;return n.forEach((function(n){var i;t===vo.HORIZONTAL?i=Math.abs(e.y-n.y):t===vo.VERTICAL&&(i=Math.abs(e.x-n.x)),(!o||o>i)&&(o=i,r=n)})),r}},{key:"getCrossPoint",value:function(t,e,n){var r;return t===vo.HORIZONTAL?r={x:n.x,y:e.y}:t===vo.VERTICAL&&(r={x:e.x,y:n.y}),r}},{key:"removeCrossPoints",value:function(t,e,n){var r=n.map((function(t){return t}));if(1===t){var o=r[t],i=r[e],u=r[t-1];if(Uc(u,o,this.sourceNode)){if(Fc(o,i,this.sourceNode)){var a=Hc(o,i,this.sourceNode);a&&(r[t]=a,r.splice(t-1,1),t--,e--)}}else this.sourceNode.anchors.forEach((function(e){(e.x===u.x&&e.x===o.x||e.y===u.y&&e.y===o.y)&&Ku(e.x,e.y,o.x,o.y)<Ku(u.x,u.y,o.x,o.y)&&(r[t-1]=e)}))}if(e===n.length-2){var c=r[t],s=r[e],l=r[e+1];if(Uc(s,l,this.targetNode)){if(Fc(c,s,this.targetNode)){var f=Hc(c,s,this.targetNode);f&&(r[e]=f,r.splice(e+1,1))}}else this.targetNode.anchors.forEach((function(t){(t.x===l.x&&t.x===s.x||t.y===l.y&&t.y===s.y)&&Ku(t.x,t.y,s.x,s.y)<Ku(l.x,l.y,s.x,s.y)&&(r[e+1]=t)}))}return r}},{key:"getDraggingPoints",value:function(t,e,n,r,o){var i=o.map((function(t){return t})),u=this.getAfterAnchor(t,n,r),a=this.getCrossPoint(t,n,u);return"start"===e?(i.unshift(a),i.unshift(u)):(i.push(a),i.push(u)),i}},{key:"updateCrossPoints",value:function(t){var e=t.map((function(t){return t})),n=t[0],r=t[1],o=t[e.length-2],i=t[e.length-1],u=this.sourceNode,a=this.targetNode,c=u.modelType,s=a.modelType,l=Xc(n,r),f=e[0];switch(c){case po.RECT_NODE:0!==u.radius&&(ta(n,u)||(f=Ju(n,l,u)));break;case po.CIRCLE_NODE:f=Qu(n,l,u);break;case po.ELLIPSE_NODE:f=ea(n,l,u);break;case po.DIAMOND_NODE:case po.POLYGON_NODE:f=na(n,l,u)}f&&(e[0]=f);var p=Xc(o,i),d=e[e.length-1];switch(s){case po.RECT_NODE:0!==a.radius&&(ta(i,a)||(d=Ju(i,p,a)));break;case po.CIRCLE_NODE:d=Qu(i,p,a);break;case po.ELLIPSE_NODE:d=ea(i,p,a);break;case po.DIAMOND_NODE:case po.POLYGON_NODE:d=na(i,p,a)}return d&&(e[e.length-1]=d),e}},{key:"getData",value:function(){var t=Xa($a(i.prototype),"getData",this).call(this),e=this.pointsList.map((function(t){return{x:t.x,y:t.y}}));return Object.assign({},t,{pointsList:e})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var t=zc({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=t,this.points=t.map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" ")}},{key:"updateStartPoint",value:function(t){this.startPoint=Object.assign({},t),this.updatePoints()}},{key:"moveStartPoint",value:function(t,e){this.startPoint.x+=t,this.startPoint.y+=e,this.updatePoints()}},{key:"updateEndPoint",value:function(t){this.endPoint=Object.assign({},t),this.updatePoints()}},{key:"moveEndPoint",value:function(t,e){this.endPoint.x+=t,this.endPoint.y+=e,this.updatePoints()}},{key:"updatePointsList",value:function(t,e){this.pointsList.forEach((function(n){n.x+=t,n.y+=e}));var n=this.pointsList[0];this.startPoint=Object.assign({},n);var r=this.pointsList[this.pointsList.length-1];this.endPoint=Object.assign({},r),this.initPoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map((function(t){return t}))}},{key:"dragAppendSimple",value:function(t,e){this.isDragging=!0;var n=t.start,r=t.end,o=t.startIndex,i=t.endIndex,u=t.direction,a=this.pointsList,c=a;return u===vo.HORIZONTAL?(a[o]={x:n.x,y:n.y+e.y},a[i]={x:r.x,y:r.y+e.y},c=this.pointsList.map((function(t){return t}))):u===vo.VERTICAL&&(a[o]={x:n.x+e.x,y:n.y},a[i]={x:r.x+e.x,y:r.y},c=this.pointsList.map((function(t){return t}))),this.updatePointsAfterDrag(c),this.draggingPointList=c,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},a[o]),end:Object.assign({},a[i]),startIndex:o,endIndex:i,direction:u}}},{key:"dragAppend",value:function(t,e){this.isDragging=!0;var n=t.start,r=t.end,o=t.startIndex,i=t.endIndex,u=t.direction,a=this.pointsList;if(u===vo.HORIZONTAL){a[o]={x:n.x,y:n.y+e.y},a[i]={x:r.x,y:r.y+e.y};var c=this.pointsList.map((function(t){return t}));if(0!==o&&i!==this.pointsList.length-1&&(c=this.removeCrossPoints(o,i,c)),0===o){var s={x:n.x,y:n.y+e.y};if(!$u(s,this.sourceNode)){var l=this.sourceNode.anchors;c=this.getDraggingPoints(u,"start",s,l,c)}}if(i===this.pointsList.length-1){var f={x:r.x,y:r.y+e.y};if(!$u(f,this.targetNode)){var p=this.targetNode.anchors;c=this.getDraggingPoints(u,"end",f,p,c)}}this.updatePointsAfterDrag(c),this.draggingPointList=c}else if(u===vo.VERTICAL){a[o]={x:n.x+e.x,y:n.y},a[i]={x:r.x+e.x,y:r.y};var d=this.pointsList.map((function(t){return t}));if(0!==o&&i!==this.pointsList.length-1&&(d=this.removeCrossPoints(o,i,d)),0===o){var h={x:n.x+e.x,y:n.y};if(!$u(h,this.sourceNode)){var y=this.sourceNode.anchors;d=this.getDraggingPoints(u,"start",h,y,d)}}if(i===this.pointsList.length-1){var v={x:r.x+e.x,y:r.y};if(!$u(v,this.targetNode)){var g=this.targetNode.anchors;d=this.getDraggingPoints(u,"end",v,g,d)}}this.updatePointsAfterDrag(d),this.draggingPointList=d}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},a[o]),end:Object.assign({},a[i]),startIndex:o,endIndex:i,direction:u}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var t=Lc(Gc(this.points));this.pointsList=t.map((function(t){return t})),this.draggingPointList=[];var e=t[0];this.startPoint=Object.assign({},e);var n=t[t.length-1];this.endPoint=Object.assign({},n)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(t){var e=this.updateCrossPoints(t);this.points=e.map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var t=this.pointsList;return t[t.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var e=t.startPoint,n=t.endPoint,r=t.sourceNode,o=t.targetNode,i=zc({x:e.x,y:e.y},{x:n.x,y:n.y},r,o,this.offset||0);this.pointsList=i,this.initPoints()}}])&&Ha(e.prototype,n),r&&Ha(e,r),i}(ba),Na=qa(Ma.prototype,"dbClickPosition",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qa(Ma.prototype,"initPoints",[o.k],Object.getOwnPropertyDescriptor(Ma.prototype,"initPoints"),Ma.prototype),qa(Ma.prototype,"updatePoints",[o.k],Object.getOwnPropertyDescriptor(Ma.prototype,"updatePoints"),Ma.prototype),qa(Ma.prototype,"updateStartPoint",[o.k],Object.getOwnPropertyDescriptor(Ma.prototype,"updateStartPoint"),Ma.prototype),qa(Ma.prototype,"moveStartPoint",[o.k],Object.getOwnPropertyDescriptor(Ma.prototype,"moveStartPoint"),Ma.prototype),qa(Ma.prototype,"updateEndPoint",[o.k],Object.getOwnPropertyDescriptor(Ma.prototype,"updateEndPoint"),Ma.prototype),qa(Ma.prototype,"moveEndPoint",[o.k],Object.getOwnPropertyDescriptor(Ma.prototype,"moveEndPoint"),Ma.prototype),qa(Ma.prototype,"updatePointsList",[o.k],Object.getOwnPropertyDescriptor(Ma.prototype,"updatePointsList"),Ma.prototype),qa(Ma.prototype,"dragAppendStart",[o.k],Object.getOwnPropertyDescriptor(Ma.prototype,"dragAppendStart"),Ma.prototype),qa(Ma.prototype,"dragAppendSimple",[o.k],Object.getOwnPropertyDescriptor(Ma.prototype,"dragAppendSimple"),Ma.prototype),qa(Ma.prototype,"dragAppend",[o.k],Object.getOwnPropertyDescriptor(Ma.prototype,"dragAppend"),Ma.prototype),qa(Ma.prototype,"dragAppendEnd",[o.k],Object.getOwnPropertyDescriptor(Ma.prototype,"dragAppendEnd"),Ma.prototype),qa(Ma.prototype,"updatePointsAfterDrag",[o.k],Object.getOwnPropertyDescriptor(Ma.prototype,"updatePointsAfterDrag"),Ma.prototype),qa(Ma.prototype,"getAdjustStart",[o.k],Object.getOwnPropertyDescriptor(Ma.prototype,"getAdjustStart"),Ma.prototype),qa(Ma.prototype,"getAdjustEnd",[o.k],Object.getOwnPropertyDescriptor(Ma.prototype,"getAdjustEnd"),Ma.prototype),qa(Ma.prototype,"updateAfterAdjustStartAndEnd",[o.k],Object.getOwnPropertyDescriptor(Ma.prototype,"updateAfterAdjustStartAndEnd"),Ma.prototype),Ma),Qa=function(t){var e=t.start,n=t.end,r=t.offset,o=t.verticalLength,i=t.type,u={leftX:0,leftY:0,rightX:0,rightY:0},a=Math.atan((n.y-e.y)/(n.x-e.x)),c=Math.atan(r/o),s=Math.sqrt(o*o+r*r);return"start"===i?n.x>=e.x?(u.leftX=e.x+s*Math.sin(a+c),u.leftY=e.y-s*Math.cos(a+c),u.rightX=e.x-s*Math.sin(a-c),u.rightY=e.y+s*Math.cos(a-c)):(u.leftX=e.x-s*Math.sin(a+c),u.leftY=e.y+s*Math.cos(a+c),u.rightX=e.x+s*Math.sin(a-c),u.rightY=e.y-s*Math.cos(a-c)):"end"===i&&(n.x>=e.x?(u.leftX=n.x+s*Math.sin(a-c),u.leftY=n.y-s*Math.cos(a-c),u.rightX=n.x-s*Math.sin(a+c),u.rightY=n.y+s*Math.cos(a+c)):(u.leftX=n.x-s*Math.sin(a-c),u.leftY=n.y+s*Math.cos(a-c),u.rightX=n.x+s*Math.sin(a+c),u.rightY=n.y-s*Math.cos(a+c))),u},tc={x:1,y:0,z:0};function ec(t,e,n,r,o){for(var i=function(o){if(o<0||o>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:t.x*Math.pow(1-o,3)+3*e.x*o*Math.pow(1-o,2)+3*n.x*Math.pow(o,2)*(1-o)+r.x*Math.pow(o,3),y:t.y*Math.pow(1-o,3)+3*e.y*o*Math.pow(1-o,2)+3*n.y*Math.pow(o,2)*(1-o)+r.y*Math.pow(o,3)}},u=0,a=2,c=r.x,s=r.y,l=r;u<o&&a<50;){var f=l=i(1-a/100),p=f.x,d=f.y;u=Ku(c,s,p,d),a++}return l}function nc(t){var e=Math.hypot(t.x,t.y);return{x:t.x/e,y:t.y/e,z:0}}function rc(t){return r=function(t,e){return t.x*e.y-t.y*e.x}(e=tc,n=t),o=Math.acos(function(t,e){var n=[t.x,t.y,t.z];return[e.x,e.y,e.z].reduce((function(t,e,r){return t+e*n[r]}))}(nc(e),nc(n))),r>=0?o:-o;var e,n,r,o}function oc(t){return t*(180/Math.PI)}function ic(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function uc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ic(Object(n),!0).forEach((function(e){ac(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ic(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ac(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cc(t){return function(t){if(Array.isArray(t))return pc(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||fc(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sc(t){return sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(t)}function lc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||fc(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fc(t,e){if(t){if("string"==typeof t)return pc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pc(t,e):void 0}}function pc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var dc=function(t,e){var n;switch(t.type){case"line":default:n=new Ca(t,e);break;case"polyline":n=new Ja(t,e)}return n},hc=function(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height},yc=function(t){var e=[],n={};return t.forEach((function(t){var e="".concat(t.x,"-").concat(t.y);t.id=e,n[e]=t})),Object.keys(n).forEach((function(t){e.push(n[t])})),e},vc=function(t,e){var n=[t,{x:t.x,y:e.y},e];return yc(n)},gc=function(t,e){return 0===t.width&&0===t.height?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},bc=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height?vo.HORIZONTAL:vo.VERTICAL},mc=function(t,e,n){return bc(n,e)===vo.HORIZONTAL?{x:n.x>t.centerX?t.maxX:t.minX,y:n.y}:{x:n.x,y:n.y>t.centerY?t.maxY:t.minY}},Oc=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),o=Math.max(t.maxX,e.maxX),i=Math.max(t.maxY,e.maxY);return{centerX:(n+o)/2,centerY:(r+i)/2,minX:n,minY:r,maxX:o,maxY:i,height:i-r,width:o-n}},_c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach((function(t){n.push(t.x),r.push(t.y)}));var o=Math.min.apply(Math,n),i=Math.max.apply(Math,n),u=Math.min.apply(Math,r),a=Math.max.apply(Math,r),c=i-o,s=a-u;return e&&(c+=e,s+=e),{centerX:(o+i)/2,centerY:(u+a)/2,maxX:i,maxY:a,minX:o,minY:u,x:(o+i)/2,y:(u+a)/2,height:s,width:c}},wc=function(t){var e=t.minX,n=t.minY,r=t.maxX,o=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:o},{x:e,y:o}]},jc=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},xc=function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]},Ec=function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]},Sc=function(t,e){return xc(t,e.x).concat(Ec(t,e.y))},Pc=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},Ac=function(t,e){var n=0;return e.forEach((function(e){e&&(t.x===e.x&&(n+=-2),t.y===e.y&&(n+=-2))})),n},kc=function(t,e,n,r,o){return Pc(t,e)+Pc(t,n)+Ac(t,[e,n,r,o])},Dc=function t(e,n,r,o,i){i||(i=0),e.unshift(n[o]),r[o]&&r[o]!==o&&i<=100&&t(e,n,r,r[o],i+1)},Tc=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},Mc=function(t,e,n,r){var o=e.x-t.x,i=e.y-t.y,u=r.x-n.x,a=r.y-n.y,c=(-i*(t.x-n.x)+o*(t.y-n.y))/(-u*i+o*a),s=(u*(t.y-n.y)-a*(t.x-n.x))/(-u*i+o*a);return c>=0&&c<=1&&s>=0&&s<=1},Nc=function(t,e,n){if(0===n.width&&0===n.height)return!1;var r=lc(wc(n),4),o=r[0],i=r[1],u=r[2],a=r[3];return Mc(t,e,o,i)||Mc(t,e,o,a)||Mc(t,e,i,u)||Mc(t,e,u,a)},Cc=function(t,e,n,r){var o=[];return t.forEach((function(t){t!==e&&(t.x!==e.x&&t.y!==e.y||Nc(t,e,n)||Nc(t,e,r)||o.push(t))})),yc(o)},Rc=function(t,e,n,r,o,i,u){var a=[],c=[e],s={},l={},f={};l[e.id]=0,f[e.id]=kc(e,n,e);var p={};t.forEach((function(t){p[t.id]=t}));for(var d=function(){var d=void 0,h=1/0;if(c.forEach((function(t){f[t.id]<h&&(h=f[t.id],d=t)})),d===n){var y=[];return Dc(y,p,s,n.id),{v:y}}Tc(c,d),a.push(d),Cc(t,d,r,o).forEach((function(t){if(-1===a.indexOf(t)){-1===c.indexOf(t)&&c.push(t);var r=f[d.id]+Pc(d,t);l[t.id]&&r>=l[t.id]||(s[t.id]=d.id,l[t.id]=r,f[t.id]=l[t.id]+kc(t,n,e,i,u))}}))};c.length;){var h=d();if("object"===sc(h))return h.v}return[e,n]},Ic=function(t){return qu(t)},Lc=function(t){for(var e=1;e<t.length-1;){var n=t[e-1],r=t[e],o=t[e+1];n.x===r.x&&r.x===o.x||n.y===r.y&&r.y===o.y?t.splice(e,1):e++}return t},zc=function(t,e,n,r,o){var i=Ic(n),u=Ic(r),a=gc(i,o),c=gc(u,o),s=mc(a,i,t),l=mc(c,u,e);if(hc(a,c)){var f=Yc(t,e,s,l);return[t,s].concat(cc(f),[l,e])}var p=_c([s,l]),d=Oc(a,p),h=Oc(c,p),y=[];y=(y=y.concat(wc(d))).concat(wc(h));var v={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[p,d,h].forEach((function(t){y=y.concat(Sc(t,v).filter((function(t){return jc(t,a)&&jc(t,c)})))})),[{x:s.x,y:l.y},{x:l.x,y:s.y}].forEach((function(t){jc(t,a)&&jc(t,c)&&y.push(t)})),y.unshift(s),y.push(l),y=yc(y);var g=Rc(y,s,l,i,u,t,e);return g.unshift(t),g.push(e),g.length>2&&(g=Lc(g)),yc(g)},Bc=function(t){var e;if(1===t.length)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],o=Ku(n.x,n.y,r.x,r.y),i=1;i<t.length-1;i++){var u=t[i],a=t[i+1],c=Ku(u.x,u.y,a.x,a.y);c>o&&(o=c,n=u,r=a)}e=[n,r]}return e},Uc=function(t,e,n){var r=$u(t,n),o=$u(e,n);return r&&o},Fc=function(t,e,n){var r=$u(t,n),o=$u(e,n);return!(r&&o)&&(r||o)},Hc=function(t,e,n){for(var r,o,i=qu(n),u=wc(i),a=0;a<u.length;a++)Mc(t,e,u[a],u[(a+1)%u.length])&&(o=[u[a],u[(a+1)%u.length]]);return o&&(r=function(t,e,n,r){var o=(e.y-t.y)*(r.x-n.x)-(t.x-e.x)*(n.y-r.y);if(0===o)return!1;var i=((e.x-t.x)*(r.x-n.x)*(n.y-t.y)+(e.y-t.y)*(r.x-n.x)*t.x-(r.y-n.y)*(e.x-t.x)*n.x)/o,u=-((e.y-t.y)*(r.y-n.y)*(n.x-t.x)+(e.x-t.x)*(r.y-n.y)*t.y-(r.x-n.x)*(e.y-t.y)*n.y)/o;return(i-t.x)*(i-e.x)<=0&&(u-t.y)*(u-e.y)<=0&&(i-n.x)*(i-r.x)<=0&&(u-n.y)*(u-r.y)<=0&&{x:i,y:u}}(t,e,o[0],o[1])),r},Xc=function(t,e){var n;return t.x===e.x?n=vo.VERTICAL:t.y===e.y&&(n=vo.HORIZONTAL),n},Gc=function(t){var e=t.split(" "),n=[];return e&&e.forEach((function(t){var e=lc(t.split(","),2),r=e[0],o=e[1];n.push({x:Number(r),y:Number(o)})})),n},Yc=function(t,e,n,r){var o=[];if(Xc(t,n)===Xc(e,r))t.y===n.y?(o.push({x:n.x,y:(n.y+r.y)/2}),o.push({x:r.x,y:(n.y+r.y)/2})):(o.push({x:(n.x+r.x)/2,y:n.y}),o.push({x:(n.x+r.x)/2,y:r.y}));else{var i={x:n.x,y:r.y},u=mu(i,t,n),a=mu(i,e,r);if(u||a)i={x:r.x,y:n.y};else{var c=Vc(i,t,n),s=Vc(i,e,r);c&&s&&(i={x:r.x,y:n.y})}o.push(i)}return o},Vc=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},Wc=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},Kc=null,$c=function(t,e){Kc||(Kc=document.createElement("canvas"));var n=Kc.getContext("2d");return n.font=e,n.measureText(t).width},Zc=function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var o={start:n,end:r,offset:10,verticalLength:5},i=Qa(uc(uc({},o),{},{type:"start"})),u=Qa(uc(uc({},o),{},{type:"end"}));e="M".concat(i.leftX," ").concat(i.leftY," \n    L").concat(i.rightX," ").concat(i.rightY," \n    L").concat(u.rightX," ").concat(u.rightY,"\n    L").concat(u.leftX," ").concat(u.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},qc=function(t){var e=t.start,n=t.end,r=t.sourceNode,o=t.targetNode,i=t.offset,u=qu(r),a=qu(o),c=gc(u,i),s=gc(a,i);return{sNext:mc(c,u,e),ePre:mc(s,a,n)}},Jc=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Qc(e[0]),Qc(e[1]),Qc(e[2]),Qc(e[3])]},Qc=function(t){var e=lc(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},ts=function(t,e){var n=lc(t,4);return[ec(n[0],n[1],n[2],n[3],e),t[3]]},es=function(t,e){for(var n,r=t.x,o=t.y,i=Gc(e),u=Number.MAX_SAFE_INTEGER,a=[],c=0;c<i.length;c++)a.push({start:i[c],end:i[(c+1)%i.length]});if(a.forEach((function(t){var e=t.start,i=t.end;if(e.x===i.x){var a={x:e.x,y:o};if(mu(a,e,i)){var c=Math.abs(e.x-r);c<u&&(u=c,n=a)}}else if(e.y===i.y){var s={x:r,y:e.y};if(mu(s,e,i)){var l=Math.abs(e.y-o);l<u&&(u=l,n=s)}}})),!n){var s=a[0],l=s.start,f=s.end;n={x:l.x+(f.x-l.x)/2,y:l.y+(f.y-l.y)/2}}return n},ns=function(t){return io(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},rs=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function os(t,e){return"function"!=typeof e?function(e,n,r){return Object.assign({type:t.edgeType},r)}:function(n,r,o){var i=e(n,r,o);return i?"string"==typeof i?Object.assign({},o,{type:i}):Object.assign({type:i},o):{type:t.edgeType}}}n(208);var is=function(){};function us(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function as(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var cs=function(){function t(e){var n=this,r=e.onDragStart,o=void 0===r?is:r,i=e.onDragging,u=void 0===i?is:i,a=e.onDragEnd,c=void 0===a?is:a,s=e.eventType,l=void 0===s?"":s,f=e.eventCenter,p=void 0===f?null:f,d=e.step,h=void 0===d?1:d,y=e.isStopPropagation,v=void 0===y||y,g=e.model,b=void 0===g?null:g,m=e.data,O=void 0===m?null:m;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),as(this,"onDragStart",void 0),as(this,"onDragging",void 0),as(this,"onDragEnd",void 0),as(this,"step",void 0),as(this,"isStopPropagation",void 0),as(this,"isDragging",!1),as(this,"isStartDragging",!1),as(this,"startX",0),as(this,"startY",0),as(this,"sumDeltaX",0),as(this,"sumDeltaY",0),as(this,"eventType",void 0),as(this,"eventCenter",void 0),as(this,"model",void 0),as(this,"data",void 0),as(this,"startTime",void 0),as(this,"handleMouseDown",(function(t){var e,r,o,i=null===(e=window)||void 0===e?void 0:e.document;if(0===t.button){n.isStopPropagation&&t.stopPropagation(),n.isStartDragging=!0,n.startX=t.clientX,n.startY=t.clientY,i.addEventListener("mousemove",n.handleMouseMove,!1),i.addEventListener("mouseup",n.handleMouseUp,!1);var u=null===(r=n.model)||void 0===r?void 0:r.getData();null===(o=n.eventCenter)||void 0===o||o.emit(yo["".concat(n.eventType,"_MOUSEDOWN")],{e:t,data:n.data||u}),n.startTime=(new Date).getTime()}})),as(this,"handleMouseMove",(function(t){if(n.isStopPropagation&&t.stopPropagation(),n.isStartDragging&&(n.sumDeltaX+=t.clientX-n.startX,n.sumDeltaY+=t.clientY-n.startY,n.startX=t.clientX,n.startY=t.clientY,n.step<=1||Math.abs(n.sumDeltaX)>n.step||Math.abs(n.sumDeltaY)>n.step)){var e,r=n.sumDeltaX%n.step,o=n.sumDeltaY%n.step,i=n.sumDeltaX-r,u=n.sumDeltaY-o;n.sumDeltaX=r,n.sumDeltaY=o;var a,c=null===(e=n.model)||void 0===e?void 0:e.getData();n.isDragging||(null===(a=n.eventCenter)||void 0===a||a.emit(yo["".concat(n.eventType,"_DRAGSTART")],{e:t,data:n.data||c}),n.onDragStart({event:t})),n.isDragging=!0,Promise.resolve().then((function(){var e,r;n.onDragging({deltaX:i,deltaY:u,event:t}),null===(e=n.eventCenter)||void 0===e||e.emit(yo["".concat(n.eventType,"_MOUSEMOVE")],{e:t,data:n.data||c}),null===(r=n.eventCenter)||void 0===r||r.emit(yo["".concat(n.eventType,"_DRAG")],{e:t,data:n.data||c})}))}})),as(this,"handleMouseUp",(function(t){var e=window.document;n.isStartDragging=!1,n.isStopPropagation&&t.stopPropagation(),Promise.resolve().then((function(){var r,o,i;e.removeEventListener("mousemove",n.handleMouseMove,!1),e.removeEventListener("mouseup",n.handleMouseUp,!1);var u=null===(r=n.model)||void 0===r?void 0:r.getData();null===(o=n.eventCenter)||void 0===o||o.emit(yo["".concat(n.eventType,"_MOUSEUP")],{e:t,data:n.data||u}),n.isDragging&&(n.isDragging=!1,n.onDragEnd({event:t}),null===(i=n.eventCenter)||void 0===i||i.emit(yo["".concat(n.eventType,"_DROP")],{e:t,data:n.data||u}))}))})),as(this,"cancelDrag",(function(){var t,e=null===(t=window)||void 0===t?void 0:t.document;e.removeEventListener("mousemove",n.handleMouseMove,!1),e.removeEventListener("mouseup",n.handleMouseUp,!1),n.onDragEnd({event:null}),n.isDragging=!1})),this.onDragStart=o,this.onDragging=u,this.onDragEnd=c,this.step=h,this.isStopPropagation=v,this.eventType=l,this.eventCenter=p,this.model=b,this.data=O}var e,n,r;return e=t,(n=[{key:"setStep",value:function(t){this.step=t}},{key:"setModel",value:function(t){this.model=t}}])&&us(e.prototype,n),r&&us(e,r),t}();function ss(t){return ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ss(t)}function ls(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ps(t,e,n){return e&&fs(t.prototype,e),n&&fs(t,n),t}function ds(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Os(t,e)}function hs(t){var e=ms();return function(){var n,r=_s(t);if(e){var o=_s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ys(this,n)}}function ys(t,e){if(e&&("object"===ss(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return vs(t)}function vs(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gs(t){var e="function"==typeof Map?new Map:void 0;return gs=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return bs(t,arguments,_s(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Os(r,t)},gs(t)}function bs(t,e,n){return bs=ms()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Os(o,n.prototype),o},bs.apply(null,arguments)}function ms(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Os(t,e){return Os=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Os(t,e)}function _s(t){return _s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_s(t)}function ws(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function js(t,e){return!!(t instanceof Es&&e instanceof Es)}var xs=function(t){ds(n,t);var e=hs(n);function n(t,r,o){var i;return ls(this,n),ws(vs(i=e.call(this,3)),"x",void 0),ws(vs(i),"y",void 0),ws(vs(i),"z",void 0),i[0]=t,i[1]=r,i[2]=o,i.x=t,i.y=r,i.z=o,Object.setPrototypeOf(vs(i),n.prototype),i}return ps(n,[{key:"add",value:function(t){if(js(this,t))return new Es(this.x+t.x,this.y+t.y);var e=this.z+t.z;return new Ss((this.x+t.x)/e,(this.y+t.y)/e)}},{key:"subtract",value:function(t){if(js(this,t))return new Es(this.x-t.x,this.y-t.y);var e=this.z-t.z;return 0===e?new Es(this.x-t.x,this.y-t.y):new Ss((this.x-t.x)/e,(this.y-t.y)/e)}}]),n}(gs(Array)),Es=function(t){ds(n,t);var e=hs(n);function n(t,r,o){var i;return ls(this,n),i=e.call(this,t,r,null!=o?o:0),Object.setPrototypeOf(vs(i),n.prototype),i}return ps(n,[{key:"toString",value:function(){return"Vector"}},{key:"dot",value:function(t){var e=this;return t.reduce((function(t,n,r){return t+n*e[r]}))}},{key:"cross",value:function(t){return new n(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}},{key:"getLength",value:function(){return Math.hypot(this.x,this.y)}},{key:"normalize",value:function(){var t=this.getLength();return new n(this.x/t,this.y/t)}},{key:"crossZ",value:function(t){return this.x*t.y-this.y*t.x}},{key:"angle",value:function(t){var e=this.crossZ(t),n=Math.acos(this.normalize().dot(t.normalize()));return e>=0?n:-n}}]),n}(xs),Ss=function(t){ds(n,t);var e=hs(n);function n(t,r){var o;return ls(this,n),o=e.call(this,t,r,1),Object.setPrototypeOf(vs(o),n.prototype),o}return ps(n,[{key:"toString",value:function(){return"Point"}}]),n}(xs);function Ps(t){return Ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(t)}function As(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||Ds(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ks(t){return function(t){if(Array.isArray(t))return Ts(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ds(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ds(t,e){if(t){if("string"==typeof t)return Ts(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ts(t,e):void 0}}function Ts(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ms(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ns(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cs(t,e,n){return e&&Ns(t.prototype,e),n&&Ns(t,n),t}function Rs(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hs(t,e)}function Is(t){var e=Fs();return function(){var n,r=Xs(t);if(e){var o=Xs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ls(this,n)}}function Ls(t,e){if(e&&("object"===Ps(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return zs(t)}function zs(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bs(t){var e="function"==typeof Map?new Map:void 0;return Bs=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Us(t,arguments,Xs(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Hs(r,t)},Bs(t)}function Us(t,e,n){return Us=Fs()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Hs(o,n.prototype),o},Us.apply(null,arguments)}function Fs(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Hs(t,e){return Hs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Hs(t,e)}function Xs(t){return Xs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xs(t)}function Gs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n(67),n(218);var Ys,Vs,Ws,Ks,$s,Zs,qs,Js,Qs,tl,el,nl,rl,ol=function(t){Rs(n,t);var e=Is(n);function n(){var t;Ms(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Gs(zs(t=e.call(this,o.length)),"rows",void 0),Gs(zs(t),"columns",void 0),t.fill(new Array(3)),o.forEach((function(e,n){t[n]=e})),t.columns=o[0].length,t.rows=o.length,Object.setPrototypeOf(zs(t),n.prototype),t}return Cs(n,[{key:"getRow",value:function(t){return this[t]}},{key:"getColumn",value:function(t){return ks(this.map((function(e){return e[t]})))}},{key:"transpose",value:function(){for(var t=[],e=0;e<this.columns;e++)t.push(this.getColumn(e));return Us(n,t)}},{key:"cross",value:function(t){var e=new Array(this.rows).fill("").map((function(){return[]}));if(this.columns===t.rows)for(var r=0;r<this.rows;r++)for(var o=this.getRow(r),i=function(n){var i=t.getColumn(n);e[r][n]=o.reduce((function(t,e,n){return t+e*i[n]}),0)},u=0;u<t.columns;u++)i(u);return Us(n,ks(e))}},{key:"to2D",value:function(){return this.map((function(t){return[t[0],t[1]]}))}},{key:"toPoints",value:function(){return this.map((function(t){return new Ss(t[0],t[1])}))}},{key:"toString",value:function(){var t=As(this[0],2),e=t[0],n=t[1],r=As(this[1],2),o=r[0],i=r[1],u=As(this[2],2),a=u[0],c=u[1];return"matrix(".concat(e," ").concat(n," ").concat(o," ").concat(i," ").concat(a," ").concat(c,")")}},{key:"translate",value:function(t,e){return this.cross(new al(t,e))}},{key:"rotate",value:function(t){return this.cross(new il(t))}},{key:"scale",value:function(t,e){return this.cross(new ul(t,e))}}]),n}(Bs(Array)),il=function(t){Rs(n,t);var e=Is(n);function n(t){var r;return Ms(this,n),r=e.call(this,new Es(+Math.cos(t).toFixed(2),+Math.sin(t).toFixed(2),0),new Es(-Math.sin(t).toFixed(2),+Math.cos(t).toFixed(2),0),new Es(0,0,1)),Object.setPrototypeOf(zs(r),n.prototype),r}return Cs(n,[{key:"inverse",value:function(){return this.transpose()}}]),n}(ol),ul=function(t){Rs(n,t);var e=Is(n);function n(t,r){var o;return Ms(this,n),Gs(zs(o=e.call(this,new Es(t,0,0),new Es(0,r,0),new Es(0,0,1))),"sx",void 0),Gs(zs(o),"sy",void 0),o.sx=t,o.sy=r,Object.setPrototypeOf(zs(o),n.prototype),o}return Cs(n,[{key:"inverse",value:function(){return new n(1/this.sx,1/this.sy)}}]),n}(ol),al=function(t){Rs(n,t);var e=Is(n);function n(t,r){var o;return Ms(this,n),Gs(zs(o=e.call(this,new Es(1,0,0),new Es(0,1,0),new Es(t,r,1))),"tx",void 0),Gs(zs(o),"ty",void 0),o.tx=t,o.ty=r,Object.setPrototypeOf(zs(o),n.prototype),o}return Cs(n,[{key:"inverse",value:function(){return new n(-this.tx,-this.ty)}}]),n}(ol),cl={node:!1,edge:!1},sl={node:!0,edge:!0};function ll(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ll(Object(n),!0).forEach((function(e){ml(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ll(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||hl(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dl(t){return function(t){if(Array.isArray(t))return yl(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||hl(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hl(t,e){if(t){if("string"==typeof t)return yl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yl(t,e):void 0}}function yl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vl(t){return vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(t)}function gl(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function bl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ml(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ol(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var _l,wl=200,jl=(Ys=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ml(this,"rootEl",void 0),gl(this,"width",Vs,this),gl(this,"height",Ws,this),ml(this,"theme",void 0),ml(this,"eventCenter",void 0),ml(this,"modelMap",new Map),ml(this,"topElement",void 0),ml(this,"animation",void 0),ml(this,"idGenerator",void 0),ml(this,"edgeGenerator",void 0),ml(this,"nodeMoveRules",[]),ml(this,"customTrajectory",void 0),gl(this,"edgeType",Ks,this),gl(this,"nodes",$s,this),gl(this,"edges",Zs,this),gl(this,"overlapMode",qs,this),gl(this,"background",Js,this),gl(this,"transformModel",Qs,this),gl(this,"editConfigModel",tl,this),gl(this,"gridSize",el,this),gl(this,"partial",nl,this),gl(this,"fakerNode",rl,this);var n,r=e.container,o=e.background,i=void 0===o?{}:o,u=e.grid,a=e.idGenerator,c=e.edgeGenerator,s=e.animation,l=e.customTrajectory;this.background=i,"object"===vl(u)&&(this.gridSize=u.size),this.rootEl=r,this.editConfigModel=new Ao(e),this.eventCenter=new Bi,this.transformModel=new Io(this.eventCenter,e),this.theme=Li(e.style),this.edgeType=e.edgeType||"polyline",this.width=e.width,this.height=e.height,this.animation=(n=s)&&"boolean"!=typeof n?Ri(wi(cl),n):wi(!0===n?sl:cl),this.partial=e.partial,this.overlapMode=e.overlapMode||0,this.idGenerator=a,this.customTrajectory=l,this.edgeGenerator=os(this,c),this.width=e.width||this.rootEl.getBoundingClientRect().width,this.height=e.height||this.rootEl.getBoundingClientRect().height,this.flowId=gu()}var e,n,r;return e=t,n=[{key:"nodesMap",get:function(){return this.nodes.reduce((function(t,e,n){return t[e.id]={index:n,model:e},t}),{})}},{key:"edgesMap",get:function(){return this.edges.reduce((function(t,e,n){return t[e.id]={index:n,model:e},t}),{})}},{key:"modelsMap",get:function(){return[].concat(dl(this.nodes),dl(this.edges)).reduce((function(t,e){return t[e.id]=e,t}),{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach((function(e){return t.push(e)})),this.edges.forEach((function(e){return t.push(e)})),t=t.sort((function(t,e){return t.zIndex-e.zIndex}));for(var e=[],n=[-200,-200],r=[this.width+wl,this.height+wl],o=0;o<t.length;o++){var i=t[o];i.visible&&(!this.partial||i.isSelected||this.isElementInArea(i,n,r,!1,!1))&&e.push(i)}return e}},{key:"textEditElement",get:function(){var t=this.nodes.find((function(t){return t.state===lo.TEXT_EDIT})),e=this.edges.find((function(t){return t.state===lo.TEXT_EDIT}));return t||e}},{key:"selectElements",get:function(){var t=new Map;return this.nodes.forEach((function(e){e.isSelected&&t.set(e.id,e)})),this.edges.forEach((function(e){e.isSelected&&t.set(e.id,e)})),t}},{key:"selectNodes",get:function(){var t=[];return this.nodes.forEach((function(e){e.isSelected&&t.push(e)})),t}},{key:"getAreaElement",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=[],u=[];this.nodes.forEach((function(t){return u.push(t)})),this.edges.forEach((function(t){return u.push(t)}));for(var a=0;a<u.length;a++){var c=u[a];o&&!c.visible||!this.isElementInArea(c,t,e,n,r)||i.push(c)}return i}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModelById",value:function(t){var e;return this.fakerNode&&t===this.fakerNode.id?this.fakerNode:null===(e=this.nodesMap[t])||void 0===e?void 0:e.model}},{key:"getPointByClient",value:function(t){var e=t.x,n=t.y,r=this.rootEl.getBoundingClientRect(),o={x:e-r.left,y:n-r.top},i=pl(this.transformModel.HtmlPointToCanvasPoint([o.x,o.y]),2);return{domOverlayPosition:o,canvasOverlayPosition:{x:i[0],y:i[1]}}}},{key:"isElementInArea",value:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(t.BaseType===ho.NODE){for(var i=qu(t=t),u=i.minX,a=i.minY,c=i.maxX,s=i.maxY,l=[{x:u,y:a},{x:c,y:a},{x:c,y:s},{x:u,y:s}],f=o,p=0;p<l.length;p++){var d=l[p],h=d.x,y=d.y,v=this.transformModel.CanvasPointToHtmlPoint([h,y]),g=pl(v,2);if(h=g[0],y=g[1],Gi([h,y],e,n)!==o){f=!o;break}}return f}if(t.BaseType===ho.EDGE){var b=t=t,m=b.startPoint,O=b.endPoint,_=this.transformModel.CanvasPointToHtmlPoint([m.x,m.y]),w=this.transformModel.CanvasPointToHtmlPoint([O.x,O.y]),j=Gi(_,e,n),x=Gi(w,e,n);return r?j&&x:j||x}return!1}},{key:"graphDataToModel",value:function(t){var e=this;if(this.width&&this.height||this.resize(),!t)return this.nodes=[],void(this.edges=[]);t.nodes?this.nodes=hr(t.nodes,(function(t){return e.getModelAfterSnapToGrid(t)})):this.nodes=[],t.edges?this.edges=hr(t.edges,(function(t){var n=e.getModel(t.type);if(!n)throw new Error("".concat(t.type,""));return new n(t,e)})):this.edges=[]}},{key:"modelToGraphData",value:function(){var t=[];this.edges.forEach((function(e){var n=e.getData();n&&!e.virtual&&t.push(n)}));var e=[];return this.nodes.forEach((function(t){var n=t.getData();n&&!t.virtual&&e.push(n)})),{nodes:e,edges:t}}},{key:"modelToHistoryData",value:function(){for(var t=!1,e=[],n=0;n<this.nodes.length;n++){var r=this.nodes[n];if(r.isDragging){t=!0;break}e.push(r.getHistoryData())}if(t)return!1;for(var o=!1,i=[],u=0;u<this.edges.length;u++){var a=this.edges[u];if(a.isDragging){o=!0;break}i.push(a.getHistoryData())}return!o&&{nodes:e,edges:i}}},{key:"getEdgeModelById",value:function(t){var e;return null===(e=this.edgesMap[t])||void 0===e?void 0:e.model}},{key:"getElement",value:function(t){return this.modelsMap[t]}},{key:"getNodeEdges",value:function(t){for(var e=[],n=0;n<this.edges.length;n++){var r=this.edges[n],o=this.edges[n].sourceNodeId===t,i=this.edges[n].targetNodeId===t;(o||i)&&e.push(r)}return e}},{key:"getSelectElements",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.selectElements,n={nodes:[],edges:[]};return e.forEach((function(r){if(r.BaseType===ho.NODE&&n.nodes.push(r.getData()),r.BaseType===ho.EDGE){var o=r.getData(),i=e.get(o.sourceNodeId)&&e.get(o.targetNodeId);(t||i)&&n.edges.push(o)}})),n}},{key:"updateAttributes",value:function(t,e){this.getElement(t).updateAttributes(e)}},{key:"changeNodeId",value:function(t,e){return e||(e=gu()),this.nodesMap[e]?"":this.nodesMap[t]?(this.edges.forEach((function(n){n.sourceNodeId===t&&(n.sourceNodeId=e),n.targetNodeId===t&&(n.targetNodeId=e)})),this.nodesMap[t].model.id=e,this.nodesMap[e]=this.nodesMap[t],e):""}},{key:"changeEdgeId",value:function(t,e){return e||(e=gu()),this.edgesMap[e]?"":this.edgesMap[t]?(this.edges.forEach((function(n){n.id===t&&n.changeEdgeId(e)})),e):""}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,e){return this.modelMap.set(t,e)}},{key:"toFront",value:function(t){var e,n,r,o=(null===(e=this.nodesMap[t])||void 0===e?void 0:e.model)||(null===(n=this.edgesMap[t])||void 0===n?void 0:n.model);o&&(this.overlapMode===go.DEFAULT&&(null===(r=this.topElement)||void 0===r||r.setZIndex(),o.setZIndex(9999),this.topElement=o),this.overlapMode===go.INCREASE&&this.setElementZIndex(t,"top"))}},{key:"setElementZIndex",value:function(t,e){var n,r,o,i=(null===(n=this.nodesMap[t])||void 0===n?void 0:n.model)||(null===(r=this.edgesMap[t])||void 0===r?void 0:r.model);i&&("number"==typeof e&&(o=e),"top"===e&&(o=la()),"bottom"===e&&(o=--sa),i.setZIndex(o))}},{key:"deleteNode",value:function(t){var e=this.nodesMap[t].model.getData();this.deleteEdgeBySource(t),this.deleteEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(yo.NODE_DELETE,{data:e})}},{key:"addNode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yo.NODE_ADD,n=arguments.length>2?arguments[2]:void 0,r=aa(t);r.id&&this.nodesMap[t.id]&&delete r.id;var o=this.getModelAfterSnapToGrid(r);this.nodes.push(o);var i=o.getData(),u={data:i};return n&&(u.e=n),this.eventCenter.emit(e,u),o}},{key:"getModelAfterSnapToGrid",value:function(t){var e=this.getModel(t.type);if(!e)throw new Error("".concat(t.type,""));var n=t.x,r=t.y;return n&&r&&(t.x=Ui(n,this.gridSize),t.y=Ui(r,this.gridSize),"object"===vl(t.text)&&(t.text.x+=t.x-n,t.text.y+=t.y-r)),new e(t,this)}},{key:"cloneNode",value:function(t){var e=this.getNodeModelById(t),n=e.getData();n.x+=30,n.y+=30,delete n.id,n.text&&(n.text.x+=30,n.text.y+=30);var r=this.addNode(n);return r.setSelected(!0),e.setSelected(!1),r.getData()}},{key:"moveNode",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.nodesMap[t];if(o){var i=o.model,u=i.getMoveDistance(e,n,r),a=pl(u,2);e=a[0],n=a[1],this.moveEdge(t,e,n)}}},{key:"moveNode2Coordinate",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.nodesMap[t];if(o){var i=o.model,u=i.x,a=i.y,c=e-u,s=n-a;this.moveNode(t,c,s,r)}}},{key:"editText",value:function(t){this.setElementStateById(t,lo.TEXT_EDIT)}},{key:"addEdge",value:function(t){var e=aa(t),n=e.type;n||(n=this.edgeType),e.id&&this.edgesMap[e.id]&&delete e.id;var r=this.getModel(n);if(!r)throw new Error("".concat(n,""));var o=new r(fl(fl({},e),{},{type:n}),this),i=o.getData();return this.edges.push(o),this.eventCenter.emit(yo.EDGE_ADD,{data:i}),o}},{key:"moveEdge",value:function(t,e,n){for(var r=0;r<this.edges.length;r++){var o=this.edges[r],i=o.textPosition,u=i.x,a=i.y,c=this.edges[r].sourceNodeId===t,s=this.edges[r].targetNodeId===t;c&&o.moveStartPoint(e,n),s&&o.moveEndPoint(e,n),(c||s)&&this.handleEdgeTextMove(o,u,a)}}},{key:"handleEdgeTextMove",value:function(t,e,n){var r;if(!0===t.customTextPosition)t.resetTextPosition();else if(t.modelType===po.POLYLINE_EDGE&&null!==(r=t.text)&&void 0!==r&&r.value){var o=t.text,i=es(o,t.points);t.moveText(i.x-o.x,i.y-o.y)}else{var u=t.textPosition,a=u.x,c=u.y;t.moveText(a-e,c-n)}}},{key:"deleteEdgeBySourceAndTarget",value:function(t,e){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===t&&this.edges[n].targetNodeId===e){var r=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(yo.EDGE_DELETE,{data:r})}}},{key:"deleteEdgeById",value:function(t){if(this.edgesMap[t]){var e=this.edgesMap[t].index,n=this.edgesMap[t].model.getData();this.edges.splice(e,1),this.eventCenter.emit(yo.EDGE_DELETE,{data:n})}}},{key:"deleteEdgeBySource",value:function(t){for(var e=0;e<this.edges.length;e++)if(this.edges[e].sourceNodeId===t){var n=this.edges[e].getData();this.edges.splice(e,1),e--,this.eventCenter.emit(yo.EDGE_DELETE,{data:n})}}},{key:"deleteEdgeByTarget",value:function(t){for(var e=0;e<this.edges.length;e++)if(this.edges[e].targetNodeId===t){var n=this.edges[e].getData();this.edges.splice(e,1),e--,this.eventCenter.emit(yo.EDGE_DELETE,{data:n})}}},{key:"setElementStateById",value:function(t,e,n){this.nodes.forEach((function(r){r.id===t?r.setElementState(e,n):r.setElementState(lo.DEFAULT)})),this.edges.forEach((function(r){r.id===t?r.setElementState(e,n):r.setElementState(lo.DEFAULT)}))}},{key:"updateText",value:function(t,e){this.nodes.forEach((function(n){n.id===t&&n.updateText(e)})),this.edges.forEach((function(n){n.id===t&&n.updateText(e)}))}},{key:"selectNodeById",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n||this.clearSelectElements();var r=null===(e=this.nodesMap[t])||void 0===e?void 0:e.model;null==r||r.setSelected(!0)}},{key:"selectEdgeById",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n||this.clearSelectElements();var r=null===(e=this.edgesMap[t])||void 0===e?void 0:e.model;null==r||r.setSelected(!0)}},{key:"selectElementById",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e||this.clearSelectElements();var n=this.getElement(t);null==n||n.setSelected(!0)}},{key:"clearSelectElements",value:function(){var t;this.selectElements.forEach((function(t){null==t||t.setSelected(!1)})),this.selectElements.clear(),this.overlapMode===go.DEFAULT&&(null===(t=this.topElement)||void 0===t||t.setZIndex())}},{key:"moveNodes",value:function(t,e,n){for(var r=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t.reduce((function(t,i){var u=r.nodesMap[i].model.getMoveDistance(e,n,o);return t[i]=u,t}),{}),u=0;u<this.edges.length;u++){var a=this.edges[u],c=a.textPosition,s=c.x,l=c.y,f=i[a.sourceNodeId],p=i[a.targetNodeId],d=void 0,h=void 0;if(f&&p&&a.modelType===po.POLYLINE_EDGE){var y=pl(f,2);d=y[0],h=y[1],a.updatePointsList(d,h)}else{if(f){var v=pl(f,2);d=v[0],h=v[1],a.moveStartPoint(d,h)}if(p){var g=pl(p,2);d=g[0],h=g[1],a.moveEndPoint(d,h)}}(f||p)&&this.handleEdgeTextMove(a,s,l)}}},{key:"addNodeMoveRules",value:function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)}},{key:"setDefaultEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,e){var n=this.getNodeModelById(t);if(n){var r=n.getData();r.type=e;var o=this.getModel(e);if(!o)throw new Error("".concat(e,""));var i=new o(r,this);this.nodes.splice(this.nodesMap[t].index,1,i),this.getNodeEdges(t).forEach((function(e){if(e.sourceNodeId===t){var n=ra(i,e.startPoint,i.width,i.height);e.updateStartPoint(n)}if(e.targetNodeId===t){var r=ra(i,e.endPoint,i.width,i.height);e.updateEndPoint(r)}}))}}},{key:"changeEdgeType",value:function(t,e){var n=this.getEdgeModelById(t);if(n&&n.type!==e){var r=n.getData();r.type=e;var o=this.getModel(e);if(!o)throw new Error("".concat(e,""));delete r.pointsList;var i=new o(r,this);this.edges.splice(this.edgesMap[t].index,1,i)}}},{key:"getNodeIncomingEdge",value:function(t){var e=[];return this.edges.forEach((function(n){n.targetNodeId===t&&e.push(n)})),e}},{key:"getNodeOutgoingEdge",value:function(t){var e=[];return this.edges.forEach((function(n){n.sourceNodeId===t&&e.push(n)})),e}},{key:"getAnchorIncomingEdge",value:function(t){var e=[];return this.edges.forEach((function(n){n.targetAnchorId===t&&e.push(n)})),e}},{key:"getAnchorOutcomingEdge",value:function(t){var e=[];return this.edges.forEach((function(n){n.sourceAnchorId===t&&e.push(n)})),e}},{key:"getNodeIncomingNode",value:function(t){var e=this,n=[];return this.edges.forEach((function(r){r.targetNodeId===t&&n.push(e.nodesMap[r.sourceNodeId].model)})),n}},{key:"getNodeOutgoingNode",value:function(t){var e=this,n=[];return this.edges.forEach((function(r){r.sourceNodeId===t&&n.push(e.nodesMap[r.targetNodeId].model)})),n}},{key:"setTheme",value:function(t){this.theme=Li(fl(fl({},this.theme),t))}},{key:"resize",value:function(t,e){this.width=t||this.rootEl.getBoundingClientRect().width,this.height=e||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var t=this.nodes,e=[],n=[];t.forEach((function(t){var r=t.x,o=t.y,i=t.width,u=t.height,a=t.getNodeStyle().strokeWidth,c=void 0===a?0:a,s=r+i/2+c,l=r-i/2-c,f=o+u/2+c,p=o-u/2-c;e=e.concat([s,l].filter((function(t){return!Number.isNaN(t)}))),n=n.concat([f,p].filter((function(t){return!Number.isNaN(t)})))}));var r=Math.min.apply(Math,dl(e)),o=Math.max.apply(Math,dl(e)),i=Math.min.apply(Math,dl(n)),u=o-r||0,a=Math.max.apply(Math,dl(n))-i||0;return{virtualRectWidth:u,virtualRectHeight:a,virtualRectCenterPositionX:r+u/2,virtualRectCenterPositionY:i+a/2}}},{key:"translateCenter",value:function(){var t=this.nodes,e=this.width,n=this.height,r=this.rootEl,o=this.transformModel;if(t.length){var i=e||r.clientWidth,u=n||r.clientHeight,a=this.getVirtualRectSize(),c=a.virtualRectCenterPositionX,s=a.virtualRectCenterPositionY;o.focusOn(c,s,i,u)}}},{key:"fitView",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=this.nodes,r=this.width,o=this.height,i=this.rootEl,u=this.transformModel;if(n.length){var a=r||i.clientWidth,c=o||i.clientHeight,s=this.getVirtualRectSize(),l=s.virtualRectWidth,f=s.virtualRectHeight,p=s.virtualRectCenterPositionX,d=s.virtualRectCenterPositionY,h=(l+e)/a,y=(f+t)/c,v=0;v=1/Math.max(h,y);var g=[a/2,c/2];u.zoom(v,g),u.focusOn(p,d,a,c)}}},{key:"openEdgeAnimation",value:function(t){this.getEdgeModelById(t).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(t){this.getEdgeModelById(t).closeEdgeAnimation()}}],n&&bl(e.prototype,n),r&&bl(e,r),t}(),Vs=Ol(Ys.prototype,"width",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ws=Ol(Ys.prototype,"height",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ks=Ol(Ys.prototype,"edgeType",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$s=Ol(Ys.prototype,"nodes",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Zs=Ol(Ys.prototype,"edges",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qs=Ol(Ys.prototype,"overlapMode",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return go.DEFAULT}}),Js=Ol(Ys.prototype,"background",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qs=Ol(Ys.prototype,"transformModel",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tl=Ol(Ys.prototype,"editConfigModel",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),el=Ol(Ys.prototype,"gridSize",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),nl=Ol(Ys.prototype,"partial",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rl=Ol(Ys.prototype,"fakerNode",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ol(Ys.prototype,"nodesMap",[o.m],Object.getOwnPropertyDescriptor(Ys.prototype,"nodesMap"),Ys.prototype),Ol(Ys.prototype,"edgesMap",[o.m],Object.getOwnPropertyDescriptor(Ys.prototype,"edgesMap"),Ys.prototype),Ol(Ys.prototype,"modelsMap",[o.m],Object.getOwnPropertyDescriptor(Ys.prototype,"modelsMap"),Ys.prototype),Ol(Ys.prototype,"sortElements",[o.m],Object.getOwnPropertyDescriptor(Ys.prototype,"sortElements"),Ys.prototype),Ol(Ys.prototype,"textEditElement",[o.m],Object.getOwnPropertyDescriptor(Ys.prototype,"textEditElement"),Ys.prototype),Ol(Ys.prototype,"selectElements",[o.m],Object.getOwnPropertyDescriptor(Ys.prototype,"selectElements"),Ys.prototype),Ol(Ys.prototype,"selectNodes",[o.m],Object.getOwnPropertyDescriptor(Ys.prototype,"selectNodes"),Ys.prototype),Ol(Ys.prototype,"setFakerNode",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"setFakerNode"),Ys.prototype),Ol(Ys.prototype,"removeFakerNode",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"removeFakerNode"),Ys.prototype),Ol(Ys.prototype,"setModel",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"setModel"),Ys.prototype),Ol(Ys.prototype,"toFront",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"toFront"),Ys.prototype),Ol(Ys.prototype,"setElementZIndex",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"setElementZIndex"),Ys.prototype),Ol(Ys.prototype,"deleteNode",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"deleteNode"),Ys.prototype),Ol(Ys.prototype,"addNode",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"addNode"),Ys.prototype),Ol(Ys.prototype,"cloneNode",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"cloneNode"),Ys.prototype),Ol(Ys.prototype,"moveNode",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"moveNode"),Ys.prototype),Ol(Ys.prototype,"moveNode2Coordinate",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"moveNode2Coordinate"),Ys.prototype),Ol(Ys.prototype,"editText",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"editText"),Ys.prototype),Ol(Ys.prototype,"addEdge",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"addEdge"),Ys.prototype),Ol(Ys.prototype,"moveEdge",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"moveEdge"),Ys.prototype),Ol(Ys.prototype,"deleteEdgeBySourceAndTarget",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"deleteEdgeBySourceAndTarget"),Ys.prototype),Ol(Ys.prototype,"deleteEdgeById",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"deleteEdgeById"),Ys.prototype),Ol(Ys.prototype,"deleteEdgeBySource",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"deleteEdgeBySource"),Ys.prototype),Ol(Ys.prototype,"deleteEdgeByTarget",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"deleteEdgeByTarget"),Ys.prototype),Ol(Ys.prototype,"setElementStateById",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"setElementStateById"),Ys.prototype),Ol(Ys.prototype,"updateText",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"updateText"),Ys.prototype),Ol(Ys.prototype,"selectNodeById",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"selectNodeById"),Ys.prototype),Ol(Ys.prototype,"selectEdgeById",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"selectEdgeById"),Ys.prototype),Ol(Ys.prototype,"selectElementById",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"selectElementById"),Ys.prototype),Ol(Ys.prototype,"clearSelectElements",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"clearSelectElements"),Ys.prototype),Ol(Ys.prototype,"moveNodes",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"moveNodes"),Ys.prototype),Ol(Ys.prototype,"setDefaultEdgeType",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"setDefaultEdgeType"),Ys.prototype),Ol(Ys.prototype,"changeNodeType",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"changeNodeType"),Ys.prototype),Ol(Ys.prototype,"changeEdgeType",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"changeEdgeType"),Ys.prototype),Ol(Ys.prototype,"getNodeIncomingEdge",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"getNodeIncomingEdge"),Ys.prototype),Ol(Ys.prototype,"getNodeOutgoingEdge",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"getNodeOutgoingEdge"),Ys.prototype),Ol(Ys.prototype,"getAnchorIncomingEdge",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"getAnchorIncomingEdge"),Ys.prototype),Ol(Ys.prototype,"getAnchorOutcomingEdge",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"getAnchorOutcomingEdge"),Ys.prototype),Ol(Ys.prototype,"getNodeIncomingNode",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"getNodeIncomingNode"),Ys.prototype),Ol(Ys.prototype,"getNodeOutgoingNode",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"getNodeOutgoingNode"),Ys.prototype),Ol(Ys.prototype,"setTheme",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"setTheme"),Ys.prototype),Ol(Ys.prototype,"resize",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"resize"),Ys.prototype),Ol(Ys.prototype,"clearData",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"clearData"),Ys.prototype),Ol(Ys.prototype,"translateCenter",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"translateCenter"),Ys.prototype),Ol(Ys.prototype,"fitView",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"fitView"),Ys.prototype),Ol(Ys.prototype,"openEdgeAnimation",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"openEdgeAnimation"),Ys.prototype),Ol(Ys.prototype,"closeEdgeAnimation",[o.k],Object.getOwnPropertyDescriptor(Ys.prototype,"closeEdgeAnimation"),Ys.prototype),Ys),xl=jl;function El(t){return El="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},El(t)}function Sl(){return Sl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sl.apply(this,arguments)}function Pl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Al(t,e){return Al=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Al(t,e)}function kl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ml(t);if(e){var o=Ml(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dl(this,n)}}function Dl(t,e){if(e&&("object"===El(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Tl(t)}function Tl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ml(t){return Ml=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ml(t)}function Nl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Cl,Rl=T_(_l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Al(t,e)}(i,t);var e,n,r,o=kl(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Nl(Tl(e=o.call(this)),"stepDrag",void 0),Nl(Tl(e),"stepScrollX",0),Nl(Tl(e),"stepScrollY",0),Nl(Tl(e),"onDragging",(function(t){var n=t.deltaX,r=t.deltaY;e.setState({isDragging:!0});var o=e.props.graphModel,i=o.transformModel;!0!==o.editConfigModel.stopMoveGraph&&i.translate(n,r)})),Nl(Tl(e),"onDragEnd",(function(){e.setState({isDragging:!1})})),Nl(Tl(e),"zoomHandler",(function(t){var n=e.props,r=n.graphModel,o=r.editConfigModel,i=r.transformModel,u=r.gridSize,a=n.graphModel,c=t.deltaX,s=t.deltaY;if(o.stopScrollGraph||!0===t.ctrlKey){if(!o.stopZoomGraph){t.preventDefault();var l=a.getPointByClient({x:t.clientX,y:t.clientY}).canvasOverlayPosition,f=l.x,p=l.y;i.zoom(t.deltaY<0,[f,p])}}else{if(t.preventDefault(),e.stepScrollX+=c,e.stepScrollY+=s,Math.abs(e.stepScrollX)>=u){var d=e.stepScrollX%u,h=e.stepScrollX-d;i.translate(-h*i.SCALE_X,0),e.stepScrollX=d}if(Math.abs(e.stepScrollY)>=u){var y=e.stepScrollY%u,v=e.stepScrollY-y;i.translate(0,-v*i.SCALE_Y),e.stepScrollY=y}}})),Nl(Tl(e),"clickHandler",(function(t){if("canvas-overlay"===t.target.getAttribute("name")){var n=e.props.graphModel;n.selectElements.size>0&&n.clearSelectElements(),n.eventCenter.emit(yo.BLANK_CLICK,{e:t})}})),Nl(Tl(e),"handleContextMenu",(function(t){if("canvas-overlay"===t.target.getAttribute("name")){t.preventDefault();var n=e.props.graphModel,r=n.getPointByClient({x:t.clientX,y:t.clientY});n.eventCenter.emit(yo.BLANK_CONTEXTMENU,{e:t,position:r})}})),Nl(Tl(e),"mouseDownHandler",(function(t){var n=e.props.graphModel,r=n.eventCenter,o=n.editConfigModel,i=n.transformModel.SCALE_X,u=n.gridSize,a=t.target,c=!o.adjustEdge&&!o.adjustNodePosition;("canvas-overlay"===a.getAttribute("name")||c)&&(!0!==o.stopMoveGraph?(e.stepDrag.setStep(u*i),e.stepDrag.handleMouseDown(t)):r.emit(yo.BLANK_MOUSEDOWN,{e:t}),e.clickHandler(t))}));var n=t.graphModel,r=n.gridSize,u=n.eventCenter;return e.stepDrag=new cs({onDragging:e.onDragging,onDragEnd:e.onDragEnd,step:r,eventType:"BLANK",isStopPropagation:!1,eventCenter:u,model:null}),e.state={isDragging:!1},e}return e=i,(n=[{key:"render",value:function(){var t=this.props.graphModel.transformModel.getTransformStyle().transform,e=this.props,n=e.children,r=e.dnd,o=this.state.isDragging;return Object(tt.g)("svg",Sl({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:o?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},r.eventMap()),Object(tt.g)("g",{transform:t},n))}}])&&Pl(e.prototype,n),r&&Pl(e,r),i}(tt.a))||_l;function Il(t){return Il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Il(t)}function Ll(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bl(t,e){return Bl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Bl(t,e)}function Ul(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Hl(t);if(e){var o=Hl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fl(this,n)}}function Fl(t,e){if(e&&("object"===Il(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Hl(t){return Hl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Hl(t)}var Xl=T_(Cl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bl(t,e)}(i,t);var e,n,r,o=Ul(i);function i(){return Ll(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var t=this.props,e=t.tool,n=t.graphModel,r=e.getTools().map((function(t){return Object(tt.g)(t,{graphModel:n,logicFlow:e.instance})}));return e.components=r,r}},{key:"triggerToolRender",value:function(){var t=this.props,e=t.tool,n=t.graphModel,r=document.querySelector("#ToolOverlay_".concat(n.flowId)),o=e.getInstance();o.components.forEach((function(t){return t(o,r)})),o.components=[]}},{key:"render",value:function(){var t=this.props.graphModel;return Object(tt.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(t.flowId)},this.getTools())}}])&&zl(e.prototype,n),r&&zl(e,r),i}(tt.a))||Cl;function Gl(t){return Gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(t)}function Yl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wl(t,e){return Wl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Wl(t,e)}function Kl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Zl(t);if(e){var o=Zl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $l(this,n)}}function $l(t,e){if(e&&("object"===Gl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Zl(t){return Zl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Zl(t)}var ql,Jl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wl(t,e)}(i,t);var e,n,r,o=Kl(i);function i(){return Yl(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var t=this.props.background;return Object(tt.g)("div",{className:"lf-background"},Object(tt.g)("div",{style:t,className:"lf-background-area"}))}}])&&Vl(e.prototype,n),r&&Vl(e,r),i}(tt.a);function Ql(t){return Ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(t)}function tf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ef(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nf(t,e){return nf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},nf(t,e)}function rf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=af(t);if(e){var o=af(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return of(this,n)}}function of(t,e){if(e&&("object"===Ql(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return uf(t)}function uf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function af(t){return af=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},af(t)}function cf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sf=T_(ql=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nf(t,e)}(i,t);var e,n,r,o=rf(i);function i(){var t;tf(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return cf(uf(t=o.call.apply(o,[this].concat(n))),"id",gu()),t}return e=i,(n=[{key:"renderDot",value:function(){var t=this.props,e=t.config,n=e.color,r=e.thickness,o=void 0===r?2:r,i=t.size,u=t.visible,a=Math.min(Math.max(2,o),i/2),c=1;return u||(c=0),Object(tt.g)("rect",{width:a,height:a,rx:a/2,ry:a/2,fill:n,opacity:c})}},{key:"renderMesh",value:function(){var t=this.props,e=t.config,n=e.color,r=e.thickness,o=void 0===r?1:r,i=t.size,u=t.visible,a=Math.min(Math.max(1,o),i/2),c="M ".concat(i," 0 H0 M0 0 V0 ").concat(i),s=1;return u||(s=0),Object(tt.g)("path",{d:c,stroke:n,strokeWidth:a,opacity:s})}},{key:"render",value:function(){var t=this.props,e=t.type,n=t.size,r=t.graphModel.transformModel,o=[r.SCALE_X,r.SKEW_Y,r.SKEW_X,r.SCALE_Y,r.TRANSLATE_X,r.TRANSLATE_Y].join(","),i="matrix(".concat(o,")");return Object(tt.g)("div",{className:"lf-grid"},Object(tt.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(tt.g)("defs",null,Object(tt.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:i,x:"0",y:"0",width:n,height:n},"dot"===e&&this.renderDot(),"mesh"===e&&this.renderMesh())),Object(tt.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&ef(e.prototype,n),r&&ef(e,r),i}(tt.a))||ql;function lf(t){return lf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(t)}function ff(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return pf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pf(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}sf.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},n(53);var df,hf=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach((function(t){var n=ff(t,2),r=n[0],o=n[1];("style"===r||"object"!==lf(o))&&(e[r]=o)})),Object(tt.g)("line",e)};function yf(t){return yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(t)}function vf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function gf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vf(Object(n),!0).forEach((function(e){bf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Of(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _f(t,e){return _f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},_f(t,e)}function wf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=xf(t);if(e){var o=xf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jf(this,n)}}function jf(t,e){if(e&&("object"===yf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function xf(t){return xf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xf(t)}var Ef,Sf=T_(df=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_f(t,e)}(i,t);var e,n,r,o=wf(i);function i(){return mf(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var t=this.props.snaplineModel,e=t.position,n=t.isShowHorizontal,r=t.isShowVertical,o=t.getStyle(),i=e.x,u=void 0===i?0:i,a=e.y,c=void 0===a?0:a,s=gf(gf({x1:-1e5,y1:c,x2:1e5,y2:c},o),{},{stroke:n?o.stroke:"none"}),l=gf(gf({x1:u,y1:-1e5,x2:u,y2:1e5},o),{},{stroke:r?o.stroke:"none"});return Object(tt.g)("g",{className:"lf-snapline"},Object(tt.g)(hf,s),Object(tt.g)(hf,l))}}])&&Of(e.prototype,n),r&&Of(e,r),i}(tt.a))||df;function Pf(t){return Pf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(t)}function Af(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return kf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kf(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Df(t){var e=t.x,n=t.y,r=t.width,o=t.height,i=t.className,u=t.radius,a=e-r/2,c=n-o/2,s={};return Object.entries(t).forEach((function(t){var e=Af(t,2),n=e[0],r=e[1];"object"!==Pf(r)&&(s[n]=r)})),s.className=i?"lf-basic-shape ".concat(i):"lf-basic-shape",u&&(s.rx=u,s.ry=u),s.x=a,s.y=c,Object(tt.g)("rect",s)}function Tf(t){return Tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(t)}function Mf(){return Mf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mf.apply(this,arguments)}function Nf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Cf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nf(Object(n),!0).forEach((function(e){Rf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Rf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function If(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zf(t,e){return zf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},zf(t,e)}function Bf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ff(t);if(e){var o=Ff(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Uf(this,n)}}function Uf(t,e){if(e&&("object"===Tf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ff(t){return Ff=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ff(t)}Df.defaultProps={className:"",radius:""};var Hf,Xf=T_(Ef=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zf(t,e)}(i,t);var e,n,r,o=Bf(i);function i(){return If(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getNodesOutline",value:function(){var t=this.props.graphModel,e=t.nodes,n=t.editConfigModel,r=n.hoverOutline,o=n.nodeSelectedOutline,i=[];return e.forEach((function(t){if(t.isHovered||t.isSelected){var e=t.isHovered,n=t.isSelected,u=t.x,a=t.y,c=t.width,s=t.height;if(o&&n||r&&e){var l=t.getOutlineStyle(),f={};if(Object.keys(l).forEach((function(t){"hover"!==t&&(f[t]=l[t])})),e){var p=l.hover;f=Cf(Cf({},f),p)}i.push(Object(tt.g)(Df,Mf({transform:t.transform,className:"lf-outline-node",x:u,y:a,width:c+10,height:s+10},f)))}}})),i}},{key:"getEdgeOutline",value:function(){for(var t=this.props.graphModel,e=t.edges,n=t.editConfigModel,r=n.edgeSelectedOutline,o=n.hoverOutline,i=[],u=0;u<e.length;u++){var a=e[u];(r&&a.isSelected||o&&a.isHovered)&&(a.modelType===po.LINE_EDGE?i.push(this.getLineOutline(a)):a.modelType===po.POLYLINE_EDGE?i.push(this.getPolylineOutline(a)):a.modelType===po.BEZIER_EDGE&&i.push(this.getBezierOutline(a)))}return i}},{key:"getLineOutline",value:function(t){var e=t.startPoint,n=t.endPoint,r=(e.x+n.x)/2,o=(e.y+n.y)/2,i=Math.abs(e.x-n.x)+10,u=Math.abs(e.y-n.y)+10,a=t.getOutlineStyle();return Object(tt.g)(Df,Mf({className:"lf-outline-edge",x:r,y:o,width:i,height:u},a))}},{key:"getPolylineOutline",value:function(t){var e=t.points,n=Gc(e),r=_c(n,8),o=r.x,i=r.y,u=r.width,a=r.height,c=t.getOutlineStyle();return Object(tt.g)(Df,Mf({className:"lf-outline",x:o,y:i,width:u,height:a},c))}},{key:"getBezierOutline",value:function(t){var e=t.path,n=Jc(e),r=_c(n,8),o=r.x,i=r.y,u=r.width,a=r.height,c=t.getOutlineStyle();return Object(tt.g)(Df,Mf({className:"lf-outline",x:o,y:i,width:u,height:a},c))}},{key:"render",value:function(){return Object(tt.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&Lf(e.prototype,n),r&&Lf(e,r),i}(tt.a))||Ef;function Gf(t){return Gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(t)}function Yf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Vf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vf(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wf(t){var e=t.x,n=void 0===e?0:e,r=t.y,o=void 0===r?0:r,i=t.r,u=void 0===i?4:i,a=t.className,c={cx:n,cy:o,r:u,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach((function(t){var e=Yf(t,2),n=e[0],r=e[1];"object"!==Gf(r)&&(c[n]=r)})),c.className=a?"lf-basic-shape ".concat(a):"lf-basic-shape",Object(tt.g)("circle",c)}function Kf(t){return Kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(t)}function $f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Zf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zf(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qf(){return qf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qf.apply(this,arguments)}function Jf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tp(t,e,n){return e&&Qf(t.prototype,e),n&&Qf(t,n),t}function ep(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&np(t,e)}function np(t,e){return np=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},np(t,e)}function rp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=up(t);if(e){var o=up(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return op(this,n)}}function op(t,e){if(e&&("object"===Kf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ip(t)}function ip(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function up(t){return up=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},up(t)}function ap(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var cp,sp=function(t){ep(n,t);var e=rp(n);function n(){var t;return Jf(this,n),ap(ip(t=e.call(this)),"dragHandler",void 0),ap(ip(t),"onDragging",(function(e){var n=e.event,r=t.props,o=r.graphModel,i=r.bezierModel,u=r.type,a=o.getPointByClient({x:n.clientX,y:n.clientY}).canvasOverlayPosition,c=a.x,s=a.y;i.updateAdjustAnchor({x:c,y:s},u),o.eventCenter.emit(yo.EDGE_ADJUST,{data:i.getData()})})),ap(ip(t),"onDragEnd",(function(){t.props.bezierModel.isDragging=!1})),t.dragHandler=new cs({onDragging:t.onDragging,onDragEnd:t.onDragEnd}),t}return tp(n,[{key:"render",value:function(){var t=this,e=this.props.position,n=e.x,r=e.y,o=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(tt.g)(Wf,qf({className:"lf-bezier-adjust-anchor",x:n,y:r},o,{onMouseDown:function(e){t.dragHandler.handleMouseDown(e)}}))}}]),n}(tt.a),lp=T_(Hf=function(t){ep(n,t);var e=rp(n);function n(){return Jf(this,n),e.apply(this,arguments)}return tp(n,[{key:"getBezierAdjust",value:function(t,e){var n=t.path,r=t.id,o=$f(Jc(n),4),i=o[0],u=o[1],a=o[2],c=o[3],s=t.getEdgeStyle().adjustLine,l=[];return l.push(Object(tt.g)(hf,qf({x1:i.x,y1:i.y,x2:u.x,y2:u.y},s))),l.push(Object(tt.g)(sp,{position:u,bezierModel:t,graphModel:e,key:"".concat(r,"_ePre"),type:"sNext"})),l.push(Object(tt.g)(hf,qf({x1:c.x,y1:c.y,x2:a.x,y2:a.y},s))),l.push(Object(tt.g)(sp,{position:a,bezierModel:t,graphModel:e,key:"".concat(r,"_sNext"),type:"ePre"})),l}},{key:"selectedBezierEdge",value:function(){for(var t=this.props.graphModel,e=t.edges,n=[],r=0;r<e.length;r++){var o=e[r];o.isSelected&&o.modelType===po.BEZIER_EDGE&&o.draggable&&n.push(this.getBezierAdjust(o,t))}return n}},{key:"render",value:function(){return Object(tt.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(tt.a))||Hf;function fp(t){return fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(t)}function pp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hp(t,e){return hp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},hp(t,e)}function yp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gp(t);if(e){var o=gp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vp(this,n)}}function vp(t,e){if(e&&("object"===fp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function gp(t){return gp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gp(t)}var bp,mp=T_(cp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hp(t,e)}(i,t);var e,n,r,o=yp(i);function i(){return pp(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var t=this.props.graphModel.transformModel.getTransformStyle().transform,e=this.props.children;return Object(tt.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(tt.g)("g",{transform:t},e))}}])&&dp(e.prototype,n),r&&dp(e,r),i}(tt.a))||cp;function Op(t){return Op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(t)}function _p(){return _p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_p.apply(this,arguments)}function wp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xp(t,e){return xp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},xp(t,e)}function Ep(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Pp(t);if(e){var o=Pp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sp(this,n)}}function Sp(t,e){if(e&&("object"===Op(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Pp(t){return Pp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Pp(t)}var Ap=T_(bp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xp(t,e)}(i,t);var e,n,r,o=Ep(i);function i(){return wp(this,i),o.apply(this,arguments)}return e=i,n=[{key:"getComponent",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas-overlay",r=this.props.getView,o=r(t.type);return Object(tt.g)(o,{key:t.id,model:t,graphModel:e,overlay:n})}},{key:"render",value:function(){var t=this,e=this.props,n=e.graphModel,r=e.tool,o=e.options,i=e.dnd,u=e.snaplineModel,a={};o.width&&(a.width="".concat(n.width,"px")),o.height&&(a.height="".concat(n.height,"px"));var c=o.grid,s=n.fakerNode,l=n.editConfigModel.adjustEdge;return Object(tt.g)("div",{className:"lf-graph","flow-id":n.flowId,style:a},Object(tt.g)(Rl,{graphModel:n,dnd:i},Object(tt.g)("g",{className:"lf-base"},hr(n.sortElements,(function(e){return t.getComponent(e,n)}))),s?this.getComponent(s,n):""),Object(tt.g)(mp,{graphModel:n},Object(tt.g)(Xf,{graphModel:n}),l?Object(tt.g)(lp,{graphModel:n}):"",!1!==o.snapline?Object(tt.g)(Sf,{snaplineModel:u}):""),Object(tt.g)(Xl,{graphModel:n,tool:r}),o.background&&Object(tt.g)(Jl,{background:o.background}),o.grid&&Object(tt.g)(sf,_p({},c,{graphModel:n})))}}],n&&jp(e.prototype,n),r&&jp(e,r),i}(tt.a))||bp,kp=Ap;function Dp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Tp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dp(Object(n),!0).forEach((function(e){Np(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Mp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Np(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Cp=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Np(this,"nodeConfig",void 0),Np(this,"lf",void 0),Np(this,"fakerNode",void 0),Np(this,"stopDrag",(function(){n.nodeConfig=null,window.document.removeEventListener("mouseup",n.stopDrag)})),Np(this,"dragEnter",(function(t){n.nodeConfig&&!n.fakerNode&&(n.fakerNode=n.lf.createFakerNode(Tp(Tp({},n.nodeConfig),n.clientToLocalPoint({x:t.clientX,y:t.clientY}))))})),Np(this,"onDragOver",(function(t){if(t.preventDefault(),n.fakerNode){var e=n.clientToLocalPoint({x:t.clientX,y:t.clientY}),r=e.x,o=e.y;n.fakerNode.moveTo(r,o);var i=n.fakerNode.getData();n.lf.setNodeSnapLine(i),n.lf.graphModel.eventCenter.emit(yo.NODE_DND_DRAG,{data:i})}return!1})),Np(this,"onDragLeave",(function(){n.fakerNode&&(n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakerNode(),n.fakerNode=null)})),Np(this,"onDrop",(function(t){n.lf.graphModel&&t&&n.nodeConfig&&(n.lf.addNode(Tp(Tp({},n.nodeConfig),n.clientToLocalPoint({x:t.clientX,y:t.clientY})),yo.NODE_DND_ADD,t),t.preventDefault(),t.stopPropagation(),n.nodeConfig=null,n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakerNode(),n.fakerNode=null)}));var r=e.lf;this.lf=r}var e,n,r;return e=t,(n=[{key:"clientToLocalPoint",value:function(t){var e=t.x,n=t.y,r=er(this.lf.options,["grid","size"]),o=this.lf.graphModel.getPointByClient({x:e,y:n}).canvasOverlayPosition,i=o.x,u=o.y;return{x:Ui(i,r),y:Ui(u,r)}}},{key:"startDrag",value:function(t){var e=this.lf.graphModel.editConfigModel;null!=e&&e.isSilentMode||(this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag))}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&Mp(e.prototype,n),r&&Mp(e,r),t}();function Rp(t){var e=t.container,n=t.grid,r=t.width,o=t.height;if(!e)throw new Error(" container ");if("string"==typeof r||"string"==typeof o)throw new Error("widthheight");return n&&(t.grid=Ri({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),Ri({},zp,t)}var Ip,Lp,zp={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Bp(t){return Bp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bp(t)}function Up(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Fp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fp(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hp(Object(n),!0).forEach((function(e){td(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Gp(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Yp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wp(){return Wp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Kp(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Wp.apply(this,arguments)}function Kp(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qp(t)););return t}function $p(t,e){return $p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},$p(t,e)}function Zp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qp(t);if(e){var o=Qp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qp(this,n)}}function qp(t,e){if(e&&("object"===Bp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Jp(t)}function Jp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qp(t){return Qp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qp(t)}function td(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ed(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var nd,rd,od,id,ud,ad,cd,sd,ld,fd,pd,dd,hd,yd,vd,gd,bd,md,Od,_d,wd,jd,xd,Ed=(Ip=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$p(t,e)}(i,t);var e,n,r,o=Zp(i);function i(){var t;Yp(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return td(Jp(t=o.call.apply(o,[this].concat(n))),"modelType",po.BEZIER_EDGE),Gp(Jp(t),"path",Lp,Jp(t)),t}return e=i,(n=[{key:"initEdgeData",value:function(t){this.offset=100,Wp(Qp(i.prototype),"initEdgeData",this).call(this,t)}},{key:"getEdgeStyle",value:function(){var t=this.graphModel.theme.bezier;return Xp(Xp({},Wp(Qp(i.prototype),"getEdgeStyle",this).call(this)),wi(t))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var t=0,e=0;return this.pointsList.forEach((function(n){var r=n.x,o=n.y;t+=r,e+=o})),{x:t/this.pointsList.length,y:e/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var t=Wp(Qp(i.prototype),"getData",this).call(this),e=this.pointsList.map((function(t){return{x:t.x,y:t.y}}));return Xp(Xp({},t),{},{pointsList:e})}},{key:"getControls",value:function(){var t=this.startPoint,e=this.endPoint;return qc({start:t,end:e,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(t){var e=Up(t,4),n=e[0],r=e[1],o=e[2],i=e[3];return"M ".concat(n.x," ").concat(n.y,"\n    C ").concat(r.x," ").concat(r.y,",\n    ").concat(o.x," ").concat(o.y,",\n    ").concat(i.x," ").concat(i.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var t=this.getControls(),e=t.sNext,n=t.ePre;this.updatePath(e,n)}},{key:"updatePath",value:function(t,e){t=wi(t),e=wi(e);var n={x:this.startPoint.x,y:this.startPoint.y},r={x:this.endPoint.x,y:this.endPoint.y};if(!t||!e){var o=this.getControls();t=o.sNext,e=o.ePre}this.pointsList=[n,t,e,r],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(t){this.startPoint=Object.assign({},t),this.updatePoints()}},{key:"updateEndPoint",value:function(t){this.endPoint=Object.assign({},t),this.updatePoints()}},{key:"moveStartPoint",value:function(t,e){this.startPoint.x+=t,this.startPoint.y+=e;var n=Up(this.pointsList,3),r=n[1],o=n[2];r.x+=t,r.y+=e,this.updatePath(r,o)}},{key:"moveEndPoint",value:function(t,e){this.endPoint.x+=t,this.endPoint.y+=e;var n=Up(this.pointsList,3),r=n[1],o=n[2];o.x+=t,o.y+=e,this.updatePath(r,o)}},{key:"updateAdjustAnchor",value:function(t,e){"sNext"===e?this.pointsList[1]=t:"ePre"===e&&(this.pointsList[2]=t),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var t=this.pointsList;return t[t.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var e=t.startPoint,n=t.endPoint,r=t.sourceNode,o=t.targetNode,i=qc({start:e,end:n,sourceNode:r,targetNode:o,offset:this.offset}),u=i.sNext,a=i.ePre;this.pointsList=[e,u,a,n],this.initPoints()}}])&&Vp(e.prototype,n),r&&Vp(e,r),i}(ba),Lp=ed(Ip.prototype,"path",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ed(Ip.prototype,"initPoints",[o.k],Object.getOwnPropertyDescriptor(Ip.prototype,"initPoints"),Ip.prototype),ed(Ip.prototype,"updatePoints",[o.k],Object.getOwnPropertyDescriptor(Ip.prototype,"updatePoints"),Ip.prototype),ed(Ip.prototype,"updateStartPoint",[o.k],Object.getOwnPropertyDescriptor(Ip.prototype,"updateStartPoint"),Ip.prototype),ed(Ip.prototype,"updateEndPoint",[o.k],Object.getOwnPropertyDescriptor(Ip.prototype,"updateEndPoint"),Ip.prototype),ed(Ip.prototype,"moveStartPoint",[o.k],Object.getOwnPropertyDescriptor(Ip.prototype,"moveStartPoint"),Ip.prototype),ed(Ip.prototype,"moveEndPoint",[o.k],Object.getOwnPropertyDescriptor(Ip.prototype,"moveEndPoint"),Ip.prototype),ed(Ip.prototype,"updateAdjustAnchor",[o.k],Object.getOwnPropertyDescriptor(Ip.prototype,"updateAdjustAnchor"),Ip.prototype),ed(Ip.prototype,"getAdjustStart",[o.k],Object.getOwnPropertyDescriptor(Ip.prototype,"getAdjustStart"),Ip.prototype),ed(Ip.prototype,"getAdjustEnd",[o.k],Object.getOwnPropertyDescriptor(Ip.prototype,"getAdjustEnd"),Ip.prototype),ed(Ip.prototype,"updateAfterAdjustStartAndEnd",[o.k],Object.getOwnPropertyDescriptor(Ip.prototype,"updateAfterAdjustStartAndEnd"),Ip.prototype),Ip),Sd=function(t){return null==t};function Pd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||kd(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ad(t){return Ad="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(t)}function kd(t,e){if(t){if("string"==typeof t)return Dd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dd(t,e):void 0}}function Dd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Td(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Md(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Td(Object(n),!0).forEach((function(e){Rd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Td(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Nd(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Cd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Id(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Ld,zd,Bd=(nd=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Rd(this,"id",""),Nd(this,"type",rd,this),Nd(this,"x",od,this),Nd(this,"y",id,this),Nd(this,"text",ud,this),Nd(this,"properties",ad,this),Nd(this,"_width",cd,this),Nd(this,"_height",sd,this),Nd(this,"anchorsOffset",ld,this),Nd(this,"isSelected",fd,this),Nd(this,"isHovered",pd,this),Nd(this,"isShowAnchor",dd,this),Nd(this,"isDragging",hd,this),Nd(this,"isHitable",yd,this),Nd(this,"draggable",vd,this),Nd(this,"visible",gd,this),Nd(this,"enableRotate",bd,this),Rd(this,"virtual",!1),Rd(this,"graphModel",void 0),Nd(this,"zIndex",md,this),Nd(this,"state",Od,this),Nd(this,"autoToFront",_d,this),Nd(this,"style",wd,this),Nd(this,"transform",jd,this),Nd(this,"_rotate",xd,this),Rd(this,"BaseType",ho.NODE),Rd(this,"modelType",po.NODE),Rd(this,"additionStateData",void 0),Rd(this,"targetRules",[]),Rd(this,"sourceRules",[]),Rd(this,"moveRules",[]),Rd(this,"hasSetTargetRules",!1),Rd(this,"hasSetSourceRules",!1),this.graphModel=n,this.initNodeData(e),this.setAttributes()}var e,n,r;return e=t,n=[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t;var e=this.x,n=void 0===e?0:e,r=this.y,o=void 0===r?0:r;this.transform=new al(-n,-o).rotate(t).translate(n,o).toString()}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var e=this.graphModel.idGenerator,n=e&&e(t.type),r=this.createId();t.id=r||n||gu()}this.formatText(t),qr(this,function(t){return io(t,["id","type","x","y","text","properties","virtual","rotate"])}(t)),this.graphModel.overlapMode===go.INCREASE&&(this.zIndex=t.zIndex||la())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&"string"==typeof t.text?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&void 0===t.text.editable&&(t.text.editable=!0)}},{key:"getData",value:function(){var t=this.text,e=t.x,n=t.y,r=t.value,i=this.properties;Object(o.x)(i)&&(i=Object(o.I)(i));var u={id:this.id,type:this.type,x:this.x,y:this.y,properties:i};return this.rotate&&(u.rotate=this.rotate),this.graphModel.overlapMode===go.INCREASE&&(u.zIndex=this.zIndex),r&&(u.text={x:e,y:n,value:r}),u}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(o.I)(this.properties)}},{key:"getOuterGAttributes",value:function(){return{className:""}}},{key:"getNodeStyle",value:function(){return Md(Md({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.nodeText;return wi(t)}},{key:"getRotateControlStyle",value:function(){var t=this.graphModel.theme.rotateControl;return wi(t)}},{key:"getAnchorStyle",value:function(t){var e=this.graphModel.theme.anchor;return wi(e)}},{key:"getAnchorLineStyle",value:function(t){var e=this.graphModel.theme.anchorLine;return wi(e)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return wi(t)}},{key:"isAllowConnectedAsSource",value:function(t,e,n,r){var o=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var i,u=!0,a=0;a<o.length;a++){var c=o[a];if(!c.validate.call(this,this,t,e,n,r)){u=!1,i=c.message;break}}return{isAllPass:u,msg:i}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t,e,n,r){var o=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var i,u=!0,a=0;a<o.length;a++){var c=o[a];if(!c.validate.call(this,t,this,e,n,r)){u=!1,i=c.message;break}}return{isAllPass:u,msg:i}}},{key:"isAllowMoveNode",value:function(t,e){var n,r=!0,o=!0,i=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=kd(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(i.s();!(n=i.n()).done;){var u=(0,n.value)(this,t,e);if(!u)return!1;if("object"===Ad(u)){var a=u;if(!1===a.x&&!1===a.y)return!1;r=r&&a.x,o=o&&a.y}}}catch(t){i.e(t)}finally{i.f()}return{x:r,y:o}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,e=this.id,n=this.x,r=this.y;return t&&t.length>0?t.map((function(t,o){return t.length?(t=t,{id:"".concat(e,"_").concat(o),x:n+t[0],y:r+t[1]}):Md(Md({},t=t),{},{x:n+t.x,y:r+t.y,id:t.id||"".concat(e,"_").concat(o)})})):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(t){return function(t,e){for(var n,r=Yu(e),o=Number.MAX_SAFE_INTEGER,i=0;i<r.length;i++){var u=Ku(t.x,t.y,r[i].x,r[i].y);u<o&&(o=u,n={index:i,anchor:wu(wu({},r[i]),{},{x:r[i].x,y:r[i].y,id:r[i].id})})}return n}(t,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var t=this.getAnchorsByOffset(),e=this.x,n=this.y,r=this.rotate;return t.forEach((function(t){var o=t.x,i=t.y,u=Pd(new ol([o,i,1]).translate(-e,-n).rotate(r).translate(e,n)[0],2),a=u[0],c=u[1];t.x=a,t.y=c})),t}},{key:"getAnchorInfo",value:function(t){if(!Sd(t))for(var e=0;e<this.anchors.length;e++){var n=this.anchors[e];if(n.id===t)return n}}},{key:"addNodeMoveRules",value:function(t){this.moveRules.includes(t)||this.moveRules.push(t)}},{key:"move",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!1,o=!1;if(n)r=!0,o=!0;else{var i=this.isAllowMoveNode(t,e);"boolean"==typeof i?(r=i,o=i):(r=i.x,o=i.y)}if(r){var u=this.x+t;this.x=u,this.text&&this.moveText(t,0)}if(o){var a=this.y+e;this.y=a,this.text&&this.moveText(0,e)}return r||o}},{key:"getMoveDistance",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!1,o=!1,i=0,u=0;if(n)r=!0,o=!0;else{var a=this.isAllowMoveNode(t,e);"boolean"==typeof a?(r=a,o=a):(r=a.x,o=a.y)}if(r&&t){var c=this.x+t;this.x=c,this.text&&this.moveText(t,0),i=t}if(o&&e){var s=this.y+e;this.y=s,this.text&&this.moveText(0,e),u=e}return[i,u]}},{key:"moveTo",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t-this.x,o=e-this.y;return!(!n&&!this.isAllowMoveNode(r,o)||(this.text&&this.text&&this.moveText(r,o),this.x=t,this.y=e,0))}},{key:"moveText",value:function(t,e){var n=this.text,r=n.x,o=n.y,i=n.value,u=n.draggable,a=n.editable;this.text={value:i,editable:a,draggable:u,x:r+t,y:o+e}}},{key:"updateText",value:function(t){this.text=Md(Md({},Object(o.I)(this.text)),{},{value:t})}},{key:"setSelected",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=t}},{key:"setHovered",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=t,this.setIsShowAnchor(t)}},{key:"setIsShowAnchor",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isShowAnchor=t}},{key:"setEnableRotate",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.enableRotate=t}},{key:"setHitable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=t}},{key:"setElementState",value:function(t,e){this.state=t,this.additionStateData=e}},{key:"setProperty",value:function(t,e){this.properties=Md(Md({},Object(o.I)(this.properties)),{},Rd({},t,aa(e))),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=Md(Md({},Object(o.I)(this.properties)),aa(t)),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setStyle",value:function(t,e){this.style=Md(Md({},this.style),{},Rd({},t,aa(e)))}},{key:"setStyles",value:function(t){this.style=Md(Md({},this.style),aa(t))}},{key:"updateStyles",value:function(t){this.style=Md({},aa(t))}},{key:"setZIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.zIndex=t}},{key:"updateAttributes",value:function(t){qr(this,t)}}],n&&Cd(e.prototype,n),r&&Cd(e,r),t}(),rd=Id(nd.prototype,"type",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),od=Id(nd.prototype,"x",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),id=Id(nd.prototype,"y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ud=Id(nd.prototype,"text",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),ad=Id(nd.prototype,"properties",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),cd=Id(nd.prototype,"_width",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),sd=Id(nd.prototype,"_height",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),ld=Id(nd.prototype,"anchorsOffset",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fd=Id(nd.prototype,"isSelected",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pd=Id(nd.prototype,"isHovered",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),dd=Id(nd.prototype,"isShowAnchor",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hd=Id(nd.prototype,"isDragging",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yd=Id(nd.prototype,"isHitable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),vd=Id(nd.prototype,"draggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),gd=Id(nd.prototype,"visible",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),bd=Id(nd.prototype,"enableRotate",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),md=Id(nd.prototype,"zIndex",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Od=Id(nd.prototype,"state",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_d=Id(nd.prototype,"autoToFront",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),wd=Id(nd.prototype,"style",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),jd=Id(nd.prototype,"transform",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xd=Id(nd.prototype,"_rotate",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Id(nd.prototype,"incoming",[o.m],Object.getOwnPropertyDescriptor(nd.prototype,"incoming"),nd.prototype),Id(nd.prototype,"outgoing",[o.m],Object.getOwnPropertyDescriptor(nd.prototype,"outgoing"),nd.prototype),Id(nd.prototype,"addNodeMoveRules",[o.k],Object.getOwnPropertyDescriptor(nd.prototype,"addNodeMoveRules"),nd.prototype),Id(nd.prototype,"move",[o.k],Object.getOwnPropertyDescriptor(nd.prototype,"move"),nd.prototype),Id(nd.prototype,"getMoveDistance",[o.k],Object.getOwnPropertyDescriptor(nd.prototype,"getMoveDistance"),nd.prototype),Id(nd.prototype,"moveTo",[o.k],Object.getOwnPropertyDescriptor(nd.prototype,"moveTo"),nd.prototype),Id(nd.prototype,"moveText",[o.k],Object.getOwnPropertyDescriptor(nd.prototype,"moveText"),nd.prototype),Id(nd.prototype,"updateText",[o.k],Object.getOwnPropertyDescriptor(nd.prototype,"updateText"),nd.prototype),Id(nd.prototype,"setSelected",[o.k],Object.getOwnPropertyDescriptor(nd.prototype,"setSelected"),nd.prototype),Id(nd.prototype,"setHovered",[o.k],Object.getOwnPropertyDescriptor(nd.prototype,"setHovered"),nd.prototype),Id(nd.prototype,"setIsShowAnchor",[o.k],Object.getOwnPropertyDescriptor(nd.prototype,"setIsShowAnchor"),nd.prototype),Id(nd.prototype,"setEnableRotate",[o.k],Object.getOwnPropertyDescriptor(nd.prototype,"setEnableRotate"),nd.prototype),Id(nd.prototype,"setHitable",[o.k],Object.getOwnPropertyDescriptor(nd.prototype,"setHitable"),nd.prototype),Id(nd.prototype,"setElementState",[o.k],Object.getOwnPropertyDescriptor(nd.prototype,"setElementState"),nd.prototype),Id(nd.prototype,"setProperty",[o.k],Object.getOwnPropertyDescriptor(nd.prototype,"setProperty"),nd.prototype),Id(nd.prototype,"setProperties",[o.k],Object.getOwnPropertyDescriptor(nd.prototype,"setProperties"),nd.prototype),Id(nd.prototype,"deleteProperty",[o.k],Object.getOwnPropertyDescriptor(nd.prototype,"deleteProperty"),nd.prototype),Id(nd.prototype,"setStyle",[o.k],Object.getOwnPropertyDescriptor(nd.prototype,"setStyle"),nd.prototype),Id(nd.prototype,"setStyles",[o.k],Object.getOwnPropertyDescriptor(nd.prototype,"setStyles"),nd.prototype),Id(nd.prototype,"updateStyles",[o.k],Object.getOwnPropertyDescriptor(nd.prototype,"updateStyles"),nd.prototype),Id(nd.prototype,"setZIndex",[o.k],Object.getOwnPropertyDescriptor(nd.prototype,"setZIndex"),nd.prototype),Id(nd.prototype,"updateAttributes",[o.k],Object.getOwnPropertyDescriptor(nd.prototype,"updateAttributes"),nd.prototype),nd);function Ud(t){return Ud="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(t)}function Fd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Hd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fd(Object(n),!0).forEach((function(e){Qd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xd(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Gd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vd(){return Vd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Wd(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Vd.apply(this,arguments)}function Wd(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Jd(t)););return t}function Kd(t,e){return Kd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Kd(t,e)}function $d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jd(t);if(e){var o=Jd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zd(this,n)}}function Zd(t,e){if(e&&("object"===Ud(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return qd(t)}function qd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jd(t){return Jd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Jd(t)}function Qd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function th(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var eh,nh,rh,oh=(Ld=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kd(t,e)}(i,t);var e,n,r,o=$d(i);function i(){var t;Gd(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Qd(qd(t=o.call.apply(o,[this].concat(n))),"modelType",po.CIRCLE_NODE),Xd(qd(t),"r",zd,qd(t)),t}return e=i,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var t=Vd(Jd(i.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.circle;return Hd(Hd({},t),wi(e))}},{key:"getDefaultAnchor",value:function(){var t=this.x,e=this.y,n=this.r;return[{x:t,y:e-n,id:"".concat(this.id,"_0")},{x:t+n,y:e,id:"".concat(this.id,"_1")},{x:t,y:e+n,id:"".concat(this.id,"_2")},{x:t-n,y:e,id:"".concat(this.id,"_3")}]}}])&&Yd(e.prototype,n),r&&Yd(e,r),i}(Bd),zd=th(Ld.prototype,"r",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),th(Ld.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(Ld.prototype,"width"),Ld.prototype),th(Ld.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(Ld.prototype,"height"),Ld.prototype),Ld);function ih(t){return ih="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ih(t)}function uh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ah(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ah(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ah(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ch(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function sh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ch(Object(n),!0).forEach((function(e){Oh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ch(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lh(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function fh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ph(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dh(){return dh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=hh(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},dh.apply(this,arguments)}function hh(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mh(t)););return t}function yh(t,e){return yh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},yh(t,e)}function vh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=mh(t);if(e){var o=mh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gh(this,n)}}function gh(t,e){if(e&&("object"===ih(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return bh(t)}function bh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mh(t){return mh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},mh(t)}function Oh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _h(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}n(129);var wh,jh,xh,Eh=(eh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yh(t,e)}(i,t);var e,n,r,o=vh(i);function i(){var t;fh(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Oh(bh(t=o.call.apply(o,[this].concat(n))),"modelType",po.DIAMOND_NODE),lh(bh(t),"rx",nh,bh(t)),lh(bh(t),"ry",rh,bh(t)),t}return e=i,(n=[{key:"getNodeStyle",value:function(){var t=dh(mh(i.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.diamond;return sh(sh({},t),wi(e))}},{key:"points",get:function(){var t=this.x,e=this.y,n=this.rx,r=this.ry;return[[t,e-r],[t+n,e],[t,e+r],[t-n,e]]}},{key:"pointsPosition",get:function(){return this.points.map((function(t){return{x:t[0],y:t[1]}}))}},{key:"width",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=uh(n,1)[0];r<t&&(t=r),r>e&&(e=r)})),e-t}},{key:"height",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=uh(n,2)[1];r<t&&(t=r),r>e&&(e=r)})),e-t}},{key:"getDefaultAnchor",value:function(){var t=this;return this.points.map((function(e,n){var r=uh(e,2);return{x:r[0],y:r[1],id:"".concat(t.id,"_").concat(n)}}))}}])&&ph(e.prototype,n),r&&ph(e,r),i}(Bd),nh=_h(eh.prototype,"rx",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),rh=_h(eh.prototype,"ry",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),_h(eh.prototype,"points",[o.m],Object.getOwnPropertyDescriptor(eh.prototype,"points"),eh.prototype),_h(eh.prototype,"pointsPosition",[o.m],Object.getOwnPropertyDescriptor(eh.prototype,"pointsPosition"),eh.prototype),_h(eh.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(eh.prototype,"width"),eh.prototype),_h(eh.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(eh.prototype,"height"),eh.prototype),eh);function Sh(t){return Sh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sh(t)}function Ph(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ah(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ph(Object(n),!0).forEach((function(e){Bh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ph(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function kh(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Dh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Th(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mh(){return Mh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Nh(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Mh.apply(this,arguments)}function Nh(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zh(t)););return t}function Ch(t,e){return Ch=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ch(t,e)}function Rh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=zh(t);if(e){var o=zh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ih(this,n)}}function Ih(t,e){if(e&&("object"===Sh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Lh(t)}function Lh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zh(t){return zh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zh(t)}function Bh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uh(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Fh,Hh,Xh=(wh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ch(t,e)}(i,t);var e,n,r,o=Rh(i);function i(){var t;Dh(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Bh(Lh(t=o.call.apply(o,[this].concat(n))),"modelType",po.ELLIPSE_NODE),kh(Lh(t),"rx",jh,Lh(t)),kh(Lh(t),"ry",xh,Lh(t)),t}return e=i,(n=[{key:"getNodeStyle",value:function(){var t=Mh(zh(i.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.ellipse;return Ah(Ah({},t),wi(e))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var t=this.x,e=this.y,n=this.rx,r=this.ry;return[{x:t,y:e-r,id:"".concat(this.id,"_0")},{x:t+n,y:e,id:"".concat(this.id,"_1")},{x:t,y:e+r,id:"".concat(this.id,"_2")},{x:t-n,y:e,id:"".concat(this.id,"_3")}]}}])&&Th(e.prototype,n),r&&Th(e,r),i}(Bd),jh=Uh(wh.prototype,"rx",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),xh=Uh(wh.prototype,"ry",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Uh(wh.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(wh.prototype,"width"),wh.prototype),Uh(wh.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(wh.prototype,"height"),wh.prototype),wh);function Gh(t){return Gh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(t)}function Yh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Vh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vh(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Kh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wh(Object(n),!0).forEach((function(e){iy(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $h(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Zh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jh(){return Jh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Qh(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Jh.apply(this,arguments)}function Qh(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=oy(t)););return t}function ty(t,e){return ty=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ty(t,e)}function ey(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=oy(t);if(e){var o=oy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ny(this,n)}}function ny(t,e){if(e&&("object"===Gh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ry(t)}function ry(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oy(t){return oy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},oy(t)}function iy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uy(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var ay,cy,sy=(Fh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ty(t,e)}(i,t);var e,n,r,o=ey(i);function i(){var t;Zh(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return iy(ry(t=o.call.apply(o,[this].concat(n))),"modelType",po.POLYGON_NODE),$h(ry(t),"points",Hh,ry(t)),t}return e=i,(n=[{key:"getNodeStyle",value:function(){var t=Jh(oy(i.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.polygon;return Kh(Kh({},t),wi(e))}},{key:"pointsPosition",get:function(){var t=this.x,e=this.y,n=this.width,r=this.height;return this.points.map((function(o){return{x:o[0]+t-n/2,y:o[1]+e-r/2}}))}},{key:"width",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=Yh(n,1)[0];r<t&&(t=r),r>e&&(e=r)})),e-t}},{key:"height",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=Yh(n,2)[1];r<t&&(t=r),r>e&&(e=r)})),e-t}},{key:"getDefaultAnchor",value:function(){var t=this,e=this.x,n=this.y,r=this.width,o=this.height;return this.points.map((function(i,u){var a=Yh(i,2),c=a[0],s=a[1];return{x:e+c-r/2,y:n+s-o/2,id:"".concat(t.id,"_").concat(u)}}))}}])&&qh(e.prototype,n),r&&qh(e,r),i}(Bd),Hh=uy(Fh.prototype,"points",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),uy(Fh.prototype,"pointsPosition",[o.m],Object.getOwnPropertyDescriptor(Fh.prototype,"pointsPosition"),Fh.prototype),uy(Fh.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(Fh.prototype,"width"),Fh.prototype),uy(Fh.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(Fh.prototype,"height"),Fh.prototype),Fh);function ly(t){return ly="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ly(t)}function fy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function py(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fy(Object(n),!0).forEach((function(e){jy(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fy(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dy(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function hy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vy(){return vy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=gy(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},vy.apply(this,arguments)}function gy(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wy(t)););return t}function by(t,e){return by=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},by(t,e)}function my(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wy(t);if(e){var o=wy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oy(this,n)}}function Oy(t,e){if(e&&("object"===ly(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _y(t)}function _y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wy(t){return wy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wy(t)}function jy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xy,Ey=(ay=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&by(t,e)}(i,t);var e,n,r,o=my(i);function i(){var t;hy(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return jy(_y(t=o.call.apply(o,[this].concat(n))),"modelType",po.RECT_NODE),dy(_y(t),"radius",cy,_y(t)),t}return e=i,(n=[{key:"getDefaultAnchor",value:function(){var t=this.x,e=this.y,n=this.width,r=this.height;return[{x:t,y:e-r/2,id:"".concat(this.id,"_0")},{x:t+n/2,y:e,id:"".concat(this.id,"_1")},{x:t,y:e+r/2,id:"".concat(this.id,"_2")},{x:t-n/2,y:e,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var t=vy(wy(i.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.rect;return py(py({},t),wi(e))}}])&&yy(e.prototype,n),r&&yy(e,r),i}(Bd),cy=function(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}(ay.prototype,"radius",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ay);function Sy(t){return Sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sy(t)}function Py(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ay(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Py(Object(n),!0).forEach((function(e){zy(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Py(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ky(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ty(){return Ty="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=My(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Ty.apply(this,arguments)}function My(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ly(t)););return t}function Ny(t,e){return Ny=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ny(t,e)}function Cy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ly(t);if(e){var o=Ly(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ry(this,n)}}function Ry(t,e){if(e&&("object"===Sy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Iy(t)}function Iy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ly(t){return Ly=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ly(t)}function zy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function By(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Uy=(xy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ny(t,e)}(i,t);var e,n,r,o=Cy(i);function i(){var t;ky(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return zy(Iy(t=o.call.apply(o,[this].concat(n))),"modelType",po.TEXT_NODE),t}return e=i,(n=[{key:"getTextStyle",value:function(){var t=Ty(Ly(i.prototype),"getTextStyle",this).call(this),e=this.graphModel.theme.text;return Ay(Ay({},t),wi(e))}},{key:"width",get:function(){var t=String(this.text.value).split(/[\r\n]/g),e=this.getTextStyle().fontSize;return ia({rows:t,fontSize:e,rowsLength:t.length}).width}},{key:"height",get:function(){var t=String(this.text.value).split(/[\r\n]/g),e=this.getTextStyle().fontSize;return ia({rows:t,fontSize:e,rowsLength:t.length}).height}}])&&Dy(e.prototype,n),r&&Dy(e,r),i}(Bd),By(xy.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(xy.prototype,"width"),xy.prototype),By(xy.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(xy.prototype,"height"),xy.prototype),xy);function Fy(t){return Fy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fy(t)}function Hy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gy(t,e){return Gy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Gy(t,e)}function Yy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ky(t);if(e){var o=Ky(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vy(this,n)}}function Vy(t,e){if(e&&("object"===Fy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Wy(t)}function Wy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ky(t){return Ky=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ky(t)}function $y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zy,qy,Jy,Qy,tv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gy(t,e)}(i,t);var e,n,r,o=Yy(i);function i(){var t;Hy(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return $y(Wy(t=o.call.apply(o,[this].concat(n))),"modelType",po.HTML_NODE),t}return e=i,(n=[{key:"getDefaultAnchor",value:function(){var t=this.x,e=this.y,n=this.width,r=this.height;return[{x:t,y:e-r/2,id:"".concat(this.id,"_0")},{x:t+n/2,y:e,id:"".concat(this.id,"_1")},{x:t,y:e+r/2,id:"".concat(this.id,"_2")},{x:t-n/2,y:e,id:"".concat(this.id,"_3")}]}}])&&Xy(e.prototype,n),r&&Xy(e,r),i}(Bd);function ev(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nv(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function rv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ov(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iv(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var uv=(Zy=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ov(this,"graphModel",void 0),nv(this,"isShowHorizontal",qy,this),nv(this,"isShowVertical",Jy,this),nv(this,"position",Qy,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=e}var e,n,r;return e=t,n=[{key:"getStyle",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ev(Object(n),!0).forEach((function(e){ov(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ev(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(t,e){for(var n=t.x,r=t.y,o=!1,i=!1,u=0;u<e.length;u++){var a=e[u];if(a.id!==t.id&&(n===a.x&&(o=!0),r===a.y&&(i=!0),o&&i))break}return{isShowVertical:o,isShowHorizontal:i,position:{x:n,y:r}}}},{key:"getHorizontalSnapline",value:function(t,e){var n,r,o=!1,i=t.id;if(i){var u=this.graphModel.fakerNode;if(u&&u.id===i)r=qu(u);else{var a=this.graphModel.getNodeModelById(i);r=qu(a)}}for(var c=0;c<e.length;c++){var s=e[c];if(s.id!==t.id){var l=qu(s);if(l.minY===r.minY||l.maxY===r.minY){o=!0,n=r.minY;break}if(l.minY===r.maxY||l.maxY===r.maxY){o=!0,n=r.maxY;break}}}return qr({isShowHorizontal:o,position:{y:n}})}},{key:"getVerticalSnapline",value:function(t,e){var n,r,o=!1,i=t.id;if(i){var u=this.graphModel.fakerNode;if(u&&u.id===i)r=qu(u);else{var a=this.graphModel.getNodeModelById(i);r=qu(a)}}for(var c=0;c<e.length;c++){var s=e[c];if(s.id!==t.id){var l=qu(s);if(l.minX===r.minX||l.maxX===r.minX){o=!0,n=r.minX;break}if(l.minX===r.maxX||l.maxX===r.maxX){o=!0,n=r.maxX;break}}}return qr({isShowVertical:o,position:{x:n}})}},{key:"getSnapLinePosition",value:function(t,e){var n=this.getCenterSnapLine(t,e),r=n.isShowHorizontal,o=n.isShowVertical;if(!r){var i=this.getHorizontalSnapline(t,e);i.isShowHorizontal&&(n.isShowHorizontal=i.isShowHorizontal,n.position.y=i.position.y)}if(!o){var u=this.getVerticalSnapline(t,e);u.isShowVertical&&(n.isShowVertical=u.isShowVertical,n.position.x=u.position.x)}return n}},{key:"setSnaplineInfo",value:function(t){var e=t.isShowHorizontal,n=t.isShowVertical,r=t.position;this.position=r,this.isShowHorizontal=e,this.isShowVertical=n}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var e=this.graphModel.nodes,n=this.getSnapLinePosition(t,e);this.setSnaplineInfo(n)}}],n&&rv(e.prototype,n),r&&rv(e,r),t}(),qy=iv(Zy.prototype,"isShowHorizontal",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jy=iv(Zy.prototype,"isShowVertical",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qy=iv(Zy.prototype,"position",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),iv(Zy.prototype,"clearSnapline",[o.k],Object.getOwnPropertyDescriptor(Zy.prototype,"clearSnapline"),Zy.prototype),iv(Zy.prototype,"setNodeSnapLine",[o.k],Object.getOwnPropertyDescriptor(Zy.prototype,"setNodeSnapLine"),Zy.prototype),Zy),av=new Map,cv=function(t){var e=gu(),n=window.requestAnimationFrame((function n(){if(t(),av.get(e)){var r=window.requestAnimationFrame(n);av.set(e,r)}}));return av.set(e,n),e},sv=function(t){var e=av.get(t);e&&(window.cancelAnimationFrame(e),av.delete(t))};function lv(t){return lv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(t)}function fv(){return fv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fv.apply(this,arguments)}function pv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dv(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pv(Object(n),!0).forEach((function(e){wv(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return yv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yv(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gv(t,e){return gv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},gv(t,e)}function bv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_v(t);if(e){var o=_v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mv(this,n)}}function mv(t,e){if(e&&("object"===lv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ov(t)}function Ov(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _v(t){return _v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_v(t)}function wv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gv(t,e)}(i,t);var e,n,r,o=bv(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),wv(Ov(t=o.call(this)),"preTargetNode",void 0),wv(Ov(t),"sourceRuleResults",void 0),wv(Ov(t),"targetRuleResults",void 0),wv(Ov(t),"dragHandler",void 0),wv(Ov(t),"t",void 0),wv(Ov(t),"onDragStart",(function(e){var n=e.event,r=t.props,o=r.anchorData,i=r.nodeModel,u=r.graphModel;u.overlapMode,u.selectNodeById(i.id),i.autoToFront&&u.toFront(i.id),u.eventCenter.emit(yo.ANCHOR_DRAGSTART,{data:o,e:n,nodeModel:i}),t.setState({startX:o.x,startY:o.y,endX:o.x,endY:o.y})})),wv(Ov(t),"onDragging",(function(e){var n=e.event,r=t.props,o=r.graphModel,i=r.nodeModel,u=r.anchorData,a=o.transformModel,c=o.eventCenter,s=o.width,l=o.height,f=o.editConfigModel,p=f.autoExpand,d=f.stopMoveGraph,h=n.clientX,y=n.clientY,v=o.getPointByClient({x:h,y:y}),g=v.domOverlayPosition,b=g.x,m=g.y,O=v.canvasOverlayPosition,_=O.x,w=O.y;t.t&&sv(t.t);var j=[];b<10?j=[10,0]:b+10>s?j=[-10,0]:m<10?j=[0,10]:m+10>l&&(j=[0,-10]),t.setState({endX:_,endY:w,dragging:!0}),t.moveAnchorEnd(_,w),j.length>0&&!d&&p&&(t.t=cv((function(){var e=hv(j,2),n=e[0],r=e[1];a.translate(n,r);var o=t.state,i=o.endX,u=o.endY;t.setState({endX:i-n,endY:u-r}),t.moveAnchorEnd(i-n,u-r)}))),c.emit(yo.ANCHOR_DRAG,{data:u,e:n,nodeModel:i})})),wv(Ov(t),"onDragEnd",(function(e){var n=e.event;t.t&&sv(t.t);var r=t.checkEnd(n);t.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),t.sourceRuleResults.clear(),t.targetRuleResults.clear();var o=t.props,i=o.graphModel,u=o.nodeModel,a=o.anchorData;i.eventCenter.emit(yo.ANCHOR_DRAGEND,{data:a,e:n,nodeModel:u,edgeModel:r})})),wv(Ov(t),"checkEnd",(function(e){var n=t.props,r=n.graphModel,o=n.nodeModel,i=n.anchorData,u=i.x,a=i.y,c=i.id,s=(r.edgeType,t.state),l=s.endX,f=s.endY,p=s.dragging,d=Vu({x:l,y:f},r);if(t.preTargetNode&&t.preTargetNode.state!==lo.DEFAULT&&t.preTargetNode.setElementState(lo.DEFAULT),p&&d&&d.node){var h=d.node,y=d.anchor.id,v="".concat(o.id,"_").concat(h.id,"_").concat(y,"_").concat(c),g=t.sourceRuleResults.get(v)||{},b=g.isAllPass,m=g.msg,O=t.targetRuleResults.get(v)||{},_=O.isAllPass,w=O.msg;if(b&&_){h.setElementState(lo.DEFAULT);var j=r.edgeGenerator(o.getData(),r.getNodeModelById(d.node.id).getData()),x=r.addEdge(dv(dv({},j),{},{sourceNodeId:o.id,sourceAnchorId:c,startPoint:{x:u,y:a},targetNodeId:d.node.id,targetAnchorId:d.anchor.id,endPoint:{x:d.anchor.x,y:d.anchor.y}})),E=t.props.anchorData;return r.eventCenter.emit(yo.ANCHOR_DROP,{data:E,e:e,nodeModel:o,edgeModel:x}),x}var S=h.getData();return r.eventCenter.emit(yo.CONNECTION_NOT_ALLOWED,{data:S,msg:w||m||""}),null}})),t.sourceRuleResults=new Map,t.targetRuleResults=new Map,t.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},t.dragHandler=new cs({onDragStart:t.onDragStart,onDragging:t.onDragging,onDragEnd:t.onDragEnd}),t}return e=i,(n=[{key:"getAnchorShape",value:function(){var t=this.props,e=t.anchorData,n=t.style,r=t.node.getAnchorShape(e);if(r)return r;var o=e.x,i=e.y,u=dv(dv({},n),n.hover);return Object(tt.g)("g",null,Object(tt.g)(Wf,fv({className:"lf-node-anchor-hover"},u,{x:o,y:i})),Object(tt.g)(Wf,fv({className:"lf-node-anchor"},n,{x:o,y:i})))}},{key:"customTrajectory",get:function(){return this.props.graphModel.customTrajectory}},{key:"relateEdges",get:function(){var t=this.props,e=t.graphModel,n=e.getAnchorIncomingEdge,r=e.getAnchorOutcomingEdge,o=t.anchorData.id;return{incomingEdgeList:n(o),outcomingEdgeList:r(o)}}},{key:"moveAnchorEnd",value:function(t,e){var n=this.props,r=n.graphModel,o=n.nodeModel,i=n.anchorData,u=Vu({x:t,y:e},r);if(u){var a=u.node,c=u.anchor.id;if(this.preTargetNode&&this.preTargetNode!==u.node&&this.preTargetNode.setElementState(lo.DEFAULT),i.id===c)return;this.preTargetNode=a;var s="".concat(o.id,"_").concat(a.id,"_").concat(c,"_").concat(i.id);if(!this.targetRuleResults.has(s)){var l=u.anchor,f=o.isAllowConnectedAsSource(a,i,l),p=a.isAllowConnectedAsTarget(o,i,l);this.sourceRuleResults.set(s,ua(f)),this.targetRuleResults.set(s,ua(p))}var d=this.sourceRuleResults.get(s).isAllPass,h=this.targetRuleResults.get(s).isAllPass;d&&h?a.setElementState(lo.ALLOW_CONNECT):a.setElementState(lo.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==lo.DEFAULT&&this.preTargetNode.setElementState(lo.DEFAULT)}},{key:"isShowLine",value:function(){var t=this.state,e=t.startX,n=t.startY,r=t.endX,o=t.endY;return Ku(e,n,r,o)>10}},{key:"render",value:function(){var t=this,e=this.state,n=e.startX,r=e.startY,o=e.endX,i=e.endY,u=this.props,a=u.anchorData.edgeAddable,c=u.edgeStyle;return Object(tt.g)("g",{className:"lf-anchor"},Object(tt.g)("g",{onMouseDown:function(e){!1!==a&&t.dragHandler.handleMouseDown(e)}},this.getAnchorShape()),this.isShowLine()&&(this.customTrajectory?this.customTrajectory(dv({sourcePoint:{x:n,y:r},targetPoint:{x:o,y:i}},c)):Object(tt.g)(hf,fv({x1:n,y1:r,x2:o,y2:i},c,{"pointer-events":"none"}))))}}])&&vv(e.prototype,n),r&&vv(e,r),i}(tt.a);function xv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ev(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xv(Object(n),!0).forEach((function(e){Sv(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Sv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pv(t){return Pv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pv(t)}function Av(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return kv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kv(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dv(t){var e=t.x,n=void 0===e?0:e,r=t.y,o=void 0===r?0:r,i=t.value,u=t.fontSize,a=t.fill,c=void 0===a?"currentColor":a,s=t.overflowMode,l=void 0===s?"default":s,f=t.textWidth,p=void 0===f?"":f,d=t.model,h={textAnchor:"middle","dominant-baseline":"middle",x:n,y:o,fill:c};if(Object.entries(t).forEach((function(t){var e=Av(t,2),n=e[0],r=e[1];"object"!==Pv(r)&&(h[n]=r)})),i){var y=String(i).split(/[\r\n]/g),v=y.length;if("default"!==l){var g=d.BaseType,b=d.modelType;if(g===ho.NODE&&b!==po.TEXT_NODE||g===ho.EDGE&&p)return function(t){var e=t.value,n=t.fontSize,r=t.model,o=t.fontFamily,i=void 0===o?"":o,u=t.lineHeight,a=t.wrapPadding,c=void 0===a?"0, 0":a,s=t.overflowMode,l=t.x,f=t.y,p=r.width,d=r.textHeight,h=t.textWidth||p,y=String(e).split(/[\r\n]/g),v=y.length,g=oa({rows:y,style:{fontSize:"".concat(n,"px"),width:"".concat(h,"px"),fontFamily:i,lineHeight:u,padding:c},rowsLength:v,className:"lf-get-text-height"}),b=r.height>g?r.height:g;d&&(b=d);var m="ellipsis"===s;return m&&(b=n+2),Object(tt.g)("g",null,Object(tt.g)("foreignObject",{width:h,height:b,x:l-h/2,y:f-b/2},Object(tt.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:b,width:h,padding:c}},Object(tt.g)("div",{className:m?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:m?y.join(""):"",style:Ev({},t)},y.map((function(t){return Object(tt.g)("div",{className:"lf-node-text--auto-wrap-inner"},t)}))))))}(t)}if(v>1){var m=y.map((function(t,e){var r=(e-(v-1)/2)*(u+2);return Object(tt.g)("tspan",{className:"lf-text-tspan",x:n,y:o+r},t)}));return Object(tt.g)("text",h,m)}return Object(tt.g)("text",h,i)}}function Tv(t){return Tv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tv(t)}function Mv(){return Mv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mv.apply(this,arguments)}function Nv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Cv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cv(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Iv(t,e){return Iv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Iv(t,e)}function Lv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Uv(t);if(e){var o=Uv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zv(this,n)}}function zv(t,e){if(e&&("object"===Tv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Bv(t)}function Bv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uv(t){return Uv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Uv(t)}function Fv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Hv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Iv(t,e)}(i,t);var e,n,r,o=Lv(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Fv(Bv(e=o.call(this)),"dragHandler",void 0),Fv(Bv(e),"sumDeltaX",0),Fv(Bv(e),"sumDeltaY",0),Fv(Bv(e),"stepDrag",void 0),Fv(Bv(e),"onDragging",(function(t){var n=t.deltaX,r=t.deltaY,o=e.props,i=o.model,u=Nv(o.graphModel.transformModel.fixDeltaXY(n,r),2),a=u[0],c=u[1];i.moveText(a,c)})),Fv(Bv(e),"dblClickHandler",(function(){e.props.editable&&e.props.model.setElementState(lo.TEXT_EDIT)})),Fv(Bv(e),"mouseDownHandle",(function(t){var n=e.props,r=n.draggable,o=n.model,i=n.graphModel.editConfigModel.nodeTextDraggable;(r||i)&&(e.stepDrag.model=o,e.stepDrag.handleMouseDown(t))})),t.model;var n=t.draggable;return e.stepDrag=new cs({onDragging:e.onDragging,step:1,isStopPropagation:n}),e}return e=i,(n=[{key:"getShape",value:function(){var t=this.props,e=t.model,n=t.graphModel,r=e.text,o=n.editConfigModel,i=r.value,u=r.x,a=r.y,c=r.editable,s=r.draggable,l={x:u,y:a,className:"",value:i};c?l.className="lf-element-text":s||o.nodeTextDraggable?l.className="lf-text-draggable":l.className="lf-text-disabled";var f=e.getTextStyle();return Object(tt.g)(Dv,Mv({},l,f,{model:e}))}},{key:"render",value:function(){if(this.props.model.text)return Object(tt.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&Rv(e.prototype,n),r&&Rv(e,r),i}(tt.a),Xv=null!==er(window,"navigator.userAgent","").match(/MSIE|Trident/),Gv=n(130);function Yv(t){return Yv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yv(t)}function Vv(){return Vv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vv.apply(this,arguments)}function Wv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kv(t,e){return Kv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Kv(t,e)}function $v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jv(t);if(e){var o=Jv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zv(this,n)}}function Zv(t,e){if(e&&("object"===Yv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return qv(t)}function qv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jv(t){return Jv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Jv(t)}function Qv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kv(t,e)}(i,t);var e,n,r,o=$v(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Qv(qv(e=o.call(this,t)),"style",{}),Qv(qv(e),"defaultAngle",void 0),Qv(qv(e),"normal",void 0),Qv(qv(e),"stepperDrag",void 0),Qv(qv(e),"onDragging",(function(t){var n,r=t.event,o=e.props,i=o.graphModel,u=o.nodeModel,a=o.eventCenter,c=i.selectNodes,s=u.x,l=u.y,f=r.clientX,p=r.clientY,d=i.getPointByClient({x:f,y:p}).canvasOverlayPosition,h=d.x,y=d.y,v=new Es(h-s,y-l),g=(null===(n=e.normal)||void 0===n?void 0:n.angle(v))-e.defaultAngle,b=new al(-s,-l).rotate(g).translate(s,l).toString();u.transform=b,u.rotate=g;var m=Object(Gv.map)(c,(function(t){return t.id}));-1===m.indexOf(u.id)&&(m=[u.id]);var O=Object(Gv.reduce)(m,(function(t,e){var n=i.getNodeModelById(e);return t[e]=null==n?void 0:n.getMoveDistance(0,0,!1),t}),{});m.forEach((function(t){i.getNodeEdges(t).forEach((function(t){if(O[t.sourceNodeId]){var e=i.getNodeModelById(t.sourceNodeId).anchors.find((function(e){return e.id===t.sourceAnchorId}));t.updateStartPoint(e)}if(O[t.targetNodeId]){var n=i.getNodeModelById(t.targetNodeId).anchors.find((function(e){return e.id===t.targetAnchorId}));t.updateEndPoint(n)}}))})),a.emit(yo.NODE_ROTATE,{e:r,nodeModel:u})})),e.style=t.style,e.stepperDrag=new cs({onDragging:e.onDragging}),e}return e=i,(n=[{key:"render",value:function(){var t=this,e=this.props.nodeModel,n=e.x,r=e.y,o=n+e.width/2+20,i=r-e.height/2-20;return this.normal=new Es(1,0),this.defaultAngle=this.normal.angle(new Es(o-n,i-r)),e.defaultAngle=this.defaultAngle,Object(tt.g)("g",{className:"lf-rotate-control"},Object(tt.g)("g",{onMouseDown:function(e){t.stepperDrag.handleMouseDown(e)}},Object(tt.g)(Wf,Vv({},this.style,{cx:o,cy:i}))))}}])&&Wv(e.prototype,n),r&&Wv(e,r),i}(tt.a);function eg(t){return eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eg(t)}var ng=["className"];function rg(){return rg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rg.apply(this,arguments)}function og(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function ig(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ug(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ug(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ug(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ag(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cg(t,e){return cg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},cg(t,e)}function sg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=pg(t);if(e){var o=pg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lg(this,n)}}function lg(t,e){if(e&&("object"===eg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fg(t)}function fg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pg(t){return pg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},pg(t)}function dg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cg(t,e)}(u,t);var e,n,r,i=sg(u);function u(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),dg(fg(e=i.call(this)),"t",void 0),dg(fg(e),"moveOffset",void 0),dg(fg(e),"stepDrag",void 0),dg(fg(e),"contextMenuTime",void 0),dg(fg(e),"mouseUpDrag",void 0),dg(fg(e),"startTime",void 0),dg(fg(e),"clickTimer",void 0),dg(fg(e),"modelDisposer",void 0),dg(fg(e),"onDragStart",(function(t){var n=t.event,r=n.clientX,o=n.clientY,i=e.props,u=i.model,a=i.graphModel.getPointByClient({x:r,y:o}).canvasOverlayPosition,c=a.x,s=a.y;e.moveOffset={x:u.x-c,y:u.y-s}})),dg(fg(e),"onDragging",(function(t){var n=t.event,r=e.props,o=r.model,i=r.graphModel,u=i.editConfigModel,a=u.stopMoveGraph,c=u.autoExpand,s=i.transformModel,l=i.selectNodes,f=i.width,p=i.height,d=i.gridSize;o.isDragging=!0;var h=n.clientX,y=n.clientY,v=i.getPointByClient({x:h,y:y}).canvasOverlayPosition,g=v.x,b=v.y,m=ig(s.CanvasPointToHtmlPoint([g,b]),2),O=m[0],_=m[1];if(g+=e.moveOffset.x,b+=e.moveOffset.y,g=Ui(g,d),b=Ui(b,d),f&&p){if(!c||a||!(O<0||_<0||O>f||_>p)){var w=ig(s.CanvasPointToHtmlPoint([g-o.width/2,b-o.height/2]),2),j=w[0],x=w[1],E=ig(s.CanvasPointToHtmlPoint([g+o.width/2,b+o.height/2]),2),S=E[0],P=E[1],A=Math.max(d,20),k=[];j<0?k=[A,0]:S>i.width?k=[-A,0]:x<0?k=[0,A]:P>i.height&&(k=[0,-A]),e.t&&sv(e.t);var D=new al(-g,-b).rotate(o.rotate).translate(g,b).toString();o.transform=D;var T=l.map((function(t){return t.id}));-1===T.indexOf(o.id)&&(T=[o.id]),k.length>0&&!a&&c?e.t=cv((function(){var t=ig(k,2),e=t[0],n=t[1];s.translate(e,n);var r=-e/s.SCALE_X,o=-n/s.SCALE_X;i.moveNodes(T,r,o)})):i.moveNodes(T,g-o.x,b-o.y)}}else i.moveNode2Coordinate(o.id,g,b)})),dg(fg(e),"onDragEnd",(function(){e.t&&sv(e.t),e.props.model.isDragging=!1})),dg(fg(e),"handleMouseUp",(function(){var t=e.props.model;e.mouseUpDrag=t.isDragging})),dg(fg(e),"handleClick",(function(t){var n=!1===e.mouseUpDrag;if(e.startTime){var r=e.props,o=r.model,i=r.graphModel;if(n){var u={data:o.getData(),e:t,position:i.getPointByClient({x:t.clientX,y:t.clientY}),isSelected:!1,isMultiple:!1},a=2===t.button,c=2===t.detail;if(!a){var s=i.editConfigModel,l=Yi(t,s);u.isMultiple=l,o.isSelected&&!c&&l?(u.isSelected=!1,o.setSelected(!1)):(i.selectNodeById(o.id,l),u.isSelected=!0,e.toFront()),c?(s.nodeTextEdit&&o.text.editable&&(o.setSelected(!1),i.setElementStateById(o.id,lo.TEXT_EDIT)),i.eventCenter.emit(yo.NODE_DBCLICK,u)):(i.eventCenter.emit(yo.ELEMENT_CLICK,u),i.eventCenter.emit(yo.NODE_CLICK,u))}}}})),dg(fg(e),"handleContextMenu",(function(t){t.preventDefault();var n=e.props,r=n.model,o=n.graphModel,i=r.getData(),u=o.getPointByClient({x:t.clientX,y:t.clientY});o.setElementStateById(r.id,lo.SHOW_MENU,u.domOverlayPosition),r.isSelected||o.selectNodeById(r.id),o.eventCenter.emit(yo.NODE_CONTEXTMENU,{data:i,e:t,position:u}),e.toFront()})),dg(fg(e),"handleMouseDown",(function(t){var n=e.props,r=n.model,o=n.graphModel;e.startTime=(new Date).getTime(),o.editConfigModel.adjustNodePosition&&r.draggable&&e.stepDrag&&e.stepDrag.handleMouseDown(t)})),dg(fg(e),"setHoverON",(function(t){var n=e.props,r=n.model,o=n.graphModel;if(!r.isHovered){var i=r.getData();r.setHovered(!0),o.eventCenter.emit(yo.NODE_MOUSEENTER,{data:i,e:t})}})),dg(fg(e),"setHoverOFF",(function(t){var n=e.props,r=n.model,o=n.graphModel,i=r.getData();r.isHovered&&(r.setHovered(!1),o.eventCenter.emit(yo.NODE_MOUSELEAVE,{data:i,e:t}))})),dg(fg(e),"onMouseOut",(function(t){Xv&&e.setHoverOFF(t)}));var n=t.graphModel,r=n.gridSize,a=n.eventCenter,c=t.model;return e.stepDrag=new cs({onDragStart:e.onDragStart,onDragging:e.onDragging,onDragEnd:e.onDragEnd,step:r,eventType:"NODE",isStopPropagation:!1,eventCenter:a,model:c}),e.modelDisposer=Object(o.F)((function(){return e.props}),(function(t){t&&t.model&&e.stepDrag.setModel(t.model)})),e}return e=u,r=[{key:"getModel",value:function(t){return t}}],(n=[{key:"componentWillUnmount",value:function(){this.modelDisposer&&this.modelDisposer()}},{key:"getAnchorShape",value:function(t){return null}},{key:"getAnchors",value:function(){var t=this,e=this.props,n=e.model,r=e.graphModel,o=n.isSelected,i=n.isHitable,u=n.isDragging,a=n.isShowAnchor;return i&&(o||a)&&!u?hr(n.anchors,(function(e,o){var i=n.getAnchorLineStyle(e),u=n.getAnchorStyle(e);return Object(tt.g)(jv,{anchorData:e,node:t,style:u,edgeStyle:i,anchorIndex:o,nodeModel:n,graphModel:r,setHoverOFF:t.setHoverOFF})})):[]}},{key:"getRotateControl",value:function(){var t=this.props,e=t.model,n=t.graphModel,r=e.isSelected,o=e.isHitable,i=e.enableRotate,u=e.isHovered,a=e.getRotateControlStyle().style;if(o&&(r||u)&&i)return Object(tt.g)(tg,{graphModel:n,nodeModel:e,eventCenter:n.eventCenter,style:a})}},{key:"getText",value:function(){var t=this.props,e=t.model,n=t.graphModel;if(e.state===lo.TEXT_EDIT)return"";if(e.text){var r=n.editConfigModel,o=!1;return(e.text.draggable||r.nodeTextDraggable)&&(o=!0),Object(tt.g)(Hv,{editable:r.nodeTextEdit&&e.text.editable,model:e,graphModel:n,draggable:o})}}},{key:"getStateClassName",value:function(){var t=this.props.model,e=t.state,n=t.isDragging,r=t.isSelected,o="lf-node";switch(e){case lo.ALLOW_CONNECT:o+=" lf-node-allow";break;case lo.NOT_ALLOW_CONNECT:o+=" lf-node-not-allow";break;default:o+=" lf-node-default"}return n&&(o+=" lf-isDragging"),r&&(o+=" lf-node-selected"),o}},{key:"toFront",value:function(){var t=this.props,e=t.model,n=t.graphModel;e.autoToFront&&n.toFront(e.id)}},{key:"render",value:function(){var t,e=this.props,n=e.model,r=e.graphModel,o=r.editConfigModel,i=o.hideAnchors,u=o.adjustNodePosition,a=o.allowRotation,c=r.gridSize,s=r.transformModel.SCALE_X,l=n.isHitable,f=n.draggable,p=n.transform,d=n.getOuterGAttributes(),h=d.className,y=void 0===h?"":h,v=og(d,ng),g=Object(tt.g)("g",{className:"lf-node-content"},Object(tt.g)("g",{transform:p},this.getShape(),this.getText(),a&&this.getRotateControl()),!i&&this.getAnchors());return l?(u&&f&&this.stepDrag.setStep(c*s),t=Object(tt.g)("g",rg({className:"".concat(this.getStateClassName()," ").concat(y),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},v),g)):t=Object(tt.g)("g",rg({className:"".concat(this.getStateClassName()," ").concat(y)},v),g),t}}])&&ag(e.prototype,n),r&&ag(e,r),u}(tt.a);function yg(t){return yg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(t)}function vg(){return vg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(this,arguments)}function gg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mg(t,e){return mg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},mg(t,e)}function Og(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wg(t);if(e){var o=wg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _g(this,n)}}function _g(t,e){if(e&&("object"===yg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function wg(t){return wg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wg(t)}var jg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mg(t,e)}(i,t);var e,n,r,o=Og(i);function i(){return gg(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getShape",value:function(){var t=this.props.model,e=t.getNodeStyle();return Object(tt.g)(Df,vg({},e,{x:t.x,y:t.y,width:t.width,height:t.height,radius:t.radius}))}}])&&bg(e.prototype,n),r&&bg(e,r),i}(hg);function xg(t){return xg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(t)}function Eg(){return Eg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eg.apply(this,arguments)}function Sg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ag(t,e){return Ag=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ag(t,e)}function kg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tg(t);if(e){var o=Tg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dg(this,n)}}function Dg(t,e){if(e&&("object"===xg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Tg(t){return Tg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Tg(t)}var Mg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ag(t,e)}(i,t);var e,n,r,o=kg(i);function i(){return Sg(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getShape",value:function(){var t=this.props.model,e=t.x,n=t.y,r=t.r,o=t.getNodeStyle();return Object(tt.g)(Wf,Eg({},o,{x:e,y:n,r:r}))}}])&&Pg(e.prototype,n),r&&Pg(e,r),i}(hg);function Ng(t){return Ng="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ng(t)}function Cg(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Rg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rg(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ig(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach((function(t){var e=Cg(t,2),n=e[0],o=e[1];"object"!==Ng(o)&&(r[n]=o)})),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map((function(t){return t.join(",")})).join(" "),Object(tt.g)("polygon",r)}function Lg(t){return Lg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(t)}function zg(){return zg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zg.apply(this,arguments)}function Bg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ug(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fg(t,e){return Fg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Fg(t,e)}function Hg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Gg(t);if(e){var o=Gg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xg(this,n)}}function Xg(t,e){if(e&&("object"===Lg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Gg(t){return Gg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Gg(t)}var Yg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fg(t,e)}(i,t);var e,n,r,o=Hg(i);function i(){return Bg(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getShape",value:function(){var t=this.props.model,e=t.x,n=t.y,r=t.width,o=t.height,i=t.points,u=t.getNodeStyle(),a={transform:"matrix(1 0 0 1 ".concat(e-r/2," ").concat(n-o/2,")")};return Object(tt.g)("g",a,Object(tt.g)(Ig,zg({},u,{points:i,x:e,y:n})))}}])&&Ug(e.prototype,n),r&&Ug(e,r),i}(hg);function Vg(t){return Vg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(t)}function Wg(){return Wg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wg.apply(this,arguments)}function Kg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zg(t,e){return Zg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Zg(t,e)}function qg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qg(t);if(e){var o=Qg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jg(this,n)}}function Jg(t,e){if(e&&("object"===Vg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Qg(t){return Qg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qg(t)}var tb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zg(t,e)}(i,t);var e,n,r,o=qg(i);function i(){return Kg(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getShape",value:function(){var t=this.props.model,e=t.getNodeStyle();return Object(tt.g)("g",null,Object(tt.g)(Ig,Wg({},e,{points:t.points,x:t.x,y:t.y})))}}])&&$g(e.prototype,n),r&&$g(e,r),i}(hg);function eb(t){return eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eb(t)}function nb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return rb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rb(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ob(t){var e=t.x,n=void 0===e?0:e,r=t.y,o=void 0===r?0:r,i=t.rx,u=void 0===i?4:i,a=t.ry,c=void 0===a?4:a,s=t.className,l={cx:n,cy:o,rx:u,ry:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach((function(t){var e=nb(t,2),n=e[0],r=e[1];"object"!==eb(r)&&(l[n]=r)})),l.className=s?"lf-basic-shape ".concat(s):"lf-basic-shape",Object(tt.g)("ellipse",l)}function ib(t){return ib="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ib(t)}function ub(){return ub=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ub.apply(this,arguments)}function ab(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sb(t,e){return sb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},sb(t,e)}function lb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=pb(t);if(e){var o=pb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fb(this,n)}}function fb(t,e){if(e&&("object"===ib(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function pb(t){return pb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},pb(t)}var db=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sb(t,e)}(i,t);var e,n,r,o=lb(i);function i(){return ab(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getShape",value:function(){var t=this.props.model,e=t.getNodeStyle();return Object(tt.g)(ob,ub({},e,{x:t.x,y:t.y,rx:t.rx,ry:t.ry}))}}])&&cb(e.prototype,n),r&&cb(e,r),i}(hg);function hb(t){return hb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hb(t)}function yb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vb(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yb(Object(n),!0).forEach((function(e){gb(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yb(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ob(t,e){return Ob=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ob(t,e)}function _b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jb(t);if(e){var o=jb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wb(this,n)}}function wb(t,e){if(e&&("object"===hb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function jb(t){return jb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},jb(t)}var xb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ob(t,e)}(i,t);var e,n,r,o=_b(i);function i(){return bb(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getBackground",value:function(){var t=this.props.model,e=t.getTextStyle(),n=t.width,r=t.height,o=t.x,i=t.y,u=vb(vb({},e.background),{},{x:o,y:i-1,width:n,height:r});return Object(tt.g)(Df,u)}},{key:"getShape",value:function(){return Object(tt.g)("g",null,this.getBackground())}}])&&mb(e.prototype,n),r&&mb(e,r),i}(hg);function Eb(t){return Eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eb(t)}function Sb(){return Sb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sb.apply(this,arguments)}function Pb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ab(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kb(t,e){return kb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},kb(t,e)}function Db(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nb(t);if(e){var o=Nb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tb(this,n)}}function Tb(t,e){if(e&&("object"===Eb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Mb(t)}function Mb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nb(t){return Nb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Nb(t)}function Cb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Rb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kb(t,e)}(i,t);var e,n,r,o=Db(i);function i(){var t;Pb(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Cb(Mb(t=o.call.apply(o,[this].concat(n))),"ref",void 0),Cb(Mb(t),"currentProperties",void 0),Cb(Mb(t),"preProperties",void 0),Cb(Mb(t),"setRef",(function(e){t.ref=e})),t}return e=i,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(t){t.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var t=this.props.model,e=t.x,n=t.y,r=t.height,o=t.width,i=t.getNodeStyle();return this.currentProperties=JSON.stringify(t.properties),Object(tt.g)("foreignObject",Sb({},i,{x:e-o/2,y:n-r/2,width:o,height:r,ref:this.setRef}))}}])&&Ab(e.prototype,n),r&&Ab(e,r),i}(hg);function Ib(t){return Ib="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ib(t)}function Lb(){return Lb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lb.apply(this,arguments)}function zb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bb(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zb(Object(n),!0).forEach((function(e){Vb(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zb(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ub(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fb(t,e){return Fb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Fb(t,e)}function Hb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yb(t);if(e){var o=Yb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xb(this,n)}}function Xb(t,e){if(e&&("object"===Ib(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Gb(t)}function Gb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yb(t){return Yb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Yb(t)}function Vb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fb(t,e)}(i,t);var e,n,r,o=Hb(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Vb(Gb(e=o.call(this,t)),"setHoverON",(function(){e.setState({isHovered:!0})})),Vb(Gb(e),"setHoverOFF",(function(){e.setState({isHovered:!1})})),e.state={isHovered:!1},e}return e=i,(n=[{key:"getBackground",value:function(){var t=this.props.model,e=t.getTextStyle(),n=t.text,r=t.width,o=e.background||{};if(this.state.isHovered&&e.hover&&e.hover.background&&(o=Bb(Bb({},o),e.hover.background)),n&&n.value&&"transparent"!==o.fill){var i,u=e.fontSize,a=e.overflowMode,c=e.lineHeight,s=e.wrapPadding,l=e.textWidth,f=n.value,p=n.x,d=n.y,h=String(f).split(/[\r\n]/g),y=h.length;if("autoWrap"===a&&l){var v=oa({rows:h,style:{fontSize:"".concat(u,"px"),width:"".concat(l,"px"),lineHeight:c,padding:s},rowsLength:y,className:"lf-get-text-height"});i=Bb(Bb({},o),{},{x:p-1,y:d-1,width:l,height:v})}else{var g=0;h&&h.forEach((function(t){var e=Wc(t);g=e>g?e:g}));var b=ia({rows:h,fontSize:u,rowsLength:y}),m=b.width,O=b.height;if("ellipsis"===a&&(m=l||r,O=u+2),"string"==typeof o.wrapPadding){var _=o.wrapPadding.split(",").filter((function(t){return t.trim()})).map((function(t){return parseFloat(t.trim())}));_.length>0&&_.length<=4&&(1===_.length?_=[_[0],_[0],_[0],_[0]]:2===_.length?_=[_[0],_[1],_[0],_[1]]:3===_.length&&(_=[_[0],_[1],_[2],_[1]]),m+=_[1]+_[3],O+=_[0]+_[2],p+=(_[1]-_[3])/2,d+=(_[2]-_[0])/2)}i=Bb(Bb({},o),{},{x:p-1,y:d-1,width:m,height:O})}return Object(tt.g)(Df,i)}}},{key:"getShape",value:function(){var t=this.props.model,e=t.text,n=e.value,r=e.x,o=e.y;if(n){var i=Bb({x:r,y:o,className:"lf-element-text",value:n},t.getTextStyle());return Object(tt.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(tt.g)(Dv,Lb({},i,{model:t})))}}}])&&Ub(e.prototype,n),r&&Ub(e,r),i}(Hv);function Kb(t){return Kb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kb(t)}var $b,Zb=["text","sourceAnchorId","targetAnchorId"];function qb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jb(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qb(Object(n),!0).forEach((function(e){cm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qb(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Qb(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function tm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return em(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?em(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function em(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rm(t,e){return rm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},rm(t,e)}function om(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=am(t);if(e){var o=am(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return im(this,n)}}function im(t,e){if(e&&("object"===Kb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return um(t)}function um(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function am(t){return am=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},am(t)}function cm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"}($b||($b={}));var sm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rm(t,e)}(i,t);var e,n,r,o=om(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),cm(um(e=o.call(this)),"stepDragData",void 0),cm(um(e),"stepDrag",void 0),cm(um(e),"oldEdge",void 0),cm(um(e),"preTargetNode",void 0),cm(um(e),"targetRuleResults",void 0),cm(um(e),"sourceRuleResults",void 0),cm(um(e),"handleMouseDown",(function(t){e.stepDrag&&e.stepDrag.handleMouseDown(t)})),cm(um(e),"onDragStart",(function(){var t=e.props,n=t.x,r=t.y,o=t.edgeModel,i=o.startPoint,u=o.endPoint,a=o.pointsList;e.oldEdge={startPoint:i,endPoint:u,pointsList:a},e.setState({endX:n,endY:r,dragging:!0})})),cm(um(e),"onDragging",(function(t){var n=t.deltaX,r=t.deltaY,o=e.state,i=o.endX,u=o.endY,a=e.props,c=a.graphModel,s=a.type,l=c.transformModel,f=c.editConfigModel,p=tm(l.moveCanvasPointByHtml([i,u],n,r),2),d=p[0],h=p[1];e.setState({endX:d,endY:h,dragging:!0});var y=e.props.edgeModel,v=Vu({x:i,y:u},c);if(v&&v.node&&e.isAllowAdjust(v).pass){var g,b=y.startPoint,m=y.endPoint,O=y.sourceNode,_=y.targetNode;s===$b.SOURCE?g={startPoint:{x:v.anchor.x,y:v.anchor.y},endPoint:{x:m.x,y:m.y},sourceNode:v.node,targetNode:_}:s===$b.TARGET&&(g={startPoint:{x:b.x,y:b.y},endPoint:{x:v.anchor.x,y:v.anchor.y},sourceNode:O,targetNode:v.node}),y.updateAfterAdjustStartAndEnd(g)}else s===$b.SOURCE?y.updateStartPoint({x:d,y:h}):s===$b.TARGET&&y.updateEndPoint({x:d,y:h});y.text.value&&f.adjustEdge&&y.setText(Object.assign({},y.text,y.textPosition))})),cm(um(e),"onDragEnd",(function(t){var n=t.event;try{var r;e.setState({dragging:!1});var o=e.props,i=o.graphModel,u=o.edgeModel,a=o.type,c=e.state,s=c.endX,l=c.endY,f=c.dragging,p=Vu({x:s,y:l},i);if(!f)return;var d,h=!1;if(p&&p.node){var y=e.isAllowAdjust(p),v=y.pass,g=y.msg,b=y.newTargetNode;if(v){var m=u.getData(),O=m.text,_=m.sourceAnchorId,w=void 0===_?"":_,j=m.targetAnchorId;d=Jb(Jb({sourceAnchorId:w,targetAnchorId:void 0===j?"":j},Qb(m,Zb)),{},{text:(null==O?void 0:O.value)||""}),a===$b.SOURCE?(d=Jb(Jb({},i.edgeGenerator(i.getNodeModelById(p.node.id).getData(),i.getNodeModelById(u.targetNodeId).getData(),d)),{},{sourceNodeId:p.node.id,sourceAnchorId:p.anchor.id,startPoint:{x:p.anchor.x,y:p.anchor.y},targetNodeId:u.targetNodeId,endPoint:Jb({},u.endPoint)}),u.sourceNodeId===p.node.id&&u.sourceAnchorId===p.anchor.id&&(h=!0)):a===$b.TARGET&&(d=Jb(Jb({},i.edgeGenerator(i.getNodeModelById(u.sourceNodeId).getData(),i.getNodeModelById(p.node.id).getData(),d)),{},{sourceNodeId:u.sourceNodeId,startPoint:Jb({},u.startPoint),targetNodeId:p.node.id,targetAnchorId:p.anchor.id,endPoint:{x:p.anchor.x,y:p.anchor.y}}),u.targetNodeId===p.node.id&&u.targetAnchorId===p.anchor.id&&(h=!0))}else{h=!0;var x=b.getData();i.eventCenter.emit(yo.CONNECTION_NOT_ALLOWED,{data:x,msg:g})}}else h=!0;if(h)e.recoveryEdge();else{var E=u.getData();i.deleteEdgeById(u.id);var S=i.addEdge(Jb({},d));i.eventCenter.emit(yo.EDGE_EXCHANGE_NODE,{data:{newEdge:S.getData(),oldEdge:E}})}null===(r=e.preTargetNode)||void 0===r||r.setElementState(lo.DEFAULT)}finally{e.props.graphModel.eventCenter.emit(yo.ADJUST_POINT_DRAGEND,{e:n,data:e.stepDragData})}})),cm(um(e),"recoveryEdge",(function(){var t=e.props.edgeModel,n=e.oldEdge,r=n.startPoint,o=n.endPoint,i=n.pointsList;t.updateStartPoint(r),t.updateEndPoint(o),t.modelType!==po.LINE_EDGE&&(t.pointsList=i,t.initPoints())})),cm(um(e),"getAdjustPointStyle",(function(){var t=e.props,n=t.graphModel.theme;return t.edgeModel,n.edgeAdjust})),e.state={dragging:!1,endX:0,endY:0},e.targetRuleResults=new Map,e.sourceRuleResults=new Map;var n=t.type,r=t.edgeModel,u=t.graphModel.eventCenter;return e.stepDragData={type:n,edgeData:r.getData()},e.stepDrag=new cs({onDragStart:e.onDragStart,onDragging:e.onDragging,onDragEnd:e.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:u,data:e.stepDragData}),e}return e=i,(n=[{key:"isAllowAdjust",value:function(t){var e=this.props,n=e.edgeModel,r=n.id,o=n.sourceNode,i=n.targetNode,u=n.sourceAnchorId,a=n.targetAnchorId,c=e.type,s=null,l=null,f=null,p=null;if(c===$b.SOURCE?(s=t.node,l=i,f=t.anchor,p=i.getAnchorInfo(a)):(s=o,l=t.node,p=t.anchor,f=o.getAnchorInfo(u)),this.preTargetNode&&this.preTargetNode!==t.node&&this.preTargetNode.setElementState(lo.DEFAULT),this.preTargetNode=t.node,p.id===f.id)return{pass:!1,msg:"",newTargetNode:l};var d="".concat(s.id,"_").concat(l.id,"_").concat(f.id,"_").concat(p.id);if(!this.targetRuleResults.has(d)){var h=s.isAllowConnectedAsSource(l,f,p,r),y=l.isAllowConnectedAsTarget(s,f,p,r);this.sourceRuleResults.set(d,ua(h)),this.targetRuleResults.set(d,ua(y))}var v=this.sourceRuleResults.get(d),g=v.isAllPass,b=v.msg,m=this.targetRuleResults.get(d),O=m.isAllPass,_=m.msg,w=g&&O?lo.ALLOW_CONNECT:lo.NOT_ALLOW_CONNECT;return c===$b.SOURCE?s.setElementState(w):l.setElementState(w),{pass:g&&O,msg:_||b,newTargetNode:l}}},{key:"render",value:function(){var t=this.props,e=t.x,n=t.y,r=t.getAdjustPointShape,o=t.edgeModel,i=this.state.dragging;return Object(tt.g)("g",{pointerEvents:i?"none":"",onMouseDown:this.handleMouseDown},i?"":r(e,n,o))}}])&&nm(e.prototype,n),r&&nm(e,r),i}(tt.a);function lm(t){return lm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(t)}function fm(){return fm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fm.apply(this,arguments)}function pm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return dm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dm(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ym(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vm(t,e){return vm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},vm(t,e)}function gm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Om(t);if(e){var o=Om(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bm(this,n)}}function bm(t,e){if(e&&("object"===lm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return mm(t)}function mm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Om(t){return Om=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Om(t)}function _m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vm(t,e)}(i,t);var e,n,r,o=gm(i);function i(){var t;hm(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return _m(mm(t=o.call.apply(o,[this].concat(n))),"startTime",void 0),_m(mm(t),"contextMenuTime",void 0),_m(mm(t),"clickTimer",void 0),_m(mm(t),"textRef",Object(tt.f)()),_m(mm(t),"handleHover",(function(e,n){var r=t.props,o=r.model,i=r.graphModel.eventCenter;o.setHovered(e);var u=e?yo.EDGE_MOUSEENTER:yo.EDGE_MOUSELEAVE,a=o.getData();i.emit(u,{data:a,e:n})})),_m(mm(t),"setHoverON",(function(e){t.props.model.isHovered||(t.textRef&&t.textRef.current&&t.textRef.current.setHoverON(),t.handleHover(!0,e))})),_m(mm(t),"setHoverOFF",(function(e){t.props.model.isHovered&&(t.textRef&&t.textRef.current&&t.textRef.current.setHoverOFF(),t.handleHover(!1,e))})),_m(mm(t),"handleContextMenu",(function(e){e.preventDefault(),t.contextMenuTime=(new Date).getTime(),t.clickTimer&&clearTimeout(t.clickTimer);var n=t.props,r=n.model,o=n.graphModel,i=o.getPointByClient({x:e.clientX,y:e.clientY});o.setElementStateById(r.id,lo.SHOW_MENU,i.domOverlayPosition),t.toFront(),r.isSelected||o.selectEdgeById(r.id);var u=null==r?void 0:r.getData();o.eventCenter.emit(yo.EDGE_CONTEXTMENU,{data:u,e:e,position:i})})),_m(mm(t),"handleMouseDown",(function(e){e.stopPropagation(),t.startTime=(new Date).getTime()})),_m(mm(t),"handleMouseUp",(function(e){if(t.startTime&&!((new Date).getTime()-t.startTime>200||2===e.button)){var n=2===e.detail,r=t.props,o=r.model,i=r.graphModel,u=null==o?void 0:o.getData(),a=i.getPointByClient({x:e.clientX,y:e.clientY});if(n){var c=i.editConfigModel,s=i.textEditElement;if(s&&s.id===o.id&&i.setElementStateById(o.id,lo.DEFAULT),c.edgeTextEdit&&o.text.editable&&i.setElementStateById(o.id,lo.TEXT_EDIT),o.modelType===po.POLYLINE_EDGE){var l=o,f=i.getPointByClient({x:e.x,y:e.y}).canvasOverlayPosition,p=f.x,d=f.y,h=es({x:p,y:d},l.points);l.dbClickPosition=h}i.eventCenter.emit(yo.EDGE_DBCLICK,{data:u,e:e,position:a})}else i.eventCenter.emit(yo.ELEMENT_CLICK,{data:u,e:e,position:a}),i.eventCenter.emit(yo.EDGE_CLICK,{data:u,e:e,position:a});var y=i.editConfigModel;i.selectEdgeById(o.id,Yi(e,y)),t.toFront()}})),t}return e=i,(n=[{key:"getShape",value:function(){return Object(tt.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var t=this.props,e=t.model,n=t.graphModel;if(e.state===lo.TEXT_EDIT)return null;var r=!1,o=n.editConfigModel;return(e.text.draggable||o.edgeTextDraggable)&&(r=!0),Object(tt.g)(Wb,{ref:this.textRef,editable:o.edgeTextEdit&&e.text.editable,model:e,graphModel:n,draggable:r})}},{key:"getArrowInfo",value:function(){var t=this.props.model,e=t.startPoint,n=t.endPoint,r=t.isSelected;return{start:e,end:n,hover:this.state.hover,isSelected:r}}},{key:"getLastTwoPoints",value:function(){var t=this.props.model;return[t.startPoint,t.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var t=this.props.model,e=t.id,n=t.getArrowStyle(),r=n.refY,o=void 0===r?0:r,i=n.refX,u=void 0===i?2:i,a=pm(this.getLastTwoPoints(),2),c=a[0],s=a[1],l="auto";return null!==c&&null!==s&&(l=oc(rc({x:s.x-c.x,y:s.y-c.y,z:0}))),Object(tt.g)("g",null,Object(tt.g)("defs",null,Object(tt.g)("marker",{id:"marker-start-".concat(e),refX:-u,refY:o,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(tt.g)("marker",{id:"marker-end-".concat(e),refX:u,refY:o,overflow:"visible",orient:l,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var t=this.props.model.getArrowStyle();return t.stroke,t.strokeWidth,t.offset,t.verticalLength,Object(tt.g)("path",null)}},{key:"getEndArrow",value:function(){var t=this.props.model.getArrowStyle(),e=t.stroke,n=t.strokeWidth,r=t.offset,o=t.verticalLength;return Object(tt.g)("path",{stroke:e,fill:e,strokeWidth:n,transform:"rotate(180)",d:"M 0 0 L ".concat(r," -").concat(o," L ").concat(r," ").concat(o," Z")})}},{key:"getAdjustPointShape",value:function(t,e,n){var r=n.getAdjustPointStyle();return Object(tt.g)(Wf,fm({className:"lf-edge-adjust-point"},r,{x:t,y:e}))}},{key:"getAdjustPoints",value:function(){var t=this.props,e=t.model,n=t.graphModel,r=e.getAdjustStart(),o=e.getAdjustEnd();return Object(tt.g)("g",null,Object(tt.g)(sm,fm({type:"SOURCE"},r,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:e,graphModel:n})),Object(tt.g)(sm,fm({type:"TARGET"},o,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:e,graphModel:n})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(tt.g)("g",null)}},{key:"getAppend",value:function(){return Object(tt.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var t=this.props,e=t.graphModel,n=t.model;e.toFront(n.id)}},{key:"render",value:function(){var t=this.props,e=t.model,n=e.isSelected,r=e.isHitable,o=e.isShowAdjustPoint;return t.graphModel.animation,Object(tt.g)("g",null,Object(tt.g)("g",{className:["lf-edge",!r&&"pointer-none",n&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),o&&n?this.getAdjustPoints():"")}}])&&ym(e.prototype,n),r&&ym(e,r),i}(tt.a);function jm(t){return jm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(t)}function xm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Em(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Em(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Em(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Sm=function(t){var e={d:""};return Object.entries(t).forEach((function(t){var n=xm(t,2),r=n[0],o=n[1],i=jm(o);"style"!==r&&"object"===i||(e[r]=o)})),Object(tt.g)("path",e)};function Pm(t){return Pm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(t)}function Am(){return Am=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Am.apply(this,arguments)}function km(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tm(t,e){return Tm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Tm(t,e)}function Mm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cm(t);if(e){var o=Cm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nm(this,n)}}function Nm(t,e){if(e&&("object"===Pm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Cm(t){return Cm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cm(t)}var Rm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tm(t,e)}(i,t);var e,n,r,o=Mm(i);function i(){return km(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getEdge",value:function(){var t=this.props.model,e=t.startPoint,n=t.endPoint,r=t.isAnimation,o=t.arrowConfig,i=t.getEdgeStyle(),u=t.getEdgeAnimationStyle(),a=u.strokeDasharray,c=u.stroke,s=u.strokeDashoffset,l=u.animationName,f=u.animationDuration,p=u.animationIterationCount,d=u.animationTimingFunction,h=u.animationDirection;return Object(tt.g)(hf,Am({},i,{x1:e.x,y1:e.y,x2:n.x,y2:n.y},o,r?{strokeDasharray:a,stroke:c,style:{strokeDashoffset:s,animationName:l,animationDuration:f,animationIterationCount:p,animationTimingFunction:d,animationDirection:h}}:{}))}},{key:"getAppendWidth",value:function(){var t=this.props.model,e=t.startPoint,n=t.endPoint,r=Zc({start:e,end:n}),o=r.d,i=r.strokeWidth,u=r.fill,a=r.strokeDasharray,c=r.stroke;return Object(tt.g)(Sm,{d:o,fill:u,strokeWidth:i,stroke:c,strokeDasharray:a})}}])&&Dm(e.prototype,n),r&&Dm(e,r),i}(wm);function Im(t){return Im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(t)}function Lm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return zm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zm(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Bm=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach((function(t){var n=Lm(t,2),r=n[0],o=n[1];("style"===r||"object"!==Im(o))&&(e[r]=o)})),Object(tt.g)("polyline",e)};function Um(t){return Um="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(t)}function Fm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Hm(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fm(Object(n),!0).forEach((function(e){Jm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fm(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xm(){return Xm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xm.apply(this,arguments)}function Gm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ym(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ym(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ym(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wm(t,e){return Wm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Wm(t,e)}function Km(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qm(t);if(e){var o=qm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $m(this,n)}}function $m(t,e){if(e&&("object"===Um(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Zm(t)}function Zm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qm(t){return qm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qm(t)}function Jm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wm(t,e)}(i,t);var e,n,r,o=Km(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Jm(Zm(t=o.call(this)),"drag",void 0),Jm(Zm(t),"isDragging",void 0),Jm(Zm(t),"isShowAdjustPointTemp",void 0),Jm(Zm(t),"appendInfo",void 0),Jm(Zm(t),"onDragStart",(function(){var e=t.props.model;e.dragAppendStart(),t.isShowAdjustPointTemp=e.isShowAdjustPoint,e.isShowAdjustPoint=!1})),Jm(Zm(t),"onDragging",(function(e){var n=e.deltaX,r=e.deltaY,o=t.props,i=o.model,u=o.graphModel;t.isDragging=!0;var a=u.transformModel,c=u.editConfigModel,s=Gm(a.fixDeltaXY(n,r),2),l=s[0],f=s[1],p=i,d=c.adjustEdgeMiddle;t.appendInfo=d?p.dragAppendSimple(t.appendInfo,{x:l,y:f}):p.dragAppend(t.appendInfo,{x:l,y:f})})),Jm(Zm(t),"onDragEnd",(function(){var e=t.props,n=e.model,r=e.graphModel.eventCenter,o=n;o.dragAppendEnd(),t.isDragging=!1,o.isShowAdjustPoint=t.isShowAdjustPointTemp,t.appendInfo=void 0,r.emit(yo.EDGE_ADJUST,{data:o.getData()})})),Jm(Zm(t),"beforeDragStart",(function(e,n){n.dragAble&&t.drag.handleMouseDown(e),t.appendInfo=n})),t.drag=new cs({onDragStart:t.onDragStart,onDragging:t.onDragging,onDragEnd:t.onDragEnd,isStopPropagation:!1}),t}return e=i,(n=[{key:"getEdge",value:function(){var t=this.props.model,e=t.points,n=t.isAnimation,r=t.arrowConfig,o=t.getEdgeStyle(),i=t.getEdgeAnimationStyle(),u=i.strokeDasharray,a=i.stroke,c=i.strokeDashoffset,s=i.animationName,l=i.animationDuration,f=i.animationIterationCount,p=i.animationTimingFunction,d=i.animationDirection;return Object(tt.g)(Bm,Xm({points:e},o,r,n?{strokeDasharray:u,stroke:a,style:{strokeDashoffset:c,animationName:s,animationDuration:l,animationIterationCount:f,animationTimingFunction:p,animationDirection:d}}:{}))}},{key:"getArrowInfo",value:function(){var t=this.props.model,e=t.points,n=t.isSelected,r={start:null,end:null,hover:this.state.hover,isSelected:n},o=Gc(e);return o.length>=2&&(r.start=o[o.length-2],r.end=o[o.length-1]),r}},{key:"getLastTwoPoints",value:function(){var t=this.props.model.points,e=Gc(t);return e.length>=2?[e[e.length-2],e[e.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var o={start:n,end:r,offset:10,verticalLength:5},i=Qa(Hm(Hm({},o),{},{type:"start"})),u=Qa(Hm(Hm({},o),{},{type:"end"}));e="M".concat(i.leftX," ").concat(i.leftY," \n      L").concat(i.rightX," ").concat(i.rightY," \n      L").concat(u.rightX," ").concat(u.rightY,"\n      L").concat(u.leftX," ").concat(u.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(t){var e=this.getAppendAttributes(t),n=e.d,r=e.strokeWidth,o=e.fill,i=e.strokeDasharray,u=e.stroke;return Object(tt.g)(Sm,{d:n,fill:o,strokeWidth:r,stroke:u,strokeDasharray:i})}},{key:"getAppendWidth",value:function(){for(var t=this,e=this.props,n=e.model,r=e.graphModel,o=n.pointsList,i=n.draggable,u=[],a=o.length,c=function(e){var n="lf-polyline-append",c={start:{x:o[e].x,y:o[e].y},end:{x:o[e+1].x,y:o[e+1].y},startIndex:e,endIndex:e+1,direction:"",dragAble:!0},s=Object(tt.g)("g",{className:n},t.getAppendShape(c)),l=r.editConfigModel,f=l.adjustEdge,p=l.adjustEdgeMiddle;if(f&&i){var d=c.startIndex,h=c.endIndex,y=p&&(0===d||h===a-1);c.dragAble=!y,c.start.x===c.end.x?(c.dragAble&&(n+="-ew-resize"),c.direction=vo.VERTICAL):c.start.y===c.end.y&&(c.dragAble&&(n+="-ns-resize"),c.direction=vo.HORIZONTAL),s=Object(tt.g)("g",{className:t.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(e){return t.beforeDragStart(e,c)}},Object(tt.g)("g",{className:n},t.getAppendShape(c)))}u.push(s)},s=0;s<a-1;s++)c(s);return Object(tt.g)("g",null,u)}}])&&Vm(e.prototype,n),r&&Vm(e,r),i}(wm);function tO(t){return tO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tO(t)}function eO(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return nO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nO(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rO(){return rO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rO.apply(this,arguments)}function oO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uO(t,e){return uO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},uO(t,e)}function aO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=sO(t);if(e){var o=sO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cO(this,n)}}function cO(t,e){if(e&&("object"===tO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function sO(t){return sO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},sO(t)}var lO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uO(t,e)}(i,t);var e,n,r,o=aO(i);function i(){return oO(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getEdge",value:function(){var t=this.props.model,e=t.getEdgeStyle(),n=t.path,r=t.isAnimation,o=t.arrowConfig,i=t.getEdgeAnimationStyle(),u=i.strokeDasharray,a=i.stroke,c=i.strokeDashoffset,s=i.animationName,l=i.animationDuration,f=i.animationIterationCount,p=i.animationTimingFunction,d=i.animationDirection;return Object(tt.g)(Sm,rO({d:n},e,o,r?{strokeDasharray:u,stroke:a,style:{strokeDashoffset:c,animationName:s,animationDuration:l,animationIterationCount:f,animationTimingFunction:p,animationDirection:d}}:{}))}},{key:"getAppendWidth",value:function(){var t=this.props.model.path;return Object(tt.g)(Sm,{d:t,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var t=this.props.model,e=this.state.hover,n=t.isSelected,r=t.getArrowStyle().offset,o=t.pointsList.map((function(t){return{x:t.x,y:t.y}})),i=eO(ts(o,r),2);return{start:i[0],end:i[1],hover:e,isSelected:n}}},{key:"getLastTwoPoints",value:function(){var t=this.props.model,e=t.getArrowStyle().offset,n=t.pointsList.map((function(t){return{x:t.x,y:t.y}}));return ts(n,e)}}])&&iO(e.prototype,n),r&&iO(e,r),i}(wm);function fO(t){return fO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fO(t)}function pO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vO(t,e){return vO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},vO(t,e)}function gO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=mO(t);if(e){var o=mO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bO(this,n)}}function bO(t,e){if(e&&("object"===fO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function mO(t){return mO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},mO(t)}var OO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vO(t,e)}(i,t);var e,n,r,o=gO(i);function i(){return hO(this,i),o.apply(this,arguments)}return e=i,n=[{key:"getArrowAttributes",value:function(){var t=this.props,e=t.arrowInfo,n=t.style,r=e.start,o=e.end,i={start:r,end:o,offset:n.offset,verticalLength:n.verticalLength,type:"end"},u=Qa(i),a=u.leftX,c=u.leftY,s=u.rightX,l=u.rightY;return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pO(Object(n),!0).forEach((function(e){dO(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({d:"M".concat(a," ").concat(c," L").concat(o.x," ").concat(o.y," L").concat(s," ").concat(l," z")},n)}},{key:"getShape",value:function(){var t=this.getArrowAttributes(),e=t.d,n=t.strokeWidth,r=t.stroke,o=t.fill;return Object(tt.g)(Sm,{d:e,fill:o,strokeWidth:n,stroke:r})}},{key:"render",value:function(){return Object(tt.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&yO(e.prototype,n),r&&yO(e,r),i}(tt.a),_O=function(t,e){return Nn(t,e)},wO=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0},jO=function(){return gt.a.Date.now()},xO=Math.max,EO=Math.min,SO=function(t,e,n){var r,o,i,u,a,c,s=0,l=!1,f=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function d(e){var n=r,i=o;return r=o=void 0,s=e,u=t.apply(i,n)}function h(t){return s=t,a=setTimeout(v,e),l?d(t):u}function y(t){var n=t-c;return void 0===c||n>=e||n<0||f&&t-s>=i}function v(){var t=jO();if(y(t))return g(t);a=setTimeout(v,function(t){var n=e-(t-c);return f?EO(n,i-(t-s)):n}(t))}function g(t){return a=void 0,p&&r?d(t):(r=o=void 0,u)}function b(){var t=jO(),n=y(t);if(r=arguments,o=this,c=t,n){if(void 0===a)return h(c);if(f)return clearTimeout(a),a=setTimeout(v,e),d(c)}return void 0===a&&(a=setTimeout(v,e)),u}return e=ru(e)||0,At(n)&&(l=!!n.leading,i=(f="maxWait"in n)?xO(ru(n.maxWait)||0,e):i,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==a&&clearTimeout(a),s=0,r=c=o=a=void 0},b.flush=function(){return void 0===a?u:g(jO())},b},PO=n(172);function AO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var DO,TO,MO,NO=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),kO(this,"undos",[]),kO(this,"redos",[]),kO(this,"callbacks",[]),kO(this,"stopWatch",null),kO(this,"curData",null),kO(this,"maxSize",50),kO(this,"waitTime",100),kO(this,"eventCenter",void 0),this.eventCenter=e}var e,n,r;return e=t,(n=[{key:"add",value:function(t){_O(wO(this.undos),t)||(this.undos.push(t),_O(this.curData,t)||(this.redos=[]),this.eventCenter.emit(yo.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var t=this.undos.pop();this.redos.push(t);var e=this.undos.pop();return this.curData=wi(e),e}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var t=this.redos.pop();return this.curData=wi(t),t}}},{key:"watch",value:function(t){var e=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(PO.a)(t,SO((function(){var n=t.modelToHistoryData();n&&e.add(n)}),this.waitTime))}}])&&AO(e.prototype,n),r&&AO(e,r),t}();function CO(t){return CO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CO(t)}function RO(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return IO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?IO(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?LO(Object(n),!0).forEach((function(e){YO(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function BO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function UO(t,e){return UO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},UO(t,e)}function FO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=GO(t);if(e){var o=GO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return HO(this,n)}}function HO(t,e){if(e&&("object"===CO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return XO(t)}function XO(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GO(t){return GO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},GO(t)}function YO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var VO,WO,KO,$O=T_((MO=TO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&UO(t,e)}(i,t);var e,n,r,o=FO(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),YO(XO(t=o.call(this)),"ref",Object(tt.f)()),YO(XO(t),"__prevText",{type:"",text:"",id:""}),YO(XO(t),"keyupHandler",(function(e){var n=t.props.graphModel.textEditElement;"Enter"===e.key&&e.altKey&&n.setElementState(0)})),YO(XO(t),"inputHandler",(function(e){var n=e.target.innerText,r=t.props.graphModel.textEditElement;t.__prevText={type:r.type,text:n.replace(/(\r\n)+$|(\n)+$/,""),id:r.id}})),YO(XO(t),"keydownHandler",(function(t){t.stopPropagation()})),t.state={style:{left:0,top:0}},t}return e=i,r=[{key:"getDerivedStateFromProps",value:function(t){var e,n=t.graphModel,r=n.transformModel,o=n.theme,i=o.inputText,u=n.textEditElement;if(u){var a;if(null===(a=u.text)||void 0===a||!a.value)if(u.BaseType===ho.EDGE){var c=(u=u).text,s=u.textPosition,l=s.x,f=s.y;c.x=l,c.y=f,u.setText(c)}else u=u;var p={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(u.BaseType===ho.EDGE){var d=o.edgeText,h=d.overflowMode,y=d.lineHeight,v=d.wrapPadding,g=d.textWidth;g&&"autoWrap"===h&&(e=zO(zO({},p),{},{width:g,minWidth:g,lineHeight:y,padding:v}))}else if(u.BaseType===ho.NODE){var b=o.nodeText,m=b.overflowMode,O=b.lineHeight,_=b.wrapPadding,w=b.textWidth,j=u,x=j.width,E=j.modelType,S=j.textWidth||w||x;(E!==po.TEXT_NODE&&"autoWrap"===m||E===po.TEXT_NODE&&w)&&(e=zO(zO({},p),{},{width:S,minWidth:S,lineHeight:O,padding:_}))}var P=u.text,A=P.x,k=P.y,D=RO(r.CanvasPointToHtmlPoint([A,k]),2);return{style:zO(zO({left:D[0],top:D[1]},e),i)}}}}],(n=[{key:"componentDidUpdate",value:function(){var t=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),""!==this.__prevText.id){var e=this.__prevText,n=e.text,r=e.id;t.updateText(r,n),t.eventCenter.emit(yo.TEXT_UPDATE,zO({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(t){if(void 0!==window.getSelection&&void 0!==document.createRange){var e=document.createRange();e.selectNodeContents(t),e.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(e)}}},{key:"render",value:function(){var t,e=this.props.graphModel.textEditElement,n=this.state.style;return e?Object(tt.g)("div",{contentEditable:!0,className:"lf-text-input",style:n,ref:this.ref,key:e.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},null===(t=e.text)||void 0===t?void 0:t.value):null}}])&&BO(e.prototype,n),r&&BO(e,r),i}(tt.a),YO(TO,"toolName","textEdit"),DO=MO))||DO,ZO=function(t){return t.modelType===po.LINE_EDGE?function(t){var e=t.startPoint,n=t.endPoint,r=(e.x+n.x)/2,o=(e.y+n.y)/2,i=Math.abs(e.x-n.x)+10,u=Math.abs(e.y-n.y)+10;return{x:r-i/2,y:o-u/2,x1:r+i/2,y1:o+u/2}}(t):t.modelType===po.POLYLINE_EDGE?function(t){var e=t.points,n=Gc(e),r=_c(n,8),o=r.x,i=r.y,u=r.width,a=r.height;return{x:o-u/2,y:i-a/2,x1:o+u/2,y1:i+a/2}}(t):t.modelType===po.BEZIER_EDGE?function(t){var e=t.path,n=Jc(e),r=_c(n,8),o=r.x,i=r.y,u=r.width,a=r.height;return{x:o-u/2,y:i-a/2,x1:o+u/2,y1:i+a/2}}(t):void 0};function qO(t){return qO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qO(t)}function JO(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||t_(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QO(t){return function(t){if(Array.isArray(t))return e_(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||t_(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t_(t,e){if(t){if("string"==typeof t)return e_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e_(t,e):void 0}}function e_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r_(t,e){return r_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r_(t,e)}function o_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a_(t);if(e){var o=a_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i_(this,n)}}function i_(t,e){if(e&&("object"===qO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return u_(t)}function u_(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a_(t){return a_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},a_(t)}function c_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s_=T_((KO=WO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r_(t,e)}(i,t);var e,n,r,o=o_(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),c_(u_(e=o.call(this)),"stepDrag",void 0),c_(u_(e),"handleMouseDown",(function(t){e.stepDrag.handleMouseDown(t)})),c_(u_(e),"handleWheelEvent",(function(t){var n,r;t.preventDefault();var o=t.deltaX,i=t.deltaY,u=t.clientX,a=t.clientY,c=t.ctrlKey,s=new WheelEvent("wheel",{deltaX:o,deltaY:i,clientX:u,clientY:a,ctrlKey:c});null===(n=e.props.logicFlow.container)||void 0===n||null===(r=n.querySelector('.lf-canvas-overlay[name="canvas-overlay"]'))||void 0===r||r.dispatchEvent(s)})),c_(u_(e),"onDragging",(function(t){var n=t.deltaX,r=t.deltaY,o=e.props.graphModel,i=o.getSelectElements(!0);o.moveNodes(i.nodes.map((function(t){return t.id})),n,r)})),c_(u_(e),"handleContextMenu",(function(t){t.preventDefault();var n=e.props,r=n.graphModel,o=n.graphModel,i=o.eventCenter,u=o.selectElements,a=r.getPointByClient({x:t.clientX,y:t.clientY}),c={nodes:[],edges:[]};QO(u.values()).forEach((function(t){t.BaseType===ho.NODE&&c.nodes.push(t.getData()),t.BaseType===ho.EDGE&&c.edges.push(t.getData())})),i.emit(yo.SELECTION_CONTEXTMENU,{data:c,e:t,position:a})}));var n=t.graphModel,r=n.gridSize,u=n.eventCenter;return e.stepDrag=new cs({onDragging:e.onDragging,step:r,eventType:"SELECTION",eventCenter:u}),e}return e=i,(n=[{key:"render",value:function(){var t=this.props.graphModel,e=t.selectElements,n=t.transformModel;if(!(e.size<=1)){var r=Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;e.forEach((function(t){var e={x:0,y:0,x1:0,y1:0};t.BaseType===ho.NODE&&(e=function(t){var e=t.x,n=t.y,r=t.width,o=t.height;return{x:e-r/2,y:n-o/2,x1:e+r/2,y1:n+o/2}}(t)),t.BaseType===ho.EDGE&&(e=ZO(t)),r=Math.min(r,e.x),o=Math.min(o,e.y),i=Math.max(i,e.x1),u=Math.max(u,e.y1)}));var a=JO(n.CanvasPointToHtmlPoint([r,o]),2);r=a[0],o=a[1];var c=JO(n.CanvasPointToHtmlPoint([i,u]),2);i=c[0],u=c[1];var s={left:"".concat(r-10,"px"),top:"".concat(o-10,"px"),width:"".concat(i-r+20,"px"),height:"".concat(u-o+20,"px")};return Object(tt.g)("div",{className:"lf-multiple-select",style:s,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu,onWheel:this.handleWheelEvent})}}}])&&n_(e.prototype,n),r&&n_(e,r),i}(tt.a),c_(WO,"toolName","multipleSelect"),VO=KO))||VO;function l_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p_=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),f_(this,"tools",void 0),f_(this,"components",void 0),f_(this,"toolMap",new Map),f_(this,"instance",void 0),this.instance=e,this.isDisabledTool($O.toolName)||this.registerTool($O.toolName,$O),this.isDisabledTool(s_.toolName)||this.registerTool(s_.toolName,s_);var n=e.graphModel;n.eventCenter.on("".concat(yo.GRAPH_TRANSFORM,",").concat(yo.NODE_CLICK,",").concat(yo.BLANK_CLICK," "),(function(){var t=n.textEditElement,e=n.editConfigModel,r=e.edgeTextEdit,o=e.nodeTextEdit;(r||o)&&t&&n.textEditElement.setElementState(lo.DEFAULT)}))}var e,n,r;return e=t,(n=[{key:"isDisabledTool",value:function(t){return-1!==this.instance.options.disabledTools.indexOf(t)}},{key:"registerTool",value:function(t,e){this.toolMap.set(t,e)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&l_(e.prototype,n),r&&l_(e,r),t}(),d_=n(173),h_=n.n(d_);function y_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g_=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),v_(this,"mousetrap",void 0),v_(this,"options",void 0),v_(this,"target",void 0),e.keyboard||(e.keyboard={enabled:!1}),this.options=e;var n=e.lf;this.target=n.container,this.mousetrap=new h_.a(this.target),e.keyboard.enabled&&!n.options.isSilentMode&&this.enable(!0)}var e,n,r;return e=t,(n=[{key:"initShortcuts",value:function(){var t=this,e=this.options.keyboard.shortcuts;if(e)if(Pe(e))e.forEach((function(e){var n=e.keys,r=e.callback,o=e.action;return t.on(n,r,o)}));else{var n=e.keys,r=e.callback,o=e.action;this.on(n,r,o)}}},{key:"on",value:function(t,e,n){this.mousetrap.bind(this.getKeys(t),e,n)}},{key:"disabled",get:function(){return!0!==this.options.keyboard.enabled}},{key:"off",value:function(t,e){this.mousetrap.unbind(this.getKeys(t),e)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var e=this;return(Array.isArray(t)?t:[t]).map((function(t){return e.formatKey(t)}))}},{key:"formatKey",value:function(t){return t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&y_(e.prototype,n),r&&y_(e,r),t}(),b_=g_,m_=null;function O_(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function __(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach((function(t){t.x+=e,t.y+=e})),t.text&&(t.text.x+=e,t.text.y+=e),t}var w_=40,j_=40;function x_(t){return x_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x_(t)}function E_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function S_(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E_(Object(n),!0).forEach((function(e){A_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function P_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k_=Symbol("plugin register by Logicflow.use"),D_=function(){function t(e){var n,r,o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),A_(this,"container",void 0),A_(this,"width",void 0),A_(this,"height",void 0),A_(this,"graphModel",void 0),A_(this,"history",void 0),A_(this,"viewMap",new Map),A_(this,"tool",void 0),A_(this,"keyboard",void 0),A_(this,"dnd",void 0),A_(this,"options",void 0),A_(this,"snaplineModel",void 0),A_(this,"components",[]),A_(this,"plugins",void 0),A_(this,"extension",{}),A_(this,"adapterIn",void 0),A_(this,"adapterOut",void 0),A_(this,"getView",(function(t){return o.viewMap.get(t)})),e=Rp(e),this.options=e,this.container=this.initContainer(e.container),this.plugins=e.plugins,this.graphModel=new xl(S_({},e)),this.tool=new p_(this),this.history=new NO(this.graphModel.eventCenter),this.dnd=new Cp({lf:this}),this.keyboard=new b_({lf:this,keyboard:e.keyboard}),!1!==e.snapline&&(this.snaplineModel=new uv(this.graphModel),n=this.graphModel.eventCenter,r=this.snaplineModel,n.on("node:mousemove",(function(t){var e=t.data;r.setNodeSnapLine(e)})),n.on("node:mouseup",(function(){r.clearSnapline()}))),function(t,e){var n=t.keyboard,r=n.options.keyboard;n.on(["cmd + c","ctrl + c"],(function(){if(j_=w_,!r.enabled)return!0;if(e.textEditElement)return!0;var n=t.options.guards,o=e.getSelectElements(!1);return n&&n.beforeClone&&!n.beforeClone(o)||0===o.nodes.length&&0===o.edges.length?(m_=null,!0):((m_=o).nodes.forEach((function(t){return O_(t,w_)})),m_.edges.forEach((function(t){return __(t,w_)})),!1)})),n.on(["cmd + v","ctrl + v"],(function(){if(!r.enabled)return!0;if(e.textEditElement)return!0;if(m_&&(m_.nodes||m_.edges)){t.clearSelectElements();var n=t.addElements(m_,j_);if(!n)return!0;n.nodes.forEach((function(e){return t.selectElementById(e.id,!0)})),n.edges.forEach((function(e){return t.selectElementById(e.id,!0)})),m_.nodes.forEach((function(t){return O_(t,w_)})),m_.edges.forEach((function(t){return __(t,w_)})),j_+=w_}return!1})),n.on(["cmd + z","ctrl + z"],(function(){return!r.enabled||!!e.textEditElement||(t.undo(),!1)})),n.on(["cmd + y","ctrl + y"],(function(){return!r.enabled||!!e.textEditElement||(t.redo(),!1)})),n.on(["backspace"],(function(){if(!r.enabled)return!0;if(e.textEditElement)return!0;var n=e.getSelectElements(!0);return t.clearSelectElements(),n.edges.forEach((function(e){return t.deleteEdge(e.id)})),n.nodes.forEach((function(e){return t.deleteNode(e.id)})),!1}))}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(e.disabledPlugins)}var e,n,r;return e=t,n=[{key:"register",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("string"==typeof t){var r={BaseEdge:wm,BaseEdgeModel:ga,BaseNode:hg,BaseNodeModel:Bd,RectNode:jg,RectNodeModel:Ey,CircleNode:Mg,CircleNodeModel:oh,PolygonNode:Yg,PolygonNodeModel:sy,TextNode:xb,TextNodeModel:Uy,LineEdge:Rm,LineEdgeModel:Ca,DiamondNode:tb,DiamondNodeModel:Eh,PolylineEdge:Qm,PolylineEdgeModel:Ja,BezierEdge:lO,BezierEdgeModel:Ed,EllipseNode:db,EllipseNodeModel:Xh,HtmlNode:Rb,HtmlNodeModel:tv,h:tt.g,type:t};this.viewMap.forEach((function(t){var e=t.extendKey;e&&(r[e]=t)})),this.graphModel.modelMap.forEach((function(t){var e=t.extendKey;e&&(r[e]=t)}));var o=e(r),i=o.view,u=o.model,a=i;n&&!a.isObervered&&(a.isObervered=!0,a=Q(a)),this.setView(t,a),this.graphModel.setModel(t,u)}else this.registerElement(t)}},{key:"registerElement",value:function(t){var e=t.view;!1===t.isObserverView||e.isObervered||(e.isObervered=!0,e=Q(e)),this.setView(t.type,e),this.graphModel.setModel(t.type,t.model)}},{key:"batchRegister",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){t.registerElement(e)}))}},{key:"defaultRegister",value:function(){this.registerElement({view:jg,model:Ey,type:"rect"}),this.registerElement({type:"circle",view:Mg,model:oh}),this.registerElement({type:"polygon",view:Yg,model:sy}),this.registerElement({type:"line",view:Rm,model:Ca}),this.registerElement({type:"polyline",view:Qm,model:Ja}),this.registerElement({type:"bezier",view:lO,model:Ed}),this.registerElement({type:"text",view:xb,model:Uy}),this.registerElement({type:"ellipse",view:db,model:Xh}),this.registerElement({type:"diamond",view:tb,model:Eh}),this.registerElement({type:"html",view:Rb,model:tv})}},{key:"selectElementById",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.graphModel.selectElementById(t,e),!e&&n&&this.graphModel.toFront(t)}},{key:"focusOn",value:function(t){var e=this.graphModel.transformModel,n=t.coordinate,r=t.id;if(!n){var o=this.getNodeModelById(r);o&&(n=o.getData());var i=this.getEdgeModelById(r);i&&(n=i.textPosition)}var u=n,a=u.x,c=u.y;e.focusOn(a,c,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"resize",value:function(t,e){this.graphModel.resize(t,e),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(t){this.graphModel.setDefaultEdgeType(t)}},{key:"updateText",value:function(t,e){this.graphModel.updateText(t,e)}},{key:"deleteElement",value:function(t){var e,n,r,o=this.getModelById(t);return!!o&&null!==(n=null===(r=(A_(e={},ho.NODE,this.deleteNode),A_(e,ho.EDGE,this.deleteEdge),e)[o.BaseType])||void 0===r?void 0:r.call(this,t))&&void 0!==n&&n}},{key:"getModelById",value:function(t){return this.graphModel.getElement(t)}},{key:"getDataById",value:function(t){var e;return null===(e=this.graphModel.getElement(t))||void 0===e?void 0:e.getData()}},{key:"changeNodeType",value:function(t,e){this.graphModel.changeNodeType(t,e)}},{key:"changeEdgeType",value:function(t,e){this.graphModel.changeEdgeType(t,e)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yo.NODE_ADD,n=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(t,e,n)}},{key:"deleteNode",value:function(t){var e=this.graphModel.getNodeModelById(t);if(!e)return!1;var n=e.getData(),r=this.options.guards,o=!r||!r.beforeDelete||r.beforeDelete(n);return o&&this.graphModel.deleteNode(t),o}},{key:"cloneNode",value:function(t){var e=this.graphModel.getNodeModelById(t).getData(),n=this.options.guards;if(!n||!n.beforeClone||n.beforeClone(e))return this.graphModel.cloneNode(t)}},{key:"changeNodeId",value:function(t,e){return this.graphModel.changeNodeId(t,e)}},{key:"getNodeModelById",value:function(t){return this.graphModel.getNodeModelById(t)}},{key:"getNodeDataById",value:function(t){var e;return null===(e=this.graphModel.getNodeModelById(t))||void 0===e?void 0:e.getData()}},{key:"addEdge",value:function(t){return this.graphModel.addEdge(t)}},{key:"deleteEdge",value:function(t){var e=this.options.guards,n=this.graphModel.edgesMap[t];if(!n)return!1;var r=n.model.getData(),o=!e||!e.beforeDelete||e.beforeDelete(r);return o&&this.graphModel.deleteEdgeById(t),o}},{key:"deleteEdgeByNodeId",value:function(t){var e=t.sourceNodeId,n=t.targetNodeId;e&&n?this.graphModel.deleteEdgeBySourceAndTarget(e,n):e?this.graphModel.deleteEdgeBySource(e):n&&this.graphModel.deleteEdgeByTarget(n)}},{key:"changeEdgeId",value:function(t,e){return this.graphModel.changeEdgeId(t,e)}},{key:"getEdgeModelById",value:function(t){var e;return null===(e=this.graphModel.edgesMap[t])||void 0===e?void 0:e.model}},{key:"getEdgeModels",value:function(t){var e=this.graphModel.edges,n=t.sourceNodeId,r=t.targetNodeId;if(n&&r){var o=[];return e.forEach((function(t){t.sourceNodeId===n&&t.targetNodeId===r&&o.push(t)})),o}if(n){var i=[];return e.forEach((function(t){t.sourceNodeId===n&&i.push(t)})),i}if(r){var u=[];return e.forEach((function(t){t.targetNodeId===r&&u.push(t)})),u}return[]}},{key:"getEdgeDataById",value:function(t){var e;return null===(e=this.getEdgeModelById(t))||void 0===e?void 0:e.getData()}},{key:"getNodeIncomingEdge",value:function(t){return this.graphModel.getNodeIncomingEdge(t)}},{key:"getNodeOutgoingEdge",value:function(t){return this.graphModel.getNodeOutgoingEdge(t)}},{key:"getNodeIncomingNode",value:function(t){return this.graphModel.getNodeIncomingNode(t)}},{key:"getNodeOutgoingNode",value:function(t){return this.graphModel.getNodeOutgoingNode(t)}},{key:"editText",value:function(t){this.graphModel.editText(t)}},{key:"setProperties",value:function(t,e){var n;null===(n=this.graphModel.getElement(t))||void 0===n||n.setProperties(aa(e))}},{key:"deleteProperty",value:function(t,e){var n;null===(n=this.graphModel.getElement(t))||void 0===n||n.deleteProperty(e)}},{key:"getProperties",value:function(t){var e;return null===(e=this.graphModel.getElement(t))||void 0===e?void 0:e.getProperties()}},{key:"toFront",value:function(t){this.graphModel.toFront(t)}},{key:"setElementZIndex",value:function(t,e){return this.graphModel.setElementZIndex(t,e)}},{key:"addElements",value:function(t){for(var e=this,n=t.nodes,r=t.edges,o={},i={nodes:[],edges:[]},u=0;u<n.length;u++){var a=n[u],c=a.id,s=this.addNode(a);if(!s)return;c&&(o[c]=s.id),i.nodes.push(s)}return r.forEach((function(t){var n=t.sourceNodeId,r=t.targetNodeId;o[n]&&(n=o[n]),o[r]&&(r=o[r]);var u=e.graphModel.addEdge(S_(S_({},t),{},{sourceNodeId:n,targetNodeId:r}));i.edges.push(u)})),i}},{key:"getAreaElement",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this.graphModel.getAreaElement(t,e,n,r,o).map((function(t){return t.getData()}))}},{key:"getSelectElements",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.graphModel.getSelectElements(t)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();if(this.adapterOut){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.adapterOut.apply(this,[t].concat(n))}return t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(t){var e=this.graphModel,n=e.editConfigModel,r=e.transformModel;n.updateEditConfig(t),void 0!==(null==t?void 0:t.stopMoveGraph)&&r.updateTranslateLimits(t.stopMoveGraph),null!=t&&t.isSilentMode?this.keyboard.disable():this.keyboard.enable(!0)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(t,e){return this.graphModel.getPointByClient({x:t,y:e})}},{key:"undo",value:function(){if(this.history.undoAble()){var t=aa(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"redo",value:function(){if(this.history.redoAble()){var t=aa(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"zoom",value:function(t,e){return this.graphModel.transformModel.zoom(t,e)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(t){this.graphModel.transformModel.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){this.graphModel.transformModel.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformModel;return{SCALE_X:t.SCALE_X,SCALE_Y:t.SCALE_Y,TRANSLATE_X:t.TRANSLATE_X,TRANSLATE_Y:t.TRANSLATE_Y}}},{key:"translate",value:function(t,e){this.graphModel.transformModel.translate(t,e)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformModel,e=t.TRANSLATE_X,n=t.TRANSLATE_Y;this.translate(-e,-n)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(t,e){void 0===e&&(e=t),this.graphModel.fitView(t,e)}},{key:"openEdgeAnimation",value:function(t){this.graphModel.openEdgeAnimation(t)}},{key:"closeEdgeAnimation",value:function(t){this.graphModel.closeEdgeAnimation(t)}},{key:"on",value:function(t,e){this.graphModel.eventCenter.on(t,e)}},{key:"off",value:function(t,e){this.graphModel.eventCenter.off(t,e)}},{key:"once",value:function(t,e){this.graphModel.eventCenter.once(t,e)}},{key:"emit",value:function(t,e){this.graphModel.eventCenter.emit(t,e)}},{key:"initContainer",value:function(t){var e=document.createElement("div");return e.style.position="relative",e.style.width="100%",e.style.height="100%",t.innerHTML="",t.appendChild(e),e}},{key:"installPlugins",value:function(){var e,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=null!==(e=this.plugins)&&void 0!==e?e:t.extensions;o.forEach((function(t){var e=null,o=null;t[k_]?(e=t.extension,o=t.props):e=t;var i=e.pluginName||e.name;-1===r.indexOf(i)&&n.installPlugin(e,o)}))}},{key:"installPlugin",value:function(e,n){if("object"===x_(e)){var r=e.install,o=e.render;return r&&r.call(e,this,t),o&&this.components.push(o.bind(e)),void(this.extension[e.pluginName]=e)}var i=e,u=new i({lf:this,LogicFlow:t,options:this.options.pluginsOptions,props:n});u.render&&this.components.push(u.render.bind(u)),this.extension[i.pluginName]=u}},{key:"updateAttributes",value:function(t,e){this.graphModel.updateAttributes(t,e)}},{key:"createFakerNode",value:function(t){var e=this.graphModel.modelMap.get(t.type);if(e){var n=new e(S_(S_({},t),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(n),n}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(t,e){this.viewMap.set(t,e)}},{key:"renderRawData",value:function(t){this.graphModel.graphDataToModel(aa(t)),!1!==this.options.history&&this.history.watch(this.graphModel),Object(tt.j)(Object(tt.g)(kp,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(yo.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.renderRawData(t)}}],r=[{key:"use",value:function(t,e){var n,r,o=t.pluginName;o||(o=t.name);var i=null===(n=this.extensions.get(o))||void 0===n?void 0:n.extension;i&&i.destroy&&i.destroy(),this.extensions.set(o,(A_(r={},k_,k_),A_(r,"extension",t),A_(r,"props",e),r))}}],n&&P_(e.prototype,n),r&&P_(e,r),t}();function T_(t){return Q(t)}A_(D_,"extensions",new Map),e.default=D_}])}))}}]);