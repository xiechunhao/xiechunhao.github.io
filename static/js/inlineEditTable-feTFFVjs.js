/*!  build: Vue Shop Vite 
     copyright: https://vuejs-core.cn/shop-vite   
     time: 2025-03-10 23:35:01 
 */
import{_ as I}from"./index.vue_vue_type_script_setup_true_lang-0mzQKwwt.js";import{_ as L}from"./index-_Rumst6h.js";import{_ as A}from"./VabQueryFormRightPanel.vue_vue_type_script_setup_true_lang-Dnl0cUI9.js";import{d as F,r as g,h as M,a6 as O,b as y,o as s,Z as l,U as Q,T as n,ao as R,aB as W,u as i,ap as X,aL as Y,a8 as Z,aR as j,a7 as p,W as G,S as u,aO as H,Y as h,X as b,aI as J,aQ as K}from"./vsv-element-plus-BKBbsRMj.js";import{g as P}from"./table-CTkMWxaR.js";import"./index-8bsmFSvN.js";import"./vsv-icon-BFB3gnxk.js";import"./vsv-nprogress-D6dk31gD.js";const w={class:"inline-edit-table-container auto-height-container"},ee=["onClick"],te=["onClick"],pe=F({name:"InlineEditTable",__name:"inlineEditTable",setup(ae){const k=g([]),c=g(!0),C=g(0),o=M({pageNo:1,pageSize:20,title:""}),_=async()=>{c.value=!0;const{data:t}=await P(o);k.value=t.list.map(a=>(a.edit=!1,a.originalTitle=a.title,a.originalAuthor=a.author,a)),C.value=t.total,c.value=!1},V=t=>{o.pageNo=1,o.pageSize=t,_()},E=t=>{o.pageNo=t,_()},T=()=>{o.pageNo=1,_()},N=t=>{t.title=t.originalTitle,t.author=t.originalAuthor,t.edit=!1},S=t=>{t.edit=!1,t.originalTitle=t.title,t.originalAuthor=t.author};return O(()=>{_()}),(t,a)=>{const f=Y,v=X,m=Z,x=R,z=A,$=L,r=H,B=J,U=K,q=I,D=G;return s(),y("div",w,[l($,null,{default:n(()=>[l(z,{span:24},{default:n(()=>[l(x,{inline:"",model:i(o),onSubmit:a[1]||(a[1]=W(()=>{},["prevent"]))},{default:n(()=>[l(v,null,{default:n(()=>[l(f,{modelValue:i(o).title,"onUpdate:modelValue":a[0]||(a[0]=e=>i(o).title=e),clearable:"",placeholder:"标题"},null,8,["modelValue"])]),_:1}),l(v,null,{default:n(()=>[l(m,{icon:i(j),loading:i(c),"native-type":"submit",type:"primary",onClick:T},{default:n(()=>a[2]||(a[2]=[p("查询")])),_:1},8,["icon","loading"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1}),Q((s(),u(U,{border:"",data:i(k)},{empty:n(()=>[l(B,{class:"vab-data-empty",description:"暂无数据"})]),default:n(()=>[l(r,{type:"selection",width:"38"}),l(r,{align:"center",label:"序号",width:"55"},{default:n(({$index:e})=>[p(h(e+1),1)]),_:1}),l(r,{align:"center",label:"标题","min-width":"240"},{default:n(({row:e})=>[e.edit?(s(),u(f,{key:0,modelValue:e.title,"onUpdate:modelValue":d=>e.title=d,clearable:"",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])):(s(),y("span",{key:1,onClick:d=>e.edit=!e.edit},h(e.title),9,ee))]),_:1}),l(r,{align:"center",label:"作者","min-width":"140",prop:"author"},{default:n(({row:e})=>[e.edit?(s(),u(f,{key:0,modelValue:e.author,"onUpdate:modelValue":d=>e.author=d,clearable:"",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])):(s(),y("span",{key:1,onClick:d=>e.edit=!e.edit},h(e.author),9,te))]),_:1}),l(r,{align:"center",label:"操作",width:"150"},{default:n(({row:e})=>[e.edit?b("",!0):(s(),u(m,{key:0,text:"",type:"primary",onClick:d=>e.edit=!e.edit},{default:n(()=>a[3]||(a[3]=[p("编辑")])),_:2},1032,["onClick"])),e.edit?(s(),u(m,{key:1,text:"",type:"primary",onClick:d=>S(e)},{default:n(()=>a[4]||(a[4]=[p("保存")])),_:2},1032,["onClick"])):b("",!0),e.edit?(s(),u(m,{key:2,text:"",type:"danger",onClick:d=>N(e)},{default:n(()=>a[5]||(a[5]=[p("取消")])),_:2},1032,["onClick"])):b("",!0)]),_:1})]),_:1},8,["data"])),[[D,i(c)]]),l(q,{"current-page":i(o).pageNo,"page-size":i(o).pageSize,total:i(C),onCurrentChange:E,onSizeChange:V},null,8,["current-page","page-size","total"])])}}});export{pe as default};
