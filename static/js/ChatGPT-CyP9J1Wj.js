/*!  build: Vue Shop Vite 
     copyright: https://vuejs-core.cn/shop-vite   
     time: 2025-02-08 15:47:29 
 */
var Oe=Object.defineProperty;var fe=t=>{throw TypeError(t)};var je=(t,e,s)=>e in t?Oe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var v=(t,e,s)=>je(t,typeof e!="symbol"?e+"":e,s),pe=(t,e,s)=>e.has(t)||fe("Cannot "+s);var d=(t,e,s)=>(pe(t,e,"read from private field"),s?s.call(t):e.get(t)),te=(t,e,s)=>e.has(t)?fe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s);var a=(t,e,s)=>(pe(t,e,"access private method"),s);import{_ as Xe}from"./index-B7xA3e_3.js";import{d as Ke,r as P,a5 as U,C as Je,P as Ze,O as et,b as R,o as q,Z as C,T as D,b6 as tt,e as _,aq as st,u as H,i as me,ar as it,av as rt,a2 as nt,ai as at,n as ot,a7 as ye,Y as se,X as be,aL as lt,cX as ge,aB as ut,a8 as ht,b7 as ct,bh as dt}from"./vsv-element-plus-B-S50adB.js";import{u as ft,s as pt,f as z,n as mt,_ as yt}from"./index-CzpjYiTj.js";import"./vsv-icon-BcEnJ7dJ.js";import"./vsv-nprogress-Bmiy9T8n.js";const Se=t=>Array.isArray(t),Ee=t=>Se(t)?t:[t];let bt=function(t){let e=function(c){return Ee(c).forEach(m=>{var x;return p.set(Symbol((x=m.char)==null?void 0:x.innerText),n({...m}))}),this},s=()=>u().filter(c=>c.typeable),r=function(c,m){let x=[...p.keys()];p.set(x[c],n(m))},n=c=>(c.shouldPauseCursor=function(){return!!(this.typeable||this.cursorable||this.deletable)},c),o=function(){p.forEach(c=>delete c.done)},h=function(){p=new Map,e(t)},l=()=>p,u=()=>Array.from(p.values()),f=c=>p.delete(c),E=()=>{const c=[];for(let[,m]of l())m.done||c.push(m);return c},y=(c=!1)=>c?u():u().filter(m=>!m.done),I=(c,m=!1)=>m?p.delete(c):p.get(c).done=!0,p=new Map;return e(t),{add:e,set:r,wipe:h,done:I,reset:o,destroy:f,getItems:y,getQueue:l,getTypeable:s,getPendingQueueItems:E}};const Ie="data-typeit-id",N="ti-cursor",gt="END",vt={started:!1,completed:!1,frozen:!1,destroyed:!1},A={breakLines:!0,cursor:{autoPause:!0,autoPauseDelay:500,animation:{frames:[0,0,1].map(t=>({opacity:t})),options:{iterations:1/0,easing:"steps(2, start)",fill:"forwards"}}},cursorChar:"|",cursorSpeed:1e3,deleteSpeed:null,html:!0,lifeLike:!0,loop:!1,loopDelay:750,nextStringDelay:750,speed:100,startDelay:250,startDelete:!1,strings:[],waitUntilVisible:!1,beforeString:()=>{},afterString:()=>{},beforeStep:()=>{},afterStep:()=>{},afterComplete:()=>{}},Tt=`[${Ie}]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}`,O=t=>document.createElement(t),he=t=>document.createTextNode(t),xe=(t,e="")=>{let s=O("style");s.id=e,s.appendChild(he(t)),document.head.appendChild(s)},ve=t=>(Se(t)||(t=[t/2,t/2]),t),Te=(t,e)=>Math.abs(Math.random()*(t+e-(t-e))+(t-e));let _e=t=>t/2;function _t(t){let{speed:e,deleteSpeed:s,lifeLike:r}=t;return s=s!==null?s:e/3,r?[Te(e,_e(e)),Te(s,_e(s))]:[e,s]}const ke=t=>Array.from(t);let ce=t=>([...t.childNodes].forEach(e=>{if(e.nodeValue){[...e.nodeValue].forEach(s=>{e.parentNode.insertBefore(he(s),e)}),e.remove();return}ce(e)}),t);const Ne=t=>{let e=document.implementation.createHTMLDocument();return e.body.innerHTML=t,ce(e.body)};function De(t,e=!1,s=!1){let r=t.querySelector(`.${N}`),n=document.createTreeWalker(t,NodeFilter.SHOW_ALL,{acceptNode:l=>{var u,f;if(r&&s){if((u=l.classList)!=null&&u.contains(N))return NodeFilter.FILTER_ACCEPT;if(r.contains(l))return NodeFilter.FILTER_REJECT}return(f=l.classList)!=null&&f.contains(N)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}}),o,h=[];for(;o=n.nextNode();)o.originalParent||(o.originalParent=o.parentNode),h.push(o);return e?h.reverse():h}function Pt(t){return De(Ne(t))}function Ct(t,e=!0){return e?Pt(t):ke(t).map(he)}const wt=({index:t,newIndex:e,queueItems:s,cleanUp:r})=>{for(let n=t+1;n<e+1;n++)r(s[n][0])},Le=t=>Number.isInteger(t),Pe=({queueItems:t,selector:e,cursorPosition:s,to:r})=>{if(Le(e))return e*-1;let n=new RegExp(gt,"i").test(r),o=e?[...t].reverse().findIndex(({char:l})=>{let u=l.parentElement,f=u.matches(e);return n&&f?!0:f&&u.firstChild.isSameNode(l)}):-1;o<0&&(o=n?0:t.length-1);let h=n?0:1;return o-s+h},St=t=>(t.forEach(clearTimeout),[]),W=(t,e)=>new Array(e).fill(t);let J=t=>new Promise(e=>{requestAnimationFrame(async()=>{e(await t())})}),Ae=t=>t==null?void 0:t.getAnimations().find(e=>e.id===t.dataset.tiAnimationId),Me=({cursor:t,frames:e,options:s})=>{let r=t.animate(e,s);return r.pause(),r.id=t.dataset.tiAnimationId,J(()=>{J(()=>{r.play()})}),r},Et=({cursor:t,options:e,cursorOptions:s})=>{if(!t||!s)return;let r=Ae(t),n;r&&(e.delay=r.effect.getComputedTiming().delay,n=r.currentTime,r.cancel());let o=Me({cursor:t,frames:s.animation.frames,options:e});return n&&(o.currentTime=n),o},Ce=t=>{var e;return(e=t.func)==null?void 0:e.call(null)},It=async({index:t,queueItems:e,wait:s,cursor:r,cursorOptions:n})=>{let o=e[t][1],h=[],l=t,u=o,f=()=>u&&!u.delay,E=o.shouldPauseCursor()&&n.autoPause;for(;f();)h.push(u),f()&&l++,u=e[l]?e[l][1]:null;if(h.length)return await J(async()=>{for(let p of h)await Ce(p)}),l-1;let y=Ae(r),I;return y&&(I={...y.effect.getComputedTiming(),delay:E?n.autoPauseDelay:0}),await s(async()=>{y&&E&&y.cancel(),await J(()=>{Ce(o)})},o.delay),await Et({cursor:r,options:I,cursorOptions:n}),t};const xt=(t,e)=>{new IntersectionObserver((r,n)=>{r.forEach(o=>{o.isIntersecting&&(e(),n.unobserve(t))})},{threshold:1}).observe(t)},kt=()=>Math.random().toString().substring(2,9),Z=t=>"value"in t;let Nt=t=>Z(t)?ke(t.value):De(t,!0).filter(e=>!(e.childNodes.length>0)),L=t=>typeof t=="function"?t():t,de=(t,e=document,s=!1)=>e[`querySelector${s?"All":""}`](t),Dt=t=>/body/i.test(t==null?void 0:t.tagName),Lt=(t,e)=>{if(Z(t)){t.value=`${t.value}${e.textContent}`;return}e.innerHTML="";let s=Dt(e.originalParent)?t:e.originalParent||t,r=de("."+N,s)||null;r&&r.parentElement!==s&&(s=r.parentElement),s.insertBefore(e,r)};const At=t=>/<(.+)>(.*?)<\/(.+)>/.test(t.outerHTML),$=(t,e)=>Object.assign({},t,e);let Mt=t=>{var e,s;if(typeof t=="object"){let r={},{frames:n,options:o}=A.cursor.animation;return r.animation=t.animation||{},r.animation.frames=((e=t.animation)==null?void 0:e.frames)||n,r.animation.options=$(o,((s=t.animation)==null?void 0:s.options)||{}),r.autoPause=t.autoPause??A.cursor.autoPause,r.autoPauseDelay=t.autoPauseDelay||A.cursor.autoPauseDelay,r}return t===!0?A.cursor:t};const Rt=(t,e)=>{if(!t)return;let s=t.parentNode;(s.childNodes.length>1||s.isSameNode(e)?t:s).remove()},qt=(t,e,s)=>{let r=e[s-1],n=de(`.${N}`,t);t=(r==null?void 0:r.parentNode)||t,t.insertBefore(n,r||null)};function Ht(t){return typeof t=="string"?de(t):t}let $t={"font-family":"","font-weight":"","font-size":"","font-style":"","line-height":"",color:"",transform:"translateX(-.125em)"},Gt=(t,e)=>{let r=`${`[${Ie}='${t}']`} .${N}`,n=getComputedStyle(e),o=Object.entries($t).reduce((h,[l,u])=>`${h} ${l}: var(--ti-cursor-${l}, ${u||n[l]});`,"");xe(`${r} { display: inline-block; width: 0; ${o} }`,t)};function Bt(t){return t.replace(/<!--(.+?)-->/g,"").trim().split(/<br(?:\s*?)(?:\/)?>/)}let Vt=(t,e,s)=>Math.min(Math.max(e+t,0),s.length),Ft=(t,e,s)=>new Promise(r=>{let n=async()=>{await t(),r()};s.push(setTimeout(n,e||0))});var i,Re,G,re,qe,ne,ae,oe,j,w,He,B,V,$e,ee,Ge,Be,le,X,F,K,k,Q,Y,ue,S;class Qt{constructor(e,s={}){te(this,i);v(this,"element");v(this,"timeouts");v(this,"cursorPosition");v(this,"predictedCursorPosition");v(this,"statuses",{started:!1,completed:!1,frozen:!1,destroyed:!1,firing:!1});v(this,"opts");v(this,"id");v(this,"queue");v(this,"cursor");v(this,"flushCallback",null);v(this,"unfreeze",()=>{});v(this,"is",function(e){return this.statuses[e]});te(this,ee,e=>{this.opts.cursor=Mt(e.cursor??A.cursor),this.opts.strings=a(this,i,Ge).call(this,Ee(this.opts.strings)),this.opts=$(this.opts,{html:!d(this,i,Y)&&this.opts.html,nextStringDelay:ve(this.opts.nextStringDelay),loopDelay:ve(this.opts.loopDelay)})});this.opts=$(A,s),this.element=Ht(e),this.timeouts=[],this.cursorPosition=0,this.unfreeze=()=>{},this.predictedCursorPosition=null,this.statuses=$({},vt),this.id=kt(),this.queue=bt([{delay:this.opts.startDelay}]),d(this,ee).call(this,s),this.cursor=a(this,i,Be).call(this),this.element.dataset.typeitId=this.id,xe(Tt),this.opts.strings.length&&a(this,i,$e).call(this)}go(){return this.statuses.started?this:(a(this,i,oe).call(this),this.opts.waitUntilVisible?(xt(this.element,a(this,i,G).bind(this)),this):(a(this,i,G).call(this),this))}destroy(e=!0){this.timeouts=St(this.timeouts),L(e)&&this.cursor&&a(this,i,K).call(this,this.cursor),this.statuses.destroyed=!0}reset(e){!this.is("destroyed")&&this.destroy(),e?(this.queue.wipe(),e(this)):this.queue.reset(),this.cursorPosition=0;for(let s in this.statuses)this.statuses[s]=!1;return this.element[a(this,i,j).call(this)?"value":"innerHTML"]="",this}type(e,s={}){e=L(e);let{instant:r}=s,n=a(this,i,B).call(this,s),h=Ct(e,this.opts.html).map(u=>({func:()=>a(this,i,X).call(this,u),char:u,delay:r||At(u)?0:a(this,i,k).call(this),typeable:u.nodeType===Node.TEXT_NODE})),l=[n[0],{func:async()=>await this.opts.beforeString(e,this)},...h,{func:async()=>await this.opts.afterString(e,this)},n[1]];return a(this,i,w).call(this,l,s)}break(e={}){return a(this,i,w).call(this,{func:()=>a(this,i,X).call(this,O("BR")),typeable:!0},e)}move(e,s={}){e=L(e);let r=a(this,i,B).call(this,s),{instant:n,to:o}=s,h=Pe({queueItems:this.queue.getTypeable(),selector:e===null?"":e,to:o,cursorPosition:d(this,i,Q)}),l=h<0?-1:1;return this.predictedCursorPosition=d(this,i,Q)+h,a(this,i,w).call(this,[r[0],...W({func:()=>a(this,i,re).call(this,l),delay:n?0:a(this,i,k).call(this),cursorable:!0},Math.abs(h)),r[1]],s)}exec(e,s={}){let r=a(this,i,B).call(this,s);return a(this,i,w).call(this,[r[0],{func:()=>e(this)},r[1]],s)}options(e,s={}){return e=L(e),a(this,i,V).call(this,e),a(this,i,w).call(this,{},s)}pause(e,s={}){return a(this,i,w).call(this,{delay:L(e)},s)}delete(e=null,s={}){e=L(e);let r=a(this,i,B).call(this,s),n=e,{instant:o,to:h}=s,l=this.queue.getTypeable(),u=n===null?l.length:Le(n)?n:Pe({queueItems:l,selector:n,cursorPosition:d(this,i,Q),to:h});return a(this,i,w).call(this,[r[0],...W({func:a(this,i,F).bind(this),delay:o?0:a(this,i,k).call(this,1),deletable:!0},u),r[1]],s)}freeze(){this.statuses.frozen=!0}flush(e=null){return this.flushCallback=e||this.flushCallback,this.statuses.firing?this:(a(this,i,oe).call(this),a(this,i,G).call(this,!1).then(()=>{if(this.queue.getPendingQueueItems().length>0)return this.flush();this.flushCallback(),this.flushCallback=null}),this)}getQueue(){return this.queue}getOptions(){return this.opts}updateOptions(e){return a(this,i,V).call(this,e)}getElement(){return this.element}empty(e={}){return a(this,i,w).call(this,{func:a(this,i,Re).bind(this)},e)}}i=new WeakSet,Re=async function(){if(a(this,i,j).call(this)){this.element.value="";return}d(this,i,S).forEach(a(this,i,K).bind(this))},G=async function(e=!0){this.statuses.started=!0,this.statuses.firing=!0;let s=r=>{this.queue.done(r,!e)};try{let r=[...this.queue.getQueue()];for(let o=0;o<r.length;o++){let[h,l]=r[o];if(!l.done){if(!l.deletable||l.deletable&&d(this,i,S).length){let u=await a(this,i,ne).call(this,o,r);wt({index:o,newIndex:u,queueItems:r,cleanUp:s}),o=u}s(h)}}if(!e)return this.statuses.firing=!1,this;if(this.statuses.completed=!0,this.statuses.firing=!1,await this.opts.afterComplete(this),!this.opts.loop)throw"";let n=this.opts.loopDelay;a(this,i,ae).call(this,async()=>{await a(this,i,qe).call(this,n[0]),a(this,i,G).call(this)},n[1])}catch{}return this.statuses.firing=!1,this},re=async function(e){this.cursorPosition=Vt(e,this.cursorPosition,d(this,i,S)),qt(this.element,d(this,i,S),this.cursorPosition)},qe=async function(e){let s=d(this,i,Q);s&&await a(this,i,re).call(this,{value:s});let r=d(this,i,S).map(n=>[Symbol(),{func:a(this,i,F).bind(this),delay:a(this,i,k).call(this,1),deletable:!0,shouldPauseCursor:()=>!0}]);for(let n=0;n<r.length;n++)await a(this,i,ne).call(this,n,r);this.queue.reset(),this.queue.set(0,{delay:e})},ne=function(e,s){return It({index:e,queueItems:s,wait:a(this,i,ae).bind(this),cursor:this.cursor,cursorOptions:this.opts.cursor})},ae=async function(e,s,r=!1){this.statuses.frozen&&await new Promise(n=>{this.unfreeze=()=>{this.statuses.frozen=!1,n()}}),r||await this.opts.beforeStep(this),await Ft(e,s,this.timeouts),r||await this.opts.afterStep(this)},oe=async function(){if(!a(this,i,j).call(this)&&this.cursor&&this.element.appendChild(this.cursor),d(this,i,ue)){Gt(this.id,this.element),this.cursor.dataset.tiAnimationId=this.id;let{animation:e}=this.opts.cursor,{frames:s,options:r}=e;Me({frames:s,cursor:this.cursor,options:{duration:this.opts.cursorSpeed,...r}})}},j=function(){return Z(this.element)},w=function(e,s){return this.queue.add(e),a(this,i,He).call(this,s),this},He=function(e={}){let s=e.delay;s&&this.queue.add({delay:s})},B=function(e={}){return[{func:()=>a(this,i,V).call(this,e)},{func:()=>a(this,i,V).call(this,this.opts)}]},V=async function(e){this.opts=$(this.opts,e)},$e=function(){let e=this.opts.strings.filter(s=>!!s);e.forEach((s,r)=>{if(this.type(s),r+1===e.length)return;let n=this.opts.breakLines?[{func:()=>a(this,i,X).call(this,O("BR")),typeable:!0}]:W({func:a(this,i,F).bind(this),delay:a(this,i,k).call(this,1)},this.queue.getTypeable().length);a(this,i,le).call(this,n)})},ee=new WeakMap,Ge=function(e){let s=this.element.innerHTML;return s?(this.element.innerHTML="",this.opts.startDelete?(this.element.innerHTML=s,ce(this.element),a(this,i,le).call(this,W({func:a(this,i,F).bind(this),delay:a(this,i,k).call(this,1),deletable:!0},d(this,i,S).length)),e):Bt(s).concat(e)):e},Be=function(){if(d(this,i,Y))return null;let e=O("span");return e.className=N,d(this,i,ue)?(e.innerHTML=Ne(this.opts.cursorChar).innerHTML,e):(e.style.visibility="hidden",e)},le=function(e){let s=this.opts.nextStringDelay;this.queue.add([{delay:s[0]},...e,{delay:s[1]}])},X=function(e){Lt(this.element,e)},F=function(){d(this,i,S).length&&(d(this,i,Y)?this.element.value=this.element.value.slice(0,-1):a(this,i,K).call(this,d(this,i,S)[this.cursorPosition]))},K=function(e){Rt(e,this.element)},k=function(e=0){return _t(this.opts)[e]},Q=function(){return this.predictedCursorPosition??this.cursorPosition},Y=function(){return Z(this.element)},ue=function(){return!!this.opts.cursor&&!d(this,i,Y)},S=function(){return Nt(this.element)};const ie=""+new URL("../png/chatGPT-CTN0W6ZR.png",import.meta.url).href,Yt={class:"chat-GPT-container no-background-container"},Ut={class:"vab-chat-main"},zt={class:"vab-chat-user"},Wt=["src"],Ot={class:"vab-chat-text"},jt={key:0},Xt=["id"],Kt={class:"vab-chat-footer"},Jt={class:"vab-chat-textarea"},Zt={class:"vab-chat-send"},we="Shop Vite 演示地址仅提供 ChatGPT 基础能力展示，如需获取 ChatGPT 完整功能请访问 Open AI 官网自行购买对接，您现在可以跟我对话了",es=Ke({name:"ChatGPT",__name:"ChatGPT",setup(t){const e=ft(),{avatar:s,username:r}=pt(e),n=P(""),o=P(),h=P(),l=P(),u=P(!0),f=P("GPT3.5"),E=P("https://fc-mp-851edf02-46eb-43e6-828d-64c7e483ea41.next.bspapp.com/chatGPT?version=gpt-3.5-turbo&text="),y=P(!1);let I;const p=T=>{T=="GPT3.5"&&(E.value="https://fc-mp-851edf02-46eb-43e6-828d-64c7e483ea41.next.bspapp.com/chatGPT?version=gpt-3.5-turbo&text="),T=="GPT4.0"&&(E.value="https://fc-mp-851edf02-46eb-43e6-828d-64c7e483ea41.next.bspapp.com/chatGPT?version=gpt-4&text="),z(`切换${T}成功！`,"success","hey")},c=P([{id:"uuid_9999",type:"he",result:we,avatar:ie,username:"ChatGPT",time:U().format("YYYY-MM-DD HH:mm:ss")}]),m=()=>{if(y.value=!0,!n.value){z("提交内容不能为空","error","hey"),y.value=!1;return}if(!u.value){z(`${f.value}还未回答完您的上个问题，请稍后再进行提问`,"error","hey"),y.value=!1;return}if(u.value){u.value=!1;const T=c.value,b=dt("uuid_");T.push({type:"mine",result:n.value,avatar:s,username:r,time:U().format("YYYY-MM-DD HH:mm:ss")},{type:"tips",result:`${f.value} AI 内容生成中，请稍后。。。`,avatar:ie,username:"ChatGPT",time:U().format("YYYY-MM-DD HH:mm:ss")}),mt.get(`${E.value}${n.value}`).then(async({data:{result:M}})=>{n.value="",await T.pop(),await T.push({id:b,type:"he",result:M.displayText,avatar:ie,username:"ChatGPT",time:U().format("YYYY-MM-DD HH:mm:ss")}),await x(b,M.displayText),u.value=!0,y.value=!1}).catch(()=>{z(`${f.value} 余额不足！`,"error","hey"),u.value=!0,y.value=!1})}},x=(T,b)=>{setTimeout(()=>{new Qt(`#${T}`,{strings:[b],cursorChar:"<span class='cursorChar'>|<span>",speed:25,lifeLike:!0,cursor:!1,breakLines:!1,loop:!1}).go()},0)};return Je(()=>{o.value.focus(),x("uuid_9999",we)}),Ze(()=>{I=setInterval(()=>{l.value&&h.value&&l.value.setScrollTop(h.value.clientHeight-380)},500)}),et(()=>{I&&clearInterval(I)}),(T,b)=>{const M=it,Ve=st,Fe=lt,Qe=ht,Ye=Xe,Ue=tt,ze=ct;return q(),R("div",Yt,[C(ze,{gutter:20},{default:D(()=>[C(Ue,{lg:14,md:24,sm:24,xl:14,xs:24},{default:D(()=>[C(Ye,null,{default:D(()=>[_("div",Ut,[C(Ve,{modelValue:H(f),"onUpdate:modelValue":b[0]||(b[0]=g=>me(f)?f.value=g:null),onChange:p},{default:D(()=>[C(M,{label:"GPT3.5",value:"GPT3.5"}),C(M,{label:"GPT4.0",value:"GPT4.0"})]),_:1},8,["modelValue"]),C(H(rt),{ref_key:"scrollbarRef",ref:l},{default:D(()=>[_("ul",{ref_key:"innerRef",ref:h},[(q(!0),R(nt,null,at(H(c),(g,We)=>(q(),R("li",{key:We,class:ot(g.type=="mine"?"vab-chat-mine":"")},[_("div",zt,[_("img",{alt:"头像",src:g.avatar},null,8,Wt),_("cite",null,[ye(se(g.username)+" ",1),_("i",null,se(g.time),1)])]),_("div",Ot,[g.type=="mine"||g.type=="tips"?(q(),R("span",jt,se(g.result),1)):be("",!0),g.type=="he"?(q(),R("span",{key:1,id:g.id},null,8,Xt)):be("",!0)])],2))),128))],512)]),_:1},512)]),_("div",Kt,[_("div",Jt,[C(Fe,{ref_key:"textareaRef",ref:o,modelValue:H(n),"onUpdate:modelValue":b[1]||(b[1]=g=>me(n)?n.value=g:null),clearable:"",resize:"none","show-word-limit":"",type:"textarea",onKeydown:[ge(m,["enter"]),b[2]||(b[2]=ge(ut(()=>{},["prevent"]),["enter"]))]},null,8,["modelValue"])]),_("div",Zt,[C(Qe,{loading:H(y),type:"primary",onClick:m},{default:D(()=>b[3]||(b[3]=[ye("发送")])),_:1},8,["loading"])])])]),_:1})]),_:1})]),_:1})])}}}),os=yt(es,[["__scopeId","data-v-b7894779"]]);export{os as default};
