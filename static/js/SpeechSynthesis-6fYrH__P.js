/*!  build: Vue Shop Vite 
     copyright: https://vuejs-core.cn/shop-vite   
     time: 2024-09-26 21:23:19 
 */
import{g as T}from"./description-CpUkuY1g.js";import{d as U,b as S,K as t,S as e,B as s,o as p,u as n,A as f,I as g,F as D,a2 as F,Y as r,X as L}from"./vsv-element-plus-CleF0dO9.js";import{_ as N}from"./index-wMoNB7-P.js";import"./vsv-icon-DrZkBOPN.js";import"./vsv-nprogress-D5kd6v05.js";const E={class:"speech-synthesis-container no-background-container"},K=U({name:"SpeechSynthesis",__name:"SpeechSynthesis",setup(M){const i=ref(void 0),u=ref(""),o=useSpeechSynthesis(u,{voice:i}),h=async()=>{const{data:v}=await T();u.value=v.description.replaceAll(`
`,"").replaceAll(/<[^>]*>/g,"").replaceAll(/\s/g,"").replaceAll(/([。：；])\s*/g,`$1
`)};let y;const c=ref([]),w=()=>{o.status.value==="pause"?window.speechSynthesis.resume():o.speak()},k=()=>{window.speechSynthesis.pause()},x=()=>{o.stop()};let d;return onMounted(()=>{o.isSupported.value&&(d=setTimeout(()=>{y=window.speechSynthesis,c.value=y.getVoices(),i.value=c.value[0]},200),h())}),onBeforeUnmount(()=>{d&&clearTimeout(d)}),(v,l)=>{const V=s("el-input"),_=s("el-form-item"),A=s("el-option"),C=s("el-select"),m=s("el-button"),B=s("el-form"),b=s("vab-card"),P=s("el-col"),I=s("el-row");return p(),S("div",E,[t(I,{gutter:20},{default:e(()=>[t(P,{lg:12,md:18,sm:24,xl:12,xs:24},{default:e(()=>[n(o).isSupported?(p(),f(b,{key:0},{default:e(()=>[t(B,{"label-position":"top"},{default:e(()=>[t(_,{label:"文本"},{default:e(()=>[t(V,{modelValue:n(u),"onUpdate:modelValue":l[0]||(l[0]=a=>g(u)?u.value=a:null),clearable:"",rows:12,type:"textarea"},null,8,["modelValue"])]),_:1}),t(_,{label:"语言"},{default:e(()=>[t(C,{modelValue:n(i),"onUpdate:modelValue":l[1]||(l[1]=a=>g(i)?i.value=a:null)},{default:e(()=>[(p(!0),S(D,null,F(n(c),a=>(p(),f(A,{key:a.name,label:a.name,value:a},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(_,{label:"操作"},{default:e(()=>[t(m,{disabled:n(o).isPlaying.value,type:"primary",onClick:w},{default:e(()=>[r(L(n(o).status.value==="pause"?"继续":"播放"),1)]),_:1},8,["disabled"]),t(m,{disabled:!n(o).isPlaying.value,type:"warning",onClick:k},{default:e(()=>l[2]||(l[2]=[r("暂停")])),_:1},8,["disabled"]),t(m,{disabled:!n(o).isPlaying.value,type:"danger",onClick:x},{default:e(()=>l[3]||(l[3]=[r("结束")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})):(p(),f(b,{key:1},{default:e(()=>l[4]||(l[4]=[r("您的浏览器不支持SpeechSynthesis API")])),_:1}))]),_:1})]),_:1})])}}}),q=N(K,[["__scopeId","data-v-af1212d1"]]);export{q as default};
