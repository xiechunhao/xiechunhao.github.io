/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2025-03-12 00:28:56
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[7001,9382],{46667:function(e,t,a){a.d(t,{Ed:function(){return o},pL:function(){return n},vS:function(){return r}});var l=a(24380);function r(e){return(0,l.A)({url:"/departmentManagement/getList",method:"get",params:e})}function o(e){return(0,l.A)({url:"/departmentManagement/doEdit",method:"post",data:e})}function n(e){return(0,l.A)({url:"/departmentManagement/doDelete",method:"post",data:e})}},47001:function(e,t,a){a.r(t),a.d(t,{default:function(){return s}});var l=a(34641);function r(e,t,a,r,o,n){const d=(0,l.g2)("el-tree"),m=(0,l.g2)("el-option"),u=(0,l.g2)("el-select"),i=(0,l.g2)("el-form-item"),s=(0,l.g2)("el-input"),f=(0,l.g2)("el-form"),p=(0,l.g2)("el-button"),c=(0,l.g2)("el-dialog");return(0,l.uX)(),(0,l.Wv)(c,{modelValue:e.dialogFormVisible,"onUpdate:modelValue":t[3]||(t[3]=t=>e.dialogFormVisible=t),title:e.title,width:"500px",onClose:e.close},{footer:(0,l.k6)((()=>[(0,l.bF)(p,{onClick:e.close},{default:(0,l.k6)((()=>t[4]||(t[4]=[(0,l.eW)("取 消")]))),_:1},8,["onClick"]),(0,l.bF)(p,{type:"primary",onClick:e.save},{default:(0,l.k6)((()=>t[5]||(t[5]=[(0,l.eW)("确 定")]))),_:1},8,["onClick"])])),default:(0,l.k6)((()=>[(0,l.bF)(f,{ref:"formRef","label-width":"80px",model:e.form,rules:e.rules},{default:(0,l.k6)((()=>[(0,l.bF)(i,{label:"父节点",prop:"parentName"},{default:(0,l.k6)((()=>[(0,l.bF)(u,{modelValue:e.form.parentId,"onUpdate:modelValue":t[0]||(t[0]=t=>e.form.parentId=t),placeholder:"请选择父节点"},{default:(0,l.k6)((()=>[(0,l.bF)(m,{label:e.form.parentName,style:{height:"auto",padding:"0"},value:e.form.parentId},{default:(0,l.k6)((()=>[(0,l.bF)(d,{ref:"treeRef",data:e.treeData,"default-expand-all":"",props:e.defaultProps,onNodeClick:e.handleNodeClick},null,8,["data","props","onNodeClick"])])),_:1},8,["label","value"])])),_:1},8,["modelValue"])])),_:1}),(0,l.bF)(i,{label:"名称",prop:"name"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{modelValue:e.form.name,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.name=t)},null,8,["modelValue"])])),_:1}),(0,l.bF)(i,{label:"排序",prop:"order"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{modelValue:e.form.order,"onUpdate:modelValue":t[2]||(t[2]=t=>e.form.order=t)},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title","onClose"])}var o=a(46667),n=a(37489),d=(0,l.pM)({name:"DepartmentManagementEdit",emits:["fetch-data"],setup(e,{emit:t}){const a=(0,l.WQ)("$baseMessage"),r=(0,n.Kh)({formRef:null,treeData:[],defaultProps:{children:"children",label:"name"},form:{parentName:"",parentId:""},rules:{parentName:[{required:!0,trigger:"blur",message:"请选择父节点"}],name:[{required:!0,trigger:"blur",message:"请输入名称"}],order:[{required:!0,trigger:"blur",message:"请输入排序"}]},title:"",dialogFormVisible:!1}),d=async()=>{const{data:{list:e}}=await(0,o.vS)();r.treeData=e},m=e=>{r.form.parentName=e.name,r.form.parentId=e.id},u=e=>{e?(r.title="编辑",r.form=JSON.parse(JSON.stringify(e))):r.title="添加",r.dialogFormVisible=!0},i=()=>{r["formRef"].resetFields(),r.form={parentName:"",parentId:""},r.dialogFormVisible=!1},s=()=>{r["formRef"].validate((async e=>{if(e){const{msg:e}=await(0,o.Ed)(r.form);a(e,"success","vab-hey-message-success"),t("fetch-data"),i()}}))};return d(),{...(0,n.QW)(r),handleNodeClick:m,showEdit:u,close:i,save:s}}});function m(e){e.__source="src/views/setting/departmentManagement/components/DepartmentManagementEdit.vue"}var u=a(48499);"function"===typeof m&&m(d);const i=(0,u.A)(d,[["render",r]]);var s=i}}]);