/*!  build: Vue Shop Vite 
     copyright: https://vuejs-core.cn/shop-vite   
     time: 2024-09-25 17:01:24 
 */
import{g as T}from"./description-B3PHnTn7.js";import{d as U,b as g,M as t,V as e,F as s,o as p,u as n,D as f,K as S,H as F,a4 as I,_ as r,Z as L}from"./vsv-element-plus-CbS2IxKo.js";import{_ as M}from"./index-BnT9uhJE.js";import"./vsv-icon-93gfr_RM.js";import"./vsv-nprogress-DzPgnd7z.js";const N={class:"speech-synthesis-container no-background-container"},E=U({name:"SpeechSynthesis",__name:"SpeechSynthesis",setup(H){const i=ref(void 0),u=ref(""),o=useSpeechSynthesis(u,{voice:i}),h=async()=>{const{data:v}=await T();u.value=v.description.replaceAll(`
`,"").replaceAll(/<[^>]*>/g,"").replaceAll(/\s/g,"").replaceAll(/([。：；])\s*/g,`$1
`)};let y;const c=ref([]),w=()=>{o.status.value==="pause"?window.speechSynthesis.resume():o.speak()},k=()=>{window.speechSynthesis.pause()},V=()=>{o.stop()};let d;return onMounted(()=>{o.isSupported.value&&(d=setTimeout(()=>{y=window.speechSynthesis,c.value=y.getVoices(),i.value=c.value[0]},200),h())}),onBeforeUnmount(()=>{d&&clearTimeout(d)}),(v,l)=>{const x=s("el-input"),_=s("el-form-item"),C=s("el-option"),A=s("el-select"),m=s("el-button"),B=s("el-form"),b=s("vab-card"),P=s("el-col"),D=s("el-row");return p(),g("div",N,[t(D,{gutter:20},{default:e(()=>[t(P,{lg:12,md:18,sm:24,xl:12,xs:24},{default:e(()=>[n(o).isSupported?(p(),f(b,{key:0},{default:e(()=>[t(B,{"label-position":"top"},{default:e(()=>[t(_,{label:"文本"},{default:e(()=>[t(x,{modelValue:n(u),"onUpdate:modelValue":l[0]||(l[0]=a=>S(u)?u.value=a:null),clearable:"",rows:12,type:"textarea"},null,8,["modelValue"])]),_:1}),t(_,{label:"语言"},{default:e(()=>[t(A,{modelValue:n(i),"onUpdate:modelValue":l[1]||(l[1]=a=>S(i)?i.value=a:null)},{default:e(()=>[(p(!0),g(F,null,I(n(c),a=>(p(),f(C,{key:a.name,label:a.name,value:a},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(_,{label:"操作"},{default:e(()=>[t(m,{disabled:n(o).isPlaying.value,type:"primary",onClick:w},{default:e(()=>[r(L(n(o).status.value==="pause"?"继续":"播放"),1)]),_:1},8,["disabled"]),t(m,{disabled:!n(o).isPlaying.value,type:"warning",onClick:k},{default:e(()=>l[2]||(l[2]=[r("暂停")])),_:1},8,["disabled"]),t(m,{disabled:!n(o).isPlaying.value,type:"danger",onClick:V},{default:e(()=>l[3]||(l[3]=[r("结束")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})):(p(),f(b,{key:1},{default:e(()=>l[4]||(l[4]=[r("您的浏览器不支持SpeechSynthesis API")])),_:1}))]),_:1})]),_:1})])}}}),q=M(E,[["__scopeId","data-v-af1212d1"]]);export{q as default};
