/*!  build: Vue Shop Vite 
     copyright: https://vuejs-core.cn/shop-vite   
     time: 2024-09-26 15:53:45 
 */
import{k as p,S as f,f as M,C as w}from"./index-CQIU_Sxf.js";import{d as K,r as c,p as C,o as T,S as U,T as d,W as o,a8 as D,u as a,h as F,x as B,aO as O,aq as R,au as h,a9 as j}from"./vsv-element-plus-DDEqdpLt.js";function $(s){return p({url:"/dictionaryManagement/getTree",method:"get",params:s})}function q(s){return p({url:"/dictionaryManagement/getList",method:"get",params:s})}const I=s=>p({url:"/dictionaryManagement/doEdit",method:"post",data:s}),W=s=>p({url:"/dictionaryManagement/doDelete",method:"post",data:s}),z=K({name:"DictionaryManagementEdit",__name:"DictionaryManagementEdit",emits:["fetch-data"],setup(s,{expose:g,emit:V}){const b=V,u=c(),t=C({parentKey:"",id:f(),key:"",value:""}),y=c(""),r=c(!1);g({showEdit:l=>{r.value=!0,B(()=>{y.value="添加/编辑",l?Object.assign(t,l,{id:f()}):Object.assign(t,l,{id:f(),parentKey:"root"})})}});const _=()=>{var l,e;(l=u.value)==null||l.clearValidate(),(e=u.value)==null||e.resetFields(),b("fetch-data",{key:t.parentKey})},v=()=>{var l;(l=u.value)==null||l.validate(async e=>{if(e){const{msg:i}=await I(t);await M(i,"success","hey"),await _(),r.value=!1}})};return(l,e)=>{const i=O,m=R,k=h,E=j,x=w;return T(),U(x,{modelValue:a(r),"onUpdate:modelValue":e[4]||(e[4]=n=>F(r)?r.value=n:null),"append-to-body":"",title:a(y),width:"500px",onClose:_},{footer:d(()=>[o(E,{type:"primary",onClick:v},{default:d(()=>e[5]||(e[5]=[D("保存")])),_:1})]),default:d(()=>[o(k,{ref_key:"formRef",ref:u,"label-width":"80px",model:a(t)},{default:d(()=>[o(m,{label:"父级key值",prop:"parentKey"},{default:d(()=>[o(i,{modelValue:a(t).parentKey,"onUpdate:modelValue":e[0]||(e[0]=n=>a(t).parentKey=n),clearable:"",disabled:""},null,8,["modelValue"])]),_:1}),o(m,{label:"id",prop:"id"},{default:d(()=>[o(i,{modelValue:a(t).id,"onUpdate:modelValue":e[1]||(e[1]=n=>a(t).id=n),clearable:"",disabled:""},null,8,["modelValue"])]),_:1}),o(m,{label:"key值",prop:"key"},{default:d(()=>[o(i,{modelValue:a(t).key,"onUpdate:modelValue":e[2]||(e[2]=n=>a(t).key=n),clearable:""},null,8,["modelValue"])]),_:1}),o(m,{label:"字典值",prop:"value"},{default:d(()=>[o(i,{modelValue:a(t).value,"onUpdate:modelValue":e[3]||(e[3]=n=>a(t).value=n),clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])}}});export{z as _,q as a,W as d,$ as g};
