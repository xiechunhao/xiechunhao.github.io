/*!  build: Vue Shop Vite 
     copyright: https://vuejs-core.cn/shop-vite   
     time: 2024-11-12 16:06:55 
 */
import{b as x}from"./dictionaryManagement-D-u87GhO.js";import{u as p}from"./index-CltMZZBk.js";import{d as w,N as r,o as K,M as C,$ as d,T as o,a4 as E,u as a,k as U}from"./vsv-element-plus-Brnt1GMz.js";import"./index-D0bnGtHt.js";import"./vsv-icon-CX0cXpax.js";import"./vsv-nprogress-Cnw-SRAI.js";const O=w({name:"DictionaryManagementEdit",__name:"DictionaryManagementEdit",emits:["fetch-data"],setup(M,{expose:b,emit:y}){const _=y,m=ref(),l=reactive({parentKey:"",id:p(),key:"",value:""}),f=ref(""),s=ref(!1);b({showEdit:t=>{s.value=!0,nextTick(()=>{f.value="添加/编辑",t?Object.assign(l,t,{id:p()}):Object.assign(l,t,{id:p(),parentKey:"root"})})}});const c=()=>{var t,e;(t=m.value)==null||t.clearValidate(),(e=m.value)==null||e.resetFields(),_("fetch-data",{key:l.parentKey})},V=()=>{var t;(t=m.value)==null||t.validate(async e=>{if(e){const{msg:i}=await x(l);await $baseMessage(i,"success","hey"),await c(),s.value=!1}})};return(t,e)=>{const i=r("el-input"),u=r("el-form-item"),v=r("el-form"),k=r("el-button"),g=r("vab-dialog");return K(),C(g,{modelValue:a(s),"onUpdate:modelValue":e[4]||(e[4]=n=>U(s)?s.value=n:null),"append-to-body":"",title:a(f),width:"500px",onClose:c},{footer:d(()=>[o(k,{type:"primary",onClick:V},{default:d(()=>e[5]||(e[5]=[E("保存")])),_:1})]),default:d(()=>[o(v,{ref_key:"formRef",ref:m,"label-width":"80px",model:a(l)},{default:d(()=>[o(u,{label:"父级key值",prop:"parentKey"},{default:d(()=>[o(i,{modelValue:a(l).parentKey,"onUpdate:modelValue":e[0]||(e[0]=n=>a(l).parentKey=n),clearable:"",disabled:""},null,8,["modelValue"])]),_:1}),o(u,{label:"id",prop:"id"},{default:d(()=>[o(i,{modelValue:a(l).id,"onUpdate:modelValue":e[1]||(e[1]=n=>a(l).id=n),clearable:"",disabled:""},null,8,["modelValue"])]),_:1}),o(u,{label:"key值",prop:"key"},{default:d(()=>[o(i,{modelValue:a(l).key,"onUpdate:modelValue":e[2]||(e[2]=n=>a(l).key=n),clearable:""},null,8,["modelValue"])]),_:1}),o(u,{label:"字典值",prop:"value"},{default:d(()=>[o(i,{modelValue:a(l).value,"onUpdate:modelValue":e[3]||(e[3]=n=>a(l).value=n),clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])}}});export{O as default};
