/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2025-03-11 23:13:38
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[3319],{45575:function(e,l,t){t.r(l),t.d(l,{default:function(){return g}});var a=t(23995),o=(t(27322),t(24434),t(73120)),s=(t(52539),t(44134)),r=(t(92498),t(94981)),d=(t(8784),t(48992),t(6569)),i=(t(64479),t(5309),t(46137)),u=(t(30957),t(34641)),n=t(27386);const f={class:"vab-tree-border"};function m(e,l,t,m,c,b){const k=i.WK,v=s.xE,h=d.q,p=r.dI,_=r.o5,g=s.US,y=o.S2,F=a.kZ;return(0,u.uX)(),(0,u.Wv)(F,{modelValue:e.dialogFormVisible,"onUpdate:modelValue":l[2]||(l[2]=l=>e.dialogFormVisible=l),title:e.title,width:"500px",onClose:e.close},{footer:(0,u.k6)((()=>[(0,u.bF)(y,{onClick:e.close},{default:(0,u.k6)((()=>l[3]||(l[3]=[(0,u.eW)("取 消")]))),_:1},8,["onClick"]),(0,u.bF)(y,{type:"primary",onClick:e.save},{default:(0,u.k6)((()=>l[4]||(l[4]=[(0,u.eW)("确 定")]))),_:1},8,["onClick"])])),default:(0,u.k6)((()=>[(0,u.bF)(g,{ref:"formRef","label-width":"80px",model:e.form,rules:e.rules},{default:(0,u.k6)((()=>[(0,u.bF)(v,{label:"角色码",prop:"role"},{default:(0,u.k6)((()=>[(0,u.bF)(k,{modelValue:e.form.role,"onUpdate:modelValue":l[0]||(l[0]=l=>e.form.role=l)},null,8,["modelValue"])])),_:1}),(0,u.bF)(v,{label:"菜单"},{default:(0,u.k6)((()=>[(0,u.Lk)("div",f,[(0,u.bF)(h,{ref:"treeRef",data:e.list,"default-checked-keys":["/","/vab","/other","/mall","/noColumn","/setting","//github.com/chuzhixin/vue-admin-beautiful?utm_source=gold_browser_extension","/error"],"default-expanded-keys":[],"node-key":"path","show-checkbox":""},{default:(0,u.k6)((({data:e})=>[(0,u.Lk)("span",null,(0,n.v_)(e.meta.title),1)])),_:1},8,["data"])])])),_:1}),(0,u.bF)(v,{label:"按钮权限"},{default:(0,u.k6)((()=>[(0,u.bF)(_,{modelValue:e.form.btnRolesCheckedList,"onUpdate:modelValue":l[1]||(l[1]=l=>e.form.btnRolesCheckedList=l)},{default:(0,u.k6)((()=>[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(e.btnRoles,(e=>((0,u.uX)(),(0,u.Wv)(p,{key:e.value,label:e.value},{default:(0,u.k6)((()=>[(0,u.eW)((0,n.v_)(e.lable),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title","onClose"])}var c=t(24929),b=t(67787),k=t(37489),v=(0,u.pM)({name:"RoleManagementEdit",emits:["fetch-data"],setup(e,{emit:l}){const t=(0,u.WQ)("$baseMessage"),a=(0,k.Kh)({formRef:null,treeRef:null,form:{btnRolesCheckedList:[]},rules:{role:[{required:!0,trigger:"blur",message:"请输入角色码"}]},title:"",dialogFormVisible:!1,list:[],btnRoles:[{lable:"读",value:"read:system"},{lable:"写",value:"write:system"},{lable:"删",value:"delete:system"}]}),o=e=>{e?(a.title="编辑",a.form=JSON.parse(JSON.stringify(e))):a.title="添加",a.dialogFormVisible=!0},s=()=>{a["formRef"].resetFields(),a.form={btnRolesCheckedList:[]},a.dialogFormVisible=!1},r=async()=>{const{data:{list:e}}=await(0,b.v)();a.list=e},d=()=>{a["formRef"].validate((async e=>{if(e){const e=a["treeRef"].getCheckedKeys(),o={"treeArray:":e},{msg:r}=await(0,c.Ed)({...a.form,...o});t(r,"success","vab-hey-message-success"),l("fetch-data"),s()}}))};return(0,u.sV)((()=>{r()})),{...(0,k.QW)(a),showEdit:o,close:s,fetchData:r,save:d}}});function h(e){e.__source="src/views/setting/roleManagement/components/RoleManagementEdit.vue"}var p=t(48499);"function"===typeof h&&h(v);const _=(0,p.A)(v,[["render",m],["__scopeId","data-v-5f116ad2"]]);var g=_}}]);