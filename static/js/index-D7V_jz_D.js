/*!  build: Vue Shop Vite 
     copyright: https://vuejs-core.cn/shop-vite   
     time: 2025-02-28 13:58:02 
 */
import{g as q,_ as A,d as P}from"./MenuManagementEdit-CwZQnsCh.js";import{_ as F}from"./index-Qf4Lmxow.js";import{_ as J}from"./VabQueryFormTopPanel-Hok6JHOx.js";import{_ as O}from"./index-DK68u2cP.js";import{d as Q,r as s,f as S,O as W,a5 as Y,Q as j,a as z,o as d,Y as e,S as o,b7 as G,bv as H,u as i,T as I,a7 as K,bq as U,a6 as m,R as v,aR as X,aP as Z,W as ee,aJ as te,V as oe,b8 as ne}from"./vsv-element-plus-CcCXTk6v.js";import{$ as ae,f as le,aE as se}from"./index-DuUxtc1j.js";import"./index.vue_vue_type_style_index_0_lang-DzqK8dv7.js";import"./index.vue_vue_type_script_setup_true_lang-CAvY8Qbf.js";import"./icon-BD5YxRoK.js";import"./vsv-icon-1Y3OapYK.js";import"./vsv-nprogress-D-M_H-zP.js";const ie={class:"menu-management-container no-background-container auto-height-container"},ye=Q({name:"MenuManagement",__name:"index",setup(ce){const u=s(),r=s(null),f=s([]),y=S({children:"children",label:"label"}),h=s([]),_=s(!0),w=()=>{r.value.showEdit()},k=(t={})=>{r.value.showEdit(t)},C=(t={})=>{t.path&&ae("您确定要删除当前项吗",null,async()=>{const{msg:n}=await P({paths:t.path});le(n,"success","hey"),await c()})},c=async(t={})=>{_.value=!0;const{data:n}=await se({role:t});h.value=n.list,_.value=!1},E=({role:t})=>{c(t)};return W(()=>{var t;(t=u.value)==null||t.doLayout()}),Y(()=>{q().then(({data:t})=>{f.value=t.list}),c()}),(t,n)=>{const x=H,b=O,g=G,p=K,R=J,T=F,a=Z,B=j("vab-icon"),D=te,L=X,N=ne,$=A,M=oe;return d(),z("div",ie,[e(N,{gutter:20},{default:o(()=>[e(g,{lg:4,md:8,sm:24,xl:4,xs:24},{default:o(()=>[e(b,{class:"auto-height-card"},{default:o(()=>[e(x,{data:i(f),"default-expanded-keys":["root"],"node-key":"id",props:i(y),onNodeClick:E},null,8,["data","props"])]),_:1})]),_:1}),e(g,{lg:20,md:16,sm:24,xl:20,xs:24},{default:o(()=>[e(b,{class:"auto-height-card"},{default:o(()=>[e(T,null,{default:o(()=>[e(R,{span:12},{default:o(()=>[e(p,{icon:i(U),type:"primary",onClick:w},{default:o(()=>n[0]||(n[0]=[m("添加")])),_:1},8,["icon"])]),_:1})]),_:1}),I((d(),v(L,{ref_key:"tableRef",ref:u,border:"",data:i(h),"row-key":"path","tree-props":{children:"children",hasChildren:"hasChildren"}},{empty:o(()=>[e(D,{class:"vab-data-empty",description:"暂无数据"})]),default:o(()=>[e(a,{align:"center",label:"标题","min-width":"140",prop:"meta.title","show-overflow-tooltip":""}),e(a,{align:"center",label:"name","min-width":"120",prop:"name","show-overflow-tooltip":""}),e(a,{align:"center",label:"路径","min-width":"140",prop:"path","show-overflow-tooltip":""}),e(a,{align:"center",label:"vue文件路径","min-width":"120",prop:"component","show-overflow-tooltip":""}),e(a,{align:"center",label:"图标"},{default:o(({row:l})=>[l.meta.icon?(d(),v(B,{key:0,icon:l.meta.icon},null,8,["icon"])):ee("",!0)]),_:1}),e(a,{align:"center",label:"操作",width:"150"},{default:o(({row:l})=>[e(p,{text:"",type:"primary",onClick:V=>k(l)},{default:o(()=>n[1]||(n[1]=[m("编辑")])),_:2},1032,["onClick"]),e(p,{text:"",type:"danger",onClick:V=>C(l)},{default:o(()=>n[2]||(n[2]=[m("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[M,i(_)]])]),_:1})]),_:1})]),_:1}),e($,{ref_key:"editRef",ref:r,onFetchData:c},null,512)])}}});export{ye as default};
