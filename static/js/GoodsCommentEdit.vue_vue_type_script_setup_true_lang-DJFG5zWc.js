/*!  build: Vue Shop Vite 
     copyright: https://vuejs-core.cn/shop-vite   
     time: 2025-02-12 09:55:11 
 */
import{k as c,C as R,f as k}from"./index-I0Q3W04Q.js";import{d as F,r as f,h as V,S as M,o as U,T as n,Z as l,ao as h,u as o,ap as B,aL as L,a8 as T,a7 as z,i as D,p as G}from"./vsv-element-plus-B-S50adB.js";function j(m){return c({url:"/goodsComment/getList",method:"get",params:m})}const I=m=>c({url:"/goodsComment/doEdit",method:"post",data:m}),O=m=>c({url:"/goodsComment/doDelete",method:"post",data:m}),Z=F({name:"GoodsCommentEdit",__name:"GoodsCommentEdit",emits:["fetch-data"],setup(m,{expose:b,emit:y}){const g=y,i=f(),u=f(""),d=f(!1),t=V({}),v=V({});b({showEdit:a=>{d.value=!0,G(()=>{a?(u.value="回复",Object.assign(t,a),t.replyStatus==="未回复"&&(t.reply="")):u.value="添加"})}});const _=()=>{var a,e;(a=i.value)==null||a.clearValidate(),(e=i.value)==null||e.resetFields(),g("fetch-data")},x=()=>{var a;(a=i.value)==null||a.validate(async e=>{if(e){const{msg:r}=await I(t);await k(r,"success","hey"),await _(),d.value=!1}})};return(a,e)=>{const r=L,p=B,w=h,C=T,E=R;return U(),M(E,{modelValue:o(d),"onUpdate:modelValue":e[3]||(e[3]=s=>D(d)?d.value=s:null),"append-to-body":"",title:o(u),width:"500px",onClose:_},{footer:n(()=>[l(C,{type:"primary",onClick:x},{default:n(()=>e[4]||(e[4]=[z("保存")])),_:1})]),default:n(()=>[l(w,{ref_key:"formRef",ref:i,"label-width":"80px",model:o(t),rules:o(v)},{default:n(()=>[l(p,{label:"商品名称",prop:"name"},{default:n(()=>[l(r,{modelValue:o(t).name,"onUpdate:modelValue":e[0]||(e[0]=s=>o(t).name=s),modelModifiers:{trim:!0},disabled:""},null,8,["modelValue"])]),_:1}),l(p,{label:"评论内容",prop:"comment"},{default:n(()=>[l(r,{modelValue:o(t).comment,"onUpdate:modelValue":e[1]||(e[1]=s=>o(t).comment=s),modelModifiers:{trim:!0},autosize:{minRows:4,maxRows:12},disabled:"",type:"textarea"},null,8,["modelValue"])]),_:1}),l(p,{label:"回复内容",prop:"reply"},{default:n(()=>[l(r,{modelValue:o(t).reply,"onUpdate:modelValue":e[2]||(e[2]=s=>o(t).reply=s),modelModifiers:{trim:!0},autosize:{minRows:4,maxRows:12},clearable:"",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}});export{Z as _,O as d,j as g};
