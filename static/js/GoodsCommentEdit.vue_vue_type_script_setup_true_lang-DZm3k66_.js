/*!  build: Vue Shop Vite 
     copyright: https://vuejs-core.cn/shop-vite   
     time: 2024-09-27 15:50:12 
 */
import{k as c,f as R,C as k}from"./index-6xtryadw.js";import{d as F,r as f,p as V,o as M,S as U,T as n,W as l,a8 as h,u as o,h as B,x as T,aO as z,aq as D,au as G,a9 as I}from"./vsv-element-plus-DDEqdpLt.js";function $(m){return c({url:"/goodsComment/getList",method:"get",params:m})}const L=m=>c({url:"/goodsComment/doEdit",method:"post",data:m}),j=m=>c({url:"/goodsComment/doDelete",method:"post",data:m}),q=F({name:"GoodsCommentEdit",__name:"GoodsCommentEdit",emits:["fetch-data"],setup(m,{expose:b,emit:x}){const y=x,i=f(),u=f(""),d=f(!1),t=V({}),g=V({});b({showEdit:a=>{d.value=!0,T(()=>{a?(u.value="回复",Object.assign(t,a),t.replyStatus==="未回复"&&(t.reply="")):u.value="添加"})}});const _=()=>{var a,e;(a=i.value)==null||a.clearValidate(),(e=i.value)==null||e.resetFields(),y("fetch-data")},v=()=>{var a;(a=i.value)==null||a.validate(async e=>{if(e){const{msg:r}=await L(t);await R(r,"success","hey"),await _(),d.value=!1}})};return(a,e)=>{const r=z,p=D,w=G,C=I,E=k;return M(),U(E,{modelValue:o(d),"onUpdate:modelValue":e[3]||(e[3]=s=>B(d)?d.value=s:null),"append-to-body":"",title:o(u),width:"500px",onClose:_},{footer:n(()=>[l(C,{type:"primary",onClick:v},{default:n(()=>e[4]||(e[4]=[h("保存")])),_:1})]),default:n(()=>[l(w,{ref_key:"formRef",ref:i,"label-width":"80px",model:o(t),rules:o(g)},{default:n(()=>[l(p,{label:"商品名称",prop:"name"},{default:n(()=>[l(r,{modelValue:o(t).name,"onUpdate:modelValue":e[0]||(e[0]=s=>o(t).name=s),modelModifiers:{trim:!0},disabled:""},null,8,["modelValue"])]),_:1}),l(p,{label:"评论内容",prop:"comment"},{default:n(()=>[l(r,{modelValue:o(t).comment,"onUpdate:modelValue":e[1]||(e[1]=s=>o(t).comment=s),modelModifiers:{trim:!0},autosize:{minRows:4,maxRows:12},disabled:"",type:"textarea"},null,8,["modelValue"])]),_:1}),l(p,{label:"回复内容",prop:"reply"},{default:n(()=>[l(r,{modelValue:o(t).reply,"onUpdate:modelValue":e[2]||(e[2]=s=>o(t).reply=s),modelModifiers:{trim:!0},autosize:{minRows:4,maxRows:12},clearable:"",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}});export{q as _,j as d,$ as g};
