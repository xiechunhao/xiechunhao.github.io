/*!  build: Vue Shop Vite 
     copyright: https://vuejs-core.cn/shop-vite   
     time: 2025-02-28 11:53:44 
 */
import{d as E,b as v,e as m,Q as J,L as t,C as x,S as w,V as a,D as n,X as G,u as i,G as H,_ as d,a3 as P,Z as X,a2 as Z,o as _}from"./vsv-element-plus-DQNbQgVr.js";import{S as K}from"./sortable.esm-JNWusfcT.js";import{g as O,d as W}from"./trade-DgEmw_aG.js";import{h as Y}from"./clipboard-B9ccURei.js";import{_ as ee}from"./index-DXRDwnmL.js";import"./vsv-icon-BSoeDgwL.js";import"./vsv-nprogress-BCb6Y0ID.js";const te={class:"trade-container auto-height-container"},oe={style:{"margin-bottom":"20px"}},ae={key:0,style:{width:"100%"}},le={key:1,style:{width:"100%"}},ne={class:"rowC"},se={class:"rowC",style:{color:"#72767b"}},ie=E({name:"Trade",__name:"classification",setup(re){const C=ref(null),c=ref(!1);ref(!0);const p=ref([]),f=ref(!0),V=ref(0);ref([]);const S=reactive({pageNo:1,pageSize:20}),g=ref(!1),b=ref("add"),k=async()=>{f.value=!0;const{data:l}=await O(S);p.value=l.list,V.value=l.total,f.value=!1},T=l=>{Y(l)},D=()=>{const l=document.querySelector(".elTable .el-table__body-wrapper tbody");K.create(l,{group:"shared",animation:150,ghostClass:"sortable-ghost",easing:"cubic-bezier(1, 0, 0, 1)",onStart:e=>{console.log(e)},onEnd:e=>{console.log(e),F(e.oldIndex,e.newIndex)}})},F=(l,e)=>{const s=p.value;console.log(s);const y=s.splice(l,1)[0];s.splice(e,0,y),p.value=[],nextTick(async()=>{p.value=s})};onMounted(()=>{D()});const B=(l,e)=>{c.value=!0,b.value=l},N=l=>{l.id&&$baseConfirm("你确定要删除当前商品吗，被删除商品将进入回收站，如需彻底删除请在回收站操作！",null,async()=>{const{msg:e}=await W({ids:l.id});$baseMessage(e,"success","hey"),await k()})};return onBeforeMount(()=>{k()}),(l,e)=>{const s=n("el-button"),y=n("el-icon"),r=n("el-table-column"),R=n("SubcaTegory"),$=n("el-input"),h=n("el-image"),z=n("el-popover"),U=n("el-switch"),A=n("el-empty"),I=n("el-table"),j=n("el-avatar"),L=n("goods-add"),M=n("el-drawer"),Q=n("AddClassification"),q=G("loading");return _(),v("div",te,[m("div",oe,[t(s,{style:{background:"#1890ff"},type:"primary",onClick:e[0]||(e[0]=o=>c.value=!0)},{default:a(()=>e[4]||(e[4]=[d("添加一级分类")])),_:1}),t(s,{style:{color:"#fff",background:"#ffa6a7"}},{default:a(()=>e[5]||(e[5]=[d("批量删除(0)")])),_:1})]),J((_(),x(I,{ref_key:"tableRef",ref:C,class:"elTable",data:i(p),style:{height:"700px"},border:"","header-cell-style":{background:"#f5f7fa",lineHeight:"60px"},"cell-style":{background:"#FAFDFF"}},{empty:a(()=>[t(A,{class:"vab-data-empty",description:"暂无数据"})]),default:a(()=>[t(r,{align:"center",width:"38",prop:"image"},{default:a(({row:o})=>[t(y,null,{default:a(()=>[t(i(P))]),_:1})]),_:1}),t(r,{type:"expand",width:"38"},{default:a(o=>[t(R)]),_:1}),t(r,{type:"selection",width:"38"}),t(r,{align:"left",label:"分类名称",prop:"transactionTime"},{default:a(({row:o})=>[t($,{modelValue:o.transactionTime,"onUpdate:modelValue":u=>o.transactionTime=u,style:{"max-width":"600px"},placeholder:"Please input"},{prepend:a(()=>[d(X(o.id),1)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),t(r,{align:"center",label:"分类图片",prop:"image"},{default:a(({row:o})=>[t(z,{placement:"top-start"},{reference:a(()=>[t(h,{src:o.image},null,8,["src"])]),default:a(()=>[t(h,{src:o.image},null,8,["src"])]),_:2},1024)]),_:1}),t(r,{align:"center",label:"状态",prop:"image"},{default:a(({row:o})=>[t(U,{modelValue:o.value1,"onUpdate:modelValue":u=>o.value1=u},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(r,{label:"操作",align:"center",width:"150"},{default:a(({row:o})=>[t(s,{text:"",type:"primary",onClick:u=>B("edit",o)},{default:a(()=>e[6]||(e[6]=[d("编辑")])),_:2},1032,["onClick"]),t(s,{text:"",type:"primary",onClick:u=>N(o)},{default:a(()=>e[7]||(e[7]=[d("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[q,i(f)]]),t(M,{modelValue:i(g),"onUpdate:modelValue":e[2]||(e[2]=o=>H(g)?g.value=o:null),direction:"rtl",size:"60%"},{title:a(()=>[i(b)=="add"?(_(),v("div",ae,"添加商品")):w("",!0),i(b)!="add"?(_(),v("div",le,[m("div",ne,[t(j,{size:55,src:"https://jytc.jubijia.com/JBJ/0c3cc076ebdc45b18524b4716f048557.png",style:{"margin-right":"20px"}}),m("div",null,[e[9]||(e[9]=m("div",{style:{"margin-bottom":"10px","font-size":"16px","font-weight":"500",color:"#000"}}," 【官方直充】腾讯QQ超级会员12个月---限价120 ",-1)),m("div",se,[e[8]||(e[8]=d(" 商品ID：54646 ")),t(s,{icon:i(Z),link:"",circle:"",style:{margin:"0"},onClick:e[1]||(e[1]=o=>T("54646"))},null,8,["icon"])])])])])):w("",!0)]),default:a(()=>[t(L)]),_:1},8,["modelValue"]),i(c)?(_(),x(Q,{key:0,dialogVisible:i(c),onDialogVisibleF:e[3]||(e[3]=o=>c.value=o)},null,8,["dialogVisible"])):w("",!0)])}}}),ge=ee(ie,[["__scopeId","data-v-3d39903e"]]);export{ge as default};
