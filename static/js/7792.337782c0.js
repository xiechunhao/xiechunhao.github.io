/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2025-03-12 00:28:56
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[7792],{24024:function(e,l,t){t.d(l,{Ed:function(){return n},pL:function(){return i},vS:function(){return o}});var a=t(24380);function o(e){return(0,a.A)({url:"/table/getList",method:"get",params:e})}function n(e){return(0,a.A)({url:"/table/doEdit",method:"post",data:e})}function i(e){return(0,a.A)({url:"/table/doDelete",method:"post",data:e})}},97792:function(e,l,t){t.r(l),t.d(l,{default:function(){return y}});var a=t(34641),o=t(27386),n=t(50670);const i={class:"stripe-panel"},r={class:"border-panel"},s={key:0},u={key:1};function d(e,l,t,d,c,p){const b=(0,a.g2)("el-input"),g=(0,a.g2)("el-form-item"),m=(0,a.g2)("el-button"),h=(0,a.g2)("el-form"),f=(0,a.g2)("vab-query-form-left-panel"),k=(0,a.g2)("el-checkbox"),F=(0,a.g2)("vab-icon"),y=(0,a.g2)("el-radio"),v=(0,a.g2)("el-radio-group"),C=(0,a.g2)("el-popover"),_=(0,a.g2)("vab-draggable"),w=(0,a.g2)("el-checkbox-group"),S=(0,a.g2)("vab-query-form-right-panel"),V=(0,a.g2)("vab-query-form"),W=(0,a.g2)("el-table-column"),x=(0,a.g2)("el-rate"),L=(0,a.g2)("el-empty"),q=(0,a.g2)("el-table"),D=(0,a.g2)("el-pagination"),E=(0,a.g2)("edit"),z=(0,a.gN)("loading");return(0,a.uX)(),(0,a.CE)("div",{class:(0,o.C4)(["custom-table-container",{"vab-fullscreen":e.isFullscreen}])},[(0,a.bF)(V,null,{default:(0,a.k6)((()=>[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.bF)(h,{inline:"","label-width":"0",model:e.queryForm,onSubmit:l[2]||(l[2]=(0,n.D$)((()=>{}),["prevent"]))},{default:(0,a.k6)((()=>[(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.bF)(b,{modelValue:e.queryForm.title,"onUpdate:modelValue":l[0]||(l[0]=l=>e.queryForm.title=l),placeholder:"标题"},null,8,["modelValue"])])),_:1}),(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.bF)(m,{icon:e.Search,"native-type":"submit",type:"primary",onClick:e.queryData},{default:(0,a.k6)((()=>l[7]||(l[7]=[(0,a.eW)(" 查询 ")]))),_:1},8,["icon","onClick"]),(0,a.bF)(m,{icon:e.Plus,type:"primary",onClick:e.handleAdd},{default:(0,a.k6)((()=>l[8]||(l[8]=[(0,a.eW)(" 添加 ")]))),_:1},8,["icon","onClick"]),(0,a.bF)(m,{icon:e.Delete,type:"danger",onClick:l[1]||(l[1]=l=>e.handleDelete(l))},{default:(0,a.k6)((()=>l[9]||(l[9]=[(0,a.eW)(" 删除 ")]))),_:1},8,["icon"])])),_:1})])),_:1},8,["model"])])),_:1}),(0,a.bF)(S,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",i,[(0,a.bF)(k,{modelValue:e.stripe,"onUpdate:modelValue":l[3]||(l[3]=l=>e.stripe=l)},{default:(0,a.k6)((()=>l[10]||(l[10]=[(0,a.eW)("斑马纹")]))),_:1},8,["modelValue"])]),(0,a.Lk)("div",r,[(0,a.bF)(k,{modelValue:e.border,"onUpdate:modelValue":l[4]||(l[4]=l=>e.border=l)},{default:(0,a.k6)((()=>l[11]||(l[11]=[(0,a.eW)("边框（可拉伸列）")]))),_:1},8,["modelValue"])]),(0,a.bF)(m,{style:{margin:"0 10px 10px 0 !important"},text:"",type:"primary",onClick:e.clickFullScreen},{default:(0,a.k6)((()=>[(0,a.bF)(F,{icon:e.isFullscreen?"fullscreen-exit-fill":"fullscreen-fill"},null,8,["icon"])])),_:1},8,["onClick"]),(0,a.bF)(C,{"popper-class":"custom-table-radio",trigger:"hover"},{reference:(0,a.k6)((()=>[(0,a.bF)(m,{style:{margin:"0 10px 10px 0 !important"},text:"",type:"primary"},{default:(0,a.k6)((()=>[(0,a.bF)(F,{icon:"line-height"})])),_:1})])),default:(0,a.k6)((()=>[(0,a.bF)(v,{modelValue:e.lineHeight,"onUpdate:modelValue":l[5]||(l[5]=l=>e.lineHeight=l)},{default:(0,a.k6)((()=>[(0,a.bF)(y,{label:"large"},{default:(0,a.k6)((()=>l[12]||(l[12]=[(0,a.eW)("大")]))),_:1}),(0,a.bF)(y,{label:"default"},{default:(0,a.k6)((()=>l[13]||(l[13]=[(0,a.eW)("中")]))),_:1}),(0,a.bF)(y,{label:"small"},{default:(0,a.k6)((()=>l[14]||(l[14]=[(0,a.eW)("小")]))),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.bF)(C,{"popper-class":"custom-table-checkbox",trigger:"hover"},{reference:(0,a.k6)((()=>[(0,a.bF)(m,{style:{margin:"0 0 10px !important"},text:"",type:"primary"},{default:(0,a.k6)((()=>[(0,a.bF)(F,{icon:"settings-line"})])),_:1})])),default:(0,a.k6)((()=>[(0,a.bF)(w,{modelValue:e.checkList,"onUpdate:modelValue":l[6]||(l[6]=l=>e.checkList=l)},{default:(0,a.k6)((()=>[(0,a.bF)(_,(0,a.v6)(e.dragOptions,{"item-key":"{ element }",list:e.columns}),{item:(0,a.k6)((({element:e})=>[(0,a.Lk)("div",null,[(0,a.bF)(F,{icon:"drag-drop-line"}),(0,a.bF)(k,{disabled:!0===e.disableCheck,label:e.label},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.label),1)])),_:2},1032,["disabled","label"])])])),_:1},16,["list"])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(q,{ref:"tableSortRef",border:e.border,data:e.list,height:e.height,size:e.lineHeight,stripe:e.stripe,onSelectionChange:e.setSelectRows},{empty:(0,a.k6)((()=>[(0,a.bF)(L,{class:"vab-data-empty",description:"暂无数据"})])),default:(0,a.k6)((()=>[(0,a.bF)(W,{align:"center",type:"selection",width:"55"}),(0,a.bF)(W,{align:"center",label:"序号","show-overflow-tooltip":"",width:"200"},{default:(0,a.k6)((({$index:e})=>[(0,a.eW)((0,o.v_)(e+1),1)])),_:1}),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.finallyColumns,((e,l)=>((0,a.uX)(),(0,a.Wv)(W,{key:l,align:"center",label:e.label,prop:e.prop,sortable:e.sortable,width:"auto"},{default:(0,a.k6)((({row:l})=>["评级"===e.label?((0,a.uX)(),(0,a.CE)("span",s,[(0,a.bF)(x,{modelValue:l.rate,"onUpdate:modelValue":e=>l.rate=e,disabled:""},null,8,["modelValue","onUpdate:modelValue"])])):((0,a.uX)(),(0,a.CE)("span",u,(0,o.v_)(l[e.prop]),1))])),_:2},1032,["label","prop","sortable"])))),128)),(0,a.bF)(W,{align:"center",label:"操作","show-overflow-tooltip":"",width:"200"},{default:(0,a.k6)((({row:t})=>[(0,a.bF)(m,{text:"",type:"primary",onClick:l=>e.handleEdit(t)},{default:(0,a.k6)((()=>l[15]||(l[15]=[(0,a.eW)(" 编辑 ")]))),_:2},1032,["onClick"]),(0,a.bF)(m,{text:"",type:"primary",onClick:l=>e.handleDelete(t)},{default:(0,a.k6)((()=>l[16]||(l[16]=[(0,a.eW)(" 删除 ")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["border","data","height","size","stripe","onSelectionChange"])),[[z,e.listLoading]]),(0,a.bF)(D,{background:"","current-page":e.queryForm.pageNo,layout:e.layout,"page-size":e.queryForm.pageSize,total:e.total,onCurrentChange:e.handleCurrentChange,onSizeChange:e.handleSizeChange},null,8,["current-page","layout","page-size","total","onCurrentChange","onSizeChange"]),(0,a.bF)(E,{ref:"editRef",onFetchData:e.fetchData},null,8,["onFetchData"])],2)}t(57284),t(94473),t(63135),t(12914),t(55759);var c=t(24024),p=t(52375),b=t.n(p),g=t(39928),m=t(37489),h=(0,a.pM)({name:"CustomTable",components:{Edit:(0,a.$V)((()=>t.e(3488).then(t.bind(t,31107)))),VabDraggable:b()},setup(){const e=(0,a.WQ)("$baseConfirm"),l=(0,a.WQ)("$baseMessage"),t=(0,a.WQ)("$baseTableHeight"),o=(0,m.Kh)({tableSortRef:null,editRef:null,border:!0,height:t(1),stripe:!1,lineHeight:"small",isFullscreen:!1,checkList:["标题","作者","评级","点击量","时间"],columns:[{label:"标题",prop:"title",sortable:!0,disableCheck:!0},{label:"作者",prop:"author",sortable:!0},{label:"评级",prop:"rate",sortable:!0},{label:"点击量",prop:"pageViews",sortable:!0},{label:"时间",prop:"datetime",sortable:!0}],list:[],imageList:[],listLoading:!0,layout:"total, sizes, prev, pager, next, jumper",total:0,selectRows:"",queryForm:{pageNo:1,pageSize:20,title:""}}),n=(0,a.EW)((()=>({animation:600,group:"description"}))),i=(0,a.EW)((()=>o.columns.filter((e=>o.checkList.includes(e.label))))),r=async()=>{o.listLoading=!0;const{data:{list:e,total:l}}=await(0,c.vS)(o.queryForm);o.list=e;const t=[];e.forEach((e=>{t.push(e.img)})),o.total=l,o.listLoading=!1},s=e=>{o.queryForm.pageSize=e,r()},u=e=>{o.queryForm.pageNo=e,r()},d=()=>{o.queryForm.pageNo=1,r()},p=()=>{o.isFullscreen=!o.isFullscreen,b()},b=()=>{o.isFullscreen?o.height=t(1)+210:o.height=t(1)},h=e=>{o.selectRows=e},f=()=>{o["editRef"].showEdit()},k=e=>{o["editRef"].showEdit(e)},F=t=>{if(t.id)e("你确定要删除当前项吗",null,(async()=>{const{msg:e}=await(0,c.pL)({ids:t.id});l(e,"success","vab-hey-message-success"),await r()}));else if(o.selectRows.length>0){const t=o.selectRows.map((e=>e.id)).join();e("你确定要删除选中项吗",null,(async()=>{const{msg:e}=await(0,c.pL)({ids:t});l(e,"success","vab-hey-message-success"),await r()}))}else l("未选中任何行","error","vab-hey-message-error")};return(0,a.sV)((()=>{r()})),{...(0,m.QW)(o),dragOptions:n,finallyColumns:i,handleSizeChange:s,handleCurrentChange:u,queryData:d,handleHeight:b,setSelectRows:h,clickFullScreen:p,fetchData:r,handleAdd:f,handleEdit:k,handleDelete:F,Plus:g.Plus,Delete:g.Delete,Search:g.Search,Setting:g.Setting}}});function f(e){e.__source="src/views/vab/table/customTable.vue"}var k=t(48499);"function"===typeof f&&f(h);const F=(0,k.A)(h,[["render",d],["__scopeId","data-v-6da5da32"]]);var y=F}}]);