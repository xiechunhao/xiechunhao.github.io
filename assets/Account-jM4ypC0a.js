import{a as e,b as a,c as l,d as t,m as s,e as o,r as m,t as r,f as u,v as d,w as n,_ as i}from"./index-B2uLNVFs.js";import{_ as p}from"./ButtonTable-DJBrQd3H.js";/* empty css               */import{a as c,b as v,c as b}from"./avatar9-BQE11Ghb.js";import{h as f,r as x,X as _,k as h,l as V,m as g,u as w,i as y,a0 as k,j as U,H as C,N as j,p as q,z as P,s as T,ah as B,E as I,aU as R,$ as z,K as F,aJ as S,aY as Y,L as $,_ as A,ar as D,as as E}from"./vendor-Bhb26uf3.js";const H=[{username:"中小鱼",sex:0,mobile:"18670001591",email:"83901823@mall.com",dep:"研发部",status:"1",create_time:"2020-09-09 10:01:10",avatar:e},{username:"何小荷",sex:1,mobile:"17766664444",email:"623141232@mall.com",dep:"电商部",status:"1",create_time:"2020-10-10 13:01:12",avatar:a},{username:"誶誶淰",sex:0,mobile:"18670001597",email:"47578182332@mall.com",dep:"人事部",status:"1",create_time:"2020-11-14 12:01:45",avatar:l},{username:"发呆草",sex:0,mobile:"18670001596",email:"83777712332@mall.com",dep:"产品部",status:"1",create_time:"2020-11-14 09:01:20",avatar:t},{username:"甜筒",sex:1,mobile:"18670001595",email:"318208133@mall.com",dep:"财务部",status:"1",create_time:"2020-11-13 11:01:05",avatar:s},{username:"冷月呆呆",sex:1,mobile:"18670001594",email:"91231232@mall.com",dep:"运营部",status:"1",create_time:"2020-10-11 13:10:26",avatar:o},{username:"唐不苦",sex:1,mobile:"18123820191",email:"782788821134@mall.com",dep:"客服部",status:"2",create_time:"2020-05-14 12:05:10",avatar:c},{username:"笑很甜",sex:0,mobile:"18670001592",email:"4234333233@mall.com",dep:"总经办",status:"3",create_time:"2020-11-12 07:22:25",avatar:v},{username:"青隐篱",sex:0,mobile:"18670001581",email:"731231233@mall.com",dep:"研发部",status:"4",create_time:"2020-06-12 05:04:20",avatar:b},{username:"有你一生",sex:0,mobile:"13755554444",email:"6908483283@mall.com",dep:"研发部",status:"1",create_time:"2020-11-12 16:01:10",avatar:m},{username:"冷月呆呆",sex:1,mobile:"13766660000",email:"43212312345@mall.com",dep:"研发部",status:"1",create_time:"2020-11-14 12:01:20",avatar:o},{username:"唐不苦",sex:1,mobile:"18670001502",email:"42342343322@mall.com",dep:"研发部",status:"1",create_time:"2020-11-14 12:01:20",avatar:c},{username:"笑很甜",sex:0,mobile:"13006644977",email:"59019238828@mall.com",dep:"研发部",status:"1",create_time:"2020-11-14 12:01:20",avatar:v},{username:"青隐篱",sex:0,mobile:"13599998888",email:"8080123333@mall.com",dep:"研发部",status:"1",create_time:"2020-11-14 12:01:20",avatar:b},{username:"有你一生",sex:0,mobile:"13799998888",email:"7923791823@mall.com",dep:"研发部",status:"1",create_time:"2020-11-14 12:01:20",avatar:m}],J={class:"page-content"},K={class:"user",style:{display:"flex","align-items":"center"}},L=["src"],N={class:"user-name"},X={class:"email"},G={class:"dialog-footer"},M=i(f({__name:"Account",setup(e){const a=x("add"),l=x(!1),t=_({username:"",phone:"",sex:"",dep:""}),s=[{value:"男",label:"男"},{value:"女",label:"女"}],o=[{value:"1",label:"普通用户"},{value:"2",label:" VIP"}],m=_([{name:"用户名",show:!0},{name:"手机号",show:!0},{name:"性别",show:!0},{name:"部门",show:!0},{name:"状态",show:!0},{name:"创建日期",show:!0}]),i=x(),c=_({name:"",phone:"",email:"",account:"",id:"",sex:"",level:""}),v=H,b=(e,s)=>{l.value=!0,a.value=e,"edit"===e&&s?(t.username=s.username,t.phone=s.mobile,t.sex=1===s.sex?"男":"女",t.dep=s.dep):(t.username="",t.phone="",t.sex="男",t.dep="")},f=()=>{B.confirm("确定要注销该用户吗？","注销用户",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((()=>{I.success("注销成功")}))},M=()=>{},O=e=>{m.values=e},Q=(e,a)=>a.status===e,W=e=>{switch(e){case"1":return"success";case"2":default:return"info";case"3":return"warning";case"4":return"danger"}},Z=e=>{let a="";return"1"===e?a="在线":"2"===e?a="离线":"3"===e?a="异常":"4"===e&&(a="注销"),a},ee=_({username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号格式",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],dep:[{required:!0,message:"请选择部门",trigger:"change"}]}),ae=x(),le=()=>{return e=this,t=null,s=function*(){ae.value&&(yield ae.value.validate((e=>{e&&(I.success("add"===a.value?"添加成功":"更新成功"),l.value=!1)})))},new Promise(((a,l)=>{var o=e=>{try{r(s.next(e))}catch(a){l(a)}},m=e=>{try{r(s.throw(e))}catch(a){l(a)}},r=e=>e.done?a(e.value):Promise.resolve(e.value).then(o,m);r((s=s.apply(e,t)).next())}));var e,t,s};return(e,x)=>{const _=d,B=R,I=n,H=z,te=F,se=r,oe=S,me=Y,re=p,ue=u,de=$,ne=A,ie=D,pe=E,ce=k;return U(),h("div",J,[V(se,{showTop:!1,onSearch:M,onReset:x[8]||(x[8]=e=>{var a;(a=w(i))&&a.resetFields()}),onChangeColumn:O,columns:w(m)},{top:g((()=>[V(H,{model:w(c),ref_key:"searchFormRef",ref:i,"label-width":"82px"},{default:g((()=>[V(B,{gutter:20},{default:g((()=>[V(_,{label:"用户名",prop:"name",modelValue:w(c).name,"onUpdate:modelValue":x[0]||(x[0]=e=>w(c).name=e)},null,8,["modelValue"]),V(_,{label:"手机号",prop:"phone",modelValue:w(c).phone,"onUpdate:modelValue":x[1]||(x[1]=e=>w(c).phone=e)},null,8,["modelValue"]),V(_,{label:"邮箱",prop:"email",modelValue:w(c).email,"onUpdate:modelValue":x[2]||(x[2]=e=>w(c).email=e)},null,8,["modelValue"]),V(_,{label:"账号",prop:"account",modelValue:w(c).account,"onUpdate:modelValue":x[3]||(x[3]=e=>w(c).account=e)},null,8,["modelValue"])])),_:1}),V(B,{gutter:20},{default:g((()=>[V(_,{label:"用户ID",prop:"id",modelValue:w(c).id,"onUpdate:modelValue":x[4]||(x[4]=e=>w(c).id=e)},null,8,["modelValue"]),V(I,{label:"性别",prop:"sex",modelValue:w(c).sex,"onUpdate:modelValue":x[5]||(x[5]=e=>w(c).sex=e),options:s},null,8,["modelValue"]),V(I,{label:"会员等级",prop:"level",modelValue:w(c).level,"onUpdate:modelValue":x[6]||(x[6]=e=>w(c).level=e),options:o},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),bottom:g((()=>[V(te,{onClick:x[7]||(x[7]=e=>b("add"))},{default:g((()=>x[15]||(x[15]=[C("添加用户")]))),_:1})])),_:1},8,["columns"]),V(ue,{data:w(v),selection:"",currentPage:1,pageSize:10,total:50},{default:g((()=>[w(m)[0].show?(U(),j(oe,{key:0,label:"用户名",prop:"avatar",width:"300px"},{default:g((e=>[q("div",K,[q("img",{class:"avatar",src:e.row.avatar},null,8,L),q("div",null,[q("p",N,P(e.row.username),1),q("p",X,P(e.row.email),1)])])])),_:1})):T("",!0),w(m)[1].show?(U(),j(oe,{key:1,label:"手机号",prop:"mobile"})):T("",!0),w(m)[2].show?(U(),j(oe,{key:2,label:"性别",prop:"sex",sortable:""},{default:g((e=>[C(P(1===e.row.sex?"男":"女"),1)])),_:1})):T("",!0),w(m)[3].show?(U(),j(oe,{key:3,label:"部门",prop:"dep"})):T("",!0),w(m)[4].show?(U(),j(oe,{key:4,label:"状态",prop:"status",filters:[{text:"在线",value:"1"},{text:"离线",value:"2"},{text:"异常",value:"3"},{text:"注销",value:"4"}],"filter-method":Q,"filter-placement":"bottom-end"},{default:g((e=>[V(me,{type:W(e.row.status)},{default:g((()=>[C(P(Z(e.row.status)),1)])),_:2},1032,["type"])])),_:1})):T("",!0),w(m)[5].show?(U(),j(oe,{key:5,label:"创建日期",prop:"create_time",sortable:""})):T("",!0),V(oe,{fixed:"right",label:"操作",width:"150px"},{default:g((e=>[V(re,{type:"edit",onClick:a=>b("edit",e.row)},null,8,["onClick"]),V(re,{type:"delete",onClick:f})])),_:1})])),_:1},8,["data"]),V(ce,{modelValue:w(l),"onUpdate:modelValue":x[14]||(x[14]=e=>y(l)?l.value=e:null),title:"add"===w(a)?"添加用户":"编辑用户",width:"30%"},{footer:g((()=>[q("div",G,[V(te,{onClick:x[13]||(x[13]=e=>l.value=!1)},{default:g((()=>x[16]||(x[16]=[C("取消")]))),_:1}),V(te,{type:"primary",onClick:le},{default:g((()=>x[17]||(x[17]=[C("提交")]))),_:1})])])),default:g((()=>[V(H,{ref_key:"formRef",ref:ae,model:w(t),rules:w(ee),"label-width":"80px"},{default:g((()=>[V(ne,{label:"用户名",prop:"username"},{default:g((()=>[V(de,{modelValue:w(t).username,"onUpdate:modelValue":x[9]||(x[9]=e=>w(t).username=e)},null,8,["modelValue"])])),_:1}),V(ne,{label:"手机号",prop:"phone"},{default:g((()=>[V(de,{modelValue:w(t).phone,"onUpdate:modelValue":x[10]||(x[10]=e=>w(t).phone=e)},null,8,["modelValue"])])),_:1}),V(ne,{label:"性别",prop:"sex"},{default:g((()=>[V(pe,{modelValue:w(t).sex,"onUpdate:modelValue":x[11]||(x[11]=e=>w(t).sex=e)},{default:g((()=>[V(ie,{label:"男",value:"男"}),V(ie,{label:"女",value:"女"})])),_:1},8,["modelValue"])])),_:1}),V(ne,{label:"部门",prop:"dep"},{default:g((()=>[V(pe,{modelValue:w(t).dep,"onUpdate:modelValue":x[12]||(x[12]=e=>w(t).dep=e)},{default:g((()=>[V(ie,{label:"董事会部",value:1}),V(ie,{label:"市场部",value:2}),V(ie,{label:"技术部",value:3})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])}}}),[["__scopeId","data-v-4d1046f9"]]);export{M as default};
