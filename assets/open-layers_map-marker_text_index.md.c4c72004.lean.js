import{c,S as u,T as f,F as m,a as E,V as d}from"./chunks/Vector.f72cf874.js";import{g as r,M as S,V as g,B as _}from"./chunks/reproj.50e0d4ab.js";import{A as q,M as w,S as e}from"./chunks/index.47495de9.js";import{T as v}from"./chunks/TileImage.36abd4f0.js";import{X as B}from"./chunks/XYZ.eaf43adc.js";import{E as x}from"./chunks/index.2972f73c.js";import{F as h}from"./chunks/FullScreen.9a3e590b.js";import{V as b}from"./chunks/Vector.0afd591d.js";import{d as V,a2 as L,p as T,a3 as k,D as P,o as y,c as F,G as D,F as M,M as N,N as I,z as o,_ as U,a as Z,O as H}from"./chunks/framework.166469be.js";import"./chunks/index.a5aab8d8.js";const A=n=>new u({text:new f({textAlign:"center",textBaseline:"middle",font:"normal 14px 微软雅黑",text:n.get("name"),fill:new m({color:"#aa3300"}),stroke:new E({color:"#ffcc33",width:2})})}),O=({coordinate:n,vectorSource:s,name:t="标注点"})=>{if(s===null)return;const p=new c({geometry:new r(n),name:t});p.setStyle(A(p)),s.addFeature(p)},R=n=>(N("data-v-349fee22"),n=n(),I(),n),G=R(()=>o("div",{id:"map"},null,-1)),X=V({__name:"index",setup(n){const s=L({input:"",map:null,vectorSource:null}),t=new v({source:new B({attributions:q,url:w,maxZoom:20})}),p=()=>{s.map=new S({target:"map",layers:[t],view:new g({projection:"EPSG:4326",center:e,zoom:5}),controls:_().extend([new h])});const a=new c({geometry:new r(e),name:"深圳市"});a.setStyle(A(a)),s.vectorSource=new d({features:[a]});const l=new b({source:s.vectorSource});s.map.addLayer(l)};return T(()=>{p(),s.map&&s.map.on("click",a=>{if(!s.input){x({message:"请先添加标注名",type:"warning"});return}const l=a.coordinate;O({coordinate:l,vectorSource:s.vectorSource,name:s.input})})}),k(()=>{s.map&&(s.map.dispose(),s.map=null)}),(a,l)=>{const i=P("el-input");return y(),F(M,null,[D(i,{modelValue:s.input,"onUpdate:modelValue":l[0]||(l[0]=C=>s.input=C),placeholder:"输入文字后点击地图方可添加文字标注",clearable:"",style:{"margin-bottom":"20px"}},null,8,["modelValue"]),G],64)}}});const j=U(X,[["__scopeId","data-v-349fee22"]]),z=o("h1",{id:"文字标注",tabindex:"-1"},[Z("文字标注 "),o("a",{class:"header-anchor",href:"#文字标注","aria-label":'Permalink to "文字标注"'},"​")],-1),Y=o("div",{class:"tip custom-block"},[o("p",{class:"custom-block-title"},"TIP"),o("p",null,"输入文字后点击地图方可添加文字标注。")],-1),$=H("",4),es=JSON.parse('{"title":"文字标注","description":"","frontmatter":{},"headers":[],"relativePath":"open-layers/map-marker/text/index.md","filePath":"open-layers/map-marker/text/index.md"}'),J={name:"open-layers/map-marker/text/index.md"},cs=Object.assign(J,{setup(n){return(s,t)=>(y(),F("div",null,[z,Y,D(j),$]))}});export{es as __pageData,cs as default};
