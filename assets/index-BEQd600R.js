import{bD as Ie,aS as Se,L as me,aI as Ae,aC as Q,g as fe,aD as be,bE as Ce,bF as Pe,bi as Le,b6 as ce,r as L,J as K,R as B,U as ee,K as ne,aj as E,o as S,c as D,w,e as b,m as V,F,b as h,a5 as de,a8 as z,a6 as Y,t as $,d as j,n as ge,a$ as X,W as Ue,aE as Ee,b3 as $e,bG as Ve,bH as Oe,aV as De,a2 as Re,b1 as ze,b2 as Be,X as oe,Y as ae,a as je,u as pe,be as Te,av as Ke,bI as ve}from"./index-C4BxmZrN.js";import{E as Ne}from"./autocomplete-CzmoRs3v.js";import{i as We}from"./index-BY7TmcLY.js";import{i as te}from"./index-CkGVv88Q.js";import{i as xe}from"./index-DSHqkOzX.js";var ye={exports:{}};(function(e,f){(function(g,v){e.exports=v()})(Ie,function(){function g(o){var y=[];return o.AMapUI&&y.push(v(o.AMapUI)),o.Loca&&y.push(d(o.Loca)),Promise.all(y)}function v(o){return new Promise(function(y,r){var p=[];if(o.plugins)for(var n=0;n<o.plugins.length;n+=1)l.AMapUI.plugins.indexOf(o.plugins[n])==-1&&p.push(o.plugins[n]);if(s.AMapUI===t.failed)r("前次请求 AMapUI 失败");else if(s.AMapUI===t.notload){s.AMapUI=t.loading,l.AMapUI.version=o.version||l.AMapUI.version,n=l.AMapUI.version;var m=document.body||document.head,A=document.createElement("script");A.type="text/javascript",A.src="https://webapi.amap.com/ui/"+n+"/main.js",A.onerror=function(k){s.AMapUI=t.failed,r("请求 AMapUI 失败")},A.onload=function(){if(s.AMapUI=t.loaded,p.length)window.AMapUI.loadUI(p,function(){for(var k=0,O=p.length;k<O;k++){var C=p[k].split("/").slice(-1)[0];window.AMapUI[C]=arguments[k]}for(y();c.AMapUI.length;)c.AMapUI.splice(0,1)[0]()});else for(y();c.AMapUI.length;)c.AMapUI.splice(0,1)[0]()},m.appendChild(A)}else s.AMapUI===t.loaded?o.version&&o.version!==l.AMapUI.version?r("不允许多个版本 AMapUI 混用"):p.length?window.AMapUI.loadUI(p,function(){for(var k=0,O=p.length;k<O;k++){var C=p[k].split("/").slice(-1)[0];window.AMapUI[C]=arguments[k]}y()}):y():o.version&&o.version!==l.AMapUI.version?r("不允许多个版本 AMapUI 混用"):c.AMapUI.push(function(k){k?r(k):p.length?window.AMapUI.loadUI(p,function(){for(var O=0,C=p.length;O<C;O++){var J=p[O].split("/").slice(-1)[0];window.AMapUI[J]=arguments[O]}y()}):y()})})}function d(o){return new Promise(function(y,r){if(s.Loca===t.failed)r("前次请求 Loca 失败");else if(s.Loca===t.notload){s.Loca=t.loading,l.Loca.version=o.version||l.Loca.version;var p=l.Loca.version,n=l.AMap.version.startsWith("2"),m=p.startsWith("2");if(n&&!m||!n&&m)r("JSAPI 与 Loca 版本不对应！！");else{n=l.key,m=document.body||document.head;var A=document.createElement("script");A.type="text/javascript",A.src="https://webapi.amap.com/loca?v="+p+"&key="+n,A.onerror=function(k){s.Loca=t.failed,r("请求 AMapUI 失败")},A.onload=function(){for(s.Loca=t.loaded,y();c.Loca.length;)c.Loca.splice(0,1)[0]()},m.appendChild(A)}}else s.Loca===t.loaded?o.version&&o.version!==l.Loca.version?r("不允许多个版本 Loca 混用"):y():o.version&&o.version!==l.Loca.version?r("不允许多个版本 Loca 混用"):c.Loca.push(function(k){k?r(k):r()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var t;(function(o){o.notload="notload",o.loading="loading",o.loaded="loaded",o.failed="failed"})(t||(t={}));var l={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},s={AMap:t.notload,AMapUI:t.notload,Loca:t.notload},c={AMap:[],AMapUI:[],Loca:[]},M=[],I=function(o){typeof o=="function"&&(s.AMap===t.loaded?o(window.AMap):M.push(o))};return{load:function(o){return new Promise(function(y,r){if(s.AMap==t.failed)r("");else if(s.AMap==t.notload){var p=o.key,n=o.version,m=o.plugins;p?(window.AMap&&location.host!=="lbs.amap.com"&&r("禁止多种API加载方式混用"),l.key=p,l.AMap.version=n||l.AMap.version,l.AMap.plugins=m||l.AMap.plugins,s.AMap=t.loading,n=document.body||document.head,window.___onAPILoaded=function(k){if(delete window.___onAPILoaded,k)s.AMap=t.failed,r(k);else for(s.AMap=t.loaded,g(o).then(function(){y(window.AMap)}).catch(r);M.length;)M.splice(0,1)[0]()},m=document.createElement("script"),m.type="text/javascript",m.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+l.AMap.version+"&key="+p+"&plugin="+l.AMap.plugins.join(","),m.onerror=function(k){s.AMap=t.failed,r(k)},n.appendChild(m)):r("请填写key")}else if(s.AMap==t.loaded)if(o.key&&o.key!==l.key)r("多个不一致的 key");else if(o.version&&o.version!==l.AMap.version)r("不允许多个版本 JSAPI 混用");else{if(p=[],o.plugins)for(n=0;n<o.plugins.length;n+=1)l.AMap.plugins.indexOf(o.plugins[n])==-1&&p.push(o.plugins[n]);p.length?window.AMap.plugin(p,function(){g(o).then(function(){y(window.AMap)}).catch(r)}):g(o).then(function(){y(window.AMap)}).catch(r)}else if(o.key&&o.key!==l.key)r("多个不一致的 key");else if(o.version&&o.version!==l.AMap.version)r("不允许多个版本 JSAPI 混用");else{var A=[];if(o.plugins)for(n=0;n<o.plugins.length;n+=1)l.AMap.plugins.indexOf(o.plugins[n])==-1&&A.push(o.plugins[n]);I(function(){A.length?window.AMap.plugin(A,function(){g(o).then(function(){y(window.AMap)}).catch(r)}):g(o).then(function(){y(window.AMap)}).catch(r)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,l={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},s={AMap:t.notload,AMapUI:t.notload,Loca:t.notload},c={AMap:[],AMapUI:[],Loca:[]}}}})})(ye);var Fe=ye.exports;const le=Se(Fe),se={height:{type:String,default:"460px"},center:Array,zoom:{type:Number,default:11},selectedZoom:{type:Number,default:17},poiLimit:{type:Number,default:30},poiType:{type:String,default:""},poiKeywords:{type:String,default:""},poiRadius:{type:Number,default:1e3},returnRegions:Boolean,required:{type:Boolean,default:!0},message:String,suggestionCity:{type:String,default:"全国"},searchPlaceholder:String,markerSrc:{type:String,default:"https://3gimg.qq.com/lightmap/components/locationPicker2/image/marker.png"},mapKey:String,mapVersion:{type:String,default:"2.0"},mapStyle:String,darkMode:Boolean,okText:String,emptyProps:Object,searchStyle:Object,mode:{type:String,default:"poi"},filterable:{type:Boolean,default:!0},clickMessage:String},Je={...se,modelValue:Boolean,modalProps:Object,responsive:{type:Boolean,default:null},locale:Object,keywordMode:Boolean,headerStyle:Object},qe={done:e=>!0,mapDone:e=>!0,open:()=>!0,closed:()=>!0,"update:modelValue":e=>!0},Ze=Object.keys(se),H="ele-map-view-body-icon",Ge=me({name:"MapView",components:{ElAutocomplete:Ne,ElInput:Ae,ElButton:Q,ElIcon:fe,ElEmpty:be,EleLoading:We,PlusOutlined:Ce,EnvironmentOutlined:Pe,CheckCircleOutlined:Le,SearchOutlined:ce},props:se,emits:{mapDone:e=>!0,select:e=>!0,done:e=>!0},setup(e,{emit:f}){const g=L(null),v=L(null),d=L(!0),t=L(!1),l=L(!1),s=L([]),c=L([]),M=L([H]),I=L(""),o=L(null),y=K(()=>e.required&&!o.value),r=K(()=>e.mode==="keyword"),p=K(()=>e.mode==="poi"),n={lastSuggestion:"",selectedSuggestion:null,isItemClickMove:!1,mapIns:null,placeSearchIns:null,autoCompleteIns:null,centerMarker:null},m=()=>{!e.mapKey||n.mapIns||le.load({key:e.mapKey,version:e.mapVersion,plugins:["AMap.PlaceSearch","AMap.AutoComplete"]}).then(a=>{Z(),n.autoCompleteIns=new a.AutoComplete({city:e.suggestionCity}),n.placeSearchIns=new a.PlaceSearch({type:e.poiType,pageSize:e.poiLimit,pageIndex:1});const i=e.darkMode?"amap://styles/dark":void 0;n.mapIns=new a.Map(g.value,{zoom:e.zoom,center:e.center,resizeEnable:!0,mapStyle:e.mapStyle||i}),n.mapIns.on("complete",()=>{if(d.value=!1,p.value||r.value){const{lng:u,lat:_}=n.mapIns.getCenter();N(u,_)}}),n.mapIns.on("moveend",()=>{if(n.isItemClickMove||!p.value){n.isItemClickMove=!1;return}ie();const{lng:u,lat:_}=n.mapIns.getCenter();N(u,_)}),n.mapIns.on("click",u=>{if(p.value||r.value)return;if(u.lnglat==null||typeof u.lnglat!="object"){console.error(u);return}const{lng:_,lat:P}=u.lnglat;C({location:{lng:_,lat:P}}),x(_,P,e.selectedZoom),W(_,P)}),n.centerMarker=new a.Marker({icon:new a.Icon({image:e.markerSrc,size:new a.Size(26,36.5),imageSize:new a.Size(26,36.5)}),offset:new a.Pixel(-13,-36.5)}),f("mapDone",n.mapIns)}).catch(a=>{console.error(a)})},A=(a,i)=>{if(!a||n.lastSuggestion===a){i&&i(c.value);return}n.lastSuggestion=a,r.value&&(t.value=!0),he(a).then(u=>{if(r.value){s.value=u,t.value=!1,C(null),q();return}c.value=u,i&&i(c.value)}).catch(u=>{console.error(u),t.value=!1,i&&i(c.value)})},k=a=>{if(v.value&&v.value.blur(),!a||!a.location)return;const{lng:i,lat:u}=a.location;p.value?((!s.value.length||s.value[0].name!==a.name)&&(s.value=[a,...s.value]),C(s.value[0])):(C(a),W(i,u)),x(i,u,e.selectedZoom),n.selectedSuggestion=a},O=a=>{n.isItemClickMove=!0,C(a);const{lng:i,lat:u}=a.location;if(x(i,u,e.selectedZoom),p.value){ie();return}W(i,u)},C=a=>{o.value!==a&&(o.value=a,f("select",o.value))},J=()=>{if(!o.value){l.value=!0,re(e.returnRegions).then(i=>{l.value=!1,f("done",i)}).catch(i=>{console.error(i),l.value=!1,f("done",{})});return}const a={...o.value.location,name:o.value.name||"",address:o.value.address||""};if(e.returnRegions){l.value=!0,x(a.lng,a.lat),re(!0).then(({city:i})=>{l.value=!1,a.city=i,f("done",a)}).catch(i=>{console.error(i),l.value=!1,f("done",a)});return}f("done",a)},he=a=>new Promise((i,u)=>{if(!n.autoCompleteIns){u(new Error("AutoComplete instance is null"));return}n.autoCompleteIns.search(a,(_,P)=>{if(_==="error"){u(new Error(_+" "+(P?JSON.stringify(P):"")));return}if(!(P!=null&&P.tips)){i([]);return}const R=P.tips.filter(U=>!!U.location).map(U=>{const G=`${U.name}(${U.district})`;return{...U,label:U.name,value:U.name,key:U.id||G,address:Array.isArray(U.address)?U.address[0]:U.address}});i(R)})}),N=(a,i)=>{t.value=!0,Me(a,i).then(u=>{n.selectedSuggestion?(u.length===0||u[0].name!==n.selectedSuggestion.name?s.value=[n.selectedSuggestion,...u]:s.value=u,C(s.value[0])):(s.value=u,C(null)),t.value=!1}).catch(u=>{console.error(u);const _=n.selectedSuggestion;s.value=_?[_]:[],C(_||null),t.value=!1})},Me=(a,i)=>new Promise((u,_)=>{if(!n.placeSearchIns){_(new Error("PlaceSearch instance is null"));return}n.placeSearchIns.searchNearBy(e.poiKeywords,[a,i],e.poiRadius,(P,R)=>{var U;if(P==="complete"&&((U=R==null?void 0:R.poiList)!=null&&U.pois)){const G=R.poiList.pois.filter(T=>!!T.location).map((T,_e)=>({...T,key:T.id||`${T.name}-${_e}`}));u(G)}else P==="no_data"?u([]):_(new Error(P+" "+(R?JSON.stringify(R):"")))})}),ie=()=>{M.value=[H],Ue(()=>{setTimeout(()=>{M.value=[H,"ele-map-view-anim-bounce"]},0)})},q=()=>{n.centerMarker&&n.mapIns&&n.mapIns.remove(n.centerMarker)},W=(a,i)=>{if(!n.centerMarker){console.error("centerMarker is null");return}if(!n.mapIns){console.error("map instance is null");return}a!=null&&i!=null?(n.centerMarker.setPosition([a,i]),n.mapIns.add(n.centerMarker)):q()},x=(a,i,u)=>{n.mapIns&&a!=null&&i!=null&&(u==null?n.mapIns.setCenter([a,i]):n.mapIns.setZoomAndCenter(u,[a,i]))},re=a=>new Promise((i,u)=>{if(!n.mapIns){u(new Error("map instance is null"));return}const _=n.mapIns.getCenter();a?n.mapIns.getCity(P=>{_.city=P,i(_)}):i(_)}),ue=a=>{n.mapIns&&(typeof a=="boolean"?a?n.mapIns.setMapStyle("amap://styles/dark"):n.mapIns.setMapStyle("amap://styles/normal"):a&&n.mapIns.setMapStyle(a))},ke=()=>{n.mapIns&&n.mapIns.destroy(),n.centerMarker=null,n.placeSearchIns=null,n.autoCompleteIns=null,n.mapIns=null},Z=()=>{ke(),n.lastSuggestion="",n.selectedSuggestion=null,n.isItemClickMove=!1,s.value=[],c.value=[],I.value="",C(null)},we=()=>n.mapIns;return B(()=>e.darkMode,a=>{e.mapStyle||ue(a)}),B(()=>e.mapStyle,a=>{a&&ue(a)}),B(()=>e.mode,a=>{if(I.value="",c.value=[],n.selectedSuggestion=null,n.lastSuggestion="",q(),a!=="poi"&&o.value){const{lng:i,lat:u}=o.value.location;W(i,u)}if(!s.value.length&&(a==="poi"||a==="keyword"))if(o.value){const{lng:i,lat:u}=o.value.location;N(i,u)}else{const{lng:i,lat:u}=n.mapIns.getCenter();N(i,u)}}),B(()=>e.mapKey,()=>{Z(),m()}),ee(()=>{m()}),ne(()=>{Z()}),{SearchOutlined:ce,mapRef:g,autocompleteRef:v,loading:d,poiLoading:t,confirmLoading:l,data:s,suggestionData:c,centerIconClass:M,keywords:I,selected:o,confirmDisabled:y,keywordMode:r,poiMode:p,onSearch:A,onSearchSelect:k,onItemClick:O,onConfirm:J,getMapIns:we}}}),Ye=(e,f)=>{const g=e.__vccOpts||e;for(const[v,d]of f)g[v]=d;return g},He={class:"ele-map-view-body"},Xe={ref:"mapRef",style:{height:"100%"}},Qe=["src"],en={class:"ele-map-suggest-item"},nn={class:"ele-map-suggest-title"},on={class:"ele-map-suggest-text"},an={key:0,class:"ele-map-view-message"},tn={class:"ele-map-view-list"},ln=["onClick"],sn={class:"ele-map-view-item-body"},rn={class:"ele-map-view-item-title"},un={key:0,class:"ele-map-view-item-text"},cn={key:0,class:"ele-map-view-empty"},dn={class:"ele-map-view-extra"},pn={key:0,class:"ele-map-view-message"};function mn(e,f,g,v,d,t){const l=E("PlusOutlined"),s=E("ElIcon"),c=E("SearchOutlined"),M=E("ElAutocomplete"),I=E("ElButton"),o=E("ElInput"),y=E("EnvironmentOutlined"),r=E("CheckCircleOutlined"),p=E("ElEmpty"),n=E("EleLoading");return S(),D(n,{loading:e.loading,class:"ele-map-view",style:Y({height:e.height})},{default:w(()=>[b("div",He,[b("div",Xe,null,512),e.poiMode?(S(),V(F,{key:0},[h(s,{class:"ele-map-view-icon-plus"},{default:w(()=>[h(l)]),_:1}),b("img",{src:e.markerSrc,class:de(e.centerIconClass)},null,10,Qe)],64)):z("",!0),e.filterable&&!e.keywordMode?(S(),V("div",{key:1,class:"ele-map-view-search",style:Y(e.searchStyle)},[h(M,{ref:"autocompleteRef",clearable:!0,modelValue:e.keywords,"onUpdate:modelValue":f[0]||(f[0]=m=>e.keywords=m),placeholder:e.searchPlaceholder,popperClass:"ele-map-suggest-popper",fetchSuggestions:e.onSearch,onSelect:e.onSearchSelect},{prefix:w(()=>[h(s,{class:"el-input__icon"},{default:w(()=>[h(c)]),_:1})]),default:w(({item:m})=>[b("div",en,[b("div",nn,$(m.label),1),b("div",on,$(m.district),1)])]),_:1},8,["modelValue","placeholder","fetchSuggestions","onSelect"])],4)):z("",!0),!e.poiMode&&!e.keywordMode?(S(),V(F,{key:2},[e.confirmDisabled&&e.clickMessage?(S(),V("div",an,$(e.clickMessage),1)):(S(),D(I,{key:1,type:"primary",loading:e.confirmLoading,disabled:e.confirmDisabled,class:"ele-map-view-btn-ok",onClick:e.onConfirm},{default:w(()=>[j($(e.okText),1)]),_:1},8,["loading","disabled","onClick"]))],64)):z("",!0)]),e.keywordMode||e.poiMode?(S(),D(n,{key:0,loading:e.poiLoading,class:"ele-map-view-side"},{default:w(()=>[e.keywordMode?(S(),V("div",{key:0,class:"ele-map-view-search",style:Y(e.searchStyle)},[h(o,{clearable:!0,modelValue:e.keywords,"onUpdate:modelValue":f[1]||(f[1]=m=>e.keywords=m),prefixIcon:e.SearchOutlined,placeholder:e.searchPlaceholder,onChange:e.onSearch},null,8,["modelValue","prefixIcon","placeholder","onChange"])],4)):z("",!0),b("div",tn,[(S(!0),V(F,null,ge(e.data,m=>(S(),V("div",{key:m.key,class:de(["ele-map-view-item",{"is-active":m===e.selected}]),onClick:A=>e.onItemClick(m)},[h(s,{class:"ele-map-view-item-icon"},{default:w(()=>[h(y)]),_:1}),b("div",sn,[b("div",rn,$(m.name),1),m.address?(S(),V("div",un,$(m.address),1)):z("",!0)]),h(s,{class:"ele-map-view-item-radio"},{default:w(()=>[h(r)]),_:1})],10,ln))),128)),!e.data||!e.data.length?(S(),V("div",cn,[h(p,X({imageSize:80},e.emptyProps||{}),null,16)])):z("",!0)]),b("div",dn,[e.confirmDisabled&&e.message?(S(),V("div",pn,$(e.message),1)):(S(),D(I,{key:1,type:"primary",loading:e.confirmLoading,disabled:e.confirmDisabled,class:"ele-map-view-btn-ok",onClick:e.onConfirm},{default:w(()=>[j($(e.okText),1)]),_:1},8,["loading","disabled","onClick"]))])]),_:1},8,["loading"])):z("",!0)]),_:1},8,["loading","style"])}const fn=Ye(Ge,[["render",mn]]),gn=me({name:"EleMapPicker",components:{EleModal:Ee,MapView:fn},props:Je,emits:qe,setup(e,{emit:f}){const{lang:g,globalConfig:v}=$e("map",e),d=Ve(e),t=L(null),l=K(()=>e.mapKey||v.mapKey),s=K(()=>Oe(e,Ze));return{lang:g,isResponsive:d,mapRef:t,aMapKey:l,mapProps:s,updateModelValue:o=>{f("update:modelValue",o)},onMapDone:o=>{f("mapDone",o)},onDone:o=>{f("done",o)}}}}),vn=(e,f)=>{const g=e.__vccOpts||e;for(const[v,d]of f)g[v]=d;return g};function yn(e,f,g,v,d,t){const l=E("MapView"),s=E("EleModal");return S(),D(s,X({width:"740px",title:e.lang.title},e.modalProps||{},{modelValue:e.modelValue,class:["ele-map-picker",{"is-responsive":e.isResponsive}],"onUpdate:modelValue":e.updateModelValue}),De({default:w(()=>[h(l,X(e.mapProps,{ref:"mapRef",message:e.lang.message,clickMessage:e.lang.clickMessage,searchPlaceholder:e.lang.placeholder,okText:e.lang.ok,mapKey:e.aMapKey,mode:e.keywordMode?"keyword":e.mode,onMapDone:e.onMapDone,onDone:e.onDone}),null,16,["message","clickMessage","searchPlaceholder","okText","mapKey","mode","onMapDone","onDone"])]),_:2},[ge(Object.keys(e.$slots).filter(c=>c!=="default"),c=>({name:c,fn:w(M=>[Re(e.$slots,c,ze(Be(M||{})))])}))]),1040,["title","modelValue","class","onUpdate:modelValue"])}const hn=vn(gn,[["render",yn]]),Mn={style:{"margin-top":"12px"}},kn={style:{"margin-top":"12px"}},wn={style:{"margin-top":"12px"}},_n={__name:"demo-picker",setup(e){const f=oe(),{darkMode:g}=ae(f),v=L(!1),d=L("lnglat"),t=je({location:"",address:"",lngAndLat:""}),l=()=>{v.value=!0},s=c=>{var M,I,o;t.location=`${(M=c.city)==null?void 0:M.province}/${(I=c.city)==null?void 0:I.city}/${(o=c.city)==null?void 0:o.district}`,t.address=`${c.name} ${c.address}`,t.lngAndLat=`${c.lng},${c.lat}`,v.value=!1};return(c,M)=>{const I=fe,o=Q,y=Ke,r=te,p=hn;return S(),V(F,null,[h(r,{header:"地图位置选择器"},{default:w(()=>[b("div",null,[h(y,{modelValue:d.value,"onUpdate:modelValue":M[0]||(M[0]=n=>d.value=n),items:[{title:"点击地图模式",command:"lnglat"},{title:"关键字检索模式",command:"keyword"},{title:"POI检索模式",command:"poi"}],trigger:"click",style:{"margin-right":"12px"}},{default:w(({selected:n})=>[h(o,{class:"ele-btn-icon",style:{width:"134px"}},{default:w(()=>[b("span",null,$(n.title),1),h(I,{size:12,style:{margin:"0 -4px 0 2px"}},{default:w(()=>[h(pe(Te))]),_:1})]),_:2},1024)]),_:1},8,["modelValue"]),h(o,{type:"primary",class:"ele-btn-icon",onClick:l},{default:w(()=>[j(" 打开位置选择 ")]),_:1})]),b("div",Mn,"经 纬 度 : "+$(t.lngAndLat),1),b("div",kn,"选中位置: "+$(t.location),1),b("div",wn,"详细地址: "+$(t.address),1)]),_:1}),h(p,{modelValue:v.value,"onUpdate:modelValue":M[1]||(M[1]=n=>v.value=n),"dark-mode":pe(g),"return-regions":!0,mode:d.value,onDone:s},null,8,["modelValue","dark-mode","mode"])],64)}}},In={__name:"demo-map",setup(e){const f=oe(),{darkMode:g}=ae(f),v=L(null);let d;const t=()=>{le.load({key:ve,version:"2.0",plugins:["AMap.InfoWindow","AMap.Marker"]}).then(l=>{const s={zoom:13,center:[114.346084,30.516215],mapStyle:g.value?"amap://styles/dark":void 0};d=new l.Map(v.value,s);const c=new l.InfoWindow({content:`
            <div style="color: #333;">
              <div style="padding: 5px;font-size: 16px;">武汉易云智科技有限公司</div>
              <div style="padding: 0 5px;">地址: 湖北省武汉市洪山区雄楚大道222号</div>
              <div style="padding: 0 5px;">电话: 020-123456789</div>
            </div>
            <a
              style="padding: 8px 0 0 5px;text-decoration: none;display: inline-block;color: #1677ff;"
              href="//uri.amap.com/marker?position=114.346084,30.511215&name=武汉易云智科技有限公司"
              target="_blank">到这里去→
            </a>
          `});c.open(d,[114.346084,30.511215]);const M=new l.Icon({size:new l.Size(25,34),image:"//a.amap.com/jsapi_demos/static/demo-center/icons/poi-marker-red.png",imageSize:new l.Size(25,34)}),I=new l.Marker({icon:M,position:[114.346084,30.511215],offset:new l.Pixel(-12,-28)});I.setMap(d),I.on("click",()=>{c.open(d)})}).catch(l=>{console.error(l)})};return ee(()=>{t()}),ne(()=>{d&&(d.destroy(),d=null)}),B(g,l=>{d&&(l?d.setMapStyle("amap://styles/dark"):d.setMapStyle("amap://styles/normal"))}),(l,s)=>{const c=te;return S(),D(c,{header:"官网底部地图"},{default:w(()=>[b("div",{ref_key:"locationMapRef",ref:v,style:{height:"360px","max-width":"800px"}},null,512)]),_:1})}}},Sn={__name:"demo-track",setup(e){const f=oe(),{darkMode:g}=ae(f),v=L(null);let d,t;const l=[[116.478935,39.997761],[116.478939,39.997825],[116.478912,39.998549],[116.478912,39.998549],[116.478998,39.998555],[116.478998,39.998555],[116.479282,39.99856],[116.479658,39.998528],[116.480151,39.998453],[116.480784,39.998302],[116.480784,39.998302],[116.481149,39.998184],[116.481573,39.997997],[116.481863,39.997846],[116.482072,39.997718],[116.482362,39.997718],[116.483633,39.998935],[116.48367,39.998968],[116.484648,39.999861]],s=()=>{le.load({key:ve,version:"2.0",plugins:["AMap.MoveAnimation","AMap.Marker","AMap.Polyline"]}).then(o=>{const y={zoom:17,center:[116.478935,39.997761],mapStyle:g.value?"amap://styles/dark":void 0};d=new o.Map(v.value,y),t=new o.Marker({map:d,position:[116.478935,39.997761],icon:"https://a.amap.com/jsapi_demos/static/demo-center-v2/car.png",offset:new o.Pixel(-13,-26)}),new o.Polyline({map:d,path:l,showDir:!0,strokeColor:"#2288FF",strokeOpacity:1,strokeWeight:6});const r=new o.Polyline({map:d,showDir:!0,strokeColor:"#44BB55",strokeOpacity:1,strokeWeight:6});t.on("moving",p=>{r.setPath(p.passedPath)}),d.setFitView()}).catch(o=>{console.error(o)})},c=()=>{t&&(t.stopMove(),t.moveAlong(l,{duration:200,autoRotation:!0}))},M=()=>{t&&t.pauseMove()},I=()=>{t&&t.resumeMove()};return ee(()=>{s()}),ne(()=>{d&&(d.destroy(),d=null)}),B(g,()=>{d&&(g.value?d.setMapStyle("amap://styles/dark"):d.setMapStyle("amap://styles/normal"))}),(o,y)=>{const r=Q,p=te;return S(),D(p,{header:"轨迹展示及轨迹回放"},{default:w(()=>[b("div",{ref_key:"trackMapRef",ref:v,style:{height:"360px","max-width":"800px","margin-bottom":"16px"}},null,512),b("div",null,[h(r,{type:"primary",class:"ele-btn-icon",onClick:c},{default:w(()=>[j(" 开始移动 ")]),_:1}),h(r,{type:"primary",class:"ele-btn-icon",onClick:M},{default:w(()=>[j(" 暂停移动 ")]),_:1}),h(r,{type:"primary",class:"ele-btn-icon",onClick:I},{default:w(()=>[j(" 继续移动 ")]),_:1})])]),_:1})}}},An={name:"ExtensionMap"},En=Object.assign(An,{setup(e){return(f,g)=>{const v=xe;return S(),D(v,null,{default:w(()=>[h(_n),h(In),h(Sn)]),_:1})}}});export{En as default};
