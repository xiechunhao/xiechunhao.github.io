import{L as D,ah as I,i as M,r as k,J as f,aj as h,o as n,m as p,F as z,n as S,c as b,w as m,a2 as y,a8 as C,a6 as w,b as E,e as $,t as j,a$ as P,a5 as B}from"./index-C4BxmZrN.js";const A={data:{type:Array,required:!0},maxCount:Number,shape:String,size:[Number,String],itemStyle:Object,avatarStyle:Object,moreStyle:Object,tooltip:{type:Boolean,default:!0},tooltipProps:Object,overflowPopover:{type:Boolean,default:!0},overflowPopoverProps:Object,hoverOpen:Boolean},V={itemClick:e=>!0,moreClick:()=>!0,error:e=>!0},N=D({name:"EleAvatarGroup",components:{ElAvatar:I,EleTooltip:M},props:A,emits:V,setup(e,{emit:r}){const s=k(""),u=k(),d=k(!1),g=f(()=>{if(e.size==null||typeof e.size=="string"){const l={large:"-12px",default:"-10px",small:"-8px"};return{marginLeft:e.size?l[e.size]:"-10px"}}return typeof e.size=="number"&&e.size>=0?{marginLeft:`${-Math.round(e.size/3)}px`}:{}}),t=f(()=>e.maxCount!=null&&e.maxCount>0&&e.data!=null&&e.data.length>e.maxCount),c=f(()=>e.data==null?[]:t.value?e.data.slice(0,e.maxCount):e.data),o=f(()=>!t.value||!e.data||e.maxCount==null?0:e.data.length-e.maxCount),v=f(()=>e.data==null||!t.value?[]:e.data.slice(e.maxCount));return{tooltipContent:s,virtualRef:u,overflowVisible:d,commonStyle:g,isOverflow:t,avatarData:c,overflowCount:o,overflowData:v,onItemHover:(l,O)=>{e.tooltip&&l.label&&(u.value=O.currentTarget,s.value=l.label)},onItemClick:l=>{r("itemClick",l)},onMoreClick:()=>{r("moreClick")},onError:l=>{r("error",l)}}}}),T=(e,r)=>{const s=e.__vccOpts||e;for(const[u,d]of r)s[u]=d;return s},H={class:"ele-avatar-more-inner"},L={key:0,class:"ele-popover-body ele-avatar-group"};function R(e,r,s,u,d,g){const t=h("ElAvatar"),c=h("EleTooltip");return n(),p("div",{class:B(["ele-avatar-group",{"is-hover-open":e.hoverOpen}])},[(n(!0),p(z,null,S(e.avatarData,(o,v)=>{var i;return n(),b(t,{key:(i=o.key)!=null?i:v+"-"+(o.value||o.label),size:e.size,shape:e.shape,src:o.value,style:w([e.commonStyle,e.itemStyle,e.avatarStyle]),onClick:a=>e.onItemClick(o),onError:a=>e.onError({item:o,e:a}),onMouseover:a=>e.onItemHover(o,a)},{default:m(()=>[e.$slots.item?y(e.$slots,"item",{key:0,item:o}):C("",!0)]),_:2},1032,["size","shape","src","style","onClick","onError","onMouseover"])}),128)),e.isOverflow?(n(),b(c,P({key:0,effect:"light",isPopover:!0,gpuAcceleration:!0,placement:"top",popperClass:"ele-avatar-popover",offset:6},e.overflowPopoverProps||{},{disabled:!e.overflowPopover,visible:e.overflowVisible,"onUpdate:visible":r[0]||(r[0]=o=>e.overflowVisible=o)}),{body:m(()=>[e.overflowPopover?(n(),p("div",L,[y(e.$slots,"overflow",{overflowData:e.overflowData},()=>[(n(!0),p(z,null,S(e.overflowData,(o,v)=>{var i;return n(),b(t,{key:(i=o.key)!=null?i:v+"-"+(o.value||o.label),size:e.size,shape:e.shape,src:o.value,style:w([e.commonStyle,e.itemStyle,e.avatarStyle]),onClick:a=>e.onItemClick(o),onError:a=>e.onError({item:o,e:a}),onMouseover:a=>e.onItemHover(o,a)},{default:m(()=>[e.$slots.item?y(e.$slots,"item",{key:0,item:o}):C("",!0)]),_:2},1032,["size","shape","src","style","onClick","onError","onMouseover"])}),128))])])):C("",!0)]),default:m(()=>[E(t,{size:e.size,shape:e.shape,style:w([e.commonStyle,e.itemStyle,e.moreStyle]),class:"ele-avatar-more",onClick:e.onMoreClick},{default:m(()=>[$("span",H,[y(e.$slots,"more",{overflowCount:e.overflowCount,overflowData:e.overflowData},()=>[$("span",null,"+"+j(e.overflowCount),1)])])]),_:3},8,["size","shape","style","onClick"])]),_:3},16,["disabled","visible"])):C("",!0),E(c,P({placement:"top",offset:6},e.tooltipProps||{},{content:e.tooltipContent,virtualRef:e.virtualRef,virtualTriggering:!0}),null,16,["content","virtualRef"])],2)}const J=T(N,[["render",R]]);export{J as i};
