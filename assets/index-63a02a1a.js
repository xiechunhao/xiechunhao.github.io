import{d as Z,u as L,a as $,D as r,o as ee,l as se,c as i,e as d,h as e,g as n,q as x,w as b,t,m as w,n as j,j as B,k as P,p as R,f as T,a4 as Y,i as N,F as te,v as ne,x as oe}from"../js/index.dc884249.js";import{_ as ae}from"./icon-close-ffb8f992.js";import{_ as le}from"./bg-result-1241b167.js";import{H as M}from"./request-6724ac56.js";import{a as v}from"./function-call-1366be59.js";import{L as re}from"./index-e1afc077.js";import{P as ie}from"./index-c95161c5.js";import{B as ce}from"./index-c65add84.js";import{_ as de}from"./_plugin-vue_export-helper-c27b6911.js";import"./use-expose-9032f2c9.js";import"./index-49d41786.js";import"./index-972af07d.js";import"./on-popup-reopen-e2cd79b3.js";import"./use-route-4e332491.js";const ue="/webp/bg.9d8759d5.webp",ge=()=>M("/promotion-client/userSgin/getUserSignData",{},"get"),ve=g=>M("/promotion-client/userSgin/signToday",g,"post"),pe=g=>M("/promotion-client/userSgin/getUserSignRecord",g,"get"),fe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAMAAABGS8AGAAAC/VBMVEUAAAD+88u3hE/EjFbHj1TGik7KkVKWbkjFkljluHqUbUn//vagdkv//vr/++DLkVLirGf/8r/PnmP//vfMlFWbckz+++X//vT/+tmhdUz/+97//fW/hE3///Ggckzx0p7//u7//Nz//eicckzSlVSccEjfq2nBhkzwv3eXcUzapGP4z4n/9cffq2nCiE7///7xwn2/g0j426CXcUyWb039/eT97rfjsGn/+tr73KXnuX372qTnr2j/56H/9sPapWX3yX740Zj/8q7FjEz/45P//+D/8r3/35D/24r/5Zbys1///9L0tWP/87///9z/1YT/04H/5Zn1t2X9wWr///n/2Yj/14f/z37ysV3vr1v//c3/yHb//+T//9j/6Zztqlb//+f8w3H///b/98T/45X/4ZLnxIj9xXT0tGDsp1P//9T/3o7mwob///P/8Ln/znzurFj///7//+r/98r/+Mb/zXn4vWvrpVL32p/sy4//3Yzpx4v6v2z3u2j7v2f/+8r/+cj/ynj/9cH7wG/po1H//+z+5Kv/66DuzZP/yHH5vGbx0JTjwITfuX7///v/6bH2uWf9wmbxsFv/7b3/+rr/56763qT/4Iv/y3v/xG74uWH///D//+7/+NL//8//9Mb74qr/7KX/7qLz1JrryY3hvYL/0YD2t2D/+9D/7bb347b/67P/9bL/8Kn/55n/zG/6vWP6uVvz16H01prz0pb/0X7Wr3XxuXP+w2r//8X13KX/4ZD5x33dtXr3uWXrpF3prFvwrVfrok+me07//Nv/+Nn+57b65rL746//8q7836b31532tV3+8sz/8cH336zSqXD0slrvp1H+5LH+46f/4J/1y4vnvIH/2ID5wnHKo23usmjjrmj1sWL//8v76br526P925z/3IX/5oL9xm7rsmP9v2C5kF7mqVnnl03/+uT88dP+78X668T2wXj/y3T/03PntW/FnGXhp16thlf2sFP/25b91pb90Y3uxo3/3XrvrGKzjFrvp1j/7pZnEz9GAAAARHRSTlMACv0HDKgq/v395LD9962LWin+6eKnoJGNgXZZOisn+/n529CzlY92K/Lv6eDf29itnllVSzw88e3Y2LOzqaenlouKVHL+pukAAAlASURBVFjD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",V=g=>(ne("data-v-2fb07462"),g=g(),oe(),g),he=V(()=>e("img",{class:"bg",src:ue,alt:""},null,-1)),me={key:1},ye={class:"data-box"},be={class:"item"},Ae={class:"item-line"},_e={class:"label"},we={class:"item-line"},Se={class:"label"},ze={class:"item"},ke={class:"label"},Xe={class:"item"},je={class:"label"},Te={key:0,class:"sign"},Ne=["onClick"],Me={class:"day"},De={class:w(["content"])},Fe={class:"gold"},Ce={key:0,class:"light"},We=["src"],Ge={class:w(["bottom"])},Ee={class:"desc"},He={class:"title"},Le=["innerHTML"],xe={class:"popup-content-box"},Be={class:"absolute"},Pe={class:"success"},Re={class:"tips"},Ye={class:"title"},Ve={style:{height:"300px",overflow:"auto"}},qe={class:"table"},Ke={key:0},Qe={key:1},Ue={colspan:"3"},Ie={key:1,class:"empty"},Oe=V(()=>e("img",{class:"",src:le},null,-1)),Je=Z({__name:"index",setup(g){const{query:D}=L(),{locale:q,t:S}=$(),F=D.safeTop||0,{query:{lang:z}}=L(),A=r(!1),c=r({signSerialNo:0,todaySignFlag:0,totalRewardAmt:0,rechargeAmt:0,userRechargeAmt:0,betAmt:0,userBetAmt:0,ruleDescription:"",rewardConfigVOList:[]}),u=r([]),C=r(""),p=r(!1),W=r(0),f=r(!1),_=r(!1),k=r([]),h=r(null),m=r(0),G=r(""),X=r(null);ee(async()=>{await E(),sessionStorage.setItem("langs",z),q.value=O(z),se.set("safeTop",D.safeTop||0),m.value=h.value?h.value.offsetWidth:0,Q()}),window.addEventListener("resize",function(){m.value=h.value?h.value.offsetWidth:0});const E=async()=>{try{A.value=!0;const s=await ge();try{A.value=!1,c.value=s;for(let o=0;o<s.rewardConfigVOList.length;o++){const l=s.rewardConfigVOList[o];s.todaySignFlag==0?s.signSerialNo+1==l.day?l.index_current=!0:l.index_current=!1:s.signSerialNo==l.day?l.index_current=!0:l.index_current=!1,s.signSerialNo>=o+1?l.index_before=!0:l.index_before=!1,s.signSerialNo<=o-1?l.index_after=!0:l.index_after=!1}u.value=s.rewardConfigVOList||[],K(),C.value=JSON.parse(s.ruleDescription)[z||"YN"]}catch(o){console.log("error错误",o)}finally{A.value=!1}}catch(s){v(s.msg)}},K=()=>{G.value="repeat(".concat(Math.ceil(u.value.length/2),", 1fr)")},Q=async()=>{let s=u.value.length,o=c.value.signSerialNo;var l=0;o>=s/2?l=o-s/2:l=o,!(l<4)&&X&&setTimeout(()=>{X.value.scrollTo({left:(m.value/4-8)*l,behavior:"smooth"})},0)},U=async s=>{if(s.index_current){if(c.value.userRechargeAmt/c.value.rechargeAmt<1)return v(S("depositAmountDissatisfied"));if(c.value.userBetAmt/c.value.betAmt<1)return v(S("totalBetDissatisfied"));if(s.signFlag==1)return v(S("signedToday"));try{const o=await ve({signDay:s.day});try{W.value=o.rewardAmt,p.value=!0,E()}catch(l){console.log("error错误",l)}}catch(o){v(o.msg)}}},I=async()=>{try{f.value=!0,_.value=!0;const s=await pe({pageSize:99,pageNum:1});try{k.value=s.list||[],_.value=!1}catch(o){console.log("error错误",o)}finally{_.value=!1}}catch(s){v(s.msg)}},O=s=>{switch(s){case"CN":return"zh";case"YN":return"vi";case"EN":return"vi";default:return"vi"}};return(s,o)=>{const l=re,J=ce,H=ie;return i(),d("div",{class:"body",style:j({paddingTop:"".concat(Number(n(F))?Number(n(F))+"px":"env(safe-area-inset-top)")})},[e("div",{id:"sign-container",class:"sign-container",ref_key:"signContainerRef",ref:h},[he,n(A)?(i(),x(l,{key:0,class:"loading",size:"24px"},{default:b(()=>[N(t(s.$t("jia_zai_zhong"))+"...",1)]),_:1})):(i(),d("div",me,[e("div",ye,[e("div",be,[e("div",Ae,[e("span",_e,t(s.$t("yi_qd")),1),e("span",null,t(n(c).signSerialNo)+" "+t(s.$t("day")),1)]),e("div",we,[e("span",Se,t(s.$t("jiangli")),1),e("span",null,t(n(c).totalRewardAmt),1)])]),e("div",ze,[e("div",null,[e("span",ke,t(s.$t("depositAmount")),1),e("span",null,t(n(c).userRechargeAmt)+"/"+t(n(c).rechargeAmt),1)])]),e("div",Xe,[e("div",null,[e("span",je,t(s.$t("totalBet")),1),e("span",null,t(n(c).userBetAmt)+"/"+t(n(c).betAmt),1)])]),e("div",{class:"receive-record",onClick:I},t(s.$t("lingqujilv")),1)]),n(u).length>0?(i(),d("div",Te,[e("div",{ref_key:"signRef",ref:X,id:"sign",class:w(["sign-scroll",n(u).length==7&&"no-scroll"]),style:j({gridTemplateColumns:n(G)})},[(i(!0),d(B,null,P(n(u),(a,y)=>(i(),d("div",{class:w(["item",a.signFlag==1&&"index_after",a.index_current&&a.signFlag==0&&"index_current",y+1==n(u).length&&n(u).length%2==1&&"large"]),style:j({width:n(u).length==y+1&&n(u).length%2==1?"".concat((n(m)/4-16)*2+8,"px"):"".concat(n(m)/4-16,"px")}),onClick:Ze=>U(a)},[e("div",Me,t(s.$t("no"))+" "+t(a.day)+" "+t(s.$t("day")),1),e("div",De,[e("div",Fe,[a.index_current&&a.signFlag==0?(i(),d("div",Ce)):R("",!0),e("img",{src:a.signFlag==1?n(fe):a.signIcon,class:"gold-icon"},null,8,We)]),e("div",Ge,t(a.signFlag==1?s.$t("yi_qd"):"".concat(a.type===1?a.rewardAmt:"".concat(a.minRewardAmt," - ").concat(a.maxRewardAmt))),1)])],14,Ne))),256))],6)])):R("",!0),e("div",Ee,[e("p",He,t(s.$t("activityRules")),1),e("p",{class:"ruleDescription",innerHTML:n(C)},null,8,Le)])]))],512),T(H,{show:n(p),"onUpdate:show":o[1]||(o[1]=a=>Y(p)?p.value=a:null),"close-on-click-overlay":!1,class:"popup-content"},{default:b(()=>[e("div",xe,[e("div",Be,[e("div",Pe,t(s.$t("signSuccess")),1),e("div",Re,t(s.$t("goid"))+" "+t(s.$t("hd_gold",{value:n(W)})),1),T(J,{class:"button",color:"#FECE2D",style:{color:"#000"},onClick:o[0]||(o[0]=a=>p.value=!1)},{default:b(()=>[N(t(s.$t("queding")),1)]),_:1})])])]),_:1},8,["show"]),T(H,{show:n(f),"onUpdate:show":o[3]||(o[3]=a=>Y(f)?f.value=a:null),"close-on-click-overlay":!1,class:"popup-record-content"},{default:b(()=>[e("div",Ye,[e("span",null,t(s.$t("lingqujilv")),1),e("img",{src:ae,onClick:o[2]||(o[2]=a=>f.value=!1)})]),e("div",Ve,[e("table",qe,[e("thead",null,[e("tr",null,[e("td",null,t(s.$t("serialNumber")),1),e("td",null,t(s.$t("collectionTime")),1),e("td",null,t(s.$t("jiangli")),1)])]),n(k).length>0?(i(),d("tbody",Ke,[(i(!0),d(B,null,P(n(k),(a,y)=>(i(),d("tr",{key:y},[e("td",null,t(y+1),1),e("td",null,t(n(te)(a.signTime,"y-m-d h:i:s")),1),e("td",null,t(a.rewardAmt),1)]))),128))])):(i(),d("tbody",Qe,[e("tr",null,[e("td",Ue,[n(_)?(i(),x(l,{key:0,class:"empty",size:"24px"},{default:b(()=>[N(t(s.$t("jia_zai_zhong"))+"...",1)]),_:1})):(i(),d("div",Ie,[Oe,e("span",null,t(s.$t("zan_wu_sj")),1)]))])])]))])])]),_:1},8,["show"])],4)}}});const vs=de(Je,[["__scopeId","data-v-2fb07462"]]);export{vs as default};
