import{e as q,f as g,S,y as U,F as M,b as h,T as H,X as Z,V as R,a as I,M as G,c as X,O as Y,z as j,C as z,n as B}from"../js/ol@7.4.0@ol/ol@7.4.0@ol.2a99620d.js";import{A as $,M as W,S as r,F as w}from"../js/index/index.47495de9.js";import{D as J,n as K,v as Q,o as v,c as x,j as ss,a as o,N as ns,a0 as as}from"../js/@vue_runtime-core@3.3.4@@vue/@vue_runtime-core@3.3.4@@vue.35efc880.js";import{_ as ls}from"./app.f296b152.js";import"../js/earcut@2.2.4@earcut/earcut@2.2.4@earcut.e6a9c857.js";import"../js/rbush@3.0.1@rbush/rbush@3.0.1@rbush.75a05972.js";import"../js/quickselect@2.0.0@quickselect/quickselect@2.0.0@quickselect.f3892974.js";import"../js/@vue_reactivity@3.3.4@@vue/@vue_reactivity@3.3.4@@vue.e6fc7fe8.js";import"../js/@vue_shared@3.3.4@@vue/@vue_shared@3.3.4@@vue.5a5848fd.js";import"../js/@docsearch_css@3.5.1@@docsearch/@docsearch_css@3.5.1@@docsearch.4ed993c7.js";import"../js/body-scroll-lock@4.0.0-beta.0@body-scroll-lock/body-scroll-lock@4.0.0-beta.0@body-scroll-lock.e1f8a6eb.js";import"../js/geotiff@2.0.7@geotiff/geotiff@2.0.7@geotiff.101896b7.js";import"../js/@vue_runtime-dom@3.3.4@@vue/@vue_runtime-dom@3.3.4@@vue.5dd85bb5.js";import"../js/@vueuse_core@10.2.0@@vueuse/@vueuse_core@10.2.0@@vueuse.8a5d8129.js";import"../js/@vueuse_shared@10.2.0@@vueuse/@vueuse_shared@10.2.0@@vueuse.9afec68c.js";import"../js/es/element-plus@2.3.7@element-plus.9cf0a975.js";import"../js/lodash-es@4.17.21@lodash-es/lodash-es@4.17.21@lodash-es.36eb724a.js";import"../js/@vueuse_core@9.13.0@@vueuse/@vueuse_core@9.13.0@@vueuse.604f33c6.js";import"../js/@vueuse_shared@9.13.0@@vueuse/@vueuse_shared@9.13.0@@vueuse.740d90d5.js";import"../js/@element-plus_icons-vue@2.1.0@@element-plus/@element-plus_icons-vue@2.1.0@@element-plus.1b5ed4e9.js";import"../js/@sxzz_popperjs-es@2.11.7@@sxzz/@sxzz_popperjs-es@2.11.7@@sxzz.c75af06c.js";import"../js/@ctrl_tinycolor@3.6.0@@ctrl/@ctrl_tinycolor@3.6.0@@ctrl.f8748455.js";import"../js/dayjs@1.11.8@dayjs/dayjs@1.11.8@dayjs.ab63237d.js";import"../js/async-validator@4.2.5@async-validator/async-validator@4.2.5@async-validator.dee29e8b.js";import"../js/memoize-one@6.0.0@memoize-one/memoize-one@6.0.0@memoize-one.297ddbcb.js";import"../js/escape-html@1.0.3@escape-html/escape-html@1.0.3@escape-html.3a386d15.js";import"../js/normalize-wheel-es@1.2.0@normalize-wheel-es/normalize-wheel-es@1.2.0@normalize-wheel-es.ed76fb12.js";import"../js/@floating-ui_dom@1.4.2@@floating-ui/@floating-ui_dom@1.4.2@@floating-ui.4bb7de12.js";import"../js/@floating-ui_core@1.3.1@@floating-ui/@floating-ui_core@1.3.1@@floating-ui.a8b4680c.js";const os=a=>new S({text:new U({textAlign:"center",textBaseline:"middle",font:"normal 14px 微软雅黑",text:a.get("name"),fill:new M({color:"#aa3300"}),stroke:new h({color:"#ffcc33",width:2}),offsetY:40})}),_=({coordinate:a,vectorSource:s,name:p="标注点"})=>{if(s===null)return;const n=new q({geometry:new g(a),name:p});n.setStyle(os(n)),s.addFeature(n)},ps={id:"map"},es=J({__name:"index",setup(a){let s=null;const p=()=>{const n=new H({source:new Z({attributions:$,url:W,maxZoom:20})}),l=new R({wrapX:!1}),b=new I({source:l});s=new G({layers:[n,b],target:"map",view:new X({projection:"EPSG:4326",center:r,zoom:5,multiWorld:!0})});const F=3e3;function V(t){var i;let C=Date.now();const A=(i=t==null?void 0:t.getGeometry())==null?void 0:i.clone();n.on("postrender",N);function N(m){const c=m.frameState;if(!c)return;const f=c.time-C,u=j(m),d=f/F,O=B(d)*25+5,E=B(1-d),P=new S({image:new z({radius:O,stroke:new h({color:"rgba(255, 0, 0, "+E+")",width:.25+E})})});u.setStyle(P),A&&u.drawGeometry(A),f>F&&(C=c.time),s==null||s.render()}}const k=new g(r),y=new q(k);l.addFeature(y),V(y),_({coordinate:r,vectorSource:l,name:"打工点"});const e=document.createElement("div");e.className="point_animation";const T=document.createElement("p"),L=document.createElement("span");e.appendChild(T),e.appendChild(L);const D=new Y({element:e,positioning:"center-center"});s.addOverlay(D),D.setPosition(w),_({coordinate:w,vectorSource:l,name:"家"})};return K(()=>{p()}),Q(()=>{s&&(s.dispose(),s=null)}),(n,l)=>(v(),x("div",ps))}});const ts=ls(es,[["__scopeId","data-v-19a42bfc"]]),cs=o("h1",{id:"水纹动画",tabindex:"-1"},[ns("水纹动画 "),o("a",{class:"header-anchor",href:"#水纹动画","aria-label":'Permalink to "水纹动画"'},"​")],-1),rs=o("div",{class:"tip custom-block"},[o("p",{class:"custom-block-title"},"TIP"),o("p",null,"两种不同的方式实现水纹动画。")],-1),Fs=as("",4),Zs=JSON.parse('{"title":"水纹动画","description":"","frontmatter":{},"headers":[],"relativePath":"open-layers/map-marker/water-wave-animation/index.md","filePath":"open-layers/map-marker/water-wave-animation/index.md","lastUpdated":1687683239000}'),ys={name:"open-layers/map-marker/water-wave-animation/index.md"},Rs=Object.assign(ys,{setup(a){return(s,p)=>(v(),x("div",null,[cs,rs,ss(ts),Fs]))}});export{Zs as __pageData,Rs as default};
