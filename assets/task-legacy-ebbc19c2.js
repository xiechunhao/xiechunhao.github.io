System.register(["../js/index-legacy.f8cb7a75.js","./request-legacy-b459a1ff.js","./_baseExtremum-legacy-c690a0ca.js"],(function(e,t){"use strict";var s,i,r,n,a,c;return{setters:[e=>{s=e.$,i=e.a0,r=e.l,n=e.F},e=>{a=e.H},e=>{c=e.b}],execute:function(){function t(e,t){return e>t}function u(e){return e&&e.length?c(e,s,t):void 0}const l=e("I",{attendance:{doneDays:0,days:[],startTime:0,endTime:0},userTaskList:[],anchorTaskList:[],dailyTaskList:[]});e("a",(e=>e-6e4==1)),e("G",(e=>{switch(e){case 0:return"primary";case 1:return"success";case 2:return"default"}})),e("c",((e,t,s)=>{let[i]=e.filter((e=>(e.value||e.id)===t));try{return i.value||i.id?i.text||i.name:s}catch(r){return s}})),e("A",(e=>a(`/service-business-center/user/task/dailyAttendance/${e.uid}`,{},"get"))),e("b",(e=>a("/service-business-center/user/task/clickTask",e,"post"))),e("d",(e=>a("/service-business-center/user/silver/silverToGold",e,"post"))),e("g",(()=>a("/service-business-center/user/silver/gold/rate",{},"get")));let o={pageNum:1,pageSize:10};e("u",i({id:"app-task",state:()=>({task:l,silverCoin:0,eventType:[],recordList:[],recordLoading:!1,silverConfig:[],isFirst:!1,isAnchor:0}),getters:{dailyTask(){let e=this.task.dailyTaskList,t=e.filter((e=>[8,9,10,11].includes(e.id)));if(e=e.filter((e=>![8,9,10,11].includes(e.id))),t.length>0){let s=u(t.map((e=>e.reachCount||0))),i=u(t.map((e=>e.taskNum||0)));e.unshift({taskName:"Xem live",taskContent:`Đã xem live ${s} phút`,reachCount:s,taskNum:i,children:t})}return e},silverConfigList(){return 0==this.silverConfig.length&&this.GetSilverConfig(r.get("uid")),this.silverConfig}},actions:{async GetTaskData(e){if(!e)return;const t=await(s={uid:e},a(`/service-business-center/user/task/detail/${s.uid}`,{},"get"));var s;try{this.task=t}catch(i){}},async GetUserSilver(e,t){var s;if(e&&(t||0==this.silverCoin)){const t=await(s={uid:e},a(`/service-business-center/user/task/silver/${s.uid}`,{},"get"));try{this.silverCoin=t.silverCoin,this.isFirst=t.firstSilverChange,this.isAnchor=t.isAnchor}catch(i){}}},async GetSilverType(){const e=await a("/service-business-center/user/silver/silverEventType",{},"get");try{e.unshift({id:"",name:"tất cả"}),this.eventType=e}catch(t){}},async GetSilverList(e){this.recordLoading=!0;try{let t=d(e.time);const s=await(e=>a("/service-business-center/user/silver/changeList",e,"post"))({uid:r.get("uid"),...t,...e,...o});this.recordList=s,this.recordLoading=!1}catch(t){this.recordLoading=!1}},async GetSilverConfig(e){try{const t=await(e=>a(`/service-business-center/user/silver/silverGoldConfig/${e}`,{},"get"))(e);this.silverConfig=t}catch(t){}}}}));const d=e=>{let t=(new Date).getTime()-864e5*u([0,Number(e)-1]);return{startTime:e?new Date(n(t)).getTime()-288e5:"",endTime:e?(new Date).getTime():""}}}}}));
