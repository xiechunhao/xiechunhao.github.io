import{i as V}from"./index-p1XoTQj1.js";import{r as u,o as E,c as w,w as i,b as o,d as F,e as p,t as R,aV as j,aB as z}from"./index-BF2fBoPb.js";import{i as D}from"./index-Cjr4ibGp.js";import{_ as M}from"./index-Byi7J3rK.js";const N={style:{"margin-bottom":"16px"}},O={name:"ExtensionEditor"},H=Object.assign(O,{setup(U){const f=u(null),x=u({height:520,file_picker_callback:(m,a,l)=>{const t=document.createElement("input");t.setAttribute("type","file"),l.filetype==="image"?t.setAttribute("accept","image/*"):l.filetype==="media"&&t.setAttribute("accept","video/*"),t.onchange=()=>{var _,c,b,d,g;const e=(_=t.files)==null?void 0:_[0];if(!e)return;if(l.filetype==="media"&&!e.type.startsWith("video/")){(b=(c=f.value)==null?void 0:c.alert)==null||b.call(c,{content:"只能选择视频文件"});return}if(e.size/1024/1024>20){(g=(d=f.value)==null?void 0:d.alert)==null||g.call(d,{content:"大小不能超过 20MB"});return}const s=new FileReader;s.onload=v=>{var y;if(((y=v.target)==null?void 0:y.result)!=null){const C=new Blob([v.target.result],{type:e.type});m(URL.createObjectURL(C),{text:e.name,alt:e.name})}},s.readAsArrayBuffer(e)},t.click()}}),r=u(""),n=u(!1),k=()=>{j.alert(r.value,"编辑器内容",{confirmButtonText:"知道了",closeOnClickModal:!0,callback:()=>{},draggable:!0})},B=()=>{r.value=['<div style="text-align: center;color: #fff;background-image: linear-gradient( 135deg, #4C83FF 10%, #2AFADF 100%);padding: 32px 0;">','   <div style="font-size: 28px;margin-bottom: 16px;">EleAdminPlus后台管理模板</div>','   <div style="font-size:18px">通用型后台管理模板，界面美观、开箱即用，拥有丰富的组件和模板</div>',"</div><br/>"].join("")},A=()=>{n.value=!n.value};return(m,a)=>{const l=z,t=D,e=V;return E(),w(e,{"multi-card":!0},{default:i(()=>[o(t,null,{default:i(()=>[F("div",N,[o(l,{type:"primary",class:"ele-btn-icon",onClick:B},{default:i(()=>a[1]||(a[1]=[p(" 修改内容 ")])),_:1}),o(l,{type:"primary",class:"ele-btn-icon",onClick:k},{default:i(()=>a[2]||(a[2]=[p(" 获取内容 ")])),_:1}),o(l,{class:"ele-btn-icon",type:n.value?"primary":"danger",onClick:A},{default:i(()=>[p(R(n.value?"启用":"禁用"),1)]),_:1},8,["type"])]),o(M,{ref_key:"editorRef",ref:f,init:x.value,modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=s=>r.value=s),disabled:n.value},null,8,["init","modelValue","disabled"])]),_:1})]),_:1})}}});export{H as default};
