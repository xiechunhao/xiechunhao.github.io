import{c as g,S as q,T as U,F as M,a as S,V as H,C as Z}from"./chunks/Vector.f72cf874.js";import{g as h,M as R,V as G,H as B}from"./chunks/reproj.50e0d4ab.js";import{g as I}from"./chunks/render.d825d7fd.js";import{A as X,M as Y,S as r,F as w}from"./chunks/index.47495de9.js";import{T as j}from"./chunks/TileImage.36abd4f0.js";import{X as z}from"./chunks/XYZ.eaf43adc.js";import{V as $}from"./chunks/Vector.0afd591d.js";import{O as W}from"./chunks/Overlay.aad42cba.js";import{d as J,p as K,a3 as Q,o as v,c as x,_ as ss,G as ns,z as o,a as as,O as ls}from"./chunks/framework.166469be.js";const os=a=>new q({text:new U({textAlign:"center",textBaseline:"middle",font:"normal 14px 微软雅黑",text:a.get("name"),fill:new M({color:"#aa3300"}),stroke:new S({color:"#ffcc33",width:2}),offsetY:40})}),_=({coordinate:a,vectorSource:s,name:p="标注点"})=>{if(s===null)return;const n=new g({geometry:new h(a),name:p});n.setStyle(os(n)),s.addFeature(n)},ps={id:"map"},es=J({__name:"index",setup(a){let s=null;const p=()=>{const n=new j({source:new z({attributions:X,url:Y,maxZoom:20})}),l=new H({wrapX:!1}),b=new $({source:l});s=new R({layers:[n,b],target:"map",view:new G({projection:"EPSG:4326",center:r,zoom:5,multiWorld:!0})});const F=3e3;function V(t){var i;let C=Date.now();const A=(i=t==null?void 0:t.getGeometry())==null?void 0:i.clone();n.on("postrender",O);function O(f){const c=f.frameState;if(!c)return;const m=c.time-C,u=I(f),d=m/F,N=B(d)*25+5,E=B(1-d),P=new q({image:new Z({radius:N,stroke:new S({color:"rgba(255, 0, 0, "+E+")",width:.25+E})})});u.setStyle(P),A&&u.drawGeometry(A),m>F&&(C=c.time),s==null||s.render()}}const T=new h(r),y=new g(T);l.addFeature(y),V(y),_({coordinate:r,vectorSource:l,name:"打工点"});const e=document.createElement("div");e.className="point_animation";const k=document.createElement("p"),L=document.createElement("span");e.appendChild(k),e.appendChild(L);const D=new W({element:e,positioning:"center-center"});s.addOverlay(D),D.setPosition(w),_({coordinate:w,vectorSource:l,name:"家"})};return K(()=>{p()}),Q(()=>{s&&(s.dispose(),s=null)}),(n,l)=>(v(),x("div",ps))}});const ts=ss(es,[["__scopeId","data-v-19a42bfc"]]),cs=o("h1",{id:"水纹动画",tabindex:"-1"},[as("水纹动画 "),o("a",{class:"header-anchor",href:"#水纹动画","aria-label":'Permalink to "水纹动画"'},"​")],-1),rs=o("div",{class:"tip custom-block"},[o("p",{class:"custom-block-title"},"TIP"),o("p",null,"两种不同的方式实现水纹动画。")],-1),Fs=ls("",4),Bs=JSON.parse('{"title":"水纹动画","description":"","frontmatter":{},"headers":[],"relativePath":"open-layers/map-marker/water-wave-animation/index.md","filePath":"open-layers/map-marker/water-wave-animation/index.md","lastUpdated":1687683239000}'),ys={name:"open-layers/map-marker/water-wave-animation/index.md"},ws=Object.assign(ys,{setup(a){return(s,p)=>(v(),x("div",null,[cs,rs,ns(ts),Fs]))}});export{Bs as __pageData,ws as default};
