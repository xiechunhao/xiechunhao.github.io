import{V as m,a as w,S as h,F as f,b as S,C as b,T,X as P,M as x,c as G,D as V,d as I,P as L}from"../js/ol@7.4.0@ol/ol@7.4.0@ol.2a99620d.js";import{A as k,M}from"../js/index/index.47495de9.js";import{D as N,n as U,v as R,V as d,o as C,c as i,a as o,N as q,j as g,J as X,F as E,S as O,I as Z,_ as $,$ as j,a0 as z}from"../js/@vue_runtime-core@3.3.4@@vue/@vue_runtime-core@3.3.4@@vue.35efc880.js";import{h as Y}from"../js/@vue_reactivity@3.3.4@@vue/@vue_reactivity@3.3.4@@vue.e6fc7fe8.js";import{_ as J}from"./app.f296b152.js";import"../js/earcut@2.2.4@earcut/earcut@2.2.4@earcut.e6a9c857.js";import"../js/rbush@3.0.1@rbush/rbush@3.0.1@rbush.75a05972.js";import"../js/quickselect@2.0.0@quickselect/quickselect@2.0.0@quickselect.f3892974.js";import"../js/@vue_shared@3.3.4@@vue/@vue_shared@3.3.4@@vue.5a5848fd.js";import"../js/@docsearch_css@3.5.1@@docsearch/@docsearch_css@3.5.1@@docsearch.4ed993c7.js";import"../js/body-scroll-lock@4.0.0-beta.0@body-scroll-lock/body-scroll-lock@4.0.0-beta.0@body-scroll-lock.e1f8a6eb.js";import"../js/geotiff@2.0.7@geotiff/geotiff@2.0.7@geotiff.101896b7.js";import"../js/@vue_runtime-dom@3.3.4@@vue/@vue_runtime-dom@3.3.4@@vue.5dd85bb5.js";import"../js/@vueuse_core@10.2.0@@vueuse/@vueuse_core@10.2.0@@vueuse.8a5d8129.js";import"../js/@vueuse_shared@10.2.0@@vueuse/@vueuse_shared@10.2.0@@vueuse.9afec68c.js";import"../js/es/element-plus@2.3.7@element-plus.9cf0a975.js";import"../js/lodash-es@4.17.21@lodash-es/lodash-es@4.17.21@lodash-es.36eb724a.js";import"../js/@vueuse_core@9.13.0@@vueuse/@vueuse_core@9.13.0@@vueuse.604f33c6.js";import"../js/@vueuse_shared@9.13.0@@vueuse/@vueuse_shared@9.13.0@@vueuse.740d90d5.js";import"../js/@element-plus_icons-vue@2.1.0@@element-plus/@element-plus_icons-vue@2.1.0@@element-plus.1b5ed4e9.js";import"../js/@sxzz_popperjs-es@2.11.7@@sxzz/@sxzz_popperjs-es@2.11.7@@sxzz.c75af06c.js";import"../js/@ctrl_tinycolor@3.6.0@@ctrl/@ctrl_tinycolor@3.6.0@@ctrl.f8748455.js";import"../js/dayjs@1.11.8@dayjs/dayjs@1.11.8@dayjs.ab63237d.js";import"../js/async-validator@4.2.5@async-validator/async-validator@4.2.5@async-validator.dee29e8b.js";import"../js/memoize-one@6.0.0@memoize-one/memoize-one@6.0.0@memoize-one.297ddbcb.js";import"../js/escape-html@1.0.3@escape-html/escape-html@1.0.3@escape-html.3a386d15.js";import"../js/normalize-wheel-es@1.2.0@normalize-wheel-es/normalize-wheel-es@1.2.0@normalize-wheel-es.ed76fb12.js";import"../js/@floating-ui_dom@1.4.2@@floating-ui/@floating-ui_dom@1.4.2@@floating-ui.4bb7de12.js";import"../js/@floating-ui_core@1.3.1@@floating-ui/@floating-ui_core@1.3.1@@floating-ui.a8b4680c.js";const H=c=>($("data-v-65b34311"),c=c(),j(),c),K={id:"menu"},Q=H(()=>o("div",{id:"map"},null,-1)),W=N({__name:"index",setup(c){let s=null,r=null;const F=Y({value:"Point",options:[{label:"无",value:"None"},{label:"点",value:"Point"},{label:"线",value:"LineString"},{label:"多边形",value:"Polygon"},{label:"圆",value:"Circle"},{label:"正方形",value:"Square"},{label:"长方形",value:"Box"}]});let l=new m({wrapX:!1});const A=new w({source:l,style:new h({fill:new f({color:"rgba(255, 255, 255, 0.2)"}),stroke:new S({color:"#ff0000",width:2}),image:new b({radius:7,fill:new f({color:"#ff0000"})})})}),v=new T({source:new P({attributions:k,url:M,maxZoom:20})}),_=()=>{s=new x({target:"map",layers:[v],view:new G({projection:"EPSG:4326",center:[0,0],zoom:5})})},u=()=>{let p=F.value;if(p!=="None"){l==null&&(l=new m({wrapX:!1}),A.setSource(l));let e,y;p==="Square"?(p="Circle",e=I(4)):p==="Box"&&(p="LineString",y=2,e=(D,n)=>{const a=D[0],t=D[1];return n||(n=new L([[a,[a[0],t[1]],t,[t[0],a[1]],a]])),n.setCoordinates([[a,[a[0],t[1]],t,[t[0],a[1]],a]]),n}),r=new V({source:l,type:p,geometryFunction:e,maxPoints:y}),s==null||s.addInteraction(r)}else l=null,A.setSource(l)},B=()=>{s&&r&&(s.removeInteraction(r),u())};return U(()=>{_(),s==null||s.addLayer(A),u()}),R(()=>{s&&(s.dispose(),s=null)}),(p,e)=>{const y=d("el-option"),D=d("el-select");return C(),i(E,null,[o("div",K,[q(" 几何图形类型： "),g(D,{modelValue:F.value,"onUpdate:modelValue":e[0]||(e[0]=n=>F.value=n),size:"large",onChange:B},{default:X(()=>[(C(!0),i(E,null,O(F.options,n=>(C(),Z(y,{key:n.value,label:n.label,value:n.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),Q],64)}}});const ss=J(W,[["__scopeId","data-v-65b34311"]]),ns=o("h1",{id:"绘制几何图形",tabindex:"-1"},[q("绘制几何图形 "),o("a",{class:"header-anchor",href:"#绘制几何图形","aria-label":'Permalink to "绘制几何图形"'},"​")],-1),as=o("div",{class:"tip custom-block"},[o("p",{class:"custom-block-title"},"TIP"),o("p",null,"可以选择不同的类型，绘制不同的几何图形。")],-1),ls=z("",2),Vs=JSON.parse('{"title":"绘制几何图形","description":"","frontmatter":{},"headers":[],"relativePath":"open-layers/drawing/draw-features/index.md","filePath":"open-layers/drawing/draw-features/index.md","lastUpdated":1687683239000}'),ps={name:"open-layers/drawing/draw-features/index.md"},Is=Object.assign(ps,{setup(c){return(s,r)=>(C(),i("div",null,[ns,as,g(ss),ls]))}});export{Vs as __pageData,Is as default};
