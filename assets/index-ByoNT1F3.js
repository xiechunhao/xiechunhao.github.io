import{_ as D,aN as I,aM as O,cf as P,a as R,r as U,$ as V,o as n,c as r,w as t,b as a,e as o,u,fz as w,d as m,t as l,m as M,F as j,n as F,a8 as L,E as S,aC as q,ah as H,k as K}from"./index-C4BxmZrN.js";import{i as W}from"./index-CkGVv88Q.js";import{E as G,a as J}from"./descriptions-item-C9WD04Id.js";import{i as Q}from"./index-BKzJx-g6.js";import{g as X}from"./index-DUSysJZb.js";import{i as Y}from"./index-DSHqkOzX.js";const Z={style:{"margin-bottom":"16px"}},ee={style:{display:"flex"}},te={name:"SystemUserDetails"},ae=Object.assign(te,{setup(se){const y="/system/user/details",{currentRoute:_,push:x}=I(),{removePageTab:h,getRouteTabKey:p,setPageTab:T}=O(),{mobile:N}=P(),e=R({userId:void 0,avatar:void 0,username:"",nickname:"",sexName:"",phone:"",roles:[],createTime:void 0,status:void 0}),d=U(!0),E=()=>{h({key:p()}),x("/system/user")},z=()=>{const{params:b}=u(_),c=Number(b.id);!c||isNaN(c)||(d.value=!0,X(c).then(i=>{d.value=!1,Object.assign(e,i),f()}).catch(i=>{d.value=!1,S.error(i.message)}))},f=()=>{e.nickname&&u(_).path.startsWith(y)&&T({key:p(),title:`用户详情[${e.nickname}]`})};return V(()=>{f()}),z(),(b,c)=>{const i=q,s=G,k=H,B=K,v=Q,$=J,A=W,C=Y;return n(),r(C,{"multi-card":!1},{default:t(()=>[a(A,null,{default:t(()=>[o("div",Z,[a(i,{icon:u(w),type:"primary",class:"ele-btn-icon",onClick:E},{default:t(()=>[m(" 返回列表 ")]),_:1},8,["icon"])]),a($,{border:!0,column:u(N)?1:2,class:"detail-table"},{default:t(()=>[a(s,{label:"用户名"},{default:t(()=>[o("div",null,l(e.nickname),1)]),_:1}),a(s,{label:"头像"},{default:t(()=>[o("div",ee,[e.avatar?(n(),r(k,{key:0,src:e.avatar,size:32},null,8,["src"])):(n(),r(k,{key:1,style:{background:"#1677ff"},size:32},{default:t(()=>[m(l(e.nickname&&e.nickname.length>2?e.nickname.substring(e.nickname.length-2):e.nickname),1)]),_:1}))])]),_:1}),a(s,{label:"用户账号"},{default:t(()=>[o("div",null,l(e.username),1)]),_:1}),a(s,{label:"性别"},{default:t(()=>[o("div",null,l(e.sexName),1)]),_:1}),a(s,{label:"手机号"},{default:t(()=>[o("div",null,l(e.phone),1)]),_:1}),a(s,{label:"角色"},{default:t(()=>[(n(!0),M(j,null,F(e.roles,g=>(n(),r(B,{key:g.roleId,size:"small","disable-transitions":!0},{default:t(()=>[m(l(g.roleName),1)]),_:2},1024))),128))]),_:1}),a(s,{label:"状态"},{default:t(()=>[e.status===0?(n(),r(v,{key:0,text:"正常",size:"9px"})):e.status===1?(n(),r(v,{key:1,text:"冻结",type:"danger",ripple:!1,size:"9px"})):L("",!0)]),_:1}),a(s,{label:"创建时间"},{default:t(()=>[o("div",null,l(e.createTime),1)]),_:1})]),_:1},8,["column"])]),_:1})]),_:1})}}}),ue=D(ae,[["__scopeId","data-v-d1c86512"]]);export{ue as default};
