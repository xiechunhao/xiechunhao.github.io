import{S as D,a as p,A as d,M as g}from"./chunks/index.a511ac44.js";import{O as B}from"./chunks/Overlay.99996f63.js";import{S as x,I as h,T as _,F as v,a as q,b as I,V as b}from"./chunks/Vector.e7fd2c77.js";import{T}from"./chunks/TileImage.70f39159.js";import{X as w}from"./chunks/XYZ.94b2552a.js";import{M as S,V as O,bR as P,i as N}from"./chunks/reproj.9b488601.js";import{F as L}from"./chunks/FullScreen.fe51dd7f.js";import{V as U}from"./chunks/Vector.ef038271.js";import{d as k,p as H,a3 as R,o as u,c as E,M,N as V,z as o,_ as $,G as X,a as Z,O as Q}from"./chunks/framework.efc265d9.js";const f={geo:D,att:{title:p.NAME,titleURL:p.JUEJIN,text:`
    <br/>
    年龄：${p.AGE}<br/>
    性别：${p.SEX}<br/>
    目前居住地：${p.LOCATION}<br/>
    QQ：${p.QQ}<br/>
    WX：${p.WX}<br/>
    <br/>
    `,imgURL:p.AVATAR}},G=n=>new B({element:n,autoPan:!0,positioning:"bottom-center",stopEvent:!1,autoPanAnimation:{duration:250}}),j=n=>new x({image:new h({anchor:[.5,60],anchorOrigin:"top-right",anchorXUnits:"fraction",anchorYUnits:"pixels",offsetOrigin:"top-right",scale:.4,opacity:.75,src:"/image/blue.png"}),text:new _({textAlign:"center",textBaseline:"middle",font:"normal 14px 微软雅黑",text:n.get("name"),fill:new v({color:"#aa3300"}),stroke:new q({color:"#ffcc33",width:2})})}),Y=({info:n,content:a})=>{const s=document.createElement("a");s.className="markerInfo",s.href=n.att.titleURL,J(s,n.att.title),a.appendChild(s);const t=document.createElement("div");t.className="markerText",t.innerHTML=n.att.text,a.appendChild(t);const l=document.createElement("img");l.className="markerImg",l.src=n.att.imgURL,a.appendChild(l)};function J(n,a){typeof n.textContent=="string"?n.textContent=a:n.innerText=a}const z=n=>(M("data-v-3f957a77"),n=n(),V(),n),W={id:"map"},K=z(()=>o("div",{id:"popup",class:"ol-popup"},[o("a",{href:"javascript:void(0)",id:"popup-closer",class:"ol-popup-closer"}),o("div",{id:"popup-content"})],-1)),ss=[K],ns=k({__name:"index",setup(n){const a=new T({source:new w({attributions:d,url:g,maxZoom:20})});let s=null;const t=()=>{s=new S({target:"map",layers:[a],view:new O({projection:"EPSG:4326",center:D,zoom:5}),controls:P().extend([new L])});const l=new I({geometry:new N(D),name:"深圳市"});l.setStyle(j(l));const C=new b({features:[l]}),m=new U({source:C});s.addLayer(m);const A=document.getElementById("popup"),c=document.getElementById("popup-content"),r=document.getElementById("popup-closer");if(A&&c&&r){const e=G(A);s.addOverlay(e),r.onclick=()=>{e.setPosition(void 0),r.blur()},s.on("click",y=>{if(s===null)return;s.forEachFeatureAtPixel(y.pixel,F=>F)&&(c.innerHTML="",Y({info:f,content:c}),e.getPosition()==null&&e.setPosition(f.geo))}),s.on("pointermove",y=>{if(s===null)return;const i=s.getEventPixel(y.originalEvent),F=s.hasFeatureAtPixel(i);s.getTargetElement().style.cursor=F?"pointer":""})}};return H(()=>{t()}),R(()=>{s&&(s.dispose(),s=null)}),(l,C)=>(u(),E("div",W,ss))}});const as=$(ns,[["__scopeId","data-v-3f957a77"]]),ls=o("h1",{id:"popup-弹窗",tabindex:"-1"},[Z("Popup 弹窗 "),o("a",{class:"header-anchor",href:"#popup-弹窗","aria-label":'Permalink to "Popup 弹窗"'},"​")],-1),ps=o("div",{class:"tip custom-block"},[o("p",{class:"custom-block-title"},"TIP"),o("p",null,"鼠标单击标注点，弹出 Popup 标注。")],-1),os=Q("",4),fs=JSON.parse('{"title":"Popup 弹窗","description":"","frontmatter":{},"headers":[],"relativePath":"open-layers/map-marker/popup/index.md","filePath":"open-layers/map-marker/popup/index.md","lastUpdated":1687662745000}'),ts={name:"open-layers/map-marker/popup/index.md"},us=Object.assign(ts,{setup(n){return(a,s)=>(u(),E("div",null,[ls,ps,X(as),os]))}});export{fs as __pageData,us as default};
