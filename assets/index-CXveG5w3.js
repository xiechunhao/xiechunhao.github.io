import{i as re}from"./index-p1XoTQj1.js";import{_ as q,c9 as F,r as f,o as d,l as W,d as S,b as e,w as t,e as w,c as k,a7 as H,E as K,V as ie,aS as le,aB as L,ax as P,j as Z,ca as ue,a as ne,t as A,F as X,m as Q,k as ee,cb as oe,cc as ce,u as te,bD as de,aF as pe,aH as me,aG as fe,aI as _e,aJ as be,aK as ve,R as ye,ah as ge,I as he,cd as xe,h as ke,aZ as we,G as j,ce as Se,bV as Ve,bO as Ce}from"./index-BF2fBoPb.js";import{i as $e}from"./index-Cjr4ibGp.js";import{i as Ne}from"./index-BOtwo2Hq.js";import{i as T,a as Ie}from"./index-DG03PXF-.js";import"./index-CcYpqHDV.js";import"./index-B-b3I1wI.js";import"./index-BnIMXyIx.js";import"./virtual-list-B6G0p9cv.js";import"./index-BWYZqqjh.js";import"./index-DuliLu7F.js";import{O as M}from"./option-item-Cbyl1g24.js";import{l as ae}from"./index-B7rDDQJg.js";import{p as se,l as We}from"./index-AC-OHBhs.js";import{p as ze}from"./index-BHkwGfMZ.js";import{i as G}from"./index-CdRmj7H0.js";import"./isArrayLikeObject-j402kJv_.js";import"./vuedraggable.umd-DLnsjw3h.js";const Ee={class:"option-wrapper"},Ke={__name:"demo-base",setup(U){const _=Array.from({length:39}).map((i,o)=>{const x=o+1,C=String(x).padStart(3,"0"),N=["机密","秘密","公开","绝密","内部"],D=["永久","定期10年","定期20年"],R=["Y","D10","D20"],g=F(0,D.length),h=["纸张","光盘"],O="2020";return{pieceId:x,title:`教学档案${C}`,pieceNo:`ELE101-${R[g]}-ZM•JX-${O}-${C}`,secret:N[F(0,N.length)],location:`001-001-${Math.random()<.5?"A":"B"}0${F(1,7)}`,type:"教学组织",retention:D[g],carrier:h[F(0,h.length)],year:O,amount:F(2,10)}}),m=f(null),a=f([{type:"selection",columnKey:"selection",width:50,align:"center",fixed:"left"},{type:"index",columnKey:"index",width:50,align:"center",fixed:"left"},{prop:"pieceNo",label:"案卷档号",minWidth:260},{prop:"title",label:"案卷题名",minWidth:160},{prop:"retention",label:"保管期限",minWidth:110,align:"center",filters:[{text:"永久",value:"永久"},{text:"定期10年",value:"定期10年"},{text:"定期20年",value:"定期20年"}],filterMultiple:!1},{prop:"amount",label:"件数",minWidth:110,align:"center"},{prop:"secret",label:"密级",minWidth:110,align:"center",filters:[{text:"机密",value:"机密"},{text:"秘密",value:"秘密"},{text:"公开",value:"公开"},{text:"绝密",value:"绝密"},{text:"内部",value:"内部"}],filterMultiple:!0},{prop:"year",label:"归档年度",minWidth:110,align:"center"},{prop:"type",label:"案卷类型",minWidth:140,align:"center"},{prop:"location",label:"存放位置",minWidth:140,align:"center"},{prop:"carrier",label:"载体类型",minWidth:110,align:"center"},{columnKey:"action",label:"操作",width:160,align:"center",slot:"action",fixed:"right",hideInPrint:!0,hideInExport:!0}]),s=async({pages:i,filter:o})=>{var g,h;const x=(g=o.secret)!=null&&g.length?o.secret:null,C=(h=o.retention)!=null&&h.length?o.retention:null,N=_.filter(O=>!(x!=null&&(!O.secret||!x.includes(O.secret))||C!=null&&(!O.retention||!C.includes(O.retention)))),D=((i.page||1)-1)*(i.limit||10),R=D+(i.limit||10);return{count:z.value?"*":N.length,list:N.slice(D,R>N.length?N.length:R)}},b=f([]),u=f(null),l=f(!1),n=f(!1),r=f(!1),c=f(!0),y=f(!0),p=f(!1),v=f(!1),z=f(!1),E=i=>{K.success("编辑:"+i.pieceNo)},$=i=>{K.error("删除:"+i.pieceNo)},Y=({columns:i,data:o})=>{var N;const x=[],C=((N=i[0])==null?void 0:N.type)==="selection"?2:1;return i.forEach((D,R)=>{D.property==="amount"?x[R]=o.map(g=>Number(g[D.property])).reduce((g,h)=>{const O=Number(h);return isNaN(O)?g:g+h},0):R===C&&(x[R]="合计")}),x},J=()=>{console.log(JSON.parse(JSON.stringify(b.value))),K.success("共 "+b.value.length+" 条数据已打印在控制台")},B=()=>{u.value?(console.log(JSON.parse(JSON.stringify(u.value))),K.success(u.value.pieceNo+"的数据已打印在控制台")):K.success("未选中任何数据")},V=()=>{var i,o;b.value=[],(o=(i=m.value)==null?void 0:i.reload)==null||o.call(i,{page:1})},I=()=>{ie(()=>{m.value&&m.value.doLayout()})};return(i,o)=>{const x=le,C=L,N=P,D=Z,R=T;return d(),W("div",null,[S("div",Ee,[e(M,{label:"表头背景",responsive:!1},{default:t(()=>[e(x,{modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=g=>l.value=g),size:"small"},null,8,["modelValue"])]),_:1}),e(M,{label:"边框",responsive:!1},{default:t(()=>[e(x,{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=g=>n.value=g),size:"small",onChange:I},null,8,["modelValue"])]),_:1}),e(M,{label:"斑马纹",responsive:!1},{default:t(()=>[e(x,{modelValue:r.value,"onUpdate:modelValue":o[2]||(o[2]=g=>r.value=g),size:"small",onChange:I},null,8,["modelValue"])]),_:1}),e(M,{label:"表头",responsive:!1},{default:t(()=>[e(x,{modelValue:c.value,"onUpdate:modelValue":o[3]||(o[3]=g=>c.value=g),size:"small"},null,8,["modelValue"])]),_:1}),e(M,{label:"表尾合计行",responsive:!1},{default:t(()=>[e(x,{modelValue:y.value,"onUpdate:modelValue":o[4]||(o[4]=g=>y.value=g),size:"small"},null,8,["modelValue"])]),_:1}),e(M,{label:"行点击高亮",responsive:!1},{default:t(()=>[e(x,{modelValue:p.value,"onUpdate:modelValue":o[5]||(o[5]=g=>p.value=g),size:"small"},null,8,["modelValue"])]),_:1}),e(M,{label:"行点击勾选",responsive:!1},{default:t(()=>[e(x,{modelValue:v.value,"onUpdate:modelValue":o[6]||(o[6]=g=>v.value=g),size:"small"},null,8,["modelValue"])]),_:1}),e(M,{label:"不返回总数",responsive:!1},{default:t(()=>[e(x,{modelValue:z.value,"onUpdate:modelValue":o[7]||(o[7]=g=>z.value=g),size:"small",onChange:o[8]||(o[8]=g=>V())},null,8,["modelValue"])]),_:1})]),e(R,{ref_key:"tableRef",ref:m,"row-key":"pieceId",columns:a.value,datasource:s,"show-overflow-tooltip":!0,"highlight-current-row":p.value,"row-click-checked":v.value,selections:b.value,"onUpdate:selections":o[9]||(o[9]=g=>b.value=g),current:u.value,"onUpdate:current":o[10]||(o[10]=g=>u.value=g),pagination:{pageSize:10,pageSizes:[10,20,40]},toolbar:{theme:l.value?"default":"plain"},border:n.value,stripe:r.value,"show-header":c.value,"show-summary":y.value,"summary-method":Y},{toolbar:t(()=>[e(C,{type:"primary",class:"ele-btn-icon",onClick:J},{default:t(()=>o[11]||(o[11]=[w(" 获取多选行数据 ")])),_:1}),p.value?(d(),k(C,{key:0,type:"primary",class:"ele-btn-icon",onClick:B},{default:t(()=>o[12]||(o[12]=[w(" 获取单选行数据 ")])),_:1})):H("",!0)]),action:t(({row:g})=>[e(N,{type:"primary",underline:!1,onClick:h=>E(g)},{default:t(()=>o[13]||(o[13]=[w(" 修改 ")])),_:2},1032,["onClick"]),e(D,{direction:"vertical"}),e(N,{type:"danger",underline:!1,onClick:h=>$(g)},{default:t(()=>o[14]||(o[14]=[w(" 删除 ")])),_:2},1032,["onClick"])]),_:1},8,["columns","highlight-current-row","row-click-checked","selections","current","toolbar","border","stripe","show-header","show-summary"])])}}},Ue=q(Ke,[["__scopeId","data-v-26a7d46d"]]),De={__name:"tree-table",setup(U){const _=f([{type:"index",columnKey:"index",width:50,align:"center"},{prop:"title",label:"菜单名称",minWidth:140},{prop:"path",label:"路由地址",minWidth:120},{prop:"sortNumber",label:"排序",width:100,align:"center"},{prop:"createTime",label:"创建时间",minWidth:110,align:"center"}]),m=({where:a,parent:s})=>ae({...a,parentId:(s==null?void 0:s.menuId)||0});return(a,s)=>{const b=T;return d(),W("div",null,[e(b,{"row-key":"menuId",columns:_.value,datasource:m,lazy:!0,pagination:!1,"show-overflow-tooltip":!0},null,8,["columns"])])}}},Me={__name:"default-sorter",setup(U){const _=f(null),m=f([{type:"index",columnKey:"index",width:50,align:"center"},{prop:"username",label:"用户账号",sortable:"custom",minWidth:110},{prop:"nickname",label:"用户名",sortable:"custom",minWidth:110},{prop:"sexName",label:"性别",sortable:"custom",width:110,align:"center",filterMultiple:!1,filters:[{text:"男",value:"男"},{text:"女",value:"女"}],filteredValue:["男"]},{prop:"createTime",label:"创建时间",sortable:"custom",minWidth:140,align:"center"}]),a=({pages:u,orders:l,filters:n})=>se({...l,...n,...u}),s=()=>{var u,l;(l=(u=_.value)==null?void 0:u.sort)==null||l.call(u,"username","ascending")},b=()=>{var u,l,n,r,c,y;(l=(u=_.value)==null?void 0:u.clearSort)==null||l.call(u),(r=(n=_.value)==null?void 0:n.clearFilter)==null||r.call(n),(y=(c=_.value)==null?void 0:c.reload)==null||y.call(c,{sorter:{},filter:{}})};return(u,l)=>{const n=L,r=T;return d(),W("div",null,[e(r,{ref_key:"tableRef",ref:_,"row-key":"userId",columns:m.value,datasource:a,"default-sort":{prop:"createTime",order:"descending"},"show-overflow-tooltip":!0},{toolbar:t(()=>[e(n,{type:"primary",class:"ele-btn-icon",onClick:s},{default:t(()=>l[0]||(l[0]=[w(" 改为账号排序 ")])),_:1}),e(n,{type:"primary",class:"ele-btn-icon",onClick:b},{default:t(()=>l[1]||(l[1]=[w(" 重置排序筛选 ")])),_:1})]),_:1},8,["columns"])])}}},Oe={style:{padding:"0 16px"}},Te={__name:"child-table",props:{dictId:Number,selections:Array},emits:["update:selections"],setup(U,{emit:_}){const m=U,a=_,s=f([{type:"selection",columnKey:"selection",width:50,align:"center",fixed:"left"},{type:"index",columnKey:"index",width:50,align:"center"},{prop:"dictDataName",label:"字典数据名称",sortable:"custom",minWidth:120},{prop:"dictDataCode",label:"字典数据代码",sortable:"custom",minWidth:120},{prop:"sortNumber",label:"排序号",sortable:"custom",width:110,align:"center"},{prop:"createTime",label:"创建时间",sortable:"custom",minWidth:110},{columnKey:"action",label:"操作",width:120,align:"center",slot:"action"}]),b=({where:n,orders:r})=>ue({...n,...r,dictId:m.dictId}),u=n=>{K.error("删除: "+n.dictDataName)},l=n=>{a("update:selections",n)};return(n,r)=>{const c=P,y=Z,p=T;return d(),W("div",Oe,[e(p,{columns:s.value,datasource:b,"show-overflow-tooltip":!0,toolbar:!1,pagination:!1,"empty-props":!1,selections:U.selections||[],"onUpdate:selections":l},{action:t(({row:v})=>[e(c,{type:"primary",underline:!1},{default:t(()=>r[0]||(r[0]=[w("修改")])),_:1}),e(y,{direction:"vertical"}),e(c,{type:"danger",underline:!1,onClick:z=>u(v)},{default:t(()=>r[1]||(r[1]=[w(" 删除 ")])),_:2},1032,["onClick"])]),_:1},8,["columns","selections"])])}}},Re={__name:"nested-table",setup(U){const _=f([{type:"expand",columnKey:"expand",width:50,align:"center",slot:"expand",fixed:"left"},{type:"index",columnKey:"index",width:50,align:"center",fixed:"left"},{prop:"dictName",label:"字典名称",sortable:"custom",minWidth:110},{prop:"dictCode",label:"字典代码",sortable:"custom",minWidth:110},{prop:"sortNumber",label:"排序号",sortable:"custom",width:120,align:"center"},{prop:"createTime",label:"创建时间",sortable:"custom",minWidth:110},{columnKey:"action",label:"操作",width:120,align:"center",slot:"action",fixed:"right",hideInPrint:!0,hideInExport:!0}]),m=({pages:u,orders:l})=>ze({...l,...u}),a=u=>{K.error("删除: "+u.dictName)},s=ne({}),b=()=>{console.log(JSON.parse(JSON.stringify(s)));const u=Object.keys(s).map(l=>s[l].length).reduce((l,n)=>l+n,0);K.success(`共选中 ${u} 条数据, 已打印在控制台`)};return(u,l)=>{const n=L,r=P,c=Z,y=T;return d(),W("div",null,[e(y,{"row-key":"dictId",columns:_.value,datasource:m,"show-overflow-tooltip":!0},{toolbar:t(()=>[e(n,{type:"primary",onClick:b,class:"ele-btn-icon"},{default:t(()=>l[0]||(l[0]=[w(" 获取所有选中 ")])),_:1})]),action:t(({row:p})=>[e(r,{type:"primary",underline:!1},{default:t(()=>l[1]||(l[1]=[w("修改")])),_:1}),e(c,{direction:"vertical"}),e(r,{type:"danger",underline:!1,onClick:v=>a(p)},{default:t(()=>l[2]||(l[2]=[w(" 删除 ")])),_:2},1032,["onClick"])]),expand:t(({row:p})=>[e(Te,{dictId:p.dictId,selections:s[p.dictId],"onUpdate:selections":v=>s[p.dictId]=v},null,8,["dictId","selections","onUpdate:selections"])]),_:1},8,["columns"])])}}},Ye={style:{padding:"12px 16px 12px 32px"}},Je={style:{"margin-top":"12px"}},Ae={style:{"margin-top":"12px"}},Be={style:{"margin-top":"12px"}},Fe={__name:"expandable-table",setup(U){const _=f([{type:"expand",columnKey:"expand",width:50,align:"center",slot:"expand"},{type:"index",columnKey:"index",width:50,align:"center"},{prop:"username",label:"用户账号",sortable:"custom",minWidth:110},{prop:"nickname",label:"用户名",sortable:"custom",minWidth:110},{prop:"createTime",label:"创建时间",sortable:"custom",minWidth:110}]),m=({pages:a,orders:s})=>se({...s,...a});return(a,s)=>{const b=ee,u=G,l=T;return d(),W("div",null,[e(l,{"row-key":"userId",columns:_.value,datasource:m,"show-overflow-tooltip":!0},{expand:t(({row:n})=>[S("div",Ye,[S("div",null,[s[0]||(s[0]=S("span",null,"手机号码：",-1)),S("span",null,A(n.phone),1)]),S("div",Je,[s[1]||(s[1]=S("span",null,"所属机构：",-1)),S("span",null,A(n.organizationName),1)]),S("div",Ae,[s[2]||(s[2]=S("span",null,"角  色：",-1)),S("span",null,[(d(!0),W(X,null,Q(n.roles,r=>(d(),k(b,{key:r.roleId,size:"small","disable-transitions":!0},{default:t(()=>[w(A(r.roleName),1)]),_:2},1024))),128))])]),S("div",Be,[s[3]||(s[3]=S("span",null,"状  态：",-1)),S("span",null,[n.status===0?(d(),k(u,{key:0,text:"正常",size:"8px"})):n.status===1?(d(),k(u,{key:1,text:"冻结",type:"danger",ripple:!1,size:"8px"})):H("",!0)])])])]),_:1},8,["columns"])])}}},He={__name:"merge-cell",setup(U){const _=f([{type:"index",columnKey:"index",width:50,align:"center"},{columnKey:"userName",prop:"userName",label:"姓名"},{prop:"courseName",label:"课程"},{prop:"score",label:"得分"}]),m=()=>oe(),a=({row:s,column:b})=>b.columnKey==="userName"?[s.userNameRowSpan,1]:[1,1];return(s,b)=>{const u=T;return d(),W("div",null,[e(u,{border:!0,"row-key":"userId",columns:_.value,datasource:m,"span-method":a,toolbar:{theme:"default"}},null,8,["columns"])])}}},Le={style:{padding:"6px 0 12px 0"}},je={key:1,class:"editable-cell-text"},qe={key:1,class:"editable-cell-text"},Pe={key:1,class:"editable-cell-text"},Ze={style:{display:"inline","align-items":"center"}},Ge={__name:"editable-table",setup(U){const _=f(null),m=ne({users:[]}),a=f([{type:"index",columnKey:"index",width:50,align:"center",fixed:"left"},{columnKey:"name",label:"用户名",minWidth:120,slot:"name"},{columnKey:"number",label:"工号",minWidth:120,slot:"number"},{columnKey:"department",label:"所属部门",minWidth:120,slot:"department"},{columnKey:"action",label:"操作",width:120,align:"center",fixed:"right",slot:"action"}]),s=()=>{var r,c;(c=(r=_.value)==null?void 0:r.validate)==null||c.call(r,(y,p)=>{if(!y){const v=p?Object.keys(p).length:0;K.error(`有 ${v} 项校验不通过`);return}K.success("提交成功")})},b=()=>{m.users.push({key:Date.now()+"-"+m.users.length,number:"",name:"",department:void 0,isEdit:!0})},u=(r,c)=>{m.users.splice(c,1)},l=r=>{r.isEdit=!0},n=r=>{r.isEdit=!1};return ce().then(r=>{m.users=r}).catch(r=>{K.error(r.message)}),(r,c)=>{const y=L,p=me,v=fe,z=_e,E=be,$=P,Y=Z,J=Ie,B=ve;return d(),W("div",null,[e(B,{ref_key:"formRef",ref:_,model:m,"label-width":"0px",onSubmit:c[0]||(c[0]=pe(()=>{},["prevent"]))},{default:t(()=>[S("div",Le,[e(y,{icon:te(de),type:"primary",class:"ele-btn-icon",onClick:b},{default:t(()=>c[1]||(c[1]=[w(" 新增一行 ")])),_:1},8,["icon"]),e(y,{type:"primary",onClick:s},{default:t(()=>c[2]||(c[2]=[w("提交")])),_:1})]),e(J,{"row-key":"key",columns:a.value,data:m.users,"cell-class-name":"editable-table-cell",class:"editable-table"},{name:t(({row:V,$index:I})=>[e(v,{prop:"users."+I+".name",rules:{required:!0,message:"请输入用户名",type:"string",trigger:"blur"},class:"form-error-popper",style:{"margin-bottom":"0"}},{default:t(()=>[V.isEdit?(d(),k(p,{key:0,clearable:"",modelValue:V.name,"onUpdate:modelValue":i=>V.name=i,placeholder:"请输入用户名"},null,8,["modelValue","onUpdate:modelValue"])):(d(),W("div",je,A(V.name),1))]),_:2},1032,["prop"])]),number:t(({row:V,$index:I})=>[e(v,{prop:"users."+I+".number",rules:{required:!0,message:"请输入工号",type:"string",trigger:"blur"},class:"form-error-popper",style:{"margin-bottom":"0"}},{default:t(()=>[V.isEdit?(d(),k(p,{key:0,clearable:"",modelValue:V.number,"onUpdate:modelValue":i=>V.number=i,placeholder:"请输入工号"},null,8,["modelValue","onUpdate:modelValue"])):(d(),W("div",qe,A(V.number),1))]),_:2},1032,["prop"])]),department:t(({row:V,$index:I})=>[e(v,{prop:"users."+I+".department",rules:{required:!0,message:"请选择部门",type:"string",trigger:"change"},class:"form-error-popper",style:{"margin-bottom":"0"}},{default:t(()=>[V.isEdit?(d(),k(E,{key:0,clearable:"",modelValue:V.department,"onUpdate:modelValue":i=>V.department=i,placeholder:"请选择部门",class:"ele-fluid"},{default:t(()=>[e(z,{value:"研发部",label:"研发部"}),e(z,{value:"测试部",label:"测试部"}),e(z,{value:"产品部",label:"产品部"})]),_:2},1032,["modelValue","onUpdate:modelValue"])):(d(),W("div",Pe,A(V.department),1))]),_:2},1032,["prop"])]),action:t(({row:V,$index:I})=>[S("div",Ze,[V.isEdit?(d(),k($,{key:0,type:"success",underline:!1,onClick:i=>n(V)},{default:t(()=>c[3]||(c[3]=[w(" 完成 ")])),_:2},1032,["onClick"])):(d(),k($,{key:1,type:"primary",underline:!1,onClick:i=>l(V)},{default:t(()=>c[4]||(c[4]=[w(" 编辑 ")])),_:2},1032,["onClick"])),e(Y,{direction:"vertical",style:{margin:"0 8px"}}),e($,{type:"danger",underline:!1,onClick:i=>u(V,I)},{default:t(()=>c[5]||(c[5]=[w(" 删除 ")])),_:2},1032,["onClick"])])]),_:1},8,["columns","data"])]),_:1},8,["model"])])}}},Xe=q(Ge,[["__scopeId","data-v-93af8d5a"]]),Qe={style:{"padding-top":"8px"}},et={__name:"sortable-table",setup(U){let _=null;const m=f(null),a=f([]),s=f([{columnKey:"handle",width:58,align:"center",slot:"handle",fixed:"left",hideInSetting:!0},{type:"selection",columnKey:"selection",width:50,align:"center",fixed:"left",reserveSelection:!0},{prop:"username",label:"用户账号",minWidth:110},{prop:"nickname",label:"用户名",minWidth:110},{columnKey:"sex",prop:"sexName",label:"性别",width:110,align:"center",filters:[{text:"男",value:"1"},{text:"女",value:"2"}],filterMultiple:!1},{prop:"createTime",label:"创建时间",minWidth:140,align:"center"},{prop:"status",label:"状态",width:110,align:"center",slot:"status",fixed:"right"}]),b=({where:l,orders:n,filters:r})=>We({...l,...n,...r});ye(()=>{var r;const l=(r=m.value)==null?void 0:r.$el;if(!l)return;const n=l.querySelector(".el-table__inner-wrapper > .el-table__body-wrapper .el-table__body > tbody");_=new ge(n,{animation:300,draggable:".el-table__row",handle:".sort-handle",forceFallback:!0,onUpdate:({oldDraggableIndex:c,newDraggableIndex:y})=>{var p,v,z,E,$;if(typeof c=="number"&&typeof y=="number"){const Y=[...(z=(v=(p=m.value)==null?void 0:p.getData)==null?void 0:v.call(p))!=null?z:[]];Y.splice(y,0,Y.splice(c,1)[0]),($=(E=m.value)==null?void 0:E.setData)==null||$.call(E,Y),Array.from(n.querySelectorAll(".el-table__row.hover-row")).forEach(J=>{J.classList.remove("hover-row")})}},setData:()=>{}})}),he(()=>{_&&(_.destroy(),_=null)});const u=()=>{var r,c,y;const l=(y=(c=(r=m.value)==null?void 0:r.getData)==null?void 0:c.call(r))!=null?y:[],n=[...a.value].sort((p,v)=>{const z=l.findIndex($=>$.userId===p.userId),E=l.findIndex($=>$.userId===v.userId);return z-E});console.log(JSON.parse(JSON.stringify(n))),K.success(`共选中 ${a.value.length} 条数据, 已打印在控制台`)};return(l,n)=>{const r=ke,c=G,y=L,p=T;return d(),W("div",Qe,[e(p,{ref_key:"tableRef",ref:m,"row-key":"userId",columns:s.value,datasource:b,"show-overflow-tooltip":!0,pagination:!1,selections:a.value,"onUpdate:selections":n[0]||(n[0]=v=>a.value=v),class:"sortable-table"},{handle:t(()=>[e(r,{icon:te(xe),type:"placeholder",class:"sort-handle"},null,8,["icon"])]),status:t(({row:v})=>[v.status===0?(d(),k(c,{key:0,text:"正常",size:"8px"})):v.status===1?(d(),k(c,{key:1,text:"冻结",type:"danger",ripple:!1,size:"8px"})):H("",!0)]),toolbar:t(()=>[e(y,{type:"primary",onClick:u,class:"ele-btn-icon"},{default:t(()=>n[1]||(n[1]=[w(" 获取选中 ")])),_:1})]),_:1},8,["columns","selections"])])}}},tt=q(et,[["__scopeId","data-v-09ab340e"]]),lt={__name:"demo-selections",setup(U){const _=f([{type:"selection",columnKey:"selection",width:50,align:"center",fixed:"left"},{type:"index",columnKey:"index",width:50,align:"center",fixed:"left"},{prop:"pieceNo",label:"案卷档号",minWidth:260},{prop:"title",label:"案卷题名",minWidth:160},{prop:"retention",label:"保管期限",minWidth:110,align:"center"},{prop:"amount",label:"件数",minWidth:110,align:"center"},{prop:"secret",label:"密级",minWidth:110,align:"center"},{prop:"year",label:"归档年度",minWidth:110,align:"center"}]),m=f(Array.from({length:8}).map((y,p)=>{const v=p+1,z=String(v).padStart(3,"0"),E=["机密","秘密","公开","绝密","内部"],$=["永久","定期10年","定期20年"],Y=["Y","D10","D20"],J=F(0,$.length),B="2020";return{pieceId:v,title:`教学档案${z}`,pieceNo:`ELE101-${Y[J]}-ZM•JX-${B}-${z}`,secret:E[F(0,E.length)],retention:$[J],year:B,amount:F(2,10)}})),a=f([]),s=f(null),b=()=>{console.log(JSON.parse(JSON.stringify(a.value))),K.success("共 "+a.value.length+" 条数据已打印在控制台")},u=()=>{a.value=[m.value[1],m.value[2],m.value[5]]},l=()=>{a.value=[]},n=()=>{s.value?(console.log(JSON.parse(JSON.stringify(s.value))),K.success(s.value.pieceNo+"的数据已打印在控制台")):K.success("未选中任何数据")},r=()=>{s.value=m.value[3]},c=()=>{s.value=null};return(y,p)=>{const v=L,z=we,E=T;return d(),W("div",null,[e(E,{"row-key":"pieceId",columns:_.value,datasource:m.value,"show-overflow-tooltip":!0,selections:a.value,"onUpdate:selections":p[0]||(p[0]=$=>a.value=$),current:s.value,"onUpdate:current":p[1]||(p[1]=$=>s.value=$),"highlight-current-row":"",pagination:!1},{toolbar:t(()=>[e(z,{size:12,wrap:""},{default:t(()=>[e(v,{type:"primary",class:"ele-btn-icon",onClick:b},{default:t(()=>p[2]||(p[2]=[w(" 获取多选 ")])),_:1}),e(v,{type:"warning",class:"ele-btn-icon",onClick:u},{default:t(()=>p[3]||(p[3]=[w(" 修改多选 ")])),_:1}),e(v,{type:"danger",class:"ele-btn-icon",onClick:l},{default:t(()=>p[4]||(p[4]=[w(" 清空多选 ")])),_:1}),e(v,{plain:"",type:"primary",class:"ele-btn-icon",onClick:n},{default:t(()=>p[5]||(p[5]=[w(" 获取单选 ")])),_:1}),e(v,{plain:"",type:"warning",class:"ele-btn-icon",onClick:r},{default:t(()=>p[6]||(p[6]=[w(" 修改单选 ")])),_:1}),e(v,{plain:"",type:"danger",class:"ele-btn-icon",onClick:c},{default:t(()=>p[7]||(p[7]=[w(" 清空单选 ")])),_:1})]),_:1})]),_:1},8,["columns","datasource","selections","current"])])}}},nt={class:"option-wrapper"},ot={__name:"virtual-base",setup(U){const _=f([{type:"selection",columnKey:"selection",width:52,align:"center",fixed:"left"},{type:"index",columnKey:"index",width:68,fixed:"left"},{label:"用户账号",prop:"username",minWidth:160,sortable:"custom"},{label:"用户名",prop:"nickname",minWidth:160,sortable:"custom"},{label:"性别",prop:"sex",width:120,sortable:"custom",align:"center"},{label:"角色",prop:"roles",slot:"roles",minWidth:160,filters:[{text:"管理员",value:"管理员"},{text:"普通用户",value:"普通用户"},{text:"游客",value:"游客"}],filterMultiple:!0},{label:"手机号码",prop:"phone",minWidth:160,sortable:"custom"},{label:"邮箱",prop:"email",minWidth:180,sortable:"custom"},{prop:"status",label:"状态",width:120,sortable:"custom",slot:"status",align:"center",headerAlign:"left",filters:[{text:"正常",value:"0"},{text:"冻结",value:"1"}],filterMultiple:!1},{label:"出生日期",prop:"birthday",width:160,align:"center",sortable:"custom"},{label:"创建时间",prop:"createTime",minWidth:140,sortable:"custom"},{columnKey:"action",label:"操作",width:160,align:"center",slot:"action",fixed:"right",hideInPrint:!0,hideInExport:!0}]),m=f([]),a=f(!1),s=f([]),b=f(null),u=f(!1),l=f(!1),n=f(!1),r=f(!0),c=f(!0),y=f(!1),p=f(!1),v=I=>{K.success("编辑:"+I.nickname)},z=I=>{K.error("删除:"+I.nickname)};let E;const $=()=>{a.value=!0,setTimeout(()=>{if(E){a.value=!1;return}E=Array.from({length:1e4}).map((I,i)=>{const o=i+1,x="user-"+String(o).padStart(6,"0"),C=Math.random();return{userId:o,username:x,nickname:"用户"+o,sex:C<.8?"男":"女",roles:[C<.3?"管理员":"普通用户"],phone:String(12345678900+o),email:x+"@eleadmin.com",status:C<.2?"1":"0",birthday:j().subtract(3*o,"h").format("YYYY-MM-DD"),createTime:j().subtract(45*o,"s").format("YYYY-MM-DD HH:mm:ss")}}),m.value=E,a.value=!1},100)},Y=({columns:I,data:i})=>{const o=[];return I.forEach((x,C)=>{if(x.property==="sex"){const N=i.filter(D=>D.sex=="女").length;o[C]=(N/i.length*100).toFixed(2)+"% (女)"}else x.property==="status"?o[C]=i.filter(N=>N.status=="1").length+" (冻结)":x.property==="username"&&(o[C]="合计")}),o},J=I=>{a.value=!0,setTimeout(()=>{let i=[...E];Object.keys(I).forEach(o=>{const x=I[o];x&&x.length&&(i=i.filter(C=>Array.isArray(C[o])?C[o].some(N=>x.includes(N)):x.includes(C[o])))}),m.value=i,a.value=!1},100)},B=()=>{console.log(JSON.parse(JSON.stringify(s.value))),K.success("共 "+s.value.length+" 条数据已打印在控制台")},V=()=>{b.value?(console.log(JSON.parse(JSON.stringify(b.value))),K.success(b.value.nickname+"的数据已打印在控制台")):K.success("未选中任何数据")};return $(),(I,i)=>{const o=le,x=L,C=ee,N=G,D=P,R=Z,g=T;return d(),W("div",null,[S("div",nt,[e(M,{label:"表头背景",responsive:!1},{default:t(()=>[e(o,{modelValue:u.value,"onUpdate:modelValue":i[0]||(i[0]=h=>u.value=h),size:"small"},null,8,["modelValue"])]),_:1}),e(M,{label:"显示边框",responsive:!1},{default:t(()=>[e(o,{modelValue:l.value,"onUpdate:modelValue":i[1]||(i[1]=h=>l.value=h),size:"small"},null,8,["modelValue"])]),_:1}),e(M,{label:"显示斑马纹",responsive:!1},{default:t(()=>[e(o,{modelValue:n.value,"onUpdate:modelValue":i[2]||(i[2]=h=>n.value=h),size:"small"},null,8,["modelValue"])]),_:1}),e(M,{label:"显示表头",responsive:!1},{default:t(()=>[e(o,{modelValue:r.value,"onUpdate:modelValue":i[3]||(i[3]=h=>r.value=h),size:"small"},null,8,["modelValue"])]),_:1}),e(M,{label:"显示表尾合计行",responsive:!1},{default:t(()=>[e(o,{modelValue:c.value,"onUpdate:modelValue":i[4]||(i[4]=h=>c.value=h),size:"small"},null,8,["modelValue"])]),_:1}),e(M,{label:"行点击高亮",responsive:!1},{default:t(()=>[e(o,{modelValue:y.value,"onUpdate:modelValue":i[5]||(i[5]=h=>y.value=h),size:"small"},null,8,["modelValue"])]),_:1}),e(M,{label:"行点击勾选",responsive:!1},{default:t(()=>[e(o,{modelValue:p.value,"onUpdate:modelValue":i[6]||(i[6]=h=>p.value=h),size:"small"},null,8,["modelValue"])]),_:1})]),e(g,{height:418,virtual:!0,"row-key":"userId",columns:_.value,datasource:m.value,"show-overflow-tooltip":!0,"highlight-current-row":y.value,"row-click-checked":p.value,selections:s.value,"onUpdate:selections":i[7]||(i[7]=h=>s.value=h),current:b.value,"onUpdate:current":i[8]||(i[8]=h=>b.value=h),pagination:{pageSize:2e3,pageSizes:[1e3,2e3,5e3,1e4]},toolbar:{theme:u.value?"default":"plain"},loading:a.value,border:l.value,stripe:n.value,"show-header":r.value,"show-summary":c.value,"summary-method":Y,onRefresh:$,onFilterChange:J},{toolbar:t(()=>[e(x,{type:"primary",class:"ele-btn-icon",onClick:B},{default:t(()=>i[9]||(i[9]=[w(" 获取多选行数据 ")])),_:1}),y.value?(d(),k(x,{key:0,type:"primary",class:"ele-btn-icon",onClick:V},{default:t(()=>i[10]||(i[10]=[w(" 获取单选行数据 ")])),_:1})):H("",!0)]),roles:t(({row:h})=>[(d(!0),W(X,null,Q(h.roles,O=>(d(),k(C,{key:O,size:"small","disable-transitions":!0,style:{"margin-right":"6px"}},{default:t(()=>[w(A(O),1)]),_:2},1024))),128))]),status:t(({row:h})=>[h.status==0?(d(),k(N,{key:0,text:"正常",size:"8px"})):h.status==1?(d(),k(N,{key:1,text:"冻结",type:"danger",ripple:!1,size:"8px"})):H("",!0)]),action:t(({row:h})=>[e(D,{type:"primary",underline:!1,onClick:O=>v(h)},{default:t(()=>i[11]||(i[11]=[w(" 修改 ")])),_:2},1032,["onClick"]),e(R,{direction:"vertical"}),e(D,{type:"danger",underline:!1,onClick:O=>z(h)},{default:t(()=>i[12]||(i[12]=[w(" 删除 ")])),_:2},1032,["onClick"])]),_:1},8,["columns","datasource","highlight-current-row","row-click-checked","selections","current","toolbar","loading","border","stripe","show-header","show-summary"])])}}},at=q(ot,[["__scopeId","data-v-f9c41fce"]]),st={__name:"virtual-header",setup(U){const _=[["浙江","杭州","西湖区"],["江苏","苏州","姑苏区"],["江西","南昌","青山湖区"],["福建","泉州","丰泽区"],["湖北","武汉","武昌区"],["安徽","黄山","黄山区"]],m=f([{type:"index",columnKey:"index",width:68,align:"center",fixed:"left"},{label:"用户账号",prop:"username",minWidth:160,sortable:"custom"},{label:"用户名",prop:"nickname",minWidth:160,sortable:"custom"},{label:"家庭住址",prop:"address",align:"center",children:[{label:"省份",prop:"province",width:120,sortable:"custom"},{label:"城市",prop:"city",width:120,sortable:"custom"},{label:"区域",prop:"zone",width:180,sortable:"custom"}]},{label:"创建时间",prop:"createTime",minWidth:180,sortable:"custom"}]),a=f([]),s=f(!1),b=()=>{s.value=!0,setTimeout(()=>{a.value=Array.from({length:2e3}).map((u,l)=>{const n=l+1,r="user-"+String(n).padStart(6,"0"),c=Math.floor(Math.random()*(0-_.length)+_.length),[y,p,v]=_[c];return{userId:n,username:r,nickname:"用户"+n,createTime:j().subtract(45*n,"s").format("YYYY-MM-DD HH:mm:ss"),province:y,city:p,zone:v}}),s.value=!1},100)};return b(),(u,l)=>{const n=T;return d(),W("div",null,[e(n,{height:418,virtual:!0,"row-key":"userId",columns:m.value,datasource:a.value,"show-overflow-tooltip":!0,pagination:{pageSize:1e3,pageSizes:[1e3,2e3]},border:!0,toolbar:{theme:"default"},loading:s.value,"table-style":{overflow:"hidden"},onRefresh:b},null,8,["columns","datasource","loading"])])}}},rt={__name:"virtual-merge",setup(U){const _=f([{type:"index",columnKey:"index",width:50,align:"center"},{columnKey:"userName",prop:"userName",label:"姓名"},{prop:"courseName",label:"课程"},{prop:"score",label:"得分"}]),m=()=>oe(),a=({row:s,column:b})=>b.columnKey==="userName"?[s.userNameRowSpan,1]:[1,1];return(s,b)=>{const u=T;return d(),W("div",null,[e(u,{height:370,border:!0,virtual:!0,"row-key":"userId",columns:_.value,datasource:m,"span-method":a,toolbar:{theme:"default"},"show-overflow-tooltip":!0},null,8,["columns"])])}}},it={__name:"virtual-tree",setup(U){const _=f([{type:"index",columnKey:"index",width:50,align:"center"},{prop:"title",label:"菜单名称",minWidth:160},{prop:"path",label:"路由地址",minWidth:160},{prop:"sortNumber",label:"排序",width:120,align:"center"},{prop:"createTime",label:"创建时间",minWidth:140,align:"center"}]),m=({where:a,parent:s})=>ae({...a,parentId:(s==null?void 0:s.menuId)||0});return(a,s)=>{const b=T;return d(),W("div",null,[e(b,{height:378,virtual:!0,"row-key":"menuId",columns:_.value,datasource:m,lazy:!0,pagination:!1,"show-overflow-tooltip":!0},null,8,["columns"])])}}},ut={style:{padding:"12px 16px 12px 32px"}},ct={style:{"margin-top":"12px"}},dt={style:{"margin-top":"12px"}},pt={__name:"virtual-expandable",setup(U){const _=f([{type:"expand",columnKey:"expand",width:52,align:"center",slot:"expand",fixed:"left"},{type:"index",columnKey:"index",width:68,fixed:"left"},{label:"用户账号",prop:"username",minWidth:160,sortable:"custom"},{label:"用户名",prop:"nickname",minWidth:160,sortable:"custom"},{label:"性别",prop:"sex",width:120,sortable:"custom",align:"center"},{label:"手机号码",prop:"phone",minWidth:160,sortable:"custom"},{prop:"status",label:"状态",width:120,sortable:"custom",slot:"status"},{label:"创建时间",prop:"createTime",minWidth:180,sortable:"custom"}]),m=f([]),a=f(!1),s=()=>{a.value=!0,setTimeout(()=>{m.value=Array.from({length:2e3}).map((b,u)=>{const l=u+1,n="user-"+String(l).padStart(6,"0"),r=Math.random();return{userId:l,username:n,nickname:"用户"+l,sex:r<.5?"男":"女",roles:[r<.3?"管理员":"普通用户"],phone:String(12345678900+l),email:n+"@eleadmin.com",status:r<.2?1:0,birthday:j().subtract(3*l,"h").format("YYYY-MM-DD"),createTime:j().subtract(45*l,"s").format("YYYY-MM-DD HH:mm:ss")}}),a.value=!1},100)};return s(),(b,u)=>{const l=G,n=ee,r=T;return d(),W("div",null,[e(r,{height:378,virtual:!0,"row-key":"userId",columns:_.value,datasource:m.value,"show-overflow-tooltip":!0,pagination:{pageSize:1e3,pageSizes:[1e3,2e3]},loading:a.value,onRefresh:s},{status:t(({row:c})=>[c.status===0?(d(),k(l,{key:0,text:"正常",size:"8px"})):c.status===1?(d(),k(l,{key:1,text:"冻结",type:"danger",ripple:!1,size:"8px"})):H("",!0)]),expand:t(({row:c})=>[S("div",ut,[S("div",null,[u[0]||(u[0]=S("span",null,"角  色：",-1)),S("span",null,[(d(!0),W(X,null,Q(c.roles,y=>(d(),k(n,{key:y,size:"small","disable-transitions":!0,style:{"margin-right":"6px"}},{default:t(()=>[w(A(y),1)]),_:2},1024))),128))])]),S("div",ct,[u[1]||(u[1]=S("span",null,"出生日期：",-1)),S("span",null,A(c.birthday),1)]),S("div",dt,[u[2]||(u[2]=S("span",null,"邮箱账户：",-1)),S("span",null,A(c.email),1)])])]),_:1},8,["columns","datasource","loading"])])}}},mt={name:"ExtensionTable"},ft=Object.assign(mt,{setup(U){const{mobile:_}=Se(),m=f(null),a=f("base"),s=f([{index:"base",title:"基础示例"},{index:"tree",title:"树表格懒加载"},{index:"sorter",title:"默认排序筛选"},{index:"nested",title:"嵌套表格"},{index:"expandable",title:"可展开行"},{index:"merge",title:"合并单元格"},{index:"editable",title:"编辑表格"},{index:"sortable",title:"拖拽排序"},{index:"selections",title:"单选多选"},{index:"virtual",title:"虚拟滚动表格",group:!0,children:[{index:"virtual-base",title:"基础示例"},{index:"virtual-header",title:"多级表头"},{index:"virtual-merge",title:"合并单元格"},{index:"virtual-tree",title:"树形表格"},{index:"virtual-expandable",title:"可展开行"}]}]),b=u=>{var l,n;a.value=u.index,_.value&&((n=(l=m.value)==null?void 0:l.toggleCollapse)==null||n.call(l,!0))};return(u,l)=>{const n=Ce,r=Ne,c=$e,y=re;return d(),k(y,{"multi-card":!1},{default:t(()=>[e(c,{"body-style":{padding:0,overflow:"hidden"}},{default:t(()=>[e(r,{ref_key:"splitRef",ref:m,space:"0px",size:"180px","allow-collapse":te(_),"custom-style":{borderWidth:"0 1px 0 0",padding:"10px 0"},"body-style":{padding:"10px 20px 14px 16px",overflow:"hidden"},"collapse-style":{marginLeft:"4px"},style:{"min-height":"688px","border-radius":"var(--ele-card-radius)"}},{body:t(()=>[e(Ve,{name:"slide-right",mode:"out-in"},{default:t(()=>[a.value=="base"?(d(),k(Ue,{key:0})):a.value=="tree"?(d(),k(De,{key:1})):a.value=="sorter"?(d(),k(Me,{key:2})):a.value=="nested"?(d(),k(Re,{key:3})):a.value=="expandable"?(d(),k(Fe,{key:4})):a.value=="merge"?(d(),k(He,{key:5})):a.value=="editable"?(d(),k(Xe,{key:6})):a.value=="sortable"?(d(),k(tt,{key:7})):a.value=="selections"?(d(),k(lt,{key:8})):a.value=="virtual-base"?(d(),k(at,{key:9})):a.value=="virtual-header"?(d(),k(st,{key:10})):a.value=="virtual-merge"?(d(),k(rt,{key:11})):a.value=="virtual-tree"?(d(),k(it,{key:12})):a.value=="virtual-expandable"?(d(),k(pt,{key:13})):H("",!0)]),_:1})]),default:t(()=>[e(n,{items:s.value,"default-active":a.value,class:"demo-menu",onItemClick:b},null,8,["items","default-active"])]),_:1},8,["allow-collapse"])]),_:1})]),_:1})}}}),Ut=q(ft,[["__scopeId","data-v-c11bf5ac"]]);export{Ut as default};
