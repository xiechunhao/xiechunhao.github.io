import{S as D,a as p,A as d,M as g}from"../js/index/index.47495de9.js";import{O as B,S as x,A as h,y as _,F as v,b as q,T as I,X as b,M as T,c as w,i as S,k as O,e as P,f as N,V as L,a as U}from"../js/ol@7.4.0@ol/ol@7.4.0@ol.2a99620d.js";import{D as k,n as H,v as R,o as u,c as E,_ as M,$ as V,a as o,j as $,N as X,a0 as Z}from"../js/@vue_runtime-core@3.3.4@@vue/@vue_runtime-core@3.3.4@@vue.35efc880.js";import{_ as Q}from"./app.f296b152.js";import"../js/earcut@2.2.4@earcut/earcut@2.2.4@earcut.e6a9c857.js";import"../js/rbush@3.0.1@rbush/rbush@3.0.1@rbush.75a05972.js";import"../js/quickselect@2.0.0@quickselect/quickselect@2.0.0@quickselect.f3892974.js";import"../js/@vue_reactivity@3.3.4@@vue/@vue_reactivity@3.3.4@@vue.e6fc7fe8.js";import"../js/@vue_shared@3.3.4@@vue/@vue_shared@3.3.4@@vue.5a5848fd.js";import"../js/@docsearch_css@3.5.1@@docsearch/@docsearch_css@3.5.1@@docsearch.4ed993c7.js";import"../js/body-scroll-lock@4.0.0-beta.0@body-scroll-lock/body-scroll-lock@4.0.0-beta.0@body-scroll-lock.e1f8a6eb.js";import"../js/geotiff@2.0.7@geotiff/geotiff@2.0.7@geotiff.101896b7.js";import"../js/@vue_runtime-dom@3.3.4@@vue/@vue_runtime-dom@3.3.4@@vue.5dd85bb5.js";import"../js/@vueuse_core@10.2.0@@vueuse/@vueuse_core@10.2.0@@vueuse.8a5d8129.js";import"../js/@vueuse_shared@10.2.0@@vueuse/@vueuse_shared@10.2.0@@vueuse.9afec68c.js";import"../js/es/element-plus@2.3.7@element-plus.9cf0a975.js";import"../js/lodash-es@4.17.21@lodash-es/lodash-es@4.17.21@lodash-es.36eb724a.js";import"../js/@vueuse_core@9.13.0@@vueuse/@vueuse_core@9.13.0@@vueuse.604f33c6.js";import"../js/@vueuse_shared@9.13.0@@vueuse/@vueuse_shared@9.13.0@@vueuse.740d90d5.js";import"../js/@element-plus_icons-vue@2.1.0@@element-plus/@element-plus_icons-vue@2.1.0@@element-plus.1b5ed4e9.js";import"../js/@sxzz_popperjs-es@2.11.7@@sxzz/@sxzz_popperjs-es@2.11.7@@sxzz.c75af06c.js";import"../js/@ctrl_tinycolor@3.6.0@@ctrl/@ctrl_tinycolor@3.6.0@@ctrl.f8748455.js";import"../js/dayjs@1.11.8@dayjs/dayjs@1.11.8@dayjs.ab63237d.js";import"../js/async-validator@4.2.5@async-validator/async-validator@4.2.5@async-validator.dee29e8b.js";import"../js/memoize-one@6.0.0@memoize-one/memoize-one@6.0.0@memoize-one.297ddbcb.js";import"../js/escape-html@1.0.3@escape-html/escape-html@1.0.3@escape-html.3a386d15.js";import"../js/normalize-wheel-es@1.2.0@normalize-wheel-es/normalize-wheel-es@1.2.0@normalize-wheel-es.ed76fb12.js";import"../js/@floating-ui_dom@1.4.2@@floating-ui/@floating-ui_dom@1.4.2@@floating-ui.4bb7de12.js";import"../js/@floating-ui_core@1.3.1@@floating-ui/@floating-ui_core@1.3.1@@floating-ui.a8b4680c.js";const f={geo:D,att:{title:p.NAME,titleURL:p.JUEJIN,text:`
    <br/>
    年龄：${p.AGE}<br/>
    性别：${p.SEX}<br/>
    目前居住地：${p.LOCATION}<br/>
    QQ：${p.QQ}<br/>
    WX：${p.WX}<br/>
    <br/>
    `,imgURL:p.AVATAR}},j=n=>new B({element:n,autoPan:!0,positioning:"bottom-center",stopEvent:!1,autoPanAnimation:{duration:250}}),G=n=>new x({image:new h({anchor:[.5,60],anchorOrigin:"top-right",anchorXUnits:"fraction",anchorYUnits:"pixels",offsetOrigin:"top-right",scale:.4,opacity:.75,src:"/image/blue.png"}),text:new _({textAlign:"center",textBaseline:"middle",font:"normal 14px 微软雅黑",text:n.get("name"),fill:new v({color:"#aa3300"}),stroke:new q({color:"#ffcc33",width:2})})}),Y=({info:n,content:a})=>{const s=document.createElement("a");s.className="markerInfo",s.href=n.att.titleURL,J(s,n.att.title),a.appendChild(s);const t=document.createElement("div");t.className="markerText",t.innerHTML=n.att.text,a.appendChild(t);const l=document.createElement("img");l.className="markerImg",l.src=n.att.imgURL,a.appendChild(l)};function J(n,a){typeof n.textContent=="string"?n.textContent=a:n.innerText=a}const W=n=>(M("data-v-3f957a77"),n=n(),V(),n),z={id:"map"},K=W(()=>o("div",{id:"popup",class:"ol-popup"},[o("a",{href:"javascript:void(0)",id:"popup-closer",class:"ol-popup-closer"}),o("div",{id:"popup-content"})],-1)),ss=[K],ns=k({__name:"index",setup(n){const a=new I({source:new b({attributions:d,url:g,maxZoom:20})});let s=null;const t=()=>{s=new T({target:"map",layers:[a],view:new w({projection:"EPSG:4326",center:D,zoom:5}),controls:S().extend([new O])});const l=new P({geometry:new N(D),name:"深圳市"});l.setStyle(G(l));const C=new L({features:[l]}),m=new U({source:C});s.addLayer(m);const A=document.getElementById("popup"),c=document.getElementById("popup-content"),r=document.getElementById("popup-closer");if(A&&c&&r){const e=j(A);s.addOverlay(e),r.onclick=()=>{e.setPosition(void 0),r.blur()},s.on("click",y=>{if(s===null)return;s.forEachFeatureAtPixel(y.pixel,F=>F)&&(c.innerHTML="",Y({info:f,content:c}),e.getPosition()==null&&e.setPosition(f.geo))}),s.on("pointermove",y=>{if(s===null)return;const i=s.getEventPixel(y.originalEvent),F=s.hasFeatureAtPixel(i);s.getTargetElement().style.cursor=F?"pointer":""})}};return H(()=>{t()}),R(()=>{s&&(s.dispose(),s=null)}),(l,C)=>(u(),E("div",z,ss))}});const as=Q(ns,[["__scopeId","data-v-3f957a77"]]),ls=o("h1",{id:"popup-弹窗",tabindex:"-1"},[X("Popup 弹窗 "),o("a",{class:"header-anchor",href:"#popup-弹窗","aria-label":'Permalink to "Popup 弹窗"'},"​")],-1),ps=o("div",{class:"tip custom-block"},[o("p",{class:"custom-block-title"},"TIP"),o("p",null,"鼠标单击标注点，弹出 Popup 标注。")],-1),os=Z("",4),Ls=JSON.parse('{"title":"Popup 弹窗","description":"","frontmatter":{},"headers":[],"relativePath":"open-layers/map-marker/popup/index.md","filePath":"open-layers/map-marker/popup/index.md","lastUpdated":1687683239000}'),ts={name:"open-layers/map-marker/popup/index.md"},Us=Object.assign(ts,{setup(n){return(a,s)=>(u(),E("div",null,[ls,ps,$(as),os]))}});export{Ls as __pageData,Us as default};
