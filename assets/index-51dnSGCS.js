import{i as Y}from"./index-p1XoTQj1.js";import{J as L,dN as R,r as E,H as G,Z as K,$ as W,o as V,c as $,d as s,a5 as C,a1 as w,a4 as Z,ee as Q,_ as X,b4 as ee,a as le,cc as te,E as A,w as l,b as e,e as _,u as o,aF as ae,l as S,F as re,m as oe,t as D,a7 as F,bD as se,bj as de,h as ue,aH as ne,aG as ie,aI as pe,aJ as me,ax as fe,aB as ge,aK as ce}from"./index-BF2fBoPb.js";import{i as be}from"./index-DuliLu7F.js";import{E as _e}from"./time-picker-DSMACihl.js";import{E as ye,a as ve}from"./col-DirwGu8S.js";import{E as Ve}from"./date-picker-BzLnEAo6.js";import{i as xe}from"./index-Cjr4ibGp.js";import"./isArrayLikeObject-j402kJv_.js";import"./arrays-6TrVLtTe.js";import"./index-DOwINDGR.js";const ke={bodyStyle:Object,extraStyle:Object,teleported:Boolean},Ue=L({name:"EleBottomBar",props:ke,setup(){const d=R(),p=E(!0),f=G(()=>{var a;return(a=d.getBodyWrapperEl)==null?void 0:a.call(d)});return K(()=>{p.value=!0}),W(()=>{p.value=!1}),{isActivated:p,teleportTo:f}}}),Ee=(d,p)=>{const f=d.__vccOpts||d;for(const[a,k]of p)f[a]=k;return f};function Se(d,p,f,a,k,q){return V(),$(Q,{to:d.teleportTo,disabled:!d.teleported||!d.teleportTo},[s("div",{class:Z(["ele-bottom-bar",{"is-deactivated":!d.isActivated}])},[s("div",{class:"ele-bottom-bar-body",style:C(d.bodyStyle)},[w(d.$slots,"default")],4),s("div",{class:"ele-bottom-bar-extra",style:C(d.extraStyle)},[w(d.$slots,"extra")],4)],2)],8,["to","disabled"])}const $e=Ee(Ue,[["render",Se]]),qe={style:{overflow:"auto"}},he={style:{textAlign:"center",position:"sticky",left:0,zIndex:98}},Te={style:{textAlign:"center",position:"sticky",right:0,zIndex:98}},Be={key:0},Ce={colspan:"5",style:{"text-align":"center"}},we={name:"FormAdvanced"},Ae=Object.assign(we,{setup(d){const p=E(!1),f=E(null),[a,k]=ee({name:"",url:"",administrator:void 0,approver:void 0,datetime:"",type:void 0,task:"",description:"",executor:void 0,officer:void 0,reminder:void 0,taskType:void 0,users:[]}),q=le({name:[{required:!0,message:"请输入仓库名",type:"string",trigger:"blur"}],url:[{required:!0,message:"请输入仓库域名",type:"string",trigger:"blur"}],administrator:[{required:!0,message:"请选择仓库管理员",type:"string",trigger:"blur"}],approver:[{required:!0,message:"请选择审批人",type:"string",trigger:"blur"}],datetime:[{required:!0,message:"请选择生效时间",type:"string",trigger:"blur"}],type:[{required:!0,message:"请选择仓库类型",type:"string",trigger:"blur"}],task:[{required:!0,message:"请输入任务名",type:"string",trigger:"blur"}],description:[{required:!0,message:"请输入任务表述",type:"string",trigger:"blur"}],executor:[{required:!0,message:"请选择执行人",type:"string",trigger:"blur"}],officer:[{required:!0,message:"请选择责任人",type:"string",trigger:"blur"}],reminder:[{required:!0,message:"请选择提醒时间",type:"array",trigger:"change"}],taskType:[{required:!0,message:"请选择任务类型",type:"string",trigger:"blur"}]}),U=E(""),O=()=>{var m,t;(t=(m=f.value)==null?void 0:m.validate)==null||t.call(m,(y,c)=>{if(!y){const g=c?Object.keys(c).length:0;U.value=` 共有 ${g} 项校验不通过`;return}U.value="",p.value=!0,setTimeout(()=>{p.value=!1,A.success("提交成功"),k()},1e3)})},z=()=>{a.users.push({key:Date.now()+"-"+a.users.length,number:"",name:"",department:void 0})},I=(m,t)=>{a.users.splice(t,1)};return te().then(m=>{a.users=m}).catch(m=>{A.error(m.message)}),(m,t)=>{const y=ue,c=xe,g=ne,u=ie,i=ye,n=pe,b=me,H=Ve,h=ve,J=_e,M=fe,N=be,T=ge,j=ce,B=Y,P=$e;return V(),$(B,{plain:"","hide-footer":"","multi-card":!1},{default:l(()=>[e(c,{style:{"border-radius":"0"}},{default:l(()=>[e(y,{type:"heading",size:"lg"},{default:l(()=>t[13]||(t[13]=[_("复杂表单")])),_:1}),e(y,{type:"placeholder",style:{"margin-top":"6px"}},{default:l(()=>t[14]||(t[14]=[_(" 复杂表单常见于一次性输入和提交大批量数据的场景。 ")])),_:1})]),_:1}),e(B,null,{default:l(()=>[e(j,{ref_key:"formRef",ref:f,model:o(a),rules:q,"label-width":"100px",onSubmit:t[12]||(t[12]=ae(()=>{},["prevent"]))},{default:l(()=>[e(c,{header:"仓库信息"},{default:l(()=>[e(h,{gutter:16},{default:l(()=>[e(i,{lg:8,md:12,sm:12,xs:24},{default:l(()=>[e(u,{label:"仓库名",prop:"name"},{default:l(()=>[e(g,{maxlength:"40",clearable:"",modelValue:o(a).name,"onUpdate:modelValue":t[0]||(t[0]=r=>o(a).name=r),placeholder:"请输入仓库名"},null,8,["modelValue"])]),_:1})]),_:1}),e(i,{lg:8,md:12,sm:12,xs:24},{default:l(()=>[e(u,{label:"仓库域名",prop:"url"},{default:l(()=>[e(g,{clearable:"",modelValue:o(a).url,"onUpdate:modelValue":t[1]||(t[1]=r=>o(a).url=r),placeholder:"请输入"},{prepend:l(()=>t[15]||(t[15]=[_("https://")])),append:l(()=>t[16]||(t[16]=[_(".com")])),_:1},8,["modelValue"])]),_:1})]),_:1}),e(i,{lg:8,md:12,sm:12,xs:24},{default:l(()=>[e(u,{label:"仓库管理员",prop:"administrator"},{default:l(()=>[e(b,{clearable:"",modelValue:o(a).administrator,"onUpdate:modelValue":t[2]||(t[2]=r=>o(a).administrator=r),placeholder:"请选择仓库管理员",class:"ele-fluid"},{default:l(()=>[e(n,{value:"1",label:"SunSmile"}),e(n,{value:"2",label:"Jasmine"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(i,{lg:8,md:12,sm:12,xs:24},{default:l(()=>[e(u,{label:"审批人",prop:"approver"},{default:l(()=>[e(b,{clearable:"",modelValue:o(a).approver,"onUpdate:modelValue":t[3]||(t[3]=r=>o(a).approver=r),placeholder:"请选择审批人",class:"ele-fluid"},{default:l(()=>[e(n,{value:"1",label:"SunSmile"}),e(n,{value:"2",label:"Jasmine"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(i,{lg:8,md:12,sm:12,xs:24},{default:l(()=>[e(u,{label:"生效时间",prop:"datetime"},{default:l(()=>[e(H,{type:"datetime",modelValue:o(a).datetime,"onUpdate:modelValue":t[4]||(t[4]=r=>o(a).datetime=r),"value-format":"YYYY-MM-DD HH:mm:ss",placeholder:"请选择生效时间",class:"ele-fluid"},null,8,["modelValue"])]),_:1})]),_:1}),e(i,{lg:8,md:12,sm:12,xs:24},{default:l(()=>[e(u,{label:"仓库类型",prop:"type"},{default:l(()=>[e(b,{clearable:"",modelValue:o(a).type,"onUpdate:modelValue":t[5]||(t[5]=r=>o(a).type=r),placeholder:"请选择仓库类型",class:"ele-fluid"},{default:l(()=>[e(n,{value:"private",label:"私密"}),e(n,{value:"public",label:"公开"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(c,{header:"任务信息"},{default:l(()=>[e(h,{gutter:16},{default:l(()=>[e(i,{lg:8,md:12,sm:12,xs:24},{default:l(()=>[e(u,{label:"任务名",prop:"task"},{default:l(()=>[e(g,{clearable:"",modelValue:o(a).task,"onUpdate:modelValue":t[6]||(t[6]=r=>o(a).task=r),placeholder:"请输入任务名"},null,8,["modelValue"])]),_:1})]),_:1}),e(i,{lg:8,md:12,sm:12,xs:24},{default:l(()=>[e(u,{label:"任务表述",prop:"description"},{default:l(()=>[e(g,{clearable:"",modelValue:o(a).description,"onUpdate:modelValue":t[7]||(t[7]=r=>o(a).description=r),placeholder:"请输入任务表述"},null,8,["modelValue"])]),_:1})]),_:1}),e(i,{lg:8,md:12,sm:12,xs:24},{default:l(()=>[e(u,{label:"执行人",prop:"executor"},{default:l(()=>[e(b,{clearable:"",modelValue:o(a).executor,"onUpdate:modelValue":t[8]||(t[8]=r=>o(a).executor=r),placeholder:"请选择执行人",class:"ele-fluid"},{default:l(()=>[e(n,{value:"1",label:"SunSmile"}),e(n,{value:"2",label:"Jasmine"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(i,{lg:8,md:12,sm:12,xs:24},{default:l(()=>[e(u,{label:"责任人",prop:"officer"},{default:l(()=>[e(b,{clearable:"",modelValue:o(a).officer,"onUpdate:modelValue":t[9]||(t[9]=r=>o(a).officer=r),placeholder:"请选择责任人",class:"ele-fluid"},{default:l(()=>[e(n,{value:"1",label:"SunSmile"}),e(n,{value:"2",label:"Jasmine"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(i,{lg:8,md:12,sm:12,xs:24},{default:l(()=>[e(u,{label:"提醒时间",prop:"reminder"},{default:l(()=>[e(J,{"is-range":"","range-separator":"-",modelValue:o(a).reminder,"onUpdate:modelValue":t[10]||(t[10]=r=>o(a).reminder=r),"start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"HH:mm:ss",class:"ele-fluid"},null,8,["modelValue"])]),_:1})]),_:1}),e(i,{lg:8,md:12,sm:12,xs:24},{default:l(()=>[e(u,{label:"任务类型",prop:"taskType"},{default:l(()=>[e(b,{clearable:"",modelValue:o(a).taskType,"onUpdate:modelValue":t[11]||(t[11]=r=>o(a).taskType=r),placeholder:"请选择任务类型",class:"ele-fluid"},{default:l(()=>[e(n,{value:"1",label:"私密"}),e(n,{value:"2",label:"公开"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(c,{header:"选择成员"},{default:l(()=>[s("div",qe,[e(N,{style:{"min-width":"580px","table-layout":"fixed"}},{default:l(()=>[t[19]||(t[19]=s("colgroup",null,[s("col",{width:"60px"}),s("col"),s("col"),s("col"),s("col",{width:"100px"})],-1)),t[20]||(t[20]=s("thead",null,[s("tr",null,[s("th",{style:{position:"sticky",left:"0","z-index":"98"}}),s("th",null,"用户名"),s("th",null,"工号"),s("th",null,"所属部门"),s("th",{style:{textAlign:"center",position:"sticky",right:0,zIndex:98}}," 操作 ")])],-1)),s("tbody",null,[(V(!0),S(re,null,oe(o(a).users,(r,x)=>(V(),S("tr",{key:r.key},[s("td",he,D(x+1),1),s("td",null,[e(u,{"label-width":"0px",prop:"users."+x+".name",rules:{required:!0,message:"请输入用户名",type:"string",trigger:"blur"},class:"form-error-popper",style:{"margin-bottom":"0"}},{default:l(()=>[e(g,{clearable:"",modelValue:r.name,"onUpdate:modelValue":v=>r.name=v,placeholder:"请输入用户名"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),s("td",null,[e(u,{"label-width":"0px",prop:"users."+x+".number",rules:{required:!0,message:"请输入工号",type:"string",trigger:"blur"},class:"form-error-popper",style:{"margin-bottom":"0"}},{default:l(()=>[e(g,{clearable:"",modelValue:r.number,"onUpdate:modelValue":v=>r.number=v,placeholder:"请输入工号"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),s("td",null,[e(u,{"label-width":"0px",prop:"users."+x+".department",rules:{required:!0,message:"请选择部门",type:"string",trigger:"change"},class:"form-error-popper",style:{"margin-bottom":"0"}},{default:l(()=>[e(b,{clearable:"",modelValue:r.department,"onUpdate:modelValue":v=>r.department=v,placeholder:"请选择部门",class:"ele-fluid"},{default:l(()=>[e(n,{value:"研发部",label:"研发部"}),e(n,{value:"测试部",label:"测试部"}),e(n,{value:"产品部",label:"产品部"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),s("td",Te,[e(M,{type:"danger",underline:!1,onClick:v=>I(r,x)},{default:l(()=>t[17]||(t[17]=[_(" 删除 ")])),_:2},1032,["onClick"])])]))),128)),!o(a).users||!o(a).users.length?(V(),S("tr",Be,[s("td",Ce,[e(y,{style:{padding:"4px 0"},type:"secondary"},{default:l(()=>t[18]||(t[18]=[_(" 暂无数据 ")])),_:1})])])):F("",!0)])]),_:1})]),e(T,{icon:o(se),style:{"margin-top":"16px",width:"100%"},onClick:z},{default:l(()=>t[21]||(t[21]=[s("span",{style:{"padding-top":"1px"}},"新增成员",-1)])),_:1},8,["icon"])]),_:1})]),_:1},8,["model","rules"])]),_:1}),e(P,null,{extra:l(()=>[e(T,{type:"primary",loading:p.value,onClick:O},{default:l(()=>t[22]||(t[22]=[_(" 提交 ")])),_:1},8,["loading"])]),default:l(()=>[U.value?(V(),$(y,{key:0,type:"danger",icon:o(de)},{default:l(()=>[s("span",null,D(U.value),1)]),_:1},8,["icon"])):F("",!0)]),_:1})]),_:1})}}}),Pe=X(Ae,[["__scopeId","data-v-c6fa215a"]]);export{Pe as default};
