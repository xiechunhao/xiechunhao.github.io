import{j as e,i as r,_ as a}from"./index-AUd2T663.js";import{h as s,r as l,X as t,j as o,s as i,m as d,z as n,u,q as m,_ as c,G as p,H as g,aE as f,M as v,B as h,J as w,Z as y,E as _,a4 as x,t as V}from"./vendor-CC2XCvy_.js";import{L as b}from"./LeftView-DsMLAUBG.js";const P={class:"login register"},$={class:"left-wrap"},z={class:"right-wrap"},E={class:"header"},j={class:"login-wrap"},T={class:"form"},k={class:"title"},q={class:"sub-title"},M={style:{"margin-top":"15px"}},U={class:"footer"},L=a(s({__name:"index",setup(a){const{t:s}=e(),L=x(),B=l(),Z=r.name,A=l(!1),C=t({username:"",password:"",confirmPassword:"",agreement:!1}),F=t({username:[{required:!0,message:s("register.placeholder[0]"),trigger:"blur"},{min:3,max:20,message:s("register.rule[2]"),trigger:"blur"}],password:[{required:!0,validator:(e,r,a)=>{var l;""===r?a(new Error(s("register.placeholder[1]"))):(""!==C.confirmPassword&&(null==(l=B.value)||l.validateField("confirmPassword")),a())},trigger:"blur"},{min:6,message:s("register.rule[3]"),trigger:"blur"}],confirmPassword:[{required:!0,validator:(e,r,a)=>{""===r?a(new Error(s("register.rule[0]"))):r!==C.password?a(new Error(s("register.rule[1]"))):a()},trigger:"blur"}],agreement:[{validator:(e,r,a)=>{r?a():a(new Error(s("register.rule[4]")))},trigger:"change"}]}),G=()=>{return e=this,r=null,a=function*(){if(B.value)try{yield B.value.validate(),A.value=!0,setTimeout((()=>{A.value=!1,_.success("注册成功"),H()}),1e3)}catch(e){}},new Promise(((s,l)=>{var t=e=>{try{i(a.next(e))}catch(r){l(r)}},o=e=>{try{i(a.throw(e))}catch(r){l(r)}},i=e=>e.done?s(e.value):Promise.resolve(e.value).then(t,o);i((a=a.apply(e,r)).next())}));var e,r,a},H=()=>{setTimeout((()=>{L.push("/login")}),1e3)};return(e,r)=>{const a=p,s=c,l=h("router-link"),t=f,_=w,x=y;return V(),o("div",P,[i("div",$,[d(b)]),i("div",z,[i("div",E,[r[4]||(r[4]=i("svg",{class:"icon","aria-hidden":"true"},[i("use",{"xlink:href":"#iconsys-zhaopian-copy"})],-1)),i("h1",null,n(u(Z)),1)]),i("div",j,[i("div",T,[i("h3",k,n(e.$t("register.title")),1),i("p",q,n(e.$t("register.subTitle")),1),d(x,{ref_key:"formRef",ref:B,model:u(C),rules:u(F),"label-position":"top"},{default:m((()=>[d(s,{prop:"username"},{default:m((()=>[d(a,{modelValue:u(C).username,"onUpdate:modelValue":r[0]||(r[0]=e=>u(C).username=e),modelModifiers:{trim:!0},placeholder:e.$t("register.placeholder[0]"),size:"large"},null,8,["modelValue","placeholder"])])),_:1}),d(s,{prop:"password"},{default:m((()=>[d(a,{modelValue:u(C).password,"onUpdate:modelValue":r[1]||(r[1]=e=>u(C).password=e),modelModifiers:{trim:!0},placeholder:e.$t("register.placeholder[1]"),size:"large",type:"password",autocomplete:"off"},null,8,["modelValue","placeholder"])])),_:1}),d(s,{prop:"confirmPassword"},{default:m((()=>[d(a,{modelValue:u(C).confirmPassword,"onUpdate:modelValue":r[2]||(r[2]=e=>u(C).confirmPassword=e),modelModifiers:{trim:!0},placeholder:e.$t("register.placeholder[2]"),size:"large",type:"password",autocomplete:"off",onKeyup:g(G,["enter"])},null,8,["modelValue","placeholder"])])),_:1}),d(s,{prop:"agreement"},{default:m((()=>[d(t,{modelValue:u(C).agreement,"onUpdate:modelValue":r[3]||(r[3]=e=>u(C).agreement=e)},{default:m((()=>[v(n(e.$t("register.agreeText"))+" ",1),d(l,{class:"custom-text",style:{color:"var(--main-color)","text-decoration":"none"},to:"/privacy-policy"},{default:m((()=>[v(n(e.$t("register.privacyPolicy")),1)])),_:1})])),_:1},8,["modelValue"])])),_:1}),i("div",M,[d(_,{class:"register-btn",size:"large",type:"primary",onClick:G,loading:u(A)},{default:m((()=>[v(n(e.$t("register.submitBtnText")),1)])),_:1},8,["loading"])]),i("div",U,[i("p",null,[v(n(e.$t("register.hasAccount"))+" ",1),d(l,{class:"custom-text",to:"/login"},{default:m((()=>[v(n(e.$t("register.toLogin")),1)])),_:1})])])])),_:1},8,["model","rules"])])])])])}}}),[["__scopeId","data-v-4d44b054"]]);export{L as default};
