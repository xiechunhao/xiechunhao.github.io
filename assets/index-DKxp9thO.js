import{r as d,o as h,c as E,w as n,b as i,e as V,d as p,t as w,aW as F,aC as R}from"./index-C4BxmZrN.js";import{i as j}from"./index-CkGVv88Q.js";import{_ as z}from"./index-9TrMx-Wv.js";import{i as D}from"./index-DSHqkOzX.js";const M={style:{"margin-bottom":"16px"}},N={name:"ExtensionEditor"},$=Object.assign(N,{setup(O){const u=d(null),x=d({height:520,file_picker_callback:(m,f,a)=>{const t=document.createElement("input");t.setAttribute("type","file"),a.filetype==="image"?t.setAttribute("accept","image/*"):a.filetype==="media"&&t.setAttribute("accept","video/*"),t.onchange=()=>{var _,s,b,c,g;const e=(_=t.files)==null?void 0:_[0];if(!e)return;if(a.filetype==="media"&&!e.type.startsWith("video/")){(b=(s=u.value)==null?void 0:s.alert)==null||b.call(s,{content:"只能选择视频文件"});return}if(e.size/1024/1024>20){(g=(c=u.value)==null?void 0:c.alert)==null||g.call(c,{content:"大小不能超过 20MB"});return}const r=new FileReader;r.onload=v=>{var y;if(((y=v.target)==null?void 0:y.result)!=null){const C=new Blob([v.target.result],{type:e.type});m(URL.createObjectURL(C),{text:e.name,alt:e.name})}},r.readAsArrayBuffer(e)},t.click()}}),o=d(""),l=d(!1),k=()=>{F.alert(o.value,"编辑器内容",{confirmButtonText:"知道了",closeOnClickModal:!0,callback:()=>{},draggable:!0})},B=()=>{o.value=['<div style="text-align: center;color: #fff;background-image: linear-gradient( 135deg, #4C83FF 10%, #2AFADF 100%);padding: 32px 0;">','   <div style="font-size: 28px;margin-bottom: 16px;">EleAdminPlus后台管理模板</div>','   <div style="font-size:18px">通用型后台管理模板，界面美观、开箱即用，拥有丰富的组件和模板</div>',"</div><br/>"].join("")},A=()=>{l.value=!l.value};return(m,f)=>{const a=R,t=j,e=D;return h(),E(e,{"multi-card":!0},{default:n(()=>[i(t,null,{default:n(()=>[V("div",M,[i(a,{type:"primary",class:"ele-btn-icon",onClick:B},{default:n(()=>[p(" 修改内容 ")]),_:1}),i(a,{type:"primary",class:"ele-btn-icon",onClick:k},{default:n(()=>[p(" 获取内容 ")]),_:1}),i(a,{class:"ele-btn-icon",type:l.value?"primary":"danger",onClick:A},{default:n(()=>[p(w(l.value?"启用":"禁用"),1)]),_:1},8,["type"])]),i(z,{ref_key:"editorRef",ref:u,init:x.value,modelValue:o.value,"onUpdate:modelValue":f[0]||(f[0]=r=>o.value=r),disabled:l.value},null,8,["init","modelValue","disabled"])]),_:1})]),_:1})}}});export{$ as default};
