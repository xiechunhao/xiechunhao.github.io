import{D as w,c as h}from"./chunks/Draw.15ac7265.js";import{A as S,M as b}from"./chunks/index.a511ac44.js";import{V as f,S as T,F as d,a as P,C as x}from"./chunks/Vector.e7fd2c77.js";import{V as G}from"./chunks/Vector.ef038271.js";import{T as V}from"./chunks/TileImage.70f39159.js";import{X as I}from"./chunks/XYZ.94b2552a.js";import{d as L,a2 as M,p as k,a3 as N,D as m,o as C,c as i,z as o,a as q,G as g,B as U,F as E,L as R,A as X,M as O,N as z,_ as Z,O as $}from"./chunks/framework.873b9d65.js";import{M as j,V as Y,P as J}from"./chunks/reproj.9b488601.js";import"./chunks/Circle.fe3ab237.js";import"./chunks/GeometryCollection.bd3c0be4.js";import"./chunks/LineString.2b94a2e9.js";import"./chunks/MultiLineString.f00700b3.js";const H=c=>(O("data-v-65b34311"),c=c(),z(),c),K={id:"menu"},Q=H(()=>o("div",{id:"map"},null,-1)),W=L({__name:"index",setup(c){let s=null,r=null;const F=M({value:"Point",options:[{label:"无",value:"None"},{label:"点",value:"Point"},{label:"线",value:"LineString"},{label:"多边形",value:"Polygon"},{label:"圆",value:"Circle"},{label:"正方形",value:"Square"},{label:"长方形",value:"Box"}]});let l=new f({wrapX:!1});const A=new G({source:l,style:new T({fill:new d({color:"rgba(255, 255, 255, 0.2)"}),stroke:new P({color:"#ff0000",width:2}),image:new x({radius:7,fill:new d({color:"#ff0000"})})})}),v=new V({source:new I({attributions:S,url:b,maxZoom:20})}),_=()=>{s=new j({target:"map",layers:[v],view:new Y({projection:"EPSG:4326",center:[0,0],zoom:5})})},u=()=>{let p=F.value;if(p!=="None"){l==null&&(l=new f({wrapX:!1}),A.setSource(l));let e,y;p==="Square"?(p="Circle",e=h(4)):p==="Box"&&(p="LineString",y=2,e=(D,n)=>{const a=D[0],t=D[1];return n||(n=new J([[a,[a[0],t[1]],t,[t[0],a[1]],a]])),n.setCoordinates([[a,[a[0],t[1]],t,[t[0],a[1]],a]]),n}),r=new w({source:l,type:p,geometryFunction:e,maxPoints:y}),s==null||s.addInteraction(r)}else l=null,A.setSource(l)},B=()=>{s&&r&&(s.removeInteraction(r),u())};return k(()=>{_(),s==null||s.addLayer(A),u()}),N(()=>{s&&(s.dispose(),s=null)}),(p,e)=>{const y=m("el-option"),D=m("el-select");return C(),i(E,null,[o("div",K,[q(" 几何图形类型： "),g(D,{modelValue:F.value,"onUpdate:modelValue":e[0]||(e[0]=n=>F.value=n),size:"large",onChange:B},{default:U(()=>[(C(!0),i(E,null,R(F.options,n=>(C(),X(y,{key:n.value,label:n.label,value:n.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),Q],64)}}});const ss=Z(W,[["__scopeId","data-v-65b34311"]]),ns=o("h1",{id:"绘制几何图形",tabindex:"-1"},[q("绘制几何图形 "),o("a",{class:"header-anchor",href:"#绘制几何图形","aria-label":'Permalink to "绘制几何图形"'},"​")],-1),as=o("div",{class:"tip custom-block"},[o("p",{class:"custom-block-title"},"TIP"),o("p",null,"可以选择不同的类型，绘制不同的几何图形。")],-1),ls=$("",2),fs=JSON.parse('{"title":"绘制几何图形","description":"","frontmatter":{},"headers":[],"relativePath":"open-layers/drawing/draw-features/index.md","filePath":"open-layers/drawing/draw-features/index.md","lastUpdated":1687662745000}'),ps={name:"open-layers/drawing/draw-features/index.md"},ds=Object.assign(ps,{setup(c){return(s,r)=>(C(),i("div",null,[ns,as,g(ss),ls]))}});export{fs as __pageData,ds as default};
