import{d as O,a as I,u as M,r as P,D as p,o as E,c as g,e as v,h as e,g as s,i as w,t as o,p as q,j as A,k as S,f as B,w as R,a4 as x,m as H,F as Z,v as W,x as J,a6 as $}from"../js/index.dc884249.js";import{P as F}from"./index-1fc73317.js";import{L as G}from"./index-c74e2b58.js";import{_ as K}from"./icon-close-ffb8f992.js";import{H as D}from"./request-6724ac56.js";import{P as z}from"./index-c95161c5.js";import{a as Q}from"./function-call-1366be59.js";import{_ as ee}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-e1afc077.js";import"./index-49d41786.js";import"./use-expose-9032f2c9.js";import"./index-972af07d.js";import"./on-popup-reopen-e2cd79b3.js";const te="/webp/bg.181638a9.webp",se="/webp/titleTipBg.c665d4ca.webp",oe="/png/logo.7e941667.png",ie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAMAAADyHTlpAAAAWlBMVEUAAADYTx/RSh/XTyDYTyDWTh/XUSHYTx/aUCDXTx/XTx/ZTx/XTyDXTyDZTx/YTx/XTx/XTx/YTx/XTx/YTx/ZTx7XTh/XTyDYUCDYTiHYTx/YTyDZTx/YTyAIOcXtAAAAHXRSTlMA+wnHzF0vGxXtV2jWujedj3KqevIkgee/Pd2ISp1mWPcAAAHoSURBVDjLlZXZtqsgDIZlEJBBBNRqW97/NU+wRcqiw9n/lZJvhSSE0FXCmDPp1tttdZJxjLuP4nsfJm8IyPgp9Dv/BI7O0hmdmql14zsYM2euA4oxHtzxMVyNY00U4j5RFA+7JiA9PP7odBc1yaVPNnTRmw0KFOymL2ll8JJXPpUZYHkmkxwXLkB8GeVEZoAHo8QLKc0MpLY9w6/R91YDOxt5svjuk0+6MpxIjHGuMltp8uvv2QObLkBuajnARcrsG37UBuxlYs/tnUbgU/HHrsGbdSn5KgpG7cRh3E36WfnDj9wQImNX2DU5MjsGG3dXCN2y55Y9jZECeopZSPnqOAandoiI9PhEUSxejxWC4mB3fNhS3J/RlDWi4EsEKJSWQH5AIXwNBQsCKpWiBluLZo0pb6iX9CmS5Ru6pGy87JxBSAf+DeVBI2RctxKooxI1yipUqMSs3e0Nqvsxa8EZvb1FZ02yoIVOtA0gvggR+US30KQFrYteZAA90vKqKdbiDC3aAsO5WOcRFFb2RZLhcgT5YAtb6zxYXrdLUdsuTRMWtU1YWrtW29r1hSlqL0x9DYvaa9he7qL2crcjA9SOjL8Pot/j7U9D8/convMo/j3gvWL4f58N8fUx8lt5jCqX7ROnwvsn7h/10C7rIvY80gAAAABJRU5ErkJggg==",ne=r=>D("/promotion-client/redBag/getRedBagRuleVO",r,"post"),ae=r=>D("/promotion-client/redBag/queryRedRecordList",r,"post"),le="/png/titleBg_CN.6ed71085.png",b="/png/titleBg_EN.6ee5fcc8.png",re="/png/titleBg_YN.e0c88eb2.png",ce="/png/titleBg_BR.ad63b8f2.png",y=r=>(W("data-v-4353c2d3"),r=r(),J(),r),de={class:"body"},ue=y(()=>e("img",{class:"bg",src:te},null,-1)),pe={class:"container"},ge=["src"],ve={class:"titleTip"},_e=y(()=>e("img",{class:"titleTipBg",src:se},null,-1)),me={class:"titleTipText"},he={key:0,class:"tips"},fe={class:"px-3"},ye=y(()=>e("img",{class:"logo",src:oe},null,-1)),Te={class:"content"},Ae={class:"left"},Be={class:"tip"},Re={class:"time"},xe=y(()=>e("img",{src:ie,alt:""},null,-1)),Ce={class:"rule"},we={class:"rule-title"},Se=["innerHTML"],be={style:{height:"300px"}},De={class:"table"},Ve={class:"table-header"},Le={class:"item"},Ne={class:"item"},ke={class:"item"},Ye={class:"item"},je={class:"item"},Ue={class:"item"},Xe=O({__name:"index",setup(r){const{t:l}=I(),{query:{lang:T}}=M(),V=t=>{switch(t){case"BR":return ce;case"YN":return re;case"EN":return b;case"CN":return le;default:return b}},n=P({tenantSys:"",receiveCondition:0,receiveConditionParam:0,cashbackMoney:0,redBagCreateShowVOList:[],ruleDescription:""}),d=p(!1),u=p(!1),h=p(0),c=p([]),_=p(!1),m=p(!1);E(()=>{sessionStorage.setItem("langs",T),L()});const L=async()=>{try{const t=await ne({});n.tenantSys=t.activityConfigVo.tenantSys,n.cashbackMoney=t.redEnvelopeVO.cashbackMoney,n.receiveCondition=t.redEnvelopeVO.rewardTypeVo.qiangRbRewardType.receiveCondition,n.receiveConditionParam=t.redEnvelopeVO.rewardTypeVo.qiangRbRewardType.receiveConditionParam,n.redBagCreateShowVOList=t.redBagCreateShowVOList||[],n.ruleDescription=t.activityConfigVo.ruleDescription?JSON.parse(t.activityConfigVo.ruleDescription)[T]:""}catch(t){}},N=()=>{d.value=!0,h.value=0,c.value=[],_.value=!1},k=()=>{h.value=0,c.value=[],_.value=!1,u.value=!0,C()},C=async()=>{try{h.value++,m.value&&(c.value=[],m.value=!1);const t=await ae({pageSize:30,pageNum:h.value});u.value=!1,c.value=[...c.value,...t.list],c.value.length>=t.total&&(_.value=!0),c.value.length==0&&(_.value=!0)}catch(t){Q(t.msg)}finally{u.value=!1}},Y=()=>{let t=$("device");t==="android"?window.jsandroid.goRedBag():t==="ios"?window.webkit.messageHandlers.goRedBag.postMessage(""):window.parent.postMessage({type:"goRedBag"},"*")};return(t,a)=>{const j=G,U=F,X=z;return g(),v(A,null,[e("div",de,[ue,e("div",pe,[e("img",{class:"title_bg",src:V(s(T))},null,8,ge),e("div",ve,[_e,e("div",me,[w(o(s(l)("highestCashback")),1),e("span",null,o(s(n).cashbackMoney),1),w(o(s(l)("jin_bi")),1)]),e("div",{class:"record",onClick:N},o(t.$t("lingqujilv")),1)])]),s(n).receiveCondition!=0?(g(),v("div",he,o(s(l)("btn_login"))+" "+o(s(n).tenantSys)+" "+o(s(n).receiveCondition==1?s(l)("rechargeSameDay"):s(l)("codingSameDay"))+o(t.$t("cashbackTips",{value:s(n).receiveConditionParam})),1)):q("",!0),e("div",fe,[(g(!0),v(A,null,S(s(n).redBagCreateShowVOList,(i,f)=>(g(),v("div",{key:f,class:"timeItem"},[ye,e("div",Te,[e("div",Ae,[e("div",Be,o(s(l)("redBagDistributionTime")),1),e("div",Re,[xe,e("span",null,o(i.activityStartTime)+"-"+o(i.activityEndTime),1)])]),e("div",{class:H(["right",i.status==1&&"current"]),onClick:Y},o(i.status==1?s(l)("goTo"):i.status==2?s(l)("weikaishi"):s(l)("over")),3)])]))),128)),e("div",Ce,[e("div",we,o(t.$t("huo_dong_gz")),1),e("div",{class:"rule-content",innerHTML:s(n).ruleDescription},null,8,Se)])])]),B(X,{show:s(d),"onUpdate:show":a[4]||(a[4]=i=>x(d)?d.value=i:null),"close-on-click-overlay":!1,class:"popup-record-content"},{default:R(()=>[e("div",{class:"title",onClick:a[1]||(a[1]=i=>d.value=!1)},[e("span",null,o(t.$t("lingqujilv")),1),e("img",{src:K,onClick:a[0]||(a[0]=i=>d.value=!1)})]),e("div",be,[e("div",De,[e("div",Ve,[e("div",Le,o(t.$t("serialNumber")),1),e("div",Ne,o(t.$t("collectionTime")),1),e("div",ke,o(t.$t("jiangli")),1)]),B(U,{modelValue:s(m),"onUpdate:modelValue":a[3]||(a[3]=i=>x(m)?m.value=i:null),onRefresh:k,"loosing-text":t.$t("loosingText"),"pulling-text":t.$t("pullingText")},{default:R(()=>[B(j,{loading:s(u),"onUpdate:loading":a[2]||(a[2]=i=>x(u)?u.value=i:null),finished:s(_),"finished-text":t.$t("meiyougengduole"),"loading-text":t.$t("jia_zai_zhong"),class:"table-body",onLoad:C},{default:R(()=>[(g(!0),v(A,null,S(s(c),(i,f)=>(g(),v("div",{key:f,class:"item-box"},[e("div",Ye,o(f+1),1),e("div",je,o(s(Z)(i.createTime,"y-m-d h:i:s")),1),e("div",Ue,o(i.goldCoin),1)]))),128))]),_:1},8,["loading","finished","finished-text","loading-text"])]),_:1},8,["modelValue","loosing-text","pulling-text"])])])]),_:1},8,["show"])],64)}}});const Ke=ee(Xe,[["__scopeId","data-v-4353c2d3"]]);export{Ke as default};
