import{L as j,o as V,m as U,e as s,a2 as I,a6 as B,_ as R,r as S,b5 as G,a as K,cd as Q,E as O,c as T,w as l,b as e,d as f,u as o,aG as W,F as X,n as Z,t as F,a8 as z,bE as ee,bk as le,h as te,aI as ae,aH as re,aJ as oe,aK as se,ay as de,aC as ue,aL as ne,p as ie,l as pe}from"./index-C4BxmZrN.js";import{i as me}from"./index-CL6ZmOyB.js";import{E as ce}from"./time-picker-CPkbCLCQ.js";import{E as _e,a as fe}from"./col-DljvzS69.js";import{E as ge}from"./date-picker-wyenFiKS.js";import{i as be}from"./index-CkGVv88Q.js";import{i as ye}from"./index-DSHqkOzX.js";import"./isArrayLikeObject-XYcYxEsS.js";import"./arrays-6TrVLtTe.js";import"./index-dVmM0e8c.js";const ve={bodyStyle:Object,extraStyle:Object},Ve=j({name:"EleBottomBar",props:ve}),xe=(n,g)=>{const b=n.__vccOpts||n;for(const[t,h]of g)b[t]=h;return b},he={class:"ele-bottom-bar"};function ke(n,g,b,t,h,$){return V(),U("div",he,[s("div",{class:"ele-bottom-bar-body",style:B(n.bodyStyle)},[I(n.$slots,"default")],4),s("div",{class:"ele-bottom-bar-extra",style:B(n.extraStyle)},[I(n.$slots,"extra")],4)])}const Ue=xe(Ve,[["render",ke]]),E=n=>(ie("data-v-c6fa215a"),n=n(),pe(),n),Se={style:{overflow:"auto"}},Ee=E(()=>s("colgroup",null,[s("col",{width:"60px"}),s("col"),s("col"),s("col"),s("col",{width:"100px"})],-1)),$e=E(()=>s("thead",null,[s("tr",null,[s("th",{style:{position:"sticky",left:"0","z-index":"98"}}),s("th",null,"用户名"),s("th",null,"工号"),s("th",null,"所属部门"),s("th",{style:{textAlign:"center",position:"sticky",right:0,zIndex:98}}," 操作 ")])],-1)),qe={style:{textAlign:"center",position:"sticky",left:0,zIndex:98}},Ce={style:{textAlign:"center",position:"sticky",right:0,zIndex:98}},we={key:0},Ie={colspan:"5",style:{"text-align":"center"}},Be=E(()=>s("span",{style:{"padding-top":"1px"}},"新增成员",-1)),Oe={name:"FormAdvanced"},Te=Object.assign(Oe,{setup(n){const g=S(!1),b=S(null),[t,h]=G({name:"",url:"",administrator:void 0,approver:void 0,datetime:"",type:void 0,task:"",description:"",executor:void 0,officer:void 0,reminder:void 0,taskType:void 0,users:[]}),$=K({name:[{required:!0,message:"请输入仓库名",type:"string",trigger:"blur"}],url:[{required:!0,message:"请输入仓库域名",type:"string",trigger:"blur"}],administrator:[{required:!0,message:"请选择仓库管理员",type:"string",trigger:"blur"}],approver:[{required:!0,message:"请选择审批人",type:"string",trigger:"blur"}],datetime:[{required:!0,message:"请选择生效时间",type:"string",trigger:"blur"}],type:[{required:!0,message:"请选择仓库类型",type:"string",trigger:"blur"}],task:[{required:!0,message:"请输入任务名",type:"string",trigger:"blur"}],description:[{required:!0,message:"请输入任务表述",type:"string",trigger:"blur"}],executor:[{required:!0,message:"请选择执行人",type:"string",trigger:"blur"}],officer:[{required:!0,message:"请选择责任人",type:"string",trigger:"blur"}],reminder:[{required:!0,message:"请选择提醒时间",type:"array",trigger:"change"}],taskType:[{required:!0,message:"请选择任务类型",type:"string",trigger:"blur"}]}),k=S(""),D=()=>{var p,r;(r=(p=b.value)==null?void 0:p.validate)==null||r.call(p,(y,c)=>{if(!y){const m=c?Object.keys(c).length:0;k.value=` 共有 ${m} 项校验不通过`;return}k.value="",g.value=!0,setTimeout(()=>{g.value=!1,O.success("提交成功"),h()},1e3)})},A=()=>{t.users.push({key:Date.now()+"-"+t.users.length,number:"",name:"",department:void 0})},H=(p,r)=>{t.users.splice(r,1)};return Q().then(p=>{t.users=p}).catch(p=>{O.error(p.message)}),(p,r)=>{const y=te,c=be,m=ae,d=re,i=_e,u=oe,_=se,J=ge,q=fe,M=ce,L=de,N=me,C=ue,P=ne,w=ye,Y=Ue;return V(),T(w,{plain:"","hide-footer":"","multi-card":!1},{default:l(()=>[e(c,{style:{"border-radius":"0"}},{default:l(()=>[e(y,{type:"heading",size:"lg"},{default:l(()=>[f("复杂表单")]),_:1}),e(y,{type:"placeholder",style:{"margin-top":"6px"}},{default:l(()=>[f(" 复杂表单常见于一次性输入和提交大批量数据的场景。 ")]),_:1})]),_:1}),e(w,null,{default:l(()=>[e(P,{ref_key:"formRef",ref:b,model:o(t),rules:$,"label-width":"100px",onSubmit:r[12]||(r[12]=W(()=>{},["prevent"]))},{default:l(()=>[e(c,{header:"仓库信息"},{default:l(()=>[e(q,{gutter:16},{default:l(()=>[e(i,{lg:8,md:12,sm:12,xs:24},{default:l(()=>[e(d,{label:"仓库名",prop:"name"},{default:l(()=>[e(m,{maxlength:"40",clearable:"",modelValue:o(t).name,"onUpdate:modelValue":r[0]||(r[0]=a=>o(t).name=a),placeholder:"请输入仓库名"},null,8,["modelValue"])]),_:1})]),_:1}),e(i,{lg:8,md:12,sm:12,xs:24},{default:l(()=>[e(d,{label:"仓库域名",prop:"url"},{default:l(()=>[e(m,{clearable:"",modelValue:o(t).url,"onUpdate:modelValue":r[1]||(r[1]=a=>o(t).url=a),placeholder:"请输入"},{prepend:l(()=>[f("https://")]),append:l(()=>[f(".com")]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(i,{lg:8,md:12,sm:12,xs:24},{default:l(()=>[e(d,{label:"仓库管理员",prop:"administrator"},{default:l(()=>[e(_,{clearable:"",modelValue:o(t).administrator,"onUpdate:modelValue":r[2]||(r[2]=a=>o(t).administrator=a),placeholder:"请选择仓库管理员",class:"ele-fluid"},{default:l(()=>[e(u,{value:"1",label:"SunSmile"}),e(u,{value:"2",label:"Jasmine"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(i,{lg:8,md:12,sm:12,xs:24},{default:l(()=>[e(d,{label:"审批人",prop:"approver"},{default:l(()=>[e(_,{clearable:"",modelValue:o(t).approver,"onUpdate:modelValue":r[3]||(r[3]=a=>o(t).approver=a),placeholder:"请选择审批人",class:"ele-fluid"},{default:l(()=>[e(u,{value:"1",label:"SunSmile"}),e(u,{value:"2",label:"Jasmine"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(i,{lg:8,md:12,sm:12,xs:24},{default:l(()=>[e(d,{label:"生效时间",prop:"datetime"},{default:l(()=>[e(J,{type:"datetime",modelValue:o(t).datetime,"onUpdate:modelValue":r[4]||(r[4]=a=>o(t).datetime=a),"value-format":"YYYY-MM-DD HH:mm:ss",placeholder:"请选择生效时间",class:"ele-fluid"},null,8,["modelValue"])]),_:1})]),_:1}),e(i,{lg:8,md:12,sm:12,xs:24},{default:l(()=>[e(d,{label:"仓库类型",prop:"type"},{default:l(()=>[e(_,{clearable:"",modelValue:o(t).type,"onUpdate:modelValue":r[5]||(r[5]=a=>o(t).type=a),placeholder:"请选择仓库类型",class:"ele-fluid"},{default:l(()=>[e(u,{value:"private",label:"私密"}),e(u,{value:"public",label:"公开"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(c,{header:"任务信息"},{default:l(()=>[e(q,{gutter:16},{default:l(()=>[e(i,{lg:8,md:12,sm:12,xs:24},{default:l(()=>[e(d,{label:"任务名",prop:"task"},{default:l(()=>[e(m,{clearable:"",modelValue:o(t).task,"onUpdate:modelValue":r[6]||(r[6]=a=>o(t).task=a),placeholder:"请输入任务名"},null,8,["modelValue"])]),_:1})]),_:1}),e(i,{lg:8,md:12,sm:12,xs:24},{default:l(()=>[e(d,{label:"任务表述",prop:"description"},{default:l(()=>[e(m,{clearable:"",modelValue:o(t).description,"onUpdate:modelValue":r[7]||(r[7]=a=>o(t).description=a),placeholder:"请输入任务表述"},null,8,["modelValue"])]),_:1})]),_:1}),e(i,{lg:8,md:12,sm:12,xs:24},{default:l(()=>[e(d,{label:"执行人",prop:"executor"},{default:l(()=>[e(_,{clearable:"",modelValue:o(t).executor,"onUpdate:modelValue":r[8]||(r[8]=a=>o(t).executor=a),placeholder:"请选择执行人",class:"ele-fluid"},{default:l(()=>[e(u,{value:"1",label:"SunSmile"}),e(u,{value:"2",label:"Jasmine"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(i,{lg:8,md:12,sm:12,xs:24},{default:l(()=>[e(d,{label:"责任人",prop:"officer"},{default:l(()=>[e(_,{clearable:"",modelValue:o(t).officer,"onUpdate:modelValue":r[9]||(r[9]=a=>o(t).officer=a),placeholder:"请选择责任人",class:"ele-fluid"},{default:l(()=>[e(u,{value:"1",label:"SunSmile"}),e(u,{value:"2",label:"Jasmine"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(i,{lg:8,md:12,sm:12,xs:24},{default:l(()=>[e(d,{label:"提醒时间",prop:"reminder"},{default:l(()=>[e(M,{"is-range":"","range-separator":"-",modelValue:o(t).reminder,"onUpdate:modelValue":r[10]||(r[10]=a=>o(t).reminder=a),"start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"HH:mm:ss",class:"ele-fluid"},null,8,["modelValue"])]),_:1})]),_:1}),e(i,{lg:8,md:12,sm:12,xs:24},{default:l(()=>[e(d,{label:"任务类型",prop:"taskType"},{default:l(()=>[e(_,{clearable:"",modelValue:o(t).taskType,"onUpdate:modelValue":r[11]||(r[11]=a=>o(t).taskType=a),placeholder:"请选择任务类型",class:"ele-fluid"},{default:l(()=>[e(u,{value:"1",label:"私密"}),e(u,{value:"2",label:"公开"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(c,{header:"选择成员"},{default:l(()=>[s("div",Se,[e(N,{style:{"min-width":"580px","table-layout":"fixed"}},{default:l(()=>[Ee,$e,s("tbody",null,[(V(!0),U(X,null,Z(o(t).users,(a,x)=>(V(),U("tr",{key:a.key},[s("td",qe,F(x+1),1),s("td",null,[e(d,{"label-width":"0px",prop:"users."+x+".name",rules:{required:!0,message:"请输入用户名",type:"string",trigger:"blur"},class:"form-error-popper",style:{"margin-bottom":"0"}},{default:l(()=>[e(m,{clearable:"",modelValue:a.name,"onUpdate:modelValue":v=>a.name=v,placeholder:"请输入用户名"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),s("td",null,[e(d,{"label-width":"0px",prop:"users."+x+".number",rules:{required:!0,message:"请输入工号",type:"string",trigger:"blur"},class:"form-error-popper",style:{"margin-bottom":"0"}},{default:l(()=>[e(m,{clearable:"",modelValue:a.number,"onUpdate:modelValue":v=>a.number=v,placeholder:"请输入工号"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),s("td",null,[e(d,{"label-width":"0px",prop:"users."+x+".department",rules:{required:!0,message:"请选择部门",type:"string",trigger:"change"},class:"form-error-popper",style:{"margin-bottom":"0"}},{default:l(()=>[e(_,{clearable:"",modelValue:a.department,"onUpdate:modelValue":v=>a.department=v,placeholder:"请选择部门",class:"ele-fluid"},{default:l(()=>[e(u,{value:"研发部",label:"研发部"}),e(u,{value:"测试部",label:"测试部"}),e(u,{value:"产品部",label:"产品部"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),s("td",Ce,[e(L,{type:"danger",underline:!1,onClick:v=>H(a,x)},{default:l(()=>[f(" 删除 ")]),_:2},1032,["onClick"])])]))),128)),!o(t).users||!o(t).users.length?(V(),U("tr",we,[s("td",Ie,[e(y,{style:{padding:"4px 0"},type:"secondary"},{default:l(()=>[f(" 暂无数据 ")]),_:1})])])):z("",!0)])]),_:1})]),e(C,{icon:o(ee),style:{"margin-top":"16px",width:"100%"},onClick:A},{default:l(()=>[Be]),_:1},8,["icon"])]),_:1})]),_:1},8,["model","rules"])]),_:1}),e(Y,null,{extra:l(()=>[e(C,{type:"primary",loading:g.value,onClick:D},{default:l(()=>[f(" 提交 ")]),_:1},8,["loading"])]),default:l(()=>[k.value?(V(),T(y,{key:0,type:"danger",icon:o(le)},{default:l(()=>[s("span",null,F(k.value),1)]),_:1},8,["icon"])):z("",!0)]),_:1})]),_:1})}}}),Ye=R(Te,[["__scopeId","data-v-c6fa215a"]]);export{Ye as default};
