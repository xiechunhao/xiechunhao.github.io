import{A as q,M as B,S as C,N as A}from"./chunks/index.a511ac44.js";import{b as f,S as x,I as _,T as h,F as w,a as b,V as S}from"./chunks/Vector.e7fd2c77.js";import{i as d,M as k,V as T,bR as L}from"./chunks/reproj.9b488601.js";import{O as y}from"./chunks/Overlay.99996f63.js";import{T as N}from"./chunks/TileImage.70f39159.js";import{X as O}from"./chunks/XYZ.94b2552a.js";import{E as V}from"./chunks/index.1fd4b505.js";import{F as I}from"./chunks/FullScreen.fe51dd7f.js";import{V as M}from"./chunks/Vector.ef038271.js";import{d as P,a3 as U,p as H,a4 as G,D as i,o as m,c as u,z as p,G as r,B as F,a as D,F as Z,M as z,N as R,_ as X,O as Y}from"./chunks/framework.3a9101bc.js";import"./chunks/index.9c55a69d.js";import"./chunks/index.ed91b936.js";const E=n=>new x({image:new _({anchor:[.5,60],anchorOrigin:"top-right",anchorXUnits:"fraction",anchorYUnits:"pixels",offsetOrigin:"top-right",scale:.4,opacity:.75,src:"/image//blue.png"}),text:new h({textAlign:"center",textBaseline:"middle",font:"normal 14px 微软雅黑",text:n.get("name"),fill:new w({color:"#aa3300"}),stroke:new b({color:"#ffcc33",width:2})})}),$=({coordinate:n,vectorSource:s,name:l="标注点"})=>{if(s===null)return;const e=new f({geometry:new d(n),name:l});e.setStyle(E(e)),s.addFeature(e)},j=({coordinate:n,map:s})=>{if(s===null)return;const l=document.createElement("div");l.className="marker",l.title="标注点";const e=document.getElementById("label");if(e===null)return;e.appendChild(l);const a=document.createElement("a");a.className="address",a.href="#",J(a,l.title),l.appendChild(a);const o=new y({position:n,positioning:"center-center",element:l,stopEvent:!1});s.addOverlay(o);const t=new y({position:n,element:a});s.addOverlay(t)};function J(n,s){typeof n.textContent=="string"?n.textContent=s:n.innerText=s}const g=n=>(z("data-v-c6f7291f"),n=n(),R(),n),K={id:"top"},Q=g(()=>p("div",{id:"label",style:{display:"none"}},[p("div",{id:"marker",class:"marker",title:"Marker"},[p("a",{class:"address",id:"address",target:"_blank",href:"https://blog.csdn.net/qq_36410795?type=blog"}," 标注点 ")])],-1)),W=g(()=>p("div",{id:"map"},null,-1)),ss=P({__name:"index",setup(n){const s=U({map:null,vectorSource:null,type:""}),l=new N({source:new O({attributions:q,url:B,maxZoom:20})}),e=()=>{s.map=new k({target:"map",layers:[l],view:new T({projection:"EPSG:4326",center:C,zoom:5}),controls:L().extend([new I])});const a=new f({geometry:new d(C),name:"深圳市"});a.setStyle(E(a)),s.vectorSource=new S({features:[a]});const o=new M({source:s.vectorSource});s.map.addLayer(o);const t=new y({position:A,positioning:"center-center",element:document.getElementById("marker")||void 0,stopEvent:!1});s.map.addOverlay(t),t.getElement().title="南昌市";const c=new y({position:A,element:document.getElementById("address")||void 0});s.map.addOverlay(c),c.getElement().innerText=t.getElement().title};return H(()=>{e(),s.map&&s.map.on("click",a=>{if(!s.type){V({message:"请先选择标注类型后用鼠标在地图上点击添加标注",type:"warning"});return}const o=a.coordinate;s.type==="vector"&&$({coordinate:o,vectorSource:s.vectorSource}),s.type==="overlay"&&j({coordinate:o,map:s.map})})}),G(()=>{s.map&&(s.map.dispose(),s.map=null)}),(a,o)=>{const t=i("el-radio"),c=i("el-radio-group");return m(),u(Z,null,[p("div",K,[r(c,{modelValue:s.type,"onUpdate:modelValue":o[0]||(o[0]=v=>s.type=v)},{default:F(()=>[r(t,{label:"vector",size:"large"},{default:F(()=>[D("Vector Labels")]),_:1}),r(t,{label:"overlay",size:"large"},{default:F(()=>[D("Overlay Labels")]),_:1})]),_:1},8,["modelValue"])]),Q,W],64)}}});const ns=X(ss,[["__scopeId","data-v-c6f7291f"]]),as=p("h1",{id:"图文标注",tabindex:"-1"},[D("图文标注 "),p("a",{class:"header-anchor",href:"#图文标注","aria-label":'Permalink to "图文标注"'},"​")],-1),ls=p("div",{class:"tip custom-block"},[p("p",{class:"custom-block-title"},"TIP"),p("p",null,"选择标注类型后用鼠标在地图上点击添加标注。")],-1),ps=Y("",4),ms=JSON.parse('{"title":"图文标注","description":"","frontmatter":{},"headers":[],"relativePath":"pro-open-layers/map-marker/text-pic/index.md","filePath":"pro-open-layers/map-marker/text-pic/index.md","lastUpdated":1688351083000}'),os={name:"pro-open-layers/map-marker/text-pic/index.md"},us=Object.assign(os,{setup(n){return(s,l)=>(m(),u("div",null,[as,ls,r(ns),ps]))}});export{ms as __pageData,us as default};
