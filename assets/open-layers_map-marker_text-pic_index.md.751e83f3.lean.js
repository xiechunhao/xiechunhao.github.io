import{A as q,M as B,S as C,N as A}from"../js/index/index.47495de9.js";import{e as f,f as m,O as y,S as x,A as _,y as h,F as w,b as S,T as b,X as k,M as L,c as T,i as N,k as O,V,a as I}from"../js/ol@7.4.0@ol/ol@7.4.0@ol.2a99620d.js";import{ElMessage as M}from"../js/es/element-plus@2.3.7@element-plus.9cf0a975.js";import{D as P,n as U,v as H,V as i,o as d,c as u,a as p,j as r,J as F,F as Z,N as D,_ as j,$ as G,a0 as z}from"../js/@vue_runtime-core@3.3.4@@vue/@vue_runtime-core@3.3.4@@vue.35efc880.js";import{h as R}from"../js/@vue_reactivity@3.3.4@@vue/@vue_reactivity@3.3.4@@vue.e6fc7fe8.js";import{_ as X}from"./app.f296b152.js";import"../js/earcut@2.2.4@earcut/earcut@2.2.4@earcut.e6a9c857.js";import"../js/rbush@3.0.1@rbush/rbush@3.0.1@rbush.75a05972.js";import"../js/quickselect@2.0.0@quickselect/quickselect@2.0.0@quickselect.f3892974.js";import"../js/lodash-es@4.17.21@lodash-es/lodash-es@4.17.21@lodash-es.36eb724a.js";import"../js/@vue_shared@3.3.4@@vue/@vue_shared@3.3.4@@vue.5a5848fd.js";import"../js/@vueuse_core@9.13.0@@vueuse/@vueuse_core@9.13.0@@vueuse.604f33c6.js";import"../js/@vueuse_shared@9.13.0@@vueuse/@vueuse_shared@9.13.0@@vueuse.740d90d5.js";import"../js/@vue_runtime-dom@3.3.4@@vue/@vue_runtime-dom@3.3.4@@vue.5dd85bb5.js";import"../js/@element-plus_icons-vue@2.1.0@@element-plus/@element-plus_icons-vue@2.1.0@@element-plus.1b5ed4e9.js";import"../js/@sxzz_popperjs-es@2.11.7@@sxzz/@sxzz_popperjs-es@2.11.7@@sxzz.c75af06c.js";import"../js/@ctrl_tinycolor@3.6.0@@ctrl/@ctrl_tinycolor@3.6.0@@ctrl.f8748455.js";import"../js/dayjs@1.11.8@dayjs/dayjs@1.11.8@dayjs.ab63237d.js";import"../js/async-validator@4.2.5@async-validator/async-validator@4.2.5@async-validator.dee29e8b.js";import"../js/memoize-one@6.0.0@memoize-one/memoize-one@6.0.0@memoize-one.297ddbcb.js";import"../js/escape-html@1.0.3@escape-html/escape-html@1.0.3@escape-html.3a386d15.js";import"../js/normalize-wheel-es@1.2.0@normalize-wheel-es/normalize-wheel-es@1.2.0@normalize-wheel-es.ed76fb12.js";import"../js/@floating-ui_dom@1.4.2@@floating-ui/@floating-ui_dom@1.4.2@@floating-ui.4bb7de12.js";import"../js/@floating-ui_core@1.3.1@@floating-ui/@floating-ui_core@1.3.1@@floating-ui.a8b4680c.js";import"../js/@docsearch_css@3.5.1@@docsearch/@docsearch_css@3.5.1@@docsearch.4ed993c7.js";import"../js/body-scroll-lock@4.0.0-beta.0@body-scroll-lock/body-scroll-lock@4.0.0-beta.0@body-scroll-lock.e1f8a6eb.js";import"../js/geotiff@2.0.7@geotiff/geotiff@2.0.7@geotiff.101896b7.js";import"../js/@vueuse_core@10.2.0@@vueuse/@vueuse_core@10.2.0@@vueuse.8a5d8129.js";import"../js/@vueuse_shared@10.2.0@@vueuse/@vueuse_shared@10.2.0@@vueuse.9afec68c.js";const E=n=>new x({image:new _({anchor:[.5,60],anchorOrigin:"top-right",anchorXUnits:"fraction",anchorYUnits:"pixels",offsetOrigin:"top-right",scale:.4,opacity:.75,src:"/image//blue.png"}),text:new h({textAlign:"center",textBaseline:"middle",font:"normal 14px 微软雅黑",text:n.get("name"),fill:new w({color:"#aa3300"}),stroke:new S({color:"#ffcc33",width:2})})}),Y=({coordinate:n,vectorSource:s,name:l="标注点"})=>{if(s===null)return;const e=new f({geometry:new m(n),name:l});e.setStyle(E(e)),s.addFeature(e)},$=({coordinate:n,map:s})=>{if(s===null)return;const l=document.createElement("div");l.className="marker",l.title="标注点";const e=document.getElementById("label");if(e===null)return;e.appendChild(l);const a=document.createElement("a");a.className="address",a.href="#",J(a,l.title),l.appendChild(a);const o=new y({position:n,positioning:"center-center",element:l,stopEvent:!1});s.addOverlay(o);const t=new y({position:n,element:a});s.addOverlay(t)};function J(n,s){typeof n.textContent=="string"?n.textContent=s:n.innerText=s}const g=n=>(j("data-v-81822a3b"),n=n(),G(),n),K={id:"top"},Q=g(()=>p("div",{id:"label",style:{display:"none"}},[p("div",{id:"marker",class:"marker",title:"Marker"},[p("a",{class:"address",id:"address",target:"_blank",href:"https://juejin.cn/user/588993965598407"}," 标注点 ")])],-1)),W=g(()=>p("div",{id:"map"},null,-1)),ss=P({__name:"index",setup(n){const s=R({map:null,vectorSource:null,type:""}),l=new b({source:new k({attributions:q,url:B,maxZoom:20})}),e=()=>{s.map=new L({target:"map",layers:[l],view:new T({projection:"EPSG:4326",center:C,zoom:5}),controls:N().extend([new O])});const a=new f({geometry:new m(C),name:"深圳市"});a.setStyle(E(a)),s.vectorSource=new V({features:[a]});const o=new I({source:s.vectorSource});s.map.addLayer(o);const t=new y({position:A,positioning:"center-center",element:document.getElementById("marker")||void 0,stopEvent:!1});s.map.addOverlay(t),t.getElement().title="南昌市";const c=new y({position:A,element:document.getElementById("address")||void 0});s.map.addOverlay(c),c.getElement().innerText=t.getElement().title};return U(()=>{e(),s.map&&s.map.on("click",a=>{if(!s.type){M({message:"请先选择标注类型后用鼠标在地图上点击添加标注",type:"warning"});return}const o=a.coordinate;s.type==="vector"&&Y({coordinate:o,vectorSource:s.vectorSource}),s.type==="overlay"&&$({coordinate:o,map:s.map})})}),H(()=>{s.map&&(s.map.dispose(),s.map=null)}),(a,o)=>{const t=i("el-radio"),c=i("el-radio-group");return d(),u(Z,null,[p("div",K,[r(c,{modelValue:s.type,"onUpdate:modelValue":o[0]||(o[0]=v=>s.type=v)},{default:F(()=>[r(t,{label:"vector",size:"large"},{default:F(()=>[D("Vector Labels")]),_:1}),r(t,{label:"overlay",size:"large"},{default:F(()=>[D("Overlay Labels")]),_:1})]),_:1},8,["modelValue"])]),Q,W],64)}}});const ns=X(ss,[["__scopeId","data-v-81822a3b"]]),as=p("h1",{id:"图文标注",tabindex:"-1"},[D("图文标注 "),p("a",{class:"header-anchor",href:"#图文标注","aria-label":'Permalink to "图文标注"'},"​")],-1),ls=p("div",{class:"tip custom-block"},[p("p",{class:"custom-block-title"},"TIP"),p("p",null,"选择标注类型后用鼠标在地图上点击添加标注。")],-1),ps=z("",4),Os=JSON.parse('{"title":"图文标注","description":"","frontmatter":{},"headers":[],"relativePath":"open-layers/map-marker/text-pic/index.md","filePath":"open-layers/map-marker/text-pic/index.md","lastUpdated":1687683239000}'),os={name:"open-layers/map-marker/text-pic/index.md"},Vs=Object.assign(os,{setup(n){return(s,l)=>(d(),u("div",null,[as,ls,r(ns),ps]))}});export{Os as __pageData,Vs as default};
