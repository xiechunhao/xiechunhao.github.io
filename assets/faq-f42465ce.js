import{a0 as s,l as r}from"../js/index.dc884249.js";import{H as l}from"./request-6724ac56.js";const o=e=>l("/config-client/config-client/problem/getConfigProblemByTitleList",e,"get"),c=e=>l("/config-client/config-client/problem/getConfigProblemHelpByUid",e,"get"),a=()=>l("/config-client/config-client/problem/getConfigProblemList",{},"get"),p=()=>l("/config-client/config-client/problem/getConfigProblemTypeAllList",{},"get"),g=e=>l("/config-client/config-client/problem/updateConfigProblemHelp",e,"get");let n={createTime:0,helpful:0,id:0,isDelete:0,noHelp:0,solution:"",title:"",typeId:0,updateTime:0};const h=s({id:"app-task",state:()=>({list:[],isHelp:0,detail:n,searchList:[],faqType:[]}),getters:{detailTitle(){try{let[e]=this.faqType.filter(t=>Number(t.id)==Number(this.detail.typeId));return e.problemTypeName}catch(e){return""}}},actions:{async GetFaqList(e){if(this.isHelp=0,this.list.length===0)try{const t=await a();this.list=t}catch(t){console.log(t)}if(e!=null&&e.detailId)try{let[t]=this.list.filter(i=>i.id==e.detailId);this.detail=t||n;try{const i=await c({problemId:e.detailId,uid:r.get("uid")});this.isHelp=i.isHelp}catch(i){this.isHelp=0}}catch(t){this.detail=n}},async SetHelp(e){this.isHelp=e.isHelp,g(e)},async SearchQuestion(e){try{const t=await o({title:e});this.searchList=t.map(i=>(i.content=i.title.replace(new RegExp(e,"g"),"<span class='redText'>".concat(e,"</span>")),console.log(i.content),i))}catch(t){}},async GetFaqType(){if(!(this.faqType.length>0))try{const e=await p();this.faqType=e}catch(e){}}}});export{h as u};
