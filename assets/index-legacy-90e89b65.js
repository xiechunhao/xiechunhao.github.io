System.register(["./index-legacy-9c7c096d.js","../js/index-legacy.f8cb7a75.js","./index-legacy-17187cab.js","./use-id-legacy-a6e09c65.js","./use-expose-legacy-7ae1465d.js"],(function(e,t){"use strict";var l,r,a,n,i,o,c,s,d,u,v,f,g,p,h,m,b,_,x,y,w,k,z,C,S,M,V,I,B,A,j,E,P,T,q,L,W,$;return{setters:[e=>{l=e.h,r=e.s,a=e.F,n=e.p,i=e.I,o=e.r},e=>{c=e.bK,s=e.bn,d=e.bL,u=e.y,v=e.A,f=e.C,g=e.B,p=e.X,h=e.P,m=e.d,b=e.r,_=e.D,x=e.N,y=e.H,w=e.W,k=e.bM,z=e.bN,C=e.Z,S=e.a7,M=e.o,V=e.K,I=e.f,B=e.I,A=e.bO,j=e.bP,E=e.U,P=e.i,T=e.V},e=>{q=e.c,L=e.C},e=>{W=e.u},e=>{$=e.u}],execute:function(){var t=document.createElement("style");function F(e){return Array.isArray(e)?!e.length:0!==e&&!e}function D(e,t){const{message:l}=t;return s(l)?l(e,t):l||""}function H({target:e}){e.composing=!0}function K({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function O(e){return[...e].length}function R(e,t){return[...e].slice(0,t).join("")}t.textContent=':root,:host{--van-field-label-width: 6.2em;--van-field-label-color: var(--van-text-color);--van-field-label-margin-right: var(--van-padding-sm);--van-field-input-text-color: var(--van-text-color);--van-field-input-error-text-color: var(--van-danger-color);--van-field-input-disabled-text-color: var(--van-text-color-3);--van-field-placeholder-text-color: var(--van-text-color-3);--van-field-icon-size: 18px;--van-field-clear-icon-size: 18px;--van-field-clear-icon-color: var(--van-gray-5);--van-field-right-icon-color: var(--van-gray-6);--van-field-error-message-color: var(--van-danger-color);--van-field-error-message-font-size: 12px;--van-field-text-area-min-height: 60px;--van-field-word-limit-color: var(--van-gray-7);--van-field-word-limit-font-size: var(--van-font-size-sm);--van-field-word-limit-line-height: 16px;--van-field-disabled-text-color: var(--van-text-color-3);--van-field-required-mark-color: var(--van-red)}.van-field{flex-wrap:wrap}.van-field__label{flex:none;box-sizing:border-box;width:var(--van-field-label-width);margin-right:var(--van-field-label-margin-right);color:var(--van-field-label-color);text-align:left;word-wrap:break-word}.van-field__label--center{text-align:center}.van-field__label--right{text-align:right}.van-field__label--top{display:flex;width:100%;text-align:left;margin-bottom:var(--van-padding-base);overflow-wrap:break-word}.van-field__label--required:before{margin-right:2px;color:var(--van-field-required-mark-color);content:"*"}.van-field--disabled .van-field__label{color:var(--van-field-disabled-text-color)}.van-field__value{overflow:visible}.van-field__body{display:flex;align-items:center}.van-field__control{display:block;box-sizing:border-box;width:100%;min-width:0;margin:0;padding:0;color:var(--van-field-input-text-color);line-height:inherit;text-align:left;background-color:transparent;border:0;resize:none;-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.van-field__control::-webkit-input-placeholder{color:var(--van-field-placeholder-text-color)}.van-field__control::-moz-placeholder{color:var(--van-field-placeholder-text-color)}.van-field__control::placeholder{color:var(--van-field-placeholder-text-color)}.van-field__control:-moz-read-only{cursor:default}.van-field__control:read-only{cursor:default}.van-field__control:disabled{color:var(--van-field-input-disabled-text-color);cursor:not-allowed;opacity:1;-webkit-text-fill-color:var(--van-field-input-disabled-text-color)}.van-field__control--center{justify-content:center;text-align:center}.van-field__control--right{justify-content:flex-end;text-align:right}.van-field__control--custom{display:flex;align-items:center;min-height:var(--van-cell-line-height)}.van-field__control--error::-webkit-input-placeholder{color:var(--van-field-input-error-text-color);-webkit-text-fill-color:currentColor}.van-field__control--error::-moz-placeholder{color:var(--van-field-input-error-text-color);-webkit-text-fill-color:currentColor}.van-field__control--error,.van-field__control--error::placeholder{color:var(--van-field-input-error-text-color);-webkit-text-fill-color:currentColor}.van-field__control--min-height{min-height:var(--van-field-text-area-min-height)}.van-field__control[type=date],.van-field__control[type=time],.van-field__control[type=datetime-local]{min-height:var(--van-cell-line-height)}.van-field__control[type=search]{-webkit-appearance:none}.van-field__clear,.van-field__icon,.van-field__button,.van-field__right-icon{flex-shrink:0}.van-field__clear,.van-field__right-icon{margin-right:calc(var(--van-padding-xs) * -1);padding:0 var(--van-padding-xs);line-height:inherit}.van-field__clear{color:var(--van-field-clear-icon-color);font-size:var(--van-field-clear-icon-size);cursor:pointer}.van-field__left-icon .van-icon,.van-field__right-icon .van-icon{display:block;font-size:var(--van-field-icon-size);line-height:inherit}.van-field__left-icon{margin-right:var(--van-padding-base)}.van-field__right-icon{color:var(--van-field-right-icon-color)}.van-field__button{padding-left:var(--van-padding-xs)}.van-field__error-message{color:var(--van-field-error-message-color);font-size:var(--van-field-error-message-font-size);text-align:left}.van-field__error-message--center{text-align:center}.van-field__error-message--right{text-align:right}.van-field__word-limit{margin-top:var(--van-padding-base);color:var(--van-field-word-limit-color);font-size:var(--van-field-word-limit-font-size);line-height:var(--van-field-word-limit-line-height);text-align:right}\n',document.head.appendChild(t);const[N,G]=u("field"),U=e("f",{id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:v,formatter:Function,clearIcon:f("clear"),modelValue:g(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:f("focus"),formatTrigger:f("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}}),X=p({},q,U,{rows:v,type:f("text"),rules:Array,autosize:[Boolean,Object],labelWidth:v,labelClass:h,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var Z=m({name:N,props:X,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:s}){const u=W(),v=b({status:"unvalidated",focused:!1,validateMessage:""}),f=_(),g=_(),p=_(),{parent:h}=x(a),m=()=>{var t;return String(null!=(t=e.modelValue)?t:"")},T=t=>B(e[t])?e[t]:h&&B(h.props[t])?h.props[t]:void 0,q=y((()=>{const t=T("readonly");if(e.clearable&&!t){const t=""!==m(),l="always"===e.clearTrigger||"focus"===e.clearTrigger&&v.focused;return t&&l}return!1})),N=y((()=>p.value&&s.input?p.value():e.modelValue)),U=y((()=>{var t;const l=T("required");return"auto"===l?null==(t=e.rules)?void 0:t.some((e=>e.required)):l})),X=e=>e.reduce(((e,t)=>e.then((()=>{if("failed"===v.status)return;let{value:e}=N;if(t.formatter&&(e=t.formatter(e,t)),!function(e,t){if(F(e)){if(t.required)return!1;if(!1===t.validateEmpty)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}(e,t))return v.status="failed",void(v.validateMessage=D(e,t));if(t.validator){if(F(e)&&!1===t.validateEmpty)return;return function(e,t){return new Promise((l=>{const r=t.validator(e,t);c(r)?r.then(l):l(r)}))}(e,t).then((l=>{l&&"string"==typeof l?(v.status="failed",v.validateMessage=l):!1===l&&(v.status="failed",v.validateMessage=D(e,t))}))}}))),Promise.resolve()),Z=()=>{v.status="unvalidated",v.validateMessage=""},J=()=>t("endValidate",{status:v.status,message:v.validateMessage}),Q=(l=e.rules)=>new Promise((r=>{Z(),l?(t("startValidate"),X(l).then((()=>{"failed"===v.status?(r({name:e.name,message:v.validateMessage}),J()):(v.status="passed",r(),J())}))):r()})),Y=t=>{if(h&&e.rules){const{validateTrigger:l}=h.props,r=A(l).includes(t),a=e.rules.filter((e=>e.trigger?A(e.trigger).includes(t):r));a.length&&Q(a)}},ee=(l,r="onChange")=>{const a=l;l=(t=>{var l;const{maxlength:r}=e;if(B(r)&&O(t)>+r){const e=m();if(e&&O(e)===+r)return e;const a=null==(l=f.value)?void 0:l.selectionEnd;if(v.focused&&a){const e=[...t],l=e.length-+r;return e.splice(a-l,l),e.join("")}return R(t,+r)}return t})(l);const n=O(a)-O(l);if("number"===e.type||"digit"===e.type){const t="number"===e.type;l=j(l,t,t)}let i=0;if(e.formatter&&r===e.formatTrigger){const{formatter:t,maxlength:r}=e;if(l=t(l),B(r)&&O(l)>+r&&(l=R(l,+r)),f.value&&v.focused){const{selectionEnd:e}=f.value,l=R(a,e);i=O(t(l))-O(l)}}if(f.value&&f.value.value!==l)if(v.focused){let{selectionStart:e,selectionEnd:t}=f.value;if(f.value.value=l,B(e)&&B(t)){const r=O(l);n?(e-=n,t-=n):i&&(e+=i,t+=i),f.value.setSelectionRange(Math.min(e,r),Math.min(t,r))}}else f.value.value=l;l!==e.modelValue&&t("update:modelValue",l)},te=e=>{e.target.composing||ee(e.target.value)},le=()=>{var e;return null==(e=f.value)?void 0:e.blur()},re=()=>{var e;return null==(e=f.value)?void 0:e.focus()},ae=()=>{const t=f.value;"textarea"===e.type&&e.autosize&&t&&function(e,t){const a=l();e.style.height="auto";let n=e.scrollHeight;if(d(t)){const{maxHeight:e,minHeight:l}=t;void 0!==e&&(n=Math.min(n,e)),void 0!==l&&(n=Math.max(n,l))}n&&(e.style.height=`${n}px`,r(a))}(t,e.autosize)},ne=e=>{v.focused=!0,t("focus",e),S(ae),T("readonly")&&le()},ie=e=>{v.focused=!1,ee(m(),"onBlur"),t("blur",e),T("readonly")||(Y("onBlur"),S(ae),o())},oe=e=>t("clickInput",e),ce=e=>t("clickLeftIcon",e),se=e=>t("clickRightIcon",e),de=y((()=>"boolean"==typeof e.error?e.error:!(!h||!h.props.showError||"failed"!==v.status)||void 0)),ue=y((()=>{const e=T("labelWidth"),t=T("labelAlign");if(e&&"top"!==t)return{width:w(e)}})),ve=l=>{13===l.keyCode&&(h&&h.props.submitOnEnter||"textarea"===e.type||n(l),"search"===e.type&&le()),t("keypress",l)},fe=()=>e.id||`${u}-input`,ge=()=>{const t=G("control",[T("inputAlign"),{error:de.value,custom:!!s.input,"min-height":"textarea"===e.type&&!e.autosize}]);if(s.input)return I("div",{class:t,onClick:oe},[s.input()]);const l={id:fe(),ref:f,name:e.name,rows:void 0!==e.rows?+e.rows:void 0,class:t,disabled:T("disabled"),readonly:T("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${u}-label`:void 0,onBlur:ie,onFocus:ne,onInput:te,onClick:oe,onChange:K,onKeypress:ve,onCompositionend:K,onCompositionstart:H};return"textarea"===e.type?I("textarea",l,null):I("input",E("number"===(r=e.type)?{type:"text",inputmode:"decimal"}:"digit"===r?{type:"tel",inputmode:"numeric"}:{type:r},l),null);var r},pe=()=>{const t=s["right-icon"];if(e.rightIcon||t)return I("div",{class:G("right-icon"),onClick:se},[t?t():I(i,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},he=()=>{if(e.showWordLimit&&e.maxlength){const t=O(m());return I("div",{class:G("word-limit")},[I("span",{class:G("word-num")},[t]),P("/"),e.maxlength])}},me=()=>{if(h&&!1===h.props.showErrorMessage)return;const t=e.errorMessage||v.validateMessage;if(t){const e=s["error-message"],l=T("errorMessageAlign");return I("div",{class:G("error-message",l)},[e?e({message:t}):t])}},be=()=>[I("div",{class:G("body")},[ge(),q.value&&I(i,{ref:g,name:e.clearIcon,class:G("clear")},null),pe(),s.button&&I("div",{class:G("button")},[s.button()])]),he(),me()];return $({blur:le,focus:re,validate:Q,formValue:N,resetValidation:Z,getValidationStatus:()=>v.status}),k(z,{customValue:p,resetValidation:Z,validateWithTrigger:Y}),C((()=>e.modelValue),(()=>{ee(m()),Z(),Y("onChange"),S(ae)})),M((()=>{ee(m(),e.formatTrigger),S(ae)})),V("touchstart",(e=>{n(e),t("update:modelValue",""),t("clear",e)}),{target:y((()=>{var e;return null==(e=g.value)?void 0:e.$el}))}),()=>{const t=T("disabled"),l=T("labelAlign"),r=(()=>{const t=s["left-icon"];if(e.leftIcon||t)return I("div",{class:G("left-icon"),onClick:ce},[t?t():I(i,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])})();return I(L,{size:e.size,class:G({error:de.value,disabled:t,[`label-${l}`]:l}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:ue.value,valueClass:G("value"),titleClass:[G("label",[l,{required:U.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:r&&"top"!==l?()=>r:null,title:()=>{const t=(()=>{const t=T("labelWidth"),l=T("labelAlign"),r=T("colon")?":":"";return s.label?[s.label(),r]:e.label?I("label",{id:`${u}-label`,for:s.input?void 0:fe(),onClick:e=>{n(e),re()},style:"top"===l&&t?{width:w(t)}:void 0},[e.label+r]):void 0})();return"top"===l?[r,t].filter(Boolean):t||[]},value:be,extra:s.extra})}}});e("F",T(Z))}}}));
