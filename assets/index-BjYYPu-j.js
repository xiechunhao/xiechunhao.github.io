import{a as e,S as r,_ as a}from"./index-D_qZw2oD.js";import{d as s,r as l,Z as o,c as t,e as i,b as d,x as n,u,w as m,$ as p,a0 as c,C as g,D as f,aE as v,M as h,z as w,H as y,L as _,I as V,P as x,a3 as b,N as P,o as $}from"./vendor-Dakx4FZ3.js";import{L as z}from"./LeftView-DouTdVUY.js";const E={class:"login register"},T={class:"left-wrap"},k={class:"right-wrap"},L={class:"header"},M={class:"login-wrap"},U={class:"form"},j={class:"title"},q={class:"sub-title"},C={style:{"margin-top":"15px"}},I={class:"footer"},A=a(s({__name:"index",setup(a){const{t:s}=e(),A=b(),B=l(),D=r.name,F=l(!1),H=o({username:"",password:"",confirmPassword:"",agreement:!1}),K=o({username:[{required:!0,message:s("register.placeholder[0]"),trigger:"blur"},{min:3,max:20,message:s("register.rule[2]"),trigger:"blur"}],password:[{required:!0,validator:(e,r,a)=>{var l;""===r?a(new Error(s("register.placeholder[1]"))):(""!==H.confirmPassword&&(null==(l=B.value)||l.validateField("confirmPassword")),a())},trigger:"blur"},{min:6,message:s("register.rule[3]"),trigger:"blur"}],confirmPassword:[{required:!0,validator:(e,r,a)=>{""===r?a(new Error(s("register.rule[0]"))):r!==H.password?a(new Error(s("register.rule[1]"))):a()},trigger:"blur"}],agreement:[{validator:(e,r,a)=>{r?a():a(new Error(s("register.rule[4]")))},trigger:"change"}]}),N=()=>{return e=this,r=null,a=function*(){if(B.value)try{yield B.value.validate(),F.value=!0,setTimeout((()=>{F.value=!1,x.success("注册成功"),R()}),1e3)}catch(e){}},new Promise(((s,l)=>{var o=e=>{try{i(a.next(e))}catch(r){l(r)}},t=e=>{try{i(a.throw(e))}catch(r){l(r)}},i=e=>e.done?s(e.value):Promise.resolve(e.value).then(o,t);i((a=a.apply(e,r)).next())}));var e,r,a},R=()=>{setTimeout((()=>{A.push("/login")}),1e3)};return(e,r)=>{const a=g,s=c,l=w("router-link"),o=v,x=V,b=p,A=P("ripple");return $(),t("div",E,[i("div",T,[d(z)]),i("div",k,[i("div",L,[r[4]||(r[4]=i("svg",{class:"icon","aria-hidden":"true"},[i("use",{"xlink:href":"#iconsys-zhaopian-copy"})],-1)),i("h1",null,n(u(D)),1)]),i("div",M,[i("div",U,[i("h3",j,n(e.$t("register.title")),1),i("p",q,n(e.$t("register.subTitle")),1),d(b,{ref_key:"formRef",ref:B,model:u(H),rules:u(K),"label-position":"top"},{default:m((()=>[d(s,{prop:"username"},{default:m((()=>[d(a,{modelValue:u(H).username,"onUpdate:modelValue":r[0]||(r[0]=e=>u(H).username=e),modelModifiers:{trim:!0},placeholder:e.$t("register.placeholder[0]"),size:"large"},null,8,["modelValue","placeholder"])])),_:1}),d(s,{prop:"password"},{default:m((()=>[d(a,{modelValue:u(H).password,"onUpdate:modelValue":r[1]||(r[1]=e=>u(H).password=e),modelModifiers:{trim:!0},placeholder:e.$t("register.placeholder[1]"),size:"large",type:"password",autocomplete:"off"},null,8,["modelValue","placeholder"])])),_:1}),d(s,{prop:"confirmPassword"},{default:m((()=>[d(a,{modelValue:u(H).confirmPassword,"onUpdate:modelValue":r[2]||(r[2]=e=>u(H).confirmPassword=e),modelModifiers:{trim:!0},placeholder:e.$t("register.placeholder[2]"),size:"large",type:"password",autocomplete:"off",onKeyup:f(N,["enter"])},null,8,["modelValue","placeholder"])])),_:1}),d(s,{prop:"agreement"},{default:m((()=>[d(o,{modelValue:u(H).agreement,"onUpdate:modelValue":r[3]||(r[3]=e=>u(H).agreement=e)},{default:m((()=>[h(n(e.$t("register.agreeText"))+" ",1),d(l,{style:{color:"var(--main-color)","text-decoration":"none"},to:"/privacy-policy"},{default:m((()=>[h(n(e.$t("register.privacyPolicy")),1)])),_:1})])),_:1},8,["modelValue"])])),_:1}),i("div",C,[y(($(),_(x,{class:"register-btn",size:"large",type:"primary",onClick:N,loading:u(F)},{default:m((()=>[h(n(e.$t("register.submitBtnText")),1)])),_:1},8,["loading"])),[[A]])]),i("div",I,[i("p",null,[h(n(e.$t("register.hasAccount"))+" ",1),d(l,{to:"/login"},{default:m((()=>[h(n(e.$t("register.toLogin")),1)])),_:1})])])])),_:1},8,["model","rules"])])])])])}}}),[["__scopeId","data-v-e09cf5a6"]]);export{A as default};
