import{L as U,aD as ee,aw as te,i as le,r as v,R as M,aj as k,o as r,c as N,w as O,e as I,a6 as b,m as f,F as w,n as T,a5 as F,a2 as V,b as B,a$ as H,a8 as $,aI as oe,bG as ne,J as j,b6 as ae,aV as A,t as G,b1 as se,b2 as ie}from"./index-C4BxmZrN.js";import{i as re,v as ce}from"./index-CobIQQS4.js";const pe=U({name:"IconGrid",components:{ElEmpty:ee,ElScrollbar:te,EleTooltip:le},props:{icon:String,data:{type:Array,required:!0},emptyProps:Object,tooltip:Boolean,tooltipProps:Object,popperVisible:Boolean,gridStyle:Object,itemStyle:Object},emits:{select:e=>!0},setup(e,{emit:s}){const i=v(!1),c=v(""),p=v(),u=l=>{i.value=l},n=()=>{u(!1)},d=(l,o)=>{e.tooltip&&e.popperVisible&&l&&(p.value=o.currentTarget,c.value=l,i.value=!0)},a=l=>{s("select",l)};return M(()=>e.popperVisible,l=>{l||n()}),{tooltipVisible:i,tooltipContent:c,virtualRef:p,updateTooltipVisible:u,hideTooltip:n,onItemHover:d,onItemClick:a}}}),ue=(e,s)=>{const i=e.__vccOpts||e;for(const[c,p]of s)i[c]=p;return i},de=["title","onClick","onMouseover"],ve={key:0,class:"ele-icon-select-empty"};function fe(e,s,i,c,p,u){const n=k("ElEmpty"),d=k("EleTooltip"),a=k("ElScrollbar");return r(),N(a,{class:"ele-icon-select-body"},{default:O(()=>[I("div",{class:"ele-icon-select-grid",style:b(e.gridStyle)},[(r(!0),f(w,null,T(e.data,(l,o)=>(r(),f("div",{key:o+"-"+l,class:F(["ele-icon-select-item",{"is-active":e.icon&&l===e.icon}]),title:e.tooltip?void 0:l,style:b(e.itemStyle),onClick:h=>e.onItemClick(l),onMouseover:h=>e.onItemHover(l,h)},[V(e.$slots,"icon",{icon:l})],46,de))),128))],4),!e.data||!e.data.length?(r(),f("div",ve,[B(n,H({imageSize:60},e.emptyProps||{}),null,16)])):$("",!0),B(d,H({placement:"top",offset:6,teleported:!1},e.tooltipProps||{},{visible:e.tooltipVisible,content:e.tooltipContent,virtualRef:e.virtualRef,virtualTriggering:!0,"onUpdate:visible":e.updateTooltipVisible}),null,16,["visible","content","virtualRef","onUpdate:visible"])]),_:3})}const me=ue(pe,[["render",fe]]),be={modelValue:String,data:{type:Array,required:!0},disabled:Boolean,size:String,clearable:Boolean,placeholder:String,automaticDropdown:Boolean,filterable:[Boolean,String],teleported:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},placement:{type:String,default:"bottom-start"},transition:{type:String,default:"el-zoom-in-top"},popperOptions:Object,popperClass:String,popperWidth:{type:[Number,String],default:414},popperHeight:{type:[Number,String],default:260},selectStyle:Object,inputStyle:Object,hideOnSingleTab:Boolean,emptyProps:Object,tooltip:{type:Boolean,default:!0},tooltipProps:Object,headerStyle:Object,tabsStyle:Object,searchStyle:Object,menusStyle:Object,bodyStyle:Object,gridStyle:Object,itemStyle:Object,filterPlaceholder:{type:String,default:""},responsive:{type:Boolean,default:null}},ye={"update:modelValue":e=>!0,change:e=>!0,visibleChange:e=>!0,clear:()=>!0,focus:e=>!0,blur:e=>!0},Se=U({name:"EleIconSelect",components:{ElInput:oe,EleBasicSelect:re,IconGrid:me},props:be,emits:ye,setup(e,{emit:s}){const i=ne(e),c=v(null),p=v(!1),u=v([]),n=v(),d=v([]),a=v(),l=v([]),o=v(""),h=j(()=>!(!u.value||!u.value.length||e.hideOnSingleTab&&u.value.length===1)),W=j(()=>{const t=["ele-icon-select-popper"];return i.value&&t.push("is-responsive"),e.popperClass&&t.push(e.popperClass),t.join(" ")}),q=j(()=>{if(e.popperHeight)return{height:typeof e.popperHeight=="number"?`${e.popperHeight}px`:e.popperHeight}}),J=()=>{c.value&&c.value.updatePopper()},g=()=>{if(e.data==null||!e.data.length||typeof e.data[0]=="string"){u.value=[],d.value=[],n.value=void 0,a.value=void 0,l.value=P(e.data);return}u.value=e.data.map(m=>m.title),(n.value==null||n.value>=u.value.length)&&(n.value=0);const t=e.data[n.value];if(typeof t!="string"&&t.children!=null&&t.children.length){d.value=t.children.map(m=>m.title),(a.value==null||a.value>=d.value.length)&&(a.value=0),l.value=P(t.children[a.value].icons);return}d.value=[],a.value=void 0,l.value=typeof t!="string"?P(t.icons):[]},P=t=>{if(!t)return[];if(!o.value)return t;const m=o.value.toLowerCase();return t.filter(y=>y.toLowerCase().includes(m))},E=t=>{t&&z(""),p.value!==t&&(p.value=t,s("visibleChange",t))},R=t=>{ce(t,e.modelValue)&&(s("update:modelValue",t),s("change",t))},K=()=>{R(null),E(!1),s("clear")},Q=t=>{s("focus",t)},X=t=>{s("blur",t)},z=t=>{var m;if(o.value!==t&&(o.value=t),g(),!(!((m=e.data)!=null&&m.length)||l.value.length))for(let y=0;y<e.data.length;y++){const S=e.data[y];if(typeof S=="string")return;const L=o.value.toLowerCase();if(S.children!=null&&S.children.length)for(let C=0;C<S.children.length;C++){const D=S.children[C].icons;if(D&&D.some(x=>x.toLowerCase().includes(L))){a.value=C,n.value=y,g();return}}else if(S.icons!=null&&S.icons.some(C=>C.toLowerCase().includes(L))){n.value=y,g();return}}},Y=t=>{n.value=t,g()},Z=t=>{a.value=t,g()},_=t=>{R(t),E(!1)};return M(()=>e.data,()=>{g()},{immediate:!0,deep:!0}),{SearchOutlined:ae,selectRef:c,selectVisible:p,tabs:u,tabActive:n,menus:d,menuActive:a,icons:l,keywords:o,tabBar:h,selectPopperClass:W,iconPopperStyle:q,updatePopover:J,updateVisible:E,onSelectClear:K,onSelectFocus:Q,onSelectBlur:X,onSelectFilter:z,onTabClick:Y,onMenuClick:Z,onIconSelect:_}}}),he=(e,s)=>{const i=e.__vccOpts||e;for(const[c,p]of s)i[c]=p;return i},ge=["onClick"],Ce={class:"ele-icon-select-main"},ke=["onClick"];function Ve(e,s,i,c,p,u){const n=k("ElInput"),d=k("IconGrid"),a=k("EleBasicSelect");return r(),N(a,{ref:"selectRef",value:e.modelValue,multiple:!1,disabled:e.disabled,size:e.size,clearable:e.clearable,placeholder:e.placeholder,automaticDropdown:e.automaticDropdown,filterable:typeof e.filterable=="boolean"?e.filterable:!1,teleported:e.teleported,persistent:e.persistent,placement:e.placement,transition:e.transition,popperWidth:e.popperWidth,popperOptions:e.popperOptions,popperClass:e.selectPopperClass,selectClass:"is-icon-select",selectStyle:e.selectStyle,inputStyle:e.inputStyle,selectedLabel:e.modelValue,visible:e.selectVisible,"onUpdate:visible":e.updateVisible,onFilterChange:e.onSelectFilter,onClear:e.onSelectClear,onFocus:e.onSelectFocus,onBlur:e.onSelectBlur},A({default:O(()=>[I("div",{class:"ele-icon-select",style:b(e.iconPopperStyle)},[e.tabBar||e.filterable==="popper"?(r(),f("div",{key:0,class:"ele-icon-select-header",style:b(e.headerStyle)},[V(e.$slots,"tabLeftExtra"),e.tabBar?(r(),f("div",{key:0,class:"ele-icon-select-tabs",style:b(e.tabsStyle)},[(r(!0),f(w,null,T(e.tabs,(l,o)=>(r(),f("div",{key:o+"-"+l,class:F(["ele-icon-select-tab",{"is-active":o===e.tabActive}]),onClick:h=>e.onTabClick(o)},G(l),11,ge))),128))],4)):$("",!0),e.filterable==="popper"?(r(),f("div",{key:1,class:"ele-icon-select-search",style:b(e.searchStyle)},[B(n,{size:"small",clearable:!0,modelValue:e.keywords,prefixIcon:e.SearchOutlined,placeholder:e.filterPlaceholder,"onUpdate:modelValue":e.onSelectFilter},null,8,["modelValue","prefixIcon","placeholder","onUpdate:modelValue"])],4)):$("",!0),V(e.$slots,"tabRightExtra")],4)):$("",!0),I("div",Ce,[e.menus&&e.menus.length?(r(),f("div",{key:0,class:"ele-icon-select-menus",style:b(e.menusStyle)},[(r(!0),f(w,null,T(e.menus,(l,o)=>(r(),f("div",{key:o+"-"+l,class:F(["ele-icon-select-menu",{"is-active":o===e.menuActive}]),onClick:h=>e.onMenuClick(o)},G(l),11,ke))),128))],4)):$("",!0),B(d,{data:e.icons,icon:e.modelValue,emptyProps:e.emptyProps,tooltip:e.tooltip,tooltipProps:e.tooltipProps,popperVisible:e.selectVisible,gridStyle:e.gridStyle,itemStyle:e.itemStyle,style:b(e.bodyStyle),onSelect:e.onIconSelect},A({_:2},[e.$slots.icon?{name:"icon",fn:O(l=>[V(e.$slots,"icon",se(ie(l||{})))]),key:"0"}:void 0]),1032,["data","icon","emptyProps","tooltip","tooltipProps","popperVisible","gridStyle","itemStyle","style","onSelect"])])],4)]),_:2},[e.modelValue&&e.$slots.icon?{name:"prefix",fn:O(()=>[V(e.$slots,"icon",{icon:e.modelValue,prefix:!0})]),key:"0"}:void 0]),1032,["value","disabled","size","clearable","placeholder","automaticDropdown","filterable","teleported","persistent","placement","transition","popperWidth","popperOptions","popperClass","selectStyle","inputStyle","selectedLabel","visible","onUpdate:visible","onFilterChange","onClear","onFocus","onBlur"])}const Be=he(Se,[["render",Ve]]);export{Be as i};
