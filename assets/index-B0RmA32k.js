import{i as O}from"./index-p1XoTQj1.js";import{_ as P,aM as R,aL as U,ce as V,a as $,r as w,Z as C,o as n,c as i,w as t,b as a,d as o,u,fQ as L,e as m,t as l,l as M,F as j,m as F,a7 as S,E as q,aB as H,ag as K,k as Q}from"./index-BF2fBoPb.js";import{i as W}from"./index-Cjr4ibGp.js";import{E as Z,a as G}from"./descriptions-item-JFOK6u53.js";import{i as J}from"./index-CdRmj7H0.js";import{g as X}from"./index-AC-OHBhs.js";const Y={style:{"margin-bottom":"16px"}},ee={style:{display:"flex"}},te={name:"SystemUserDetails"},ae=Object.assign(te,{setup(se){const y="/system/user/details",{currentRoute:_,push:x}=R(),{removePageTab:T,getRouteTabKey:p,setPageTab:h}=U(),{mobile:E}=V(),e=$({userId:void 0,avatar:void 0,username:"",nickname:"",sexName:"",phone:"",roles:[],createTime:void 0,status:void 0}),d=w(!0),N=()=>{T({key:p()}),x("/system/user")},B=()=>{const{params:b}=u(_),r=Number(b.id);!r||isNaN(r)||(d.value=!0,X(r).then(c=>{d.value=!1,Object.assign(e,c),f()}).catch(c=>{d.value=!1,q.error(c.message)}))},f=()=>{e.nickname&&u(_).path.startsWith(y)&&h({key:p(),title:`用户详情[${e.nickname}]`})};return C(()=>{f()}),B(),(b,r)=>{const c=H,s=Z,g=K,z=Q,k=J,A=G,D=W,I=O;return n(),i(I,{"multi-card":!1},{default:t(()=>[a(D,null,{default:t(()=>[o("div",Y,[a(c,{icon:u(L),type:"primary",class:"ele-btn-icon",onClick:N},{default:t(()=>r[0]||(r[0]=[m(" 返回列表 ")])),_:1},8,["icon"])]),a(A,{border:!0,column:u(E)?1:2,class:"detail-table"},{default:t(()=>[a(s,{label:"用户名"},{default:t(()=>[o("div",null,l(e.nickname),1)]),_:1}),a(s,{label:"头像"},{default:t(()=>[o("div",ee,[e.avatar?(n(),i(g,{key:0,src:e.avatar,size:32},null,8,["src"])):(n(),i(g,{key:1,style:{background:"#1677ff"},size:32},{default:t(()=>[m(l(e.nickname&&e.nickname.length>2?e.nickname.substring(e.nickname.length-2):e.nickname),1)]),_:1}))])]),_:1}),a(s,{label:"用户账号"},{default:t(()=>[o("div",null,l(e.username),1)]),_:1}),a(s,{label:"性别"},{default:t(()=>[o("div",null,l(e.sexName),1)]),_:1}),a(s,{label:"手机号"},{default:t(()=>[o("div",null,l(e.phone),1)]),_:1}),a(s,{label:"角色"},{default:t(()=>[(n(!0),M(j,null,F(e.roles,v=>(n(),i(z,{key:v.roleId,size:"small","disable-transitions":!0},{default:t(()=>[m(l(v.roleName),1)]),_:2},1024))),128))]),_:1}),a(s,{label:"状态"},{default:t(()=>[e.status===0?(n(),i(k,{key:0,text:"正常",size:"9px"})):e.status===1?(n(),i(k,{key:1,text:"冻结",type:"danger",ripple:!1,size:"9px"})):S("",!0)]),_:1}),a(s,{label:"创建时间"},{default:t(()=>[o("div",null,l(e.createTime),1)]),_:1})]),_:1},8,["column"])]),_:1})]),_:1})}}}),ue=P(ae,[["__scopeId","data-v-d1c86512"]]);export{ue as default};
