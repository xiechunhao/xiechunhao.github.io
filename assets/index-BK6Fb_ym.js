import{j as e,i as r,_ as a}from"./index-B2uLNVFs.js";import{h as s,a1 as l,r as t,X as o,x as i,k as d,p as n,l as u,z as m,u as c,m as p,$ as g,j as f,B as v,H as h,E as w,L as y,_,aE as x,K as V}from"./vendor-Bhb26uf3.js";import{L as b}from"./LeftView-DC_lJxR0.js";const $={class:"login register"},P={class:"left-wrap"},z={class:"right-wrap"},E={class:"header"},j={class:"login-wrap"},k={class:"form"},T={class:"title"},L={class:"sub-title"},U={style:{"margin-top":"15px"}},q={class:"footer"},M=a(s({__name:"index",setup(a){const{t:s}=e(),M=l(),B=t(),K=r.name,A=t(!1),C=o({username:"",password:"",confirmPassword:"",agreement:!1}),F=o({username:[{required:!0,message:s("register.placeholder[0]"),trigger:"blur"},{min:3,max:20,message:s("register.rule[2]"),trigger:"blur"}],password:[{required:!0,validator:(e,r,a)=>{var l;""===r?a(new Error(s("register.placeholder[1]"))):(""!==C.confirmPassword&&(null==(l=B.value)||l.validateField("confirmPassword")),a())},trigger:"blur"},{min:6,message:s("register.rule[3]"),trigger:"blur"}],confirmPassword:[{required:!0,validator:(e,r,a)=>{""===r?a(new Error(s("register.rule[0]"))):r!==C.password?a(new Error(s("register.rule[1]"))):a()},trigger:"blur"}],agreement:[{validator:(e,r,a)=>{r?a():a(new Error(s("register.rule[4]")))},trigger:"change"}]}),H=()=>{return e=this,r=null,a=function*(){if(B.value)try{yield B.value.validate(),A.value=!0,setTimeout((()=>{A.value=!1,w.success("注册成功"),I()}),1e3)}catch(e){}},new Promise(((s,l)=>{var t=e=>{try{i(a.next(e))}catch(r){l(r)}},o=e=>{try{i(a.throw(e))}catch(r){l(r)}},i=e=>e.done?s(e.value):Promise.resolve(e.value).then(t,o);i((a=a.apply(e,r)).next())}));var e,r,a},I=()=>{setTimeout((()=>{M.push("/login")}),1e3)};return(e,r)=>{const a=y,s=_,l=i("router-link"),t=x,o=V,w=g;return f(),d("div",$,[n("div",P,[u(b)]),n("div",z,[n("div",E,[r[4]||(r[4]=n("svg",{class:"icon","aria-hidden":"true"},[n("use",{"xlink:href":"#iconsys-zhaopian-copy"})],-1)),n("h1",null,m(c(K)),1)]),n("div",j,[n("div",k,[n("h3",T,m(e.$t("register.title")),1),n("p",L,m(e.$t("register.subTitle")),1),u(w,{ref_key:"formRef",ref:B,model:c(C),rules:c(F),"label-position":"top"},{default:p((()=>[u(s,{prop:"username"},{default:p((()=>[u(a,{modelValue:c(C).username,"onUpdate:modelValue":r[0]||(r[0]=e=>c(C).username=e),modelModifiers:{trim:!0},placeholder:e.$t("register.placeholder[0]"),size:"large"},null,8,["modelValue","placeholder"])])),_:1}),u(s,{prop:"password"},{default:p((()=>[u(a,{modelValue:c(C).password,"onUpdate:modelValue":r[1]||(r[1]=e=>c(C).password=e),modelModifiers:{trim:!0},placeholder:e.$t("register.placeholder[1]"),size:"large",type:"password",autocomplete:"off"},null,8,["modelValue","placeholder"])])),_:1}),u(s,{prop:"confirmPassword"},{default:p((()=>[u(a,{modelValue:c(C).confirmPassword,"onUpdate:modelValue":r[2]||(r[2]=e=>c(C).confirmPassword=e),modelModifiers:{trim:!0},placeholder:e.$t("register.placeholder[2]"),size:"large",type:"password",autocomplete:"off",onKeyup:v(H,["enter"])},null,8,["modelValue","placeholder"])])),_:1}),u(s,{prop:"agreement"},{default:p((()=>[u(t,{modelValue:c(C).agreement,"onUpdate:modelValue":r[3]||(r[3]=e=>c(C).agreement=e)},{default:p((()=>[h(m(e.$t("register.agreeText"))+" ",1),u(l,{class:"custom-text",style:{color:"var(--main-color)","text-decoration":"none"},to:"/privacy-policy"},{default:p((()=>[h(m(e.$t("register.privacyPolicy")),1)])),_:1})])),_:1},8,["modelValue"])])),_:1}),n("div",U,[u(o,{class:"register-btn",size:"large",type:"primary",onClick:H,loading:c(A)},{default:p((()=>[h(m(e.$t("register.submitBtnText")),1)])),_:1},8,["loading"])]),n("div",q,[n("p",null,[h(m(e.$t("register.hasAccount"))+" ",1),u(l,{class:"custom-text",to:"/login"},{default:p((()=>[h(m(e.$t("register.toLogin")),1)])),_:1})])])])),_:1},8,["model","rules"])])])])])}}}),[["__scopeId","data-v-4d44b054"]]);export{M as default};
