import{D as w,c as h}from"./chunks/Draw.15ac7265.js";import{A as S,M as T}from"./chunks/index.a511ac44.js";import{d as b,a3 as P,p as x,a4 as G,D as f,o as C,c as i,z as o,a as q,G as g,B as V,F as d,L as I,A as L,M,N as k,_ as N,O as U}from"./chunks/framework.3a9101bc.js";import{V as m,S as R,F as E,a as X,C as O}from"./chunks/Vector.e7fd2c77.js";import{V as z}from"./chunks/Vector.ef038271.js";import{T as Z}from"./chunks/TileImage.70f39159.js";import{X as $}from"./chunks/XYZ.94b2552a.js";import{M as j,V as Y,P as J}from"./chunks/reproj.9b488601.js";import"./chunks/Circle.fe3ab237.js";import"./chunks/GeometryCollection.bd3c0be4.js";import"./chunks/LineString.2b94a2e9.js";import"./chunks/MultiLineString.f00700b3.js";const H=c=>(M("data-v-02705975"),c=c(),k(),c),K={id:"menu"},Q=H(()=>o("div",{id:"map"},null,-1)),W=b({__name:"index",setup(c){let s=null,r=null;const F=P({value:"Point",options:[{label:"无",value:"None"},{label:"点",value:"Point"},{label:"线",value:"LineString"},{label:"多边形",value:"Polygon"},{label:"圆",value:"Circle"},{label:"正方形",value:"Square"},{label:"长方形",value:"Box"}]});let l=new m({wrapX:!1});const A=new z({source:l,style:new R({fill:new E({color:"rgba(255, 255, 255, 0.2)"}),stroke:new X({color:"#ff0000",width:2}),image:new O({radius:7,fill:new E({color:"#ff0000"})})})}),v=new Z({source:new $({attributions:S,url:T,maxZoom:20})}),_=()=>{s=new j({target:"map",layers:[v],view:new Y({projection:"EPSG:4326",center:[0,0],zoom:5})})},u=()=>{let p=F.value;if(p!=="None"){l==null&&(l=new m({wrapX:!1}),A.setSource(l));let e,y;p==="Square"?(p="Circle",e=h(4)):p==="Box"&&(p="LineString",y=2,e=(D,n)=>{const a=D[0],t=D[1];return n||(n=new J([[a,[a[0],t[1]],t,[t[0],a[1]],a]])),n.setCoordinates([[a,[a[0],t[1]],t,[t[0],a[1]],a]]),n}),r=new w({source:l,type:p,geometryFunction:e,maxPoints:y}),s==null||s.addInteraction(r)}else l=null,A.setSource(l)},B=()=>{s&&r&&(s.removeInteraction(r),u())};return x(()=>{_(),s==null||s.addLayer(A),u()}),G(()=>{s&&(s.dispose(),s=null)}),(p,e)=>{const y=f("el-option"),D=f("el-select");return C(),i(d,null,[o("div",K,[q(" 几何图形类型： "),g(D,{modelValue:F.value,"onUpdate:modelValue":e[0]||(e[0]=n=>F.value=n),size:"large",onChange:B},{default:V(()=>[(C(!0),i(d,null,I(F.options,n=>(C(),L(y,{key:n.value,label:n.label,value:n.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),Q],64)}}});const ss=N(W,[["__scopeId","data-v-02705975"]]),ns=o("h1",{id:"绘制几何图形",tabindex:"-1"},[q("绘制几何图形 "),o("a",{class:"header-anchor",href:"#绘制几何图形","aria-label":'Permalink to "绘制几何图形"'},"​")],-1),as=o("div",{class:"tip custom-block"},[o("p",{class:"custom-block-title"},"TIP"),o("p",null,"可以选择不同的类型，绘制不同的几何图形。")],-1),ls=U("",2),fs=JSON.parse('{"title":"绘制几何图形","description":"","frontmatter":{},"headers":[],"relativePath":"pro-open-layers/drawing/draw-features/index.md","filePath":"pro-open-layers/drawing/draw-features/index.md","lastUpdated":1688351083000}'),ps={name:"pro-open-layers/drawing/draw-features/index.md"},ds=Object.assign(ps,{setup(c){return(s,r)=>(C(),i("div",null,[ns,as,g(ss),ls]))}});export{fs as __pageData,ds as default};
