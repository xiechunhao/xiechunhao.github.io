import{A as i,M as m}from"../js/index/index.47495de9.js";import{T as d,X as u,M as f,c as E}from"../js/ol@7.4.0@ol/ol@7.4.0@ol.2a99620d.js";import{D as h,n as g,v as _,V as x,o as y,c as D,a as o,j as C,J as q,F as v,N as A,_ as b,$ as B,a0 as w}from"../js/@vue_runtime-core@3.3.4@@vue/@vue_runtime-core@3.3.4@@vue.35efc880.js";import{_ as S}from"./app.f296b152.js";import"../js/earcut@2.2.4@earcut/earcut@2.2.4@earcut.e6a9c857.js";import"../js/rbush@3.0.1@rbush/rbush@3.0.1@rbush.75a05972.js";import"../js/quickselect@2.0.0@quickselect/quickselect@2.0.0@quickselect.f3892974.js";import"../js/@vue_reactivity@3.3.4@@vue/@vue_reactivity@3.3.4@@vue.e6fc7fe8.js";import"../js/@vue_shared@3.3.4@@vue/@vue_shared@3.3.4@@vue.5a5848fd.js";import"../js/@docsearch_css@3.5.1@@docsearch/@docsearch_css@3.5.1@@docsearch.4ed993c7.js";import"../js/body-scroll-lock@4.0.0-beta.0@body-scroll-lock/body-scroll-lock@4.0.0-beta.0@body-scroll-lock.e1f8a6eb.js";import"../js/geotiff@2.0.7@geotiff/geotiff@2.0.7@geotiff.101896b7.js";import"../js/@vue_runtime-dom@3.3.4@@vue/@vue_runtime-dom@3.3.4@@vue.5dd85bb5.js";import"../js/@vueuse_core@10.2.0@@vueuse/@vueuse_core@10.2.0@@vueuse.8a5d8129.js";import"../js/@vueuse_shared@10.2.0@@vueuse/@vueuse_shared@10.2.0@@vueuse.9afec68c.js";import"../js/es/element-plus@2.3.7@element-plus.9cf0a975.js";import"../js/lodash-es@4.17.21@lodash-es/lodash-es@4.17.21@lodash-es.36eb724a.js";import"../js/@vueuse_core@9.13.0@@vueuse/@vueuse_core@9.13.0@@vueuse.604f33c6.js";import"../js/@vueuse_shared@9.13.0@@vueuse/@vueuse_shared@9.13.0@@vueuse.740d90d5.js";import"../js/@element-plus_icons-vue@2.1.0@@element-plus/@element-plus_icons-vue@2.1.0@@element-plus.1b5ed4e9.js";import"../js/@sxzz_popperjs-es@2.11.7@@sxzz/@sxzz_popperjs-es@2.11.7@@sxzz.c75af06c.js";import"../js/@ctrl_tinycolor@3.6.0@@ctrl/@ctrl_tinycolor@3.6.0@@ctrl.f8748455.js";import"../js/dayjs@1.11.8@dayjs/dayjs@1.11.8@dayjs.ab63237d.js";import"../js/async-validator@4.2.5@async-validator/async-validator@4.2.5@async-validator.dee29e8b.js";import"../js/memoize-one@6.0.0@memoize-one/memoize-one@6.0.0@memoize-one.297ddbcb.js";import"../js/escape-html@1.0.3@escape-html/escape-html@1.0.3@escape-html.3a386d15.js";import"../js/normalize-wheel-es@1.2.0@normalize-wheel-es/normalize-wheel-es@1.2.0@normalize-wheel-es.ed76fb12.js";import"../js/@floating-ui_dom@1.4.2@@floating-ui/@floating-ui_dom@1.4.2@@floating-ui.4bb7de12.js";import"../js/@floating-ui_core@1.3.1@@floating-ui/@floating-ui_core@1.3.1@@floating-ui.a8b4680c.js";const T=(n,a="map.png")=>{n!==null&&(n.once("rendercomplete",function(){const p=document.createElement("canvas"),t=n.getSize()||[];p.width=t[0],p.height=t[1];const l=p.getContext("2d");if(l!==null)if(Array.prototype.forEach.call(n.getViewport().querySelectorAll(".ol-layer canvas, canvas.ol-layer"),s=>{if(s.width>0&&s.parentElement!==null){const c=s.parentElement.style.opacity||s.style.opacity;l.globalAlpha=c===""?1:Number(c);const e=s.parentElement.style.backgroundColor;e&&(l.fillStyle=e,l.fillRect(0,0,s.width,s.height));let r;const F=s.style.transform;F?r=F.match(/^matrix\(([^(]*)\)$/)[1].split(",").map(Number):r=[parseFloat(s.style.width)/s.width,0,0,parseFloat(s.style.height)/s.height,0,0],CanvasRenderingContext2D.prototype.setTransform.apply(l,r),l.drawImage(s,0,0)}}),l.globalAlpha=1,navigator.msSaveBlob)navigator.msSaveBlob(p.msToBlob(),a);else{const s=document.createElement("a");s.href=p.toDataURL(),s.download=a,document.body.appendChild(s),s.click(),document.body.removeChild(s)}}),n.renderSync())},M=n=>(b("data-v-8c70ecd1"),n=n(),B(),n),k={id:"menu"},I=M(()=>o("div",{id:"map"},null,-1)),P=h({__name:"index",setup(n){let a=null;const p=new d({source:new u({attributions:i,url:m,maxZoom:20,crossOrigin:"anonymous"})}),t=()=>{a=new f({target:"map",layers:[p],view:new E({projection:"EPSG:4326",center:[0,0],zoom:5})})},l=()=>{T(a,"地图打印")};return g(()=>{t()}),_(()=>{a&&(a.dispose(),a=null)}),(s,c)=>{const e=x("el-button");return y(),D(v,null,[o("div",k,[C(e,{type:"primary",onClick:l},{default:q(()=>[A("导出地图")]),_:1})]),I],64)}}});const N=S(P,[["__scopeId","data-v-8c70ecd1"]]),R=o("h1",{id:"地图打印",tabindex:"-1"},[A("地图打印 "),o("a",{class:"header-anchor",href:"#地图打印","aria-label":'Permalink to "地图打印"'},"​")],-1),U=o("div",{class:"tip custom-block"},[o("p",{class:"custom-block-title"},"TIP"),o("p",null,"点击按钮打印地图。")],-1),V=w("",4),ms=JSON.parse('{"title":"地图打印","description":"","frontmatter":{},"headers":[],"relativePath":"open-layers/third-party-map-display/map-export/index.md","filePath":"open-layers/third-party-map-display/map-export/index.md","lastUpdated":1687683239000}'),L={name:"open-layers/third-party-map-display/map-export/index.md"},ds=Object.assign(L,{setup(n){return(a,p)=>(y(),D("div",null,[R,U,C(N),V]))}});export{ms as __pageData,ds as default};
