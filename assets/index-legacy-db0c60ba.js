System.register(["../js/index-legacy.f8cb7a75.js","./index-legacy-46adbd63.js","./index-legacy-8dff853c.js","./index-legacy-9c7c096d.js"],(function(e,t){"use strict";var a,s,n,r,i,l,o,u,d,c,h,g,v,p,f,m;return{setters:[e=>{a=e.y,s=e.B,n=e.A,r=e.d,i=e.D,l=e.G,o=e.r,u=e.Z,d=e.K,c=e.f,h=e.a7,g=e.V},e=>{v=e.u},e=>{p=e.L},e=>{f=e.f,m=e.p}],execute:function(){var t=document.createElement("style");t.textContent=":root,:host{--van-pull-refresh-head-height: 50px;--van-pull-refresh-head-font-size: var(--van-font-size-md);--van-pull-refresh-head-text-color: var(--van-text-color-2);--van-pull-refresh-loading-icon-size: 16px}.van-pull-refresh{overflow:hidden}.van-pull-refresh__track{position:relative;height:100%;transition-property:transform}.van-pull-refresh__head{position:absolute;left:0;width:100%;height:var(--van-pull-refresh-head-height);overflow:hidden;color:var(--van-pull-refresh-head-text-color);font-size:var(--van-pull-refresh-head-font-size);line-height:var(--van-pull-refresh-head-height);text-align:center;transform:translateY(-100%)}.van-pull-refresh__loading .van-loading__spinner{width:var(--van-pull-refresh-loading-icon-size);height:var(--van-pull-refresh-loading-icon-size)}\n",document.head.appendChild(t);const[x,y,D]=a("pull-refresh"),T=["pulling","loosing","success"],H={disabled:Boolean,modelValue:Boolean,headHeight:s(50),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:n,successDuration:s(500),animationDuration:s(300)};var _=r({name:x,props:H,emits:["change","refresh","update:modelValue"],setup(e,{emit:t,slots:a}){let s;const n=i(),r=i(),g=l(n),x=o({status:"normal",distance:0,duration:0}),H=v(),_=()=>{if(50!==e.headHeight)return{height:`${e.headHeight}px`}},z=()=>"loading"!==x.status&&"success"!==x.status&&!e.disabled,V=(a,s)=>{const n=+(e.pullDistance||e.headHeight);x.distance=a,x.status=s?"loading":0===a?"normal":a<n?"pulling":"loosing",t("change",{status:x.status,distance:a})},j=()=>{const{status:t}=x;return"normal"===t?"":e[`${t}Text`]||D(t)},S=()=>{const{status:e,distance:t}=x;if(a[e])return a[e]({distance:t});const s=[];return T.includes(e)&&s.push(c("div",{class:y("text")},[j()])),"loading"===e&&s.push(c(p,{class:y("loading")},{default:j})),s},w=e=>{s=0===f(g.value),s&&(x.duration=0,H.start(e))},$=e=>{z()&&w(e)},b=()=>{s&&H.deltaY.value&&z()&&(x.duration=+e.animationDuration,"loosing"===x.status?(V(+e.headHeight,!0),t("update:modelValue",!0),h((()=>t("refresh")))):V(0))};return u((()=>e.modelValue),(t=>{x.duration=+e.animationDuration,t?V(+e.headHeight,!0):a.success||e.successText?(x.status="success",setTimeout((()=>{V(0)}),+e.successDuration)):V(0,!1)})),d("touchmove",(t=>{if(z()){s||w(t);const{deltaY:a}=H;H.move(t),s&&a.value>=0&&H.isVertical()&&(m(t),V((t=>{const a=+(e.pullDistance||e.headHeight);return t>a&&(t=t<2*a?a+(t-a)/2:1.5*a+(t-2*a)/4),Math.round(t)})(a.value)))}}),{target:r}),()=>{var e;const t={transitionDuration:`${x.duration}ms`,transform:x.distance?`translate3d(0,${x.distance}px, 0)`:""};return c("div",{ref:n,class:y()},[c("div",{ref:r,class:y("track"),style:t,onTouchstartPassive:$,onTouchend:b,onTouchcancel:b},[c("div",{class:y("head"),style:_()},[S()]),null==(e=a.default)?void 0:e.call(a)])])}}});e("P",g(_))}}}));
