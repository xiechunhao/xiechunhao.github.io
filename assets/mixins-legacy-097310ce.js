System.register(["../js/index-legacy.f8cb7a75.js","./activity-legacy-1c2f6cd7.js","./filter-legacy-72893057.js","./function-call-legacy-c9313242.js","./index-legacy-46adbd63.js","./index-legacy-1f5ffa81.js","./use-placeholder-legacy-e4b9ffe7.js","./use-expose-legacy-7ae1465d.js","./use-route-legacy-bf79aecf.js","./index-legacy-9c7c096d.js","./min-legacy-c19300c6.js"],(function(e,t){"use strict";var n,o,a,l,s,i,c,r,u,d,g,m,f,y,p,v,w,h,B,b,C,x,k,S,D,j,T,A,N,P,R,H,I,O,J,L,M,E,_,z,G,U,W,q,F;return{setters:[e=>{n=e.y,o=e.d,a=e.D,l=e.E,s=e.z,i=e.f,c=e.V,r=e.X,u=e.N,d=e.H,g=e.A,m=e.P,f=e.C,y=e.r,p=e.bl,v=e.U,w=e.a1,h=e.W,B=e.bm,b=e.bn,C=e.bo,x=e.a6,k=e.o,S=e.b4},e=>{D=e.a,j=e.A,T=e.d,A=e.e,N=e.f},e=>{P=e.f},e=>{R=e.m,H=e.u,I=e.a},e=>{O=e.p,J=e.a,L=e.P,M=e.c},e=>{E=e.B},e=>{_=e.u},e=>{z=e.u},e=>{G=e.r,U=e.u},e=>{W=e.d,q=e.B},e=>{F=e.m}],execute:function(){e({s:function(){let e=x("activityConfigId")||0;const t=a([]),n=y({data:{activityEndTime:0,activityReceive:0,activityStartTime:0,progressConfiguration:0,rewardDistribution:0,ruleJson:"",type:0,validDate:0,ifReceive:0,totalAmount:0},ruleList:{bangingBank:0,bangingEmail:0,bangingPhone:0,calculationWithdrawal:0,positions:[],withdrawalConditions:"",calculationType:0},userActive:[],ruleDes:{CN:"",EN:"",YN:""},activeInfo:{}});k((()=>{i(),c(),s()}));const o=d((()=>n.ruleList.positions.map((e=>(e.array=l(e),e))).sort((e=>2===e.array.status?-1:1)))),l=e=>{let n={deliveryWinningsAmount:"",expirationTime:0,position:0,rechargeAmount:"",recordId:0,status:0};try{const[o]=t.value.filter((t=>t.position===e.position));return o||n}catch(o){return n}},s=async()=>{const t=await D();try{const[o]=P(t,(t=>t.activityConfigId==e));n.activeInfo=o||{}}catch(o){}},i=async()=>{try{const o=await j(e);try{n.data=o,n.ruleList=JSON.parse(o.ruleJson),o.ruleDescription&&(n.ruleDes=JSON.parse(o.ruleDescription))}catch(t){}}catch(t){}},c=async()=>{try{const o=await T(e);n.userActive=o,t.value=o}catch(o){}},r=e=>{let t=!1;switch(Number(e)){case 2057:case 2058:case 2059:t=!0}return t},u=e=>{let t="";switch(Number(e)){case 2057:case 2058:case 2059:t=S.global.t("qu_bang_ding")}return t},g=a(-1),[m,f]=me((async(e,t)=>{g.value=t;let o=x("device");if(0===e.status){if(1===n.data.activityReceive&&0===n.data.ifReceive)return I(S.global.t("ti_shi_cy"));"android"===o?window.jsandroid.jumpCharge():"ios"===o?window.webkit.messageHandlers.jumpCharge.postMessage(""):(window.parent.postMessage({type:"leadRecharge2"},"*"),window.parent.postMessage({type:"leadRecharge"},"*"))}else if(2===e.status)try{await A(e.recordId),n.userActive=n.userActive.map((t=>(t.position===e.position&&(t.status=1),t)))}catch(a){w(a)}})),[p,v]=me((async()=>{try{await N(e),n.data.ifReceive=1,I(S.global.t("can_yu_cg"))}catch(t){w(t)}})),w=e=>{ge({message:e.msg,confirmButtonText:u(e.code),cancelButtonText:S.global.t("quxiao"),showConfirmButton:r(e.code)}).then((()=>{let t=x("device");"android"===t?window.jsandroid.codeJump(e.code):"ios"===t?window.webkit.messageHandlers.codeJump.postMessage(e.code):window.parent.postMessage({type:"codeJump",data:e.code},"*")})).catch((()=>{}))},h=d((()=>{try{return n.ruleDes[S.global.locale.value]}catch(e){return n.ruleDes.YN}}));return{getIndex:g,set:n,getStatusBtn:l,getLoading:m,handleGetGold:f,receiveLoading:p,activityReceive:v,positionList:o,getProgress:(e,t)=>F([100,Math.floor(100*(e||0)/(t||0))]),ruleText:h}},u:me});const[t,Y]=n("action-bar"),K=Symbol(t),Q={placeholder:Boolean,safeAreaInsetBottom:s};var V=o({name:t,props:Q,setup(e,{slots:t}){const n=a(),o=_(n,Y),{linkChildren:s}=l(K);s();const c=()=>{var o;return i("div",{ref:n,class:[Y(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[null==(o=t.default)?void 0:o.call(t)])};return()=>e.placeholder?o(c):c()}});const X=c(V),[Z,$]=n("action-bar-button"),ee=r({},G,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var te=o({name:Z,props:ee,setup(e,{slots:t}){const n=U(),{parent:o,index:a}=u(K),l=d((()=>{if(o){const e=o.children[a.value-1];return!(e&&"isButton"in e)}})),s=d((()=>{if(o){const e=o.children[a.value+1];return!(e&&"isButton"in e)}}));return z({isButton:!0}),()=>{const{type:o,icon:a,text:c,color:r,loading:u,disabled:d}=e;return i(E,{class:$([o,{last:s.value,first:l.value}]),size:"large",type:o,icon:a,color:r,loading:u,disabled:d,onClick:n},{default:()=>[t.default?t.default():c]})}}});const ne=c(te),[oe,ae,le]=n("dialog"),se=r({},O,{title:String,theme:String,width:g,message:[String,Function],callback:Function,allowHtml:Boolean,className:m,transition:f("van-dialog-bounce"),messageAlign:String,closeOnPopstate:s,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:s,closeOnClickOverlay:Boolean}),ie=[...J,"transition","closeOnPopstate"];var ce=o({name:oe,props:se,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:t,slots:n}){const o=a(),l=y({confirm:!1,cancel:!1}),s=e=>t("update:show",e),c=t=>{var n;s(!1),null==(n=e.callback)||n.call(e,t)},r=n=>()=>{e.show&&(t(n),e.beforeClose?(l[n]=!0,M(e.beforeClose,{args:[n],done(){c(n),l[n]=!1},canceled(){l[n]=!1}})):c(n))},u=r("cancel"),d=r("confirm"),g=p((n=>{var a,l;n.target===(null==(l=null==(a=o.value)?void 0:a.popupRef)?void 0:l.value)&&({Enter:e.showConfirmButton?d:B,Escape:e.showCancelButton?u:B}[n.key](),t("keydown",n))}),["enter","esc"]),m=()=>{const t=n.title?n.title():e.title;if(t)return i("div",{class:ae("header",{isolated:!e.message&&!n.default})},[t])},f=t=>{const{message:n,allowHtml:o,messageAlign:a}=e,l=ae("message",{"has-title":t,[a]:a}),s=b(n)?n():n;return o&&"string"==typeof s?i("div",{class:l,innerHTML:s},null):i("div",{class:l},[s])},C=()=>{if(n.default)return i("div",{class:ae("content")},[n.default()]);const{title:t,message:o,allowHtml:a}=e;if(o){const e=!(!t&&!n.title);return i("div",{key:a?1:0,class:ae("content",{isolated:!e})},[f(e)])}},x=()=>n.footer?n.footer():"round-button"===e.theme?i(X,{class:ae("footer")},{default:()=>[e.showCancelButton&&i(ne,{type:"warning",text:e.cancelButtonText||le("cancel"),class:ae("cancel"),color:e.cancelButtonColor,loading:l.cancel,disabled:e.cancelButtonDisabled,onClick:u},null),e.showConfirmButton&&i(ne,{type:"danger",text:e.confirmButtonText||le("confirm"),class:ae("confirm"),color:e.confirmButtonColor,loading:l.confirm,disabled:e.confirmButtonDisabled,onClick:d},null)]}):i("div",{class:[q,ae("footer")]},[e.showCancelButton&&i(E,{size:"large",text:e.cancelButtonText||le("cancel"),class:ae("cancel"),style:{color:e.cancelButtonColor},loading:l.cancel,disabled:e.cancelButtonDisabled,onClick:u},null),e.showConfirmButton&&i(E,{size:"large",text:e.confirmButtonText||le("confirm"),class:[ae("confirm"),{[W]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:l.confirm,disabled:e.confirmButtonDisabled,onClick:d},null)]);return()=>{const{width:t,title:n,theme:a,message:l,className:c}=e;return i(L,v({ref:o,role:"dialog",class:[ae([a]),c],style:{width:h(t)},tabindex:0,"aria-labelledby":n||l,onKeydown:g,"onUpdate:show":s},w(e,ie)),{default:()=>[m(),C(),x()]})}}});let re,ue=r({},{title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1});function de(e){return C?new Promise(((t,n)=>{re||function(){const e={setup(){const{state:e,toggle:t}=H();return()=>i(ce,v(e,{"onUpdate:show":t}),null)}};({instance:re}=R(e))}(),re.open(r({},ue,e,{callback:e=>{("confirm"===e?t:n)(e)}}))})):Promise.resolve(void 0)}const ge=e("a",(e=>de(r({showCancelButton:!0},e))));function me(e,t){const{loading:n=!1}=t||{loading:!1},o=a(n);return[o,async(...t)=>{o.value=!0;try{return await e(...t)}finally{o.value=!1}}]}c(ce)}}}));
