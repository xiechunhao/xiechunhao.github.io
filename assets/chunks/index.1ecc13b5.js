import{L as i}from"./leaflet-src.347f22be.js";import{A as h}from"./index.a511ac44.js";import{d as c,p as y,a4 as m,o as v,c as g,_ as L}from"./framework.3a9101bc.js";import"./commonjsHelpers.042e6b4d.js";var l,_;function p(t){return"oninput"in t?"input":"change"}function s(){l=this._map.dragging.enabled(),_=this._map.tap&&this._map.tap.enabled(),this._map.dragging.disable(),this._map.tap&&this._map.tap.disable()}function o(t){this._refocusOnMap(t),l&&this._map.dragging.enable(),_&&this._map.tap.enable()}function d(t){return t==="undefined"?[]:Array.isArray(t)?t:[t]}function x(){}i.Control.SideBySide=i.Control.extend({options:{thumbSize:42,padding:0},initialize:function(t,e,a){this.setLeftLayers(t),this.setRightLayers(e),i.setOptions(this,a)},getPosition:function(){var t=this._range.value,e=(.5-t)*(2*this.options.padding+this.options.thumbSize);return this._map.getSize().x*t+e},setPosition:x,includes:i.Evented.prototype||i.Mixin.Events,addTo:function(t){this.remove(),this._map=t;var e=this._container=i.DomUtil.create("div","leaflet-sbs",t._controlContainer);this._divider=i.DomUtil.create("div","leaflet-sbs-divider",e);var a=this._range=i.DomUtil.create("input","leaflet-sbs-range",e);return a.type="range",a.min=0,a.max=1,a.step="any",a.value=.5,a.style.paddingLeft=a.style.paddingRight=this.options.padding+"px",this._addEvents(),this._updateLayers(),this},remove:function(){return this._map?(this._leftLayer&&(this._leftLayer.getContainer().style.clip=""),this._rightLayer&&(this._rightLayer.getContainer().style.clip=""),this._removeEvents(),i.DomUtil.remove(this._container),this._map=null,this):this},setLeftLayers:function(t){return this._leftLayers=d(t),this._updateLayers(),this},setRightLayers:function(t){return this._rightLayers=d(t),this._updateLayers(),this},_updateClip:function(){var t=this._map,e=t.containerPointToLayerPoint([0,0]),a=t.containerPointToLayerPoint(t.getSize()),r=e.x+this.getPosition(),n=this.getPosition();this._divider.style.left=n+"px",this.fire("dividermove",{x:n});var f="rect("+[e.y,r,a.y,e.x].join("px,")+"px)",u="rect("+[e.y,a.x,a.y,r].join("px,")+"px)";this._leftLayer&&(this._leftLayer.getContainer().style.clip=f),this._rightLayer&&(this._rightLayer.getContainer().style.clip=u)},_updateLayers:function(){if(!this._map)return this;var t=this._leftLayer,e=this._rightLayer;this._leftLayer=this._rightLayer=null,this._leftLayers.forEach(function(a){this._map.hasLayer(a)&&(this._leftLayer=a)},this),this._rightLayers.forEach(function(a){this._map.hasLayer(a)&&(this._rightLayer=a)},this),t!==this._leftLayer&&(t&&this.fire("leftlayerremove",{layer:t}),this._leftLayer&&this.fire("leftlayeradd",{layer:this._leftLayer})),e!==this._rightLayer&&(e&&this.fire("rightlayerremove",{layer:e}),this._rightLayer&&this.fire("rightlayeradd",{layer:this._rightLayer})),this._updateClip()},_addEvents:function(){var t=this._range,e=this._map;!e||!t||(e.on("move",this._updateClip,this),e.on("layeradd layerremove",this._updateLayers,this),i.DomEvent.on(t,p(t),this._updateClip,this),i.DomEvent.on(t,"touchstart",s,this),i.DomEvent.on(t,"touchend",o,this),i.DomEvent.on(t,"mousedown",s,this),i.DomEvent.on(t,"mouseup",o,this))},_removeEvents:function(){var t=this._range,e=this._map;t&&(i.DomEvent.off(t,p(t),this._updateClip,this),i.DomEvent.off(t,"touchstart",s,this),i.DomEvent.off(t,"touchend",o,this),i.DomEvent.off(t,"mousedown",s,this),i.DomEvent.off(t,"mouseup",o,this)),e&&(e.off("layeradd layerremove",this._updateLayers,this),e.off("move",this._updateClip,this))}});i.control.sideBySide=function(t,e,a){return new i.Control.SideBySide(t,e,a)};module.exports=i.Control.SideBySide;const E={id:"map"},b=c({__name:"index",setup(t){let e=null;const a=()=>{e=i.map("map",{preferCanvas:!0,crs:i.CRS.EPSG3857,center:[22.548857,114.064839],zoom:10});const r=i.tileLayer("http://t0.tianditu.gov.cn/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=55b4d4eaef95384c946e9bd1b99c5610",{noWrap:!0,attribution:h}).addTo(e),n=i.tileLayer("http://t0.tianditu.gov.cn/DataServer?T=img_w&x={x}&y={y}&l={z}&tk=55b4d4eaef95384c946e9bd1b99c5610",{noWrap:!0,attribution:h}).addTo(e);i.control.sideBySide(r,n).addTo(e)};return y(()=>{a()}),m(()=>{e&&(e.remove(),e=null)}),(r,n)=>(v(),g("div",E))}});const B=L(b,[["__scopeId","data-v-61328a72"]]);export{B as default};
