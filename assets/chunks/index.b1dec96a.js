import{a as l,L as d}from"./leaflet-src.347f22be.js";import{l as _}from"./index.de92af0d.js";import{a as h}from"./commonjsHelpers.042e6b4d.js";import{A as m}from"./index.a511ac44.js";import{d as v,p as y,a3 as b,o as g,c as x,_ as j}from"./framework.efc265d9.js";var P={exports:{}};const w=h(_);(function(r){(function(e){var s,t;s=l,t=w,r.exports=e(s,t)})(function(e,s){return s.__esModule&&s.default&&(s=s.default),e.Proj={},e.Proj._isProj4Obj=function(t){return typeof t.inverse<"u"&&typeof t.forward<"u"},e.Proj.Projection=e.Class.extend({initialize:function(t,i,n){var o=e.Proj._isProj4Obj(t);this._proj=o?t:this._projFromCodeDef(t,i),this.bounds=o?i:n},project:function(t){var i=this._proj.forward([t.lng,t.lat]);return new e.Point(i[0],i[1])},unproject:function(t,i){var n=this._proj.inverse([t.x,t.y]);return new e.LatLng(n[1],n[0],i)},_projFromCodeDef:function(t,i){if(i)s.defs(t,i);else if(s.defs[t]===void 0){var n=t.split(":");if(n.length>3&&(t=n[n.length-3]+":"+n[n.length-1]),s.defs[t]===void 0)throw"No projection definition for code "+t}return s(t)}}),e.Proj.CRS=e.Class.extend({includes:e.CRS,options:{transformation:new e.Transformation(1,0,-1,0)},initialize:function(t,i,n){var o,a,c,f;if(e.Proj._isProj4Obj(t)?(a=t,o=a.srsCode,f=i||{},this.projection=new e.Proj.Projection(a,f.bounds)):(o=t,c=i,f=n||{},this.projection=new e.Proj.Projection(o,c,f.bounds)),e.Util.setOptions(this,f),this.code=o,this.transformation=this.options.transformation,this.options.origin&&(this.transformation=new e.Transformation(1,-this.options.origin[0],-1,this.options.origin[1])),this.options.scales)this._scales=this.options.scales;else if(this.options.resolutions){this._scales=[];for(var u=this.options.resolutions.length-1;u>=0;u--)this.options.resolutions[u]&&(this._scales[u]=1/this.options.resolutions[u])}this.infinite=!this.options.bounds},scale:function(t){var i=Math.floor(t),n,o,a,c;return t===i?this._scales[t]:(n=this._scales[i],o=this._scales[i+1],a=o-n,c=t-i,n+a*c)},zoom:function(t){var i=this._closestElement(this._scales,t),n=this._scales.indexOf(i),o,a,c;return t===i?n:i===void 0?-1/0:(a=n+1,o=this._scales[a],o===void 0?1/0:(c=o-i,(t-i)/c+n))},distance:e.CRS.Earth.distance,R:e.CRS.Earth.R,_closestElement:function(t,i){for(var n,o=t.length;o--;)t[o]<=i&&(n===void 0||n<t[o])&&(n=t[o]);return n}}),e.Proj.GeoJSON=e.GeoJSON.extend({initialize:function(t,i){this._callLevel=0,e.GeoJSON.prototype.initialize.call(this,t,i)},addData:function(t){var i;t&&(t.crs&&t.crs.type==="name"?i=new e.Proj.CRS(t.crs.properties.name):t.crs&&t.crs.type&&(i=new e.Proj.CRS(t.crs.type+":"+t.crs.properties.code)),i!==void 0&&(this.options.coordsToLatLng=function(n){var o=e.point(n[0],n[1]);return i.projection.unproject(o)})),this._callLevel++;try{e.GeoJSON.prototype.addData.call(this,t)}finally{this._callLevel--,this._callLevel===0&&delete this.options.coordsToLatLng}}}),e.Proj.geoJson=function(t,i){return new e.Proj.GeoJSON(t,i)},e.Proj.ImageOverlay=e.ImageOverlay.extend({initialize:function(t,i,n){e.ImageOverlay.prototype.initialize.call(this,t,null,n),this._projectedBounds=i},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),n=e.point(this._projectedBounds.min.x,this._projectedBounds.max.y),o=this._projectedToNewLayerPoint(n,t.zoom,t.center);e.DomUtil.setTransform(this._image,o,i)},_reset:function(){var t=this._map.getZoom(),i=this._map.getPixelOrigin(),n=e.bounds(this._transform(this._projectedBounds.min,t)._subtract(i),this._transform(this._projectedBounds.max,t)._subtract(i)),o=n.getSize();e.DomUtil.setPosition(this._image,n.min),this._image.style.width=o.x+"px",this._image.style.height=o.y+"px"},_projectedToNewLayerPoint:function(t,i,n){var o=this._map.getSize()._divideBy(2),a=this._map.project(n,i)._subtract(o)._round(),c=a.add(this._map._getMapPanePos());return this._transform(t,i)._subtract(c)},_transform:function(t,i){var n=this._map.options.crs,o=n.transformation,a=n.scale(i);return o.transform(t,a)}}),e.Proj.imageOverlay=function(t,i,n){return new e.Proj.ImageOverlay(t,i,n)},e.Proj})})(P);const S="http://online{s}.map.bdimg.com/onlinelabel/?qt=tile&x={x}&y={y}&z={z}&styles=",p=S;l.CRS.BAIDU=new l.Proj.CRS("EPSG:900913","+proj=merc +a=6378206 +b=6356584.314245179 +lat_ts=0.0 +lon_0=0.0 +x_0=0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs",{resolutions:function(){const e=[];e[0]=Math.pow(2,18);for(let s=1;s<19;s++)e[s]=Math.pow(2,18-s);return e}(),origin:[0,0],bounds:l.bounds([20037508342789244e-9,0],[0,20037508342789244e-9])});l.tileLayer.baidu=function(r){r=r||{};let e;const s="0123456789";switch(r.layer){case"vec":default:e=l.tileLayer(p,{subdomains:s,tms:!0,attribution:r.attribution||m});break;case"img_d":e=l.tileLayer("http://shangetu{s}.map.bdimg.com/it/u=x={x};y={y};z={z};v=009;type=sate&fm=46",{subdomains:s,tms:!0,attribution:r.attribution||m});break;case"img_z":e=l.tileLayer("http://online{s}.map.bdimg.com/tile/?qt=tile&x={x}&y={y}&z={z}&styles="+(r.bigfont?"sh":"sl")+"&v=020",{subdomains:s,tms:!0,attribution:r.attribution||m});break;case"custom":e=l.tileLayer(p,{subdomains:s,tms:!0,attribution:r.attribution||m});break;case"time":var t=new Date().getTime();e=l.tileLayer("http://its.map.baidu.com:8002/traffic/TrafficTileService?x={x}&y={y}&level={z}&time="+t+"&label=web2D&v=017",{subdomains:s,tms:!0,attribution:r.attribution||m});break;case"img":e=l.layerGroup([l.tileLayer.baidu({layer:"img_d",bigfont:r.bigfont}),l.tileLayer.baidu({layer:"img_z",bigfont:r.bigfont})]);break}return e};const z={id:"map"},O=v({__name:"index",setup(r){let e=null;const s=()=>{e=d.map("map",{crs:d.CRS.BAIDU,center:[22.548857,114.064839],minZoom:1,maxZoom:18,zoom:12}),d.tileLayer.baidu({layer:"vec"}).addTo(e)};return y(()=>{s()}),b(()=>{e&&(e.remove(),e=null)}),(t,i)=>(g(),x("div",z))}});const I=j(O,[["__scopeId","data-v-d46651e8"]]);export{I as default};
