import{i as H}from"./index-p1XoTQj1.js";import{J,aB as Q,i as K,a_ as x,b0 as G,r as s,K as L,R as W,O as Z,ai as M,o as k,c as w,d as i,a5 as j,b as n,w as o,l as D,a1 as F,e as a,t as V,a7 as C,a$ as X,a4 as Y,ee,V as te,F as le}from"./index-BF2fBoPb.js";import{i as oe}from"./index-Cjr4ibGp.js";function se(e){var c;const{top:p,left:r}=e.getBoundingClientRect(),{scrollY:d,scrollX:f}=(c=e.ownerDocument.defaultView)!=null?c:{};return{top:p+(d!=null?d:0),left:r+(f!=null?f:0)}}function O(e,p,r){const d=["ele-tour-popover"];return p&&d.push("ele-tour-modal"),r&&r.popperClass&&typeof r.popperClass=="string"&&d.push(r.popperClass),{trigger:"click",placement:"top",teleported:!1,width:p?440:290,transition:"ele-tour-fast",persistent:!1,effect:"light",isPopover:!0,gpuAcceleration:!0,...r,visible:e!=null?e:!1,popperClass:d.join(" ")}}function ne(e){typeof e.scrollIntoViewIfNeeded=="function"?e.scrollIntoViewIfNeeded(!0):e.scrollIntoView({behavior:"instant",block:"nearest"})}const ae={modelValue:Number,steps:{type:Array,required:!0},mask:{type:Boolean,default:!0},padding:{type:Number,default:6},zIndex:Number,locale:Object},re={"update:modelValue":e=>!0},ue=J({name:"EleTour",components:{ElButton:Q,EleTooltip:K,ReceiverView:x},props:ae,emits:re,setup(e,{emit:p}){const{lang:r}=G("tour",e),d=s(null),f=s(null),c=L({}),v=s(!1),m=L(null),R=s(!1),b=s({}),_=s(!1),S=()=>{var A;if(!e.steps||e.modelValue==null||e.modelValue<0||e.modelValue>=e.steps.length){I();return}if(m.value=e.steps[e.modelValue],!m.value)return;R.value=e.modelValue===e.steps.length-1;const{mask:h,popoverProps:l,target:t,padding:u}=m.value;_.value=h!=null?h:e.mask;const g=typeof t=="function"?t():t;if(g){ne(g);const{width:T,height:y}=g.getBoundingClientRect(),{top:U,left:q}=se(g),P=(A=u!=null?u:e.padding)!=null?A:0;b.value={width:T+P+P+"px",height:y+P+P+"px",top:U-P+"px",left:q-P+"px"}}else b.value={width:"0px",height:"0px",top:"50%",left:"50%"};v.value=!0,c.value=O(!0,!g,l),te(()=>{z()})},I=()=>{v.value=!1,b.value={},m.value=null,_.value=!1,c.value=O()},$=h=>{p("update:modelValue",h)},B=()=>{e.modelValue!=null&&e.steps!=null&&e.steps.length&&e.modelValue>0&&$(e.modelValue-1)},E=()=>{e.modelValue!=null&&e.steps!=null&&e.steps.length&&e.modelValue<e.steps.length-1&&$(e.modelValue+1)},N=()=>{$(null)},z=()=>{f.value&&f.value.updatePopper()};return W(()=>{S()}),Z(()=>e.modelValue,()=>{S()}),{lang:r,triggerRef:d,tooltipRef:f,tooltipProps:c,visible:v,step:m,isLast:R,boxStyle:b,showMask:_,handlePrev:B,handleNext:E,handleFinish:N}}}),ie=(e,p)=>{const r=e.__vccOpts||e;for(const[d,f]of p)r[d]=f;return r},de={key:0,class:"ele-tour-title"},pe={class:"ele-tour-text"},fe={class:"ele-tour-footer"},me={class:"ele-tour-counter"},ve={class:"ele-tour-action"};function ce(e,p,r,d,f,c){const v=M("ElButton"),m=M("ReceiverView"),R=M("EleTooltip");return k(),w(ee,{to:"body"},[i("div",{class:Y(["ele-tour",{"show-mask":e.showMask},{"is-open":e.visible}]),style:j({zIndex:e.zIndex})},[i("div",{class:"ele-tour-box",style:j(e.boxStyle)},null,4),i("div",{ref:"triggerRef",class:"ele-tour-reference",style:j(e.boxStyle)},null,4),n(R,X(e.tooltipProps,{ref:"tooltipRef",virtualRef:e.triggerRef,virtualTriggering:!0,disabled:!e.visible,hideAfter:0}),{body:o(()=>[e.steps&&e.step?(k(),w(m,{key:0,class:"ele-popover-body"},{default:o(()=>[e.step.title?(k(),D("div",de,[F(e.$slots,"title",{step:e.step,current:e.modelValue},()=>[a(V(e.step.title),1)])])):C("",!0),i("div",pe,[F(e.$slots,"text",{step:e.step,current:e.modelValue},()=>[a(V(e.step.description),1)])]),F(e.$slots,"footer",{step:e.step,current:e.modelValue},()=>[i("div",fe,[i("div",me,V((e.modelValue||0)+1)+"/"+V(e.steps.length),1),i("div",ve,[e.isLast?C("",!0):(k(),w(v,{key:0,size:"small",onClick:e.handleFinish},{default:o(()=>[a(V(e.lang.skip),1)]),_:1},8,["onClick"])),e.modelValue!==0?(k(),w(v,{key:1,size:"small",onClick:e.handlePrev},{default:o(()=>[a(V(e.lang.prev),1)]),_:1},8,["onClick"])):C("",!0),e.isLast?C("",!0):(k(),w(v,{key:2,size:"small",type:"primary",onClick:e.handleNext},{default:o(()=>[a(V(e.lang.next),1)]),_:1},8,["onClick"])),e.isLast?(k(),w(v,{key:3,size:"small",type:"primary",onClick:e.handleFinish},{default:o(()=>[a(V(e.lang.finish),1)]),_:1},8,["onClick"])):C("",!0)])])])]),_:3})):C("",!0)]),_:3},16,["virtualRef","disabled"])],6)])}const ge=ie(ue,[["render",ce]]),ye={style:{"margin-top":"20px"}},Ve={style:{"margin-top":"20px"}},ke={style:{"margin-top":"20px"}},Re={name:"ExtensionTour"},we=Object.assign(Re,{setup(e){const p=s(),r=s(null),d=s(null),f=s(null),c=s([{target:()=>{var l;return(l=r.value)==null?void 0:l.$el},title:"如何进行文件上传",description:"点击这个按钮在弹出框中选择想要上传的文件即可."},{target:()=>{var l;return(l=d.value)==null?void 0:l.$el},title:"如何提交数据",description:"数据录入完成后点击这个按钮即可提交数据到后台."},{target:()=>{var l;return(l=f.value)==null?void 0:l.$el},title:"如何进行更多的操作",description:"鼠标移入到此按钮上即可展示出更多的操作功能."}]),v=()=>{p.value=0},m=s(),R=s(null),b=s(null),_=s(null),S=s([{target:()=>{var l;return(l=R.value)==null?void 0:l.$el},title:"如何进行文件上传",description:"点击这个按钮在弹出框中选择想要上传的文件即可.",popoverProps:{placement:"top-start"}},{target:()=>{var l;return(l=b.value)==null?void 0:l.$el},title:"如何提交数据",description:"数据录入完成后点击这个按钮即可提交数据到后台.",popoverProps:{placement:"bottom"}},{target:()=>{var l;return(l=_.value)==null?void 0:l.$el},title:"如何进行更多的操作",description:"鼠标移入到此按钮上即可展示出更多的操作功能.",popoverProps:{placement:"top-end"}}]),I=()=>{m.value=0},$=s(),B=s(null),E=s(null),N=s(null),z=s([{title:"欢迎使用 EleAdminPlus 系统",description:"下面将为您介绍一些常用功能的操作说明, 如果之前已经为您介绍过, 您可以直接点击跳过结束指引."},{target:()=>{var l;return(l=B.value)==null?void 0:l.$el},title:"如何进行文件上传",description:"点击这个按钮在弹出框中选择想要上传的文件即可."},{target:()=>{var l;return(l=E.value)==null?void 0:l.$el},title:"如何提交数据",description:"数据录入完成后点击这个按钮即可提交数据到后台.",mask:!1},{target:()=>{var l;return(l=N.value)==null?void 0:l.$el},title:"如何进行更多的操作",description:"鼠标移入到此按钮上即可展示出更多的操作功能."}]),h=()=>{$.value=0};return(l,t)=>{const u=Q,g=ge,A=oe,T=H;return k(),w(T,null,{default:o(()=>[n(A,{header:"基本用法"},{default:o(()=>[i("div",null,[n(u,{type:"primary",onClick:v},{default:o(()=>t[3]||(t[3]=[a("开始引导")])),_:1})]),i("div",ye,[n(u,{ref_key:"uploadRef1",ref:r},{default:o(()=>t[4]||(t[4]=[a("Upload")])),_:1},512),n(u,{ref_key:"saveRef1",ref:d,type:"primary"},{default:o(()=>t[5]||(t[5]=[a("Save")])),_:1},512),n(u,{ref_key:"moreRef1",ref:f},{default:o(()=>t[6]||(t[6]=[a("More")])),_:1},512)]),n(g,{modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=y=>p.value=y),steps:c.value},null,8,["modelValue","steps"])]),_:1}),n(A,{header:"不带遮罩层"},{default:o(()=>[i("div",null,[n(u,{type:"primary",onClick:I},{default:o(()=>t[7]||(t[7]=[a("开始引导")])),_:1})]),i("div",Ve,[n(u,{ref_key:"uploadRef2",ref:R},{default:o(()=>t[8]||(t[8]=[a("Upload")])),_:1},512),n(u,{ref_key:"saveRef2",ref:b,type:"primary"},{default:o(()=>t[9]||(t[9]=[a("Save")])),_:1},512),n(u,{ref_key:"moreRef2",ref:_},{default:o(()=>t[10]||(t[10]=[a("More")])),_:1},512)]),n(g,{modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=y=>m.value=y),steps:S.value,mask:!1},null,8,["modelValue","steps"])]),_:1}),n(A,{header:"混合弹窗等多种形式"},{default:o(()=>[i("div",null,[n(u,{type:"primary",onClick:h},{default:o(()=>t[11]||(t[11]=[a("开始引导")])),_:1})]),i("div",ke,[n(u,{ref_key:"uploadRef3",ref:B},{default:o(()=>t[12]||(t[12]=[a("Upload")])),_:1},512),n(u,{ref_key:"saveRef3",ref:E,type:"primary"},{default:o(()=>t[13]||(t[13]=[a("Save")])),_:1},512),n(u,{ref_key:"moreRef3",ref:N},{default:o(()=>t[14]||(t[14]=[a("More")])),_:1},512)]),n(g,{modelValue:$.value,"onUpdate:modelValue":t[2]||(t[2]=y=>$.value=y),steps:z.value},{text:o(({step:y,current:U})=>[U===0?(k(),D(le,{key:0},[t[15]||(t[15]=i("div",{style:{"margin-bottom":"10px"}},[i("img",{src:"https://gw.alipayobjects.com/mdn/rms_08e378/afts/img/A*P0S-QIRUbsUAAAAAAAAAAABkARQnAQ",style:{height:"184px",width:"100%","object-fit":"cover"}})],-1)),i("div",null,V(y.description),1)],64)):C("",!0)]),_:1},8,["modelValue","steps"])]),_:1})]),_:1})}}});export{we as default};
