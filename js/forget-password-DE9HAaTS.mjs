var w=(m,l,a)=>new Promise((r,s)=>{var c=t=>{try{u(a.next(t))}catch(e){s(e)}},g=t=>{try{u(a.throw(t))}catch(e){s(e)}},u=t=>t.done?r(t.value):Promise.resolve(t.value).then(c,g);u((a=a.apply(m,l)).next())});import{c as v,u as B,$ as n,T as P,e as T,s as $}from"./bootstrap-BPXRuHYb.mjs";import{a3 as _,W as C,J as S,ae as k,al as V,n as d,ag as f,ad as b,ap as p,aw as h,a9 as o,ao as y,b0 as F,P as N,af as x}from"../jse/index-index-DjctGAIy.mjs";const L=_({name:"ForgetPassword",__name:"forget-password",props:{formSchema:{},loading:{type:Boolean,default:!1},loginPath:{default:"/auth/login"},title:{default:""},subTitle:{default:""},submitButtonText:{default:""}},emits:["submit"],setup(m,{emit:l}){const a=m,r=l,[s,{validate:c}]=v(C({commonConfig:{hideLabel:!0,hideRequiredMark:!0},schema:S(()=>a.formSchema),showDefaultActions:!1})),g=B();function u(){return w(this,null,function*(){const{valid:e,values:i}=yield c();e&&r("submit",i==null?void 0:i.email)})}function t(){g.push(a.loginPath)}return(e,i)=>(k(),V("div",null,[d(P,null,{desc:f(()=>[b(e.$slots,"subTitle",{},()=>[p(h(e.subTitle||o(n)("authentication.forgetPasswordSubtitle")),1)])]),default:f(()=>[b(e.$slots,"title",{},()=>[p(h(e.title||o(n)("authentication.forgetPassword"))+" ðŸ¤¦ðŸ»â€â™‚ï¸ ",1)])]),_:3}),d(o(s)),y("div",null,[d(o(T),{class:F([{"cursor-wait":e.loading},"mt-2 w-full"]),"aria-label":"submit",onClick:u},{default:f(()=>[b(e.$slots,"submitButtonText",{},()=>[p(h(e.submitButtonText||o(n)("authentication.sendResetLink")),1)])]),_:3},8,["class"]),d(o(T),{class:"mt-4 w-full",variant:"outline",onClick:i[0]||(i[0]=R=>t())},{default:f(()=>[p(h(o(n)("common.back")),1)]),_:1})])]))}}),z=_({name:"ForgetPassword",__name:"forget-password",setup(m){const l=N(!1),a=S(()=>[{component:"VbenInput",componentProps:{placeholder:"example@example.com"},fieldName:"email",label:n("authentication.email"),rules:$().min(1,{message:n("authentication.emailTip")}).email(n("authentication.emailValidErrorTip"))}]);function r(s){console.log("reset email:",s)}return(s,c)=>(k(),x(o(L),{"form-schema":a.value,loading:l.value,onSubmit:r},null,8,["form-schema","loading"]))}});export{z as default};
