(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["purchase-operationRecords"],{"8a94":function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("l-panel",{staticStyle:{padding:"0px"},scopedSlots:e._u([{key:"toolLeft",fn:function(){return[t("div",{staticClass:"l-panel--item"},[t("el-input",{attrs:{placeholder:e.$t("请输入关键字"),size:"mini"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.handleSearch.apply(null,arguments)}},model:{value:e.searchWord,callback:function(a){e.searchWord=a},expression:"searchWord"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.handleSearch},slot:"append"})],1)],1)]},proxy:!0}])},[t("l-table",{ref:"mainTable",attrs:{loading:e.tableLoading,columns:e.columns,dataSource:e.tableData,isPage:!0,pageTotal:e.tableTotal,tablePage:e.tableCurrentPage},on:{"update:tablePage":function(a){e.tableCurrentPage=a},"update:table-page":function(a){e.tableCurrentPage=a},loadPageData:e.turnTablePage}})],1)},r=[],l=(t("96cf"),t("1da1")),o=window.$api.erpcase.log,i={props:{purchaseId:String},data:function(){return{searchWord:"",tableLoading:!1,tableData:[],tableTotal:0,tableCurrentPage:1,tablePageSize:50,columns:[{label:"操作人",prop:"f_OperateUserId",width:120,align:"left",dataType:"user"},{label:"操作时间",prop:"f_OperateTime",width:160,dataType:"datetime",format:"yyyy-MM-dd HH:mm:ss"},{label:"操作内容",prop:"f_Description",minWidth:200}]}},watch:{purchaseId:{handler:function(){this.init()},immediate:!0}},methods:{init:function(){this.loadTableData()},handleSearch:function(){this.loadTableData()},turnTablePage:function(e){var a=e.rows;this.tablePageSize=a,this.loadTableData(!0)},loadTableData:function(e){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e||(a.tableCurrentPage=1),a.tableLoading=!0,n={},n.f_Description=a.searchWord,n.f_KeyId=a.purchaseId,n.rows=a.tablePageSize,n.page=a.tableCurrentPage,n.sidx="f_OperateTime DESC",t.next=10,a.$awaitWraper(o.getPage(n));case 10:r=t.sent,null!=r?(a.tableData=r.rows,a.tableTotal=r.records):a.tableData=[],a.tableLoading=!1;case 13:case"end":return t.stop()}}),t)})))()}}},s=i,c=t("2877"),u=Object(c["a"])(s,n,r,!1,null,null,null);a["default"]=u.exports}}]);