(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["monitor","monitor-look","monitor-lookOther","monitor-point","monitor-wfForm"],{"1deb":function(t,e,a){},"4de8":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("l-drawer",{ref:"formDialog",attrs:{title:t.$t(t.isParent?"查看父流程":"查看子流程")+"【"+t.processTitle+"】",visible:t.midVisible,showOk:!1,showClose:!1,width:1024},on:{"update:visible":function(e){t.midVisible=e},closed:t.handleClosed,opened:t.handleOpened}},[a("l-layout",{staticClass:"l-tab-page",attrs:{right:400},scopedSlots:t._u([{key:"right",fn:function(){return[t.userLogs.length>0?a("l-panel",{staticStyle:{"padding-left":"0"},attrs:{title:t.$t("审批信息")}},[a("div",{staticClass:"l-rblock",staticStyle:{padding:"8px"}},[a("l-wf-audit-info",{attrs:{data:t.userLogs}})],1)]):t._e()]},proxy:!0}])},[a("l-panel",{style:{"padding-right":t.userLogs.length>0?0:""}},[a("div",{staticClass:"l-auto-window",staticStyle:{padding:"0 8px"}},[a("el-tabs",{on:{"tab-click":t.handleTabClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:t.$t("流程信息"),name:"wfinfo"}},[a("l-layout",{staticStyle:{background:"#f1f2f5"},attrs:{right:320},scopedSlots:t._u([{key:"right",fn:function(){return[t.nodeLogs.length>0?a("l-panel",{staticClass:"flow-panel",staticStyle:{padding:"0","padding-top":"0"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.$t("记录信息"))+" ")]},proxy:!0}],null,!1,1731458634)},[a("div",{staticClass:"l-rblock",staticStyle:{padding:"8px",overflow:"hidden auto"}},[a("el-timeline",t._l(t.nodeLogs,(function(e,i){return a("el-timeline-item",{key:i,attrs:{type:e.type,timestamp:e.time,placement:"top"}},[a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"title"},[t._v(t._s(e.name))]),a("div",{staticClass:"content"},[3!=e.taskType?[t._l(e.userIds,(function(t,e){return a("l-user",{key:e,attrs:{value:t}})})),t._v(" "+t._s(e.des)+" ")]:[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return t.OpenChildWf(e)}}},[t._v(t._s(t.$t("查看")))]),e.isShowUser?t._l(e.userIds,(function(t,e){return a("l-user",{key:e,attrs:{value:t}})})):t._e(),t._v(" "+t._s(e.des)+" ")]],2)])],1)})),1)],1)]):t._e()]},proxy:!0}])},[a("l-panel",{staticClass:"flow-panel",staticStyle:{padding:"0","padding-top":"0"},scopedSlots:t._u([{key:"title",fn:function(){return[a("el-button-group",[a("el-tooltip",{attrs:{effect:"dark",content:t.$t("复原"),placement:"bottom"}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-aim"},on:{click:t.resetZoom}})],1),a("el-tooltip",{attrs:{effect:"dark",content:t.$t("放大"),placement:"bottom"}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-zoom-in"},on:{click:function(e){return t.handlerZoom(.1)}}})],1),a("el-tooltip",{attrs:{effect:"dark",content:t.$t("缩小"),placement:"bottom"}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-zoom-out"},on:{click:function(e){return t.handlerZoom(-.1)}}})],1)],1),a("div",{staticStyle:{float:"right"}},[a("el-tag",{staticStyle:{"margin-right":"8px"},attrs:{size:"small",effect:"plain"}},[t._v(t._s(t.$t("正在审核")))]),a("el-tag",{staticStyle:{"margin-right":"8px"},attrs:{size:"small",effect:"plain",type:"success"}},[t._v(t._s(t.$t("已审核")))])],1)]},proxy:!0}])},[a("b-wflow-viewer",{ref:"bflow",on:{elementClick:t.elementClick}})],1)],1)],1),a("el-tab-pane",{attrs:{label:t.$t("流转记录"),name:"wflogs"}},[a("div",{staticClass:"l-rblock",staticStyle:{padding:"8px",overflow:"hidden auto"}},[a("el-timeline",t._l(t.logs,(function(e,i){return a("el-timeline-item",{key:i,attrs:{type:e.type,timestamp:e.time,placement:"top"}},[a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"title"},[t._v(t._s(e.name))]),a("div",{staticClass:"content"},[3!=e.taskType?[t._l(e.userIds,(function(t,e){return a("l-user",{key:e,attrs:{value:t}})})),t._v(" "+t._s(e.des)+" ")]:[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return t.OpenChildWf(e)}}},[t._v(t._s(t.$t("查看")))]),e.isShowUser?t._l(e.userIds,(function(t,e){return a("l-user",{key:e,attrs:{value:t}})})):t._e(),t._v(" "+t._s(e.des)+" ")],t.isFormById(e.unitId)?a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return t.lookForm(e)}}},[t._v(t._s(t.$t("查看表单")))]):t._e()],2)])],1)})),1)],1)])],1)],1)]),a("wf-form",{ref:"wfform"})],1)],1)},s=[],o=(a("7db0"),a("b0c0"),a("9421")),n=a("ae38"),r={mixins:[Object(o["a"])()],props:{isParent:Boolean},components:{WfForm:n["default"]},data:function(){return{midVisible:!1}},watch:{visible:{handler:function(t){this.midVisible=t}}},methods:{resetZoom:function(){this.$refs.bflow.reset()},handlerZoom:function(t){this.$refs.bflow.handlerZoom(t)},elementClick:function(t){this.nodeLogs=t&&this.nodeMap[t.id]||[]},lookForm:function(t){var e=this.wfData.find((function(e){return e.id==t.unitId}));if(e.isInherit){var a=this.wfData.find((function(t){return"startEvent"==t.type}));e.formType=a.formType,e.formVerison=a.formVerison,e.formRelationId=a.formRelationId,e.formUrl=a.formUrl,e.authFields=a.authFields}this.$refs.wfform.open(t.name,e,this.processId)}}},l=r,c=a("2877"),d=Object(c["a"])(l,i,s,!1,null,null,null);e["default"]=d.exports},9752:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("l-fullscreen-dialog",{ref:"formDialog",attrs:{title:t.$t("查看流程")+"【"+t.title+"】",visible:t.midVisible,showOk:!1},on:{"update:visible":function(e){t.midVisible=e},closed:t.handleClosed,opened:t.handleOpened},scopedSlots:t._u([t.isChildProcess?{key:"headerRight",fn:function(){return[t.isChildProcess?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.handleOpenParent}},[t._v(t._s(t.$t("父级流程")))]):t._e()]},proxy:!0}:null],null,!0)},[a("l-layout",{staticClass:"l-tab-page",attrs:{right:400},scopedSlots:t._u([{key:"right",fn:function(){return[t.userLogs.length>0?a("l-panel",{staticStyle:{"padding-left":"0"},attrs:{title:t.$t("审批信息")}},[a("div",{staticClass:"l-rblock",staticStyle:{padding:"8px"}},[a("l-wf-audit-info",{attrs:{data:t.userLogs}})],1)]):t._e()]},proxy:!0}])},[a("l-panel",{style:{"padding-right":t.userLogs.length>0?0:""}},[a("div",{staticClass:"l-auto-window",staticStyle:{padding:"0 8px"}},[a("el-tabs",{on:{"tab-click":t.handleTabClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:t.$t("流程信息"),name:"wfinfo"}},[a("l-layout",{staticStyle:{background:"#f1f2f5"},attrs:{right:320},scopedSlots:t._u([{key:"right",fn:function(){return[t.nodeLogs.length>0?a("l-panel",{staticClass:"flow-panel",staticStyle:{padding:"0","padding-top":"0"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.$t("记录信息"))+" ")]},proxy:!0}],null,!1,1731458634)},[a("div",{staticClass:"l-rblock",staticStyle:{padding:"8px",overflow:"hidden auto"}},[a("el-timeline",t._l(t.nodeLogs,(function(e,i){return a("el-timeline-item",{key:i,attrs:{type:e.type,timestamp:e.time,placement:"top"}},[a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"title"},[t._v(t._s(e.name))]),a("div",{staticClass:"content"},[3!=e.taskType?[t._l(e.userIds,(function(t,e){return a("l-user",{key:e,attrs:{value:t}})})),t._v(" "+t._s(e.des)+" ")]:[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return t.OpenChildWf(e)}}},[t._v(t._s(t.$t("查看")))]),e.isShowUser?t._l(e.userIds,(function(t,e){return a("l-user",{key:e,attrs:{value:t}})})):t._e(),t._v(" "+t._s(e.des)+" ")]],2)])],1)})),1)],1)]):t._e()]},proxy:!0}])},[a("l-panel",{staticClass:"flow-panel",staticStyle:{padding:"0","padding-top":"0"},scopedSlots:t._u([{key:"title",fn:function(){return[a("el-button-group",[a("el-tooltip",{attrs:{effect:"dark",content:t.$t("复原"),placement:"bottom"}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-aim"},on:{click:t.resetZoom}})],1),a("el-tooltip",{attrs:{effect:"dark",content:t.$t("放大"),placement:"bottom"}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-zoom-in"},on:{click:function(e){return t.handlerZoom(.1)}}})],1),a("el-tooltip",{attrs:{effect:"dark",content:t.$t("缩小"),placement:"bottom"}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-zoom-out"},on:{click:function(e){return t.handlerZoom(-.1)}}})],1)],1),a("div",{staticStyle:{float:"right"}},[a("el-tag",{staticStyle:{"margin-right":"8px"},attrs:{size:"small",effect:"plain"}},[t._v(t._s(t.$t("正在审核")))]),a("el-tag",{staticStyle:{"margin-right":"8px"},attrs:{size:"small",effect:"plain",type:"success"}},[t._v(t._s(t.$t("已审核")))])],1)]},proxy:!0}])},[a("b-wflow-viewer",{ref:"bflow",on:{elementClick:t.elementClick}})],1)],1)],1),a("el-tab-pane",{attrs:{label:t.$t("流转记录"),name:"wflogs"}},[a("div",{staticClass:"l-rblock",staticStyle:{padding:"8px",overflow:"hidden auto"}},[a("el-timeline",t._l(t.logs,(function(e,i){return a("el-timeline-item",{key:i,attrs:{type:e.type,timestamp:e.time,placement:"top"}},[a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"title"},[t._v(t._s(e.name))]),a("div",{staticClass:"content"},[3!=e.taskType?[t._l(e.userIds,(function(t,e){return a("l-user",{key:e,attrs:{value:t}})})),t._v(" "+t._s(e.des)+" ")]:[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return t.OpenChildWf(e)}}},[t._v(t._s(t.$t("查看")))]),e.isShowUser?t._l(e.userIds,(function(t,e){return a("l-user",{key:e,attrs:{value:t}})})):t._e(),t._v(" "+t._s(e.des)+" ")],t.isFormById(e.unitId)?a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return t.lookForm(e)}}},[t._v(t._s(t.$t("查看表单")))]):t._e()],2)])],1)})),1)],1)])],1)],1)]),a("wf-form",{ref:"wfform"}),a("look-other-form",{ref:"otherForm",attrs:{type:"lookmy",params:{processId:t.otherProcessId},isLoadFormData:!0,visible:t.otherVisible,isParent:t.isOtherParent},on:{"update:visible":function(e){t.otherVisible=e}}})],1)],1)},s=[],o=(a("7db0"),a("b0c0"),a("9421")),n=a("ae38"),r=a("4de8"),l={mixins:[Object(o["a"])()],components:{WfForm:n["default"],LookOtherForm:r["default"]},data:function(){return{midVisible:!1,otherProcessId:"",otherVisible:!1,isOtherParent:!1}},watch:{visible:{handler:function(t){this.midVisible=t}}},methods:{resetZoom:function(){this.$refs.bflow.reset()},handlerZoom:function(t){this.$refs.bflow.handlerZoom(t)},elementClick:function(t){this.nodeLogs=t&&this.nodeMap[t.id]||[]},lookForm:function(t){var e=this.wfData.find((function(e){return e.id==t.unitId}));if(e.isInherit){var a=this.wfData.find((function(t){return"startEvent"==t.type}));e.formType=a.formType,e.formVerison=a.formVerison,e.formRelationId=a.formRelationId,e.formUrl=a.formUrl,e.authFields=a.authFields}this.$refs.wfform.open(t.name,e,this.processId)},OpenChildWf:function(t){this.otherProcessId=t.childProcessId,this.isOtherParent=!1,this.otherVisible=!0},handleOpenParent:function(){this.otherProcessId=this.parentProcessId,this.isOtherParent=!0,this.otherVisible=!0}}},c=l,d=a("2877"),u=Object(d["a"])(c,i,s,!1,null,null,null);e["default"]=u.exports},a2e1:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"l-from-body",staticStyle:{padding:"16px"}},[a("el-form",{ref:"form",attrs:{model:t.formData,size:"mini","label-position":"top"}},t._l(t.nodeList,(function(e,i){return a("el-col",{key:i,attrs:{span:24}},[a("el-form-item",{staticClass:"el-input--mini",attrs:{label:e.name+"【当前】",prop:e.unitId}},[a("div",{staticClass:"el-input__inner"},t._l(e.userIds,(function(t,e){return a("l-user",{key:e,attrs:{value:t}})})),1)]),a("el-form-item",{attrs:{label:e.name+"【设置】",prop:e.unitId}},[a("l-user-select",{attrs:{multiple:""},model:{value:t.formData[e.unitId],callback:function(a){t.$set(t.formData,e.unitId,a)},expression:"formData[item.unitId]"}})],1)],1)})),1)],1)},s=[],o={data:function(){return{formData:{},nodeList:[]}},created:function(){},computed:{},methods:{resetForm:function(){this.formData={}},setForm:function(t){this.nodeList=t},getForm:function(){return this.$deepClone(this.formData)}}},n=o,r=a("2877"),l=Object(r["a"])(n,i,s,!1,null,null,null);e["default"]=l.exports},a5b2:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("l-layout",{staticClass:"l-tab-page",staticStyle:{padding:"16px 16px 20px"},attrs:{top:216},scopedSlots:t._u([{key:"top",fn:function(){return[a("l-panel",{staticStyle:{padding:"0 0 12px"}},[a("div",{staticClass:"topDiv"},[a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"serverInformation"},[a("p",{staticClass:"serInfoTitle title"},[t._v(t._s(t.$t("服务器信息")))]),a("div",{staticClass:"line"}),a("ul",[a("li",[a("span",{staticClass:"dot"}),a("span",{staticClass:"article",attrs:{title:t.name}},[t._v(t._s(t.$t("名称"))+"："+t._s(t.name))])]),a("li",[a("span",{staticClass:"dot secondDot"}),a("span",{staticClass:"article",attrs:{title:t.version}},[t._v(t._s(t.$t("版本"))+"："+t._s(t.version))])]),a("li",[a("span",{staticClass:"dot third"}),a("span",{staticClass:"article",attrs:{title:t.ip}},[t._v(t._s(t.$t("IP地址"))+"："+t._s(t.ip))])])])])]),a("el-col",{attrs:{span:19}},[a("div",{staticClass:"serverUsage"},[a("p",{staticClass:"serInfoTitle title"},[t._v(t._s(t.$t("服务器使用率")))]),a("div",{staticClass:"line"}),a("el-row",{staticClass:"rightDivPadding"},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"rightDiv"},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:9}},[a("p",[t._v(t._s(t.$t("程序运行CPU使用率")))])]),a("el-col",{attrs:{span:10}}),a("el-col",{attrs:{span:5}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.$t("CPU使用率"))+"（%）："+t._s(t.cpuNumber)+"%"),a("br"),t._v(t._s(t.$t("CPU剩余率"))+"（%）："+t._s(t.cpuNumberRemain)+"%")]),a("el-progress",{attrs:{type:"circle","stroke-width":12,percentage:t.cpuNumber,width:82}})],1)],1)],1)],1)]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"rightDiv needMargin"},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:9}},[a("p",[t._v(t._s(t.$t("内存使用率")))])]),a("el-col",{attrs:{span:9}}),a("el-col",{attrs:{span:6}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.$t("内存使用率"))+"（%）："+t._s(t.memoryNumber)+"%"),a("br"),t._v(t._s(t.$t("内存剩余率"))+"（%）："+t._s(t.memoryNumberRemain)+"%")]),a("el-progress",{attrs:{type:"circle","stroke-width":12,percentage:t.memoryNumber,color:t.colorGreen,width:82}})],1)],1)],1)],1)]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"rightDiv"},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:9}},[a("p",[t._v(t._s(t.$t("磁盘使用率")))])]),a("el-col",{attrs:{span:10}}),a("el-col",{attrs:{span:5}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.$t("磁盘使用率"))+"（%）："+t._s(t.diskNumber)+"%"),a("br"),t._v(t._s(t.$t("磁盘剩余率"))+"（%）："+t._s(t.diskNumberRemain)+"%")]),a("el-progress",{attrs:{type:"circle","stroke-width":12,percentage:t.diskNumber,color:t.colorYellow,width:82}})],1)],1)],1)],1)])],1)],1)])],1)],1)])]},proxy:!0}])},[a("l-panel",{staticStyle:{padding:"0px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("p",{staticClass:"serInfoTitle title"},[t._v(" "+t._s(t.name)+" "+t._s(t.$t("监控详情")))]),a("div",{staticClass:"line"}),a("div",{staticClass:"bottomDiv"},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",[a("el-radio-group",{attrs:{disabled:t.tableLoading,size:"mini"},on:{change:t.handleCaregoryChange},model:{value:t.categoryId,callback:function(e){t.categoryId=e},expression:"categoryId"}},[a("el-radio-button",{attrs:{label:"1"}},[t._v(t._s(t.$t("实时")))]),1==t.buttonFlag?a("el-radio-button",{attrs:{label:"2"}},[t._v(t._s(t.$t("近24小时")))]):t._e(),!0===t.buttonFlag?a("el-radio-button",{attrs:{label:"3"}},[t._v(t._s(t.$t("近7天")))]):t._e()],1),1==t.buttonFlag?a("span",{staticStyle:{"margin-left":"100px"}},[t._v(t._s(t.$t("选择日期"))+"：")]):t._e(),1==t.buttonFlag?a("l-date",{staticStyle:{width:"200px"},attrs:{size:"mini",dateType:"daterange"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}):t._e(),a("span",{staticStyle:{"margin-left":"32px"}},[t._v(t._s(t.$t("时间粒子"))+"：")]),a("l-select",{staticStyle:{width:"114px"},attrs:{options:t.options,size:"mini"},on:{change:t.handleChangeTime},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),a("div",[a("el-button",{staticStyle:{width:"76px"},attrs:{size:"mini",type:"primary"},on:{click:t.refresh}},[t._v(" "+t._s(t.$t("刷新")))])],1)]),a("div",{staticClass:"buttomTitle"},[a("el-row",[a("el-col",{attrs:{span:2}},[a("p",{staticStyle:{color:"#f1f2f5"}},[t._v("1")])]),a("el-col",{attrs:{span:20}},[a("p",[t._v(t._s(t.$t("CPU使用率"))+"（%）")])]),a("el-col",{attrs:{span:2}}),a("el-col",{attrs:{span:2}})],1)],1),a("div",{staticClass:"buttomImg"},[a("el-row",[a("el-col",{attrs:{span:2}},[a("p",{staticClass:"detail detailTitle"},[t._v(t._s(t.$t("CPU监控")))])]),a("el-col",{attrs:{span:20}},[a("div",{staticClass:"l-rblock",staticStyle:{width:"100%",height:"136px"},attrs:{id:"chart1"}})]),a("el-col",{attrs:{span:2}})],1),a("div",{staticClass:"line",staticStyle:{"marign-bottm":"32px"}})],1),a("div",{staticClass:"buttomTitle"},[a("el-row",[a("el-col",{attrs:{span:2}},[a("p",{staticStyle:{color:"#f1f2f5"}},[t._v("1")])]),a("el-col",{attrs:{span:18}},[a("p",[t._v(t._s(t.$t("内存使用率"))+"（%）")])]),a("el-col",{attrs:{span:2}}),a("el-col",{attrs:{span:2}}),a("el-col",{attrs:{span:2}})],1)],1),a("div",{staticClass:"buttomImg"},[a("el-row",[a("el-col",{attrs:{span:2}},[a("p",{staticClass:"detail detailTitle"},[t._v(t._s(t.$t("内存监控")))])]),a("el-col",{attrs:{span:20}},[a("div",{staticClass:"l-rblock",staticStyle:{width:"100%",height:"136px"},attrs:{id:"chart2"}})]),a("el-col",{attrs:{span:2}})],1),a("div",{staticClass:"line",staticStyle:{"marign-bottm":"74px"}})],1),a("div",{staticClass:"buttomTitle"},[a("el-row",[a("el-col",{attrs:{span:2}},[a("p",{staticStyle:{color:"#f1f2f5"}},[t._v("1")])]),a("el-col",{attrs:{span:18}},[a("p",[t._v(t._s(t.$t("磁盘使用率"))+"（%）")])]),a("el-col",{attrs:{span:2}}),a("el-col",{attrs:{span:2}})],1)],1),a("div",{staticClass:"buttomImg"},[a("el-row",[a("el-col",{attrs:{span:2}},[a("p",{staticClass:"detail detailTitle"},[t._v(t._s(t.$t("磁盘监控")))])]),a("el-col",{attrs:{span:20}},[a("div",{staticClass:"l-rblock",staticStyle:{width:"100%",height:"136px"},attrs:{id:"chart3"}})]),a("el-col",{attrs:{span:2}},[a("p",{staticClass:"detail needCenter"})])],1),a("div",{staticClass:"line"})],1)])])],1)],1)],1)},s=[],o=(a("b0c0"),a("159b"),a("96cf"),a("1da1")),n=window.$api.system.monitor,r={data:function(){var t=this;return{name:"",version:"",ip:"",cpuNumber:0,cpuNumberRemain:100,memoryNumber:0,memoryNumberRemain:100,diskNumber:0,diskNumberRemain:100,colorGreen:"#00B300",colorYellow:"#FF8000",usedThreadCount:null,categoryId:"1",tableLoading:!1,date:this.addDay(0)+" - "+this.addDay(0),time:"10秒",intervalTime:10,intervalId:null,buttonFlag:!1,echartCpu:null,echartMemory:null,echartDisk:null,option:{toolbox:{show:!0,right:24,feature:{saveAsImage:{}}},grid:{left:70,top:22,width:1230,height:94,containLabel:!1},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}},formatter:function(e){var a=e[0].name;return e.forEach((function(e){a+="<br/>",a+='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+e.color+'"></span>',a+=t.$t("CPU使用率")+" ：<b>"+e.value+" %</b>"})),a}},xAxis:{type:"category",boundaryGap:!1,data:[],show:!0,axisLine:{show:!0},axisTick:{show:!0},splitLine:{show:!1}},yAxis:{min:0,max:100,splitNumber:2,interval:50,show:!0,axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!0}},series:[{data:[],type:"line",symbol:"circle",symbolSize:9,itemStyle:{normal:{color:"#5B8FF9"}},lineStyle:{width:2,color:"#5B8FF9"},showSymbol:!1,areaStyle:{opacity:.25,color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#5B8FF9"},{offset:1,color:"#FFFFFF"}],global:!1}},emphasis:{focus:"series"}}]},optionMemory:{toolbox:{show:!0,right:24,feature:{saveAsImage:{}}},grid:{left:70,top:22,width:1230,height:94,containLabel:!1},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}},formatter:function(e){var a=e[0].name;return e.forEach((function(e){a+="<br/>",a+='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+e.color+'"></span>',a+=t.$t("内存使用率")+" ：<b>"+e.value+" %</b>"})),a}},xAxis:{type:"category",boundaryGap:!1,data:[],show:!0,axisLine:{show:!0},axisTick:{show:!0},splitLine:{show:!1}},yAxis:{min:0,max:100,splitNumber:2,interval:50,show:!0,axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!0}},series:[{data:[],symbol:"circle",symbolSize:9,itemStyle:{normal:{color:"#00B300"}},type:"line",lineStyle:{width:2,color:"#00B300"},showSymbol:!1,areaStyle:{opacity:.25,color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#00B300"},{offset:1,color:"#FFFFFF"}],global:!1}},emphasis:{focus:"series"}}]},optionDisk:{toolbox:{show:!0,right:24,feature:{saveAsImage:{}}},grid:{left:70,top:22,width:1230,height:94,containLabel:!1},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}},formatter:function(e){var a=e[0].name;return e.forEach((function(e){a+="<br/>",a+='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+e.color+'"></span>',a+=t.$t("磁盘使用率")+" ：<b>"+e.value+" %</b>"})),a}},xAxis:{type:"category",boundaryGap:!1,data:[],show:!0,axisLine:{show:!0},axisTick:{show:!0},splitLine:{show:!1}},yAxis:{min:0,max:100,splitNumber:2,interval:50,show:!0,axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!0}},series:[{data:[],symbol:"circle",symbolSize:9,itemStyle:{normal:{color:"#FF8000"}},type:"line",lineStyle:{width:2,color:"#FF8000"},showSymbol:!1,areaStyle:{opacity:.25,color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#FF8000"},{offset:1,color:"#FFFFFF"}],global:!1}},emphasis:{focus:"series"}}]}}},created:function(){this.dataRefresh()},mounted:function(){this.initChart(),this.init()},destroyed:function(){this.clear()},computed:{options:function(){return[{value:"10"+this.$t("秒"),label:"10"+this.$t("秒")},{value:"1"+this.$t("分钟"),label:"1"+this.$t("分钟")},{value:"5"+this.$t("分钟"),label:"5"+this.$t("分钟")}]}},methods:{addDay:function(t,e){e=e||new Date;var a=864e5*t,i=new Date(e.getTime()+a),s=i.getFullYear(),o=i.getMonth()+1,n=i.getDate();return s+"-"+o+"-"+n},init:function(){this.loadTableData()},loadTableData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$awaitWraper(n.getData());case 2:a=e.sent,t.name=a.server.machineName,t.version=a.server.osVersion,t.ip=a.server.iPv4,t.cpuNumber=Math.round(a.application.cpu.usagePercent),t.cpuNumberRemain=100-t.cpuNumber,t.memoryNumber=Math.round(a.application.memory.memoryPercent),t.memoryNumberRemain=100-t.memoryNumber,t.diskNumber=Math.round(100*a.application.disk.diskPercent),t.diskNumberRemain=100-t.diskNumber,t.usedThreadCount=a.application.thread.usedThreadCount,t.option.xAxis.data.length<=20?(t.option.xAxis.data.push(a.server.systemDateTime),t.option.series[0].data.push(Math.round(a.application.cpu.usagePercent)),t.optionMemory.xAxis.data.push(a.server.systemDateTime),t.optionMemory.series[0].data.push(Math.round(a.application.memory.memoryPercent)),t.optionDisk.xAxis.data.push(a.server.systemDateTime),t.optionDisk.series[0].data.push(Math.round(100*a.application.disk.diskPercent))):(t.option.xAxis.data.shift(),t.option.xAxis.data.push(a.server.systemDateTime),t.option.series[0].data.shift(),t.option.series[0].data.push(Math.round(a.application.cpu.usagePercent)),t.optionMemory.xAxis.data.shift(),t.optionMemory.xAxis.data.push(a.server.systemDateTime),t.optionMemory.series[0].data.shift(),t.optionMemory.series[0].data.push(Math.round(a.application.memory.memoryPercent)),t.optionDisk.xAxis.data.shift(),t.optionDisk.xAxis.data.push(a.server.systemDateTime),t.optionDisk.series[0].data.shift(),t.optionDisk.series[0].data.push(Math.round(100*a.application.disk.diskPercent))),t.initChart();case 15:case"end":return e.stop()}}),e)})))()},clearData:function(){this.name="",this.version="",this.ip="",this.cpuNumber=0,this.cpuNumberRemain=100,this.memoryNumber=0,this.memoryNumberRemain=100,this.diskNumber=0,this.diskNumberRemain=100,this.option.xAxis.data=[],this.option.series[0].data=[],this.optionMemory.xAxis.data=[],this.optionMemory.series[0].data=[],this.optionDisk.xAxis.data=[],this.optionDisk.series[0].data=[]},handleChangeTime:function(){this.time=="10"+this.$t("秒")?(this.intervalTime=10,this.clear(),this.clearData(),this.loadTableData(),this.dataRefresh()):this.time=="1"+this.$t("分钟")?(this.intervalTime=60,this.clear(),this.clearData(),this.loadTableData(),this.dataRefresh()):this.time=="5"+this.$t("分钟")&&(this.intervalTime=300,this.clear(),this.clearData(),this.loadTableData(),this.dataRefresh())},refresh:function(){this.clear(),this.clearData(),this.loadTableData(),this.dataRefresh()},handleCaregoryChange:function(){},dataRefresh:function(){var t=this;null==this.intervalId&&(this.intervalId=setInterval((function(){t.loadTableData()}),1e3*this.intervalTime))},clear:function(){clearInterval(this.intervalId),this.intervalId=null},initChart:function(){this.echartCpu=window.echarts.init(document.getElementById("chart1")),this.echartCpu.setOption(this.option),window.onresize=this.echartCpu.resize,this.echartMemory=window.echarts.init(document.getElementById("chart2")),this.echartMemory.setOption(this.optionMemory),this.echartDisk=window.echarts.init(document.getElementById("chart3")),this.echartDisk.setOption(this.optionDisk)}}},l=r,c=(a("d9767"),a("2877")),d=Object(c["a"])(l,i,s,!1,null,"1f079a78",null);e["default"]=d.exports},ae38:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("l-drawer",{ref:"formDialog",attrs:{title:t.$t("查看节点表单")+"【"+t.title+"】",visible:t.midVisible,showOk:!1,showClose:!1,size:"800px"},on:{"update:visible":function(e){t.midVisible=e},closed:t.handleClosed,opened:t.handleOpened}},[t.showForm?["1"==t.formType?a("l-form-viewer",{ref:"wfForm",attrs:{formInfo:t.formInfo,isWfForm:!0,authFieldsMap:t.formAuthFieldsMap}}):a(t.sysFormComponent,{ref:"wfForm",tag:"component",attrs:{requiredMap:t.formRequiredMap,authFieldsMap:t.formAuthFieldsMap,isWfForm:!0}})]:t._e()],2)},s=[],o=(a("96cf"),a("1da1")),n=a("94a0"),r={mixins:[Object(n["a"])()],data:function(){return{currentNode:{},processId:"",midVisible:!1,title:""}},methods:{open:function(t,e,a){this.title=t,this.currentNode=e,this.processId=a,this.midVisible=!0},close:function(){this.midVisible=!1},handleOpened:function(t,e){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:t("加载表单信息..."),a.loadForm(a.currentNode,a.processId,{},!0,!0),e();case 3:case"end":return i.stop()}}),i)})))()},handleClosed:function(){this.resetWfForm&&this.resetWfForm()}}},l=r,c=a("2877"),d=Object(c["a"])(l,i,s,!1,null,null,null);e["default"]=d.exports},b22b:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.lr_loadPage?t._e():a("l-layout",{staticClass:"l-tab-page"},[a("l-panel",{scopedSlots:t._u([{key:"toolLeft",fn:function(){return[a("l-query2",{attrs:{labelWidth:0,popoverWidth:240,items:t.queryItems,formData:t.queryData,loading:t.tableLoading},on:{search:t.handleSearch},scopedSlots:t._u([{key:"type",fn:function(){return[a("el-radio-group",{attrs:{size:"mini"},on:{change:t.handleSearch},model:{value:t.queryData.type,callback:function(e){t.$set(t.queryData,"type",e)},expression:"queryData.type"}},[a("el-radio-button",{attrs:{label:"1"}},[t._v(t._s(t.$t("未完成")))]),a("el-radio-button",{attrs:{label:"4"}},[t._v(t._s(t.$t("完成")))]),a("el-radio-button",{attrs:{label:"3"}},[t._v(t._s(t.$t("作废")))])],1)]},proxy:!0},{key:"keyWord",fn:function(){return[a("el-input",{attrs:{placeholder:t.$t("请输入查询关键字")},model:{value:t.queryData.keyWord,callback:function(e){t.$set(t.queryData,"keyWord",e)},expression:"queryData.keyWord"}})]},proxy:!0},{key:"seachDate",fn:function(){return[a("l-date",{attrs:{format:"yyyy-MM-dd",dateType:"daterange",startPlaceholder:t.$t("开始时间"),endPlaceholder:t.$t("结束时间")},model:{value:t.queryData.seachDate,callback:function(e){t.$set(t.queryData,"seachDate",e)},expression:"queryData.seachDate"}})]},proxy:!0}],null,!1,3206922380)})]},proxy:!0},{key:"toolRight",fn:function(){return[a("l-tool-btns",{attrs:{hasAdd:!1}},[a("l-excel-btns")],1)]},proxy:!0}],null,!1,266250692)},[a("l-table",{ref:"mainTable",attrs:{loading:t.tableLoading,columns:t.columns,dataSource:t.tableData,isPage:!0,pageTotal:t.tableTotal,tablePage:t.tableCurrentPage},on:{"update:tablePage":function(e){t.tableCurrentPage=e},"update:table-page":function(e){t.tableCurrentPage=e},loadPageData:t.turnTablePage},scopedSlots:t._u([{key:"f_Title",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return t.handleLook(e.row)}}},[t._v(t._s(e.row.f_Title))])]}},{key:"f_IsFinished",fn:function(e){return[3==e.row.f_EnabledMark?a("el-tag",{attrs:{size:"mini",type:"danger"}},[t._v(t._s(t.$t("作废")))]):1==e.row.f_IsFinished?a("el-tag",{attrs:{size:"mini",type:"warning"}},[t._v(t._s(t.$t("结束")))]):a("el-tag",{attrs:{size:"mini",type:"success"}},[t._v(t._s(t.$t("运行中")))])]}},{key:"f_CreateDate",fn:function(e){return[t._v(" "+t._s(t.lr_dateFormat(e.row.f_CreateDate))+" ")]}}],null,!1,3658327214)},[3!=t.queryData.type?a("l-table-btns",{attrs:{isFixed:!1,filterBtns:t.filterBtns,btns:t.tableBtns},on:{click:t.lr_handleTableBtnClick}}):t._e()],1)],1),a("look-form",{ref:"form",attrs:{type:"lookmy",params:{processId:t.processId},isLoadFormData:!0,title:t.title,visible:t.visible},on:{"update:visible":function(e){t.visible=e}}}),a("l-dialog",{attrs:{title:t.$t("指派审核人")+"【"+t.title+"】",visible:t.pointVisible,width:500,height:400},on:{"update:visible":function(e){t.pointVisible=e},ok:t.handlePointSave,closed:t.handlePointCloseForm,opened:t.handlePointOpenForm}},[a("point-form",{ref:"PointForm",attrs:{nodeList:t.nodeList}})],1)],1)},s=[],o=(a("caad"),a("a434"),a("159b"),a("96cf"),a("1da1")),n=a("9752"),r=a("a2e1"),l=a("d0b3"),c=window.$api.workflow.process,d={components:{LookForm:n["default"],PointForm:r["default"]},data:function(){return{lr_isPage:!0,queryItems:[{prop:"type",span:24},{prop:"seachDate",span:24},{prop:"keyWord",span:24}],queryData:{type:"1",keyWord:"",seachDate:""},tableLoading:!1,tableData:[],tableTotal:0,tableCurrentPage:1,tablePageSize:50,columns:[{label:"标题",prop:"f_Title",minWidth:100,align:"left"},{label:"流程模版",prop:"f_SchemeName",minWidth:60,align:"left"},{label:"状态",prop:"f_IsFinished",width:100,align:"center"},{label:"提交人",prop:"f_UserId",width:200,align:"left",dataType:"user"},{label:"提交时间",prop:"f_CreateDate",width:160,align:"left"}],tableBtns:[{prop:"Point",label:"指派审核人",width:100},{prop:"Delete",label:"作废",width:40}],processId:"",title:"",visible:!1,pointVisible:!1,nodeList:[]}},computed:{},mounted:function(){this.init()},methods:{init:function(){this.loadTableData()},handleSearch:function(){this.loadTableData()},turnTablePage:function(t){var e=t.rows;this.tablePageSize=e,this.loadTableData(!0)},loadTableData:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t||(e.tableCurrentPage=1),e.tableLoading=!0,i=e.$deepClone(e.queryData),i.rows=e.tablePageSize,i.page=e.tableCurrentPage,i.sidx="F_CreateDate DESC",a.next=8,e.$awaitWraper(c.getMonitorPage(i));case 8:s=a.sent,null!=s?(e.tableData=s.rows,e.tableTotal=s.records):e.tableData=[],e.tableLoading=!1;case 11:case"end":return a.stop()}}),a)})))()},handleLook:function(t){this.processId=t.f_Id,this.title=t.f_Title,this.visible=!0},handleDelete:function(t,e){var a=this;this.$confirm(this.$t("是否作废此流程?"),this.$t("提示"),{confirmButtonText:this.$t("确定"),cancelButtonText:this.$t("取消"),type:"warning"}).then((function(){a.tableData.splice(t,1),a.tableTotal--,c.deleteProcess(e.f_Id).then((function(){a.$message({type:"success",message:a.$t("作废成功!")}),l["a"].delete(e)}))})).catch((function(){a.$message({type:"info",message:a.$t("已取消删除")})}))},filterBtns:function(t,e){return 1==t.f_IsFinished?[{prop:"Delete",label:this.$t("作废")}]:e},handlePoint:function(t,e){this.processId=e.f_Id,this.title=e.f_Title,this.pointVisible=!0},handlePointOpenForm:function(t,e){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var s,o,n,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t("加载流程信息..."),i.next=3,a.$awaitWraper(c.get(a.processId));case 3:for(r in s=i.sent,o={},s.tasks.forEach((function(t){[1,3,5,6].includes(t.f_Type)&&(o[t.f_UnitId]=o[t.f_UnitId]||{unitId:t.f_UnitId,name:t.f_UnitName,userIds:[]},o[t.f_UnitId].userIds.push(t.f_UserId))})),n=[],o)n.push(o[r]);a.nodeList=n,a.$refs.PointForm.setForm(n),e();case 11:case"end":return i.stop()}}),i)})))()},handlePointCloseForm:function(){this.$refs.PointForm.resetForm()},handlePointSave:function(t,e){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var s,o,n,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:for(n in s=a.$refs.PointForm.getForm(),o={list:[]},s)o.list.push({unitId:n,userIds:s[n]});if(!(o.list.length>0)){i.next=10;break}return t("指派流程审核人..."),i.next=7,a.$awaitWraper(c.pointProcess(a.processId,o));case 7:r=i.sent,r&&a.$message({type:"success",message:a.$t("指派审核人成功!")}),e();case 10:a.pointVisible=!1;case 11:case"end":return i.stop()}}),i)})))()}}},u=d,p=a("2877"),m=Object(p["a"])(u,i,s,!1,null,null,null);e["default"]=m.exports},d9767:function(t,e,a){"use strict";a("1deb")}}]);