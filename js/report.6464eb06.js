(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["report"],{"69c7":function(t,e,a){"use strict";a("8a37")},"8a37":function(t,e,a){},d646:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.lr_loadPage?t._e():a("l-layout",{staticClass:"l-tab-page"},[a("l-panel",{staticClass:"l-panel-overflow",attrs:{title:t.title}},["2"==t.data.tempStyle||"3"==t.data.tempStyle?a("div",{staticClass:"report-chart"},[a("l-echarts",{ref:"main"})],1):t._e(),"1"==t.data.tempStyle||"3"==t.data.tempStyle?a("l-table",{ref:"mainTable",attrs:{height:"notset",columns:t.columns,dataSource:t.tableData}}):t._e()],1)],1)},i=[],n=(a("99af"),a("b0c0"),a("159b"),a("96cf"),a("1da1")),s=a("5530"),o=a("5880"),p=window.$api.report.scheme,u={data:function(){return{lr_isPage:!1,tableData:[],columns:[],ispreview:!1,id:"",data:{},ready:!1,timer:null,barOption:{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{data:[],type:"bar"}]},lineOption:{xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{data:[],type:"line"}]},pieOption:{tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"",type:"pie",radius:"50%",data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}},computed:Object(s["a"])(Object(s["a"])({},Object(o["mapGetters"])(["screen"])),{},{title:function(){return this.ispreview?"".concat(this.$t("当前报表连接"),":/myreport/").concat(this.id):""}}),watch:{lr_isCollapse:function(){var t=this;setTimeout((function(){t.$refs.main&&t.$refs.main.updateChart()}),100)},screen:function(){var t=this;setTimeout((function(){t.$refs.main&&t.$refs.main.updateChart()}),100)},$route:{handler:function(t){"myreport"==t.name&&t.params.routerPath&&this.init(t.params.routerPath)},immediate:!0}},methods:{init:function(t,e){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a.ready=!1,a.id=t,a.ispreview=!!e,r.next=5,a.$awaitWraper(p.getData(t));case 5:i=r.sent,i.id==a.id&&(a.data=i||{},"1"!=i.tempStyle&&"3"!=i.tempStyle||a.refreshTable(i.listData),a.ready=!0,"2"!=i.tempStyle&&"3"!=i.tempStyle||a.refreshChart(i.chartType,i.chartData));case 7:case"end":return r.stop()}}),r)})))()},refreshTable:function(t){t=t||[],this.tableData=t;var e=[];if(t.length>0)for(var a in t[0])e.push({prop:a,label:a,minWidth:120});this.columns=e},refreshChart:function(t,e){var a=this;null==this.timer&&(this.timer=setTimeout(Object(n["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:r.t0=t,r.next="bar"===r.t0?3:"line"===r.t0?7:"pie"===r.t0?11:15;break;case 3:return r.next=5,a.getBarOption(e);case 5:return i=r.sent,r.abrupt("break",15);case 7:return r.next=9,a.getLineOption(e);case 9:return i=r.sent,r.abrupt("break",15);case 11:return r.next=13,a.getOption(e);case 13:return i=r.sent,r.abrupt("break",15);case 15:a.$refs.main.updateChart(i),a.timer=null;case 17:case"end":return r.stop()}}),r)}))),100))},getBarOption:function(t){t=t||[],this.barOption.xAxis={type:"category",data:[]},this.barOption.yAxis={type:"value"};var e=[],a=[];return t.forEach((function(t){e.push(t.name),a.push(t.value)})),this.barOption.series[0].data=a,this.barOption.xAxis.data=e,this.barOption},getLineOption:function(t){t=t||[],this.lineOption.xAxis={type:"category",data:[]},this.lineOption.yAxis={type:"value"};var e=[],a=[];return t.forEach((function(t){e.push(t.name),a.push(t.value)})),this.lineOption.series[0].data=a,this.lineOption.xAxis.data=e,this.lineOption},getOption:function(t){return this.pieOption.series[0].data=t||[],this.pieOption}}},l=u,c=(a("69c7"),a("2877")),h=Object(c["a"])(l,r,i,!1,null,null,null);e["default"]=h.exports}}]);