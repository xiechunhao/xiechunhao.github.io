(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["purchase-ticketRecords"],{"6fb1":function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("l-panel",{staticStyle:{padding:"0px"},scopedSlots:e._u([{key:"toolLeft",fn:function(){return[t("l-query2",{attrs:{items:e.queryItems,formData:e.queryData,loading:e.tableLoading},on:{search:e.handleSearch},scopedSlots:e._u([{key:"f_Theme",fn:function(){return[t("el-input",{attrs:{placeholder:e.$t("请输入")},model:{value:e.queryData.f_Theme,callback:function(a){e.$set(e.queryData,"f_Theme",a)},expression:"queryData.f_Theme"}})]},proxy:!0},{key:"f_DateQRange",fn:function(){return[t("l-date",{attrs:{format:"yyyy-MM-dd",dateType:"daterange",placeholder:e.$t("请选择")},model:{value:e.queryData.f_DateQRange,callback:function(a){e.$set(e.queryData,"f_DateQRange",a)},expression:"queryData.f_DateQRange"}})]},proxy:!0},{key:"f_Name",fn:function(){return[t("l-select",{attrs:{options:e.f_NameOptions},model:{value:e.queryData.f_Name,callback:function(a){e.$set(e.queryData,"f_Name",a)},expression:"queryData.f_Name"}})]},proxy:!0}])})]},proxy:!0}])},[t("l-table",{ref:"mainTable",attrs:{loading:e.tableLoading,columns:e.columns,dataSource:e.tableData,isPage:!0,pageTotal:e.tableTotal,tablePage:e.tableCurrentPage},on:{"update:tablePage":function(a){e.tableCurrentPage=a},"update:table-page":function(a){e.tableCurrentPage=a},loadPageData:e.turnTablePage}})],1)},r=[],l=(t("96cf"),t("1da1")),o=window.$api.erpcase.ticketlog,i={props:{purchaseId:String},data:function(){return{queryData:{f_Theme:"",f_DateQRange:"",f_Name:""},queryItems:[{label:"主题",prop:"f_Theme"},{label:"日期",prop:"f_DateQRange"},{label:"开票方",prop:"f_Name"}],tableLoading:!1,tableData:[],tableTotal:0,tableCurrentPage:1,tablePageSize:50,columns:[{label:"到票编号",prop:"f_Number",minWidth:120,align:"left",dataType:"encode",isNotAutoWrap:!0},{label:"到票主题",prop:"f_Theme",minWidth:150,align:"left",dataType:"input",isNotAutoWrap:!0},{label:"到票日期",prop:"f_Date",minWidth:90,align:"left",dataType:"datetime",format:"yyyy-MM-dd",isNotAutoWrap:!0},{label:"开票方",prop:"f_Name",minWidth:140,align:"left",dataType:"dataSource",dataCode:"ERP_Suppliers",valueKey:"f_id",labelKey:"f_name",isNotAutoWrap:!0},{label:"发票号码",prop:"f_TicketNum",minWidth:150,align:"left",dataType:"input",isNotAutoWrap:!0},{label:"发票金额",prop:"f_TicketAmount",minWidth:80,align:"left",dataType:"input"}]}},computed:{f_NameOptions:function(){return this.lr_loadDataSourceData("ERP_Suppliers"),this.lr_DataSourceOptions(this.lr_dataSourceData["ERP_Suppliers"],"f_id","f_name")}},watch:{purchaseId:{handler:function(){this.init()},immediate:!0}},methods:{init:function(){this.loadTableData()},handleSearch:function(){this.loadTableData()},turnTablePage:function(e){var a=e.rows;this.tablePageSize=a,this.loadTableData(!0)},loadTableData:function(e){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e||(a.tableCurrentPage=1),a.tableLoading=!0,n=a.$deepClone(a.queryData),n.rows=a.tablePageSize,n.page=a.tableCurrentPage,n.sidx="F_CreateDate DESC",n.f_PurchaseId=a.purchaseId,t.next=9,a.$awaitWraper(o.getPage(n));case 9:r=t.sent,null!=r?(a.tableData=r.rows,a.tableTotal=r.records):a.tableData=[],a.tableLoading=!1;case 12:case"end":return t.stop()}}),t)})))()}}},u=i,p=t("2877"),s=Object(p["a"])(u,n,r,!1,null,null,null);a["default"]=s.exports}}]);