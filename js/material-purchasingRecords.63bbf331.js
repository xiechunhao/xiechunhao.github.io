(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["material-purchasingRecords"],{e46f:function(e,a,t){"use strict";t.r(a);var l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("l-panel",{staticStyle:{padding:"0px"},scopedSlots:e._u([{key:"toolLeft",fn:function(){return[t("div",{staticClass:"l-panel--item"},[t("el-input",{attrs:{placeholder:"输入内容",size:"mini"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.handleSearch.apply(null,arguments)}},model:{value:e.searchWord,callback:function(a){e.searchWord=a},expression:"searchWord"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.handleSearch},slot:"append"})],1)],1)]},proxy:!0}])},[t("l-table",{ref:"mainTable",attrs:{loading:e.tableLoading,columns:e.columns,dataSource:e.tableData,isPage:!0,pageTotal:e.tableTotal,tablePage:e.tableCurrentPage},on:{"update:tablePage":function(a){e.tableCurrentPage=a},"update:table-page":function(a){e.tableCurrentPage=a},loadPageData:e.turnTablePage}})],1)},n=[],r=(t("96cf"),t("1da1")),i=window.$api.erpcase.purchase,o={props:{materialNumber:String},data:function(){return{searchWord:"",tableLoading:!1,tableData:[],tableTotal:0,tableCurrentPage:1,tablePageSize:50,columns:[{label:"采购单号",prop:"f_Number",minWidth:120,align:"left"},{label:"采购主题",prop:"f_Theme",minWidth:120,align:"left"},{label:"采购日期",prop:"f_PurchaseDate",width:120,align:"left",dataType:"datetime",format:"yyyy-MM-dd"},{label:"采购人员",prop:"f_PurchasePerson",width:100,align:"left",dataType:"user"},{label:"采购部门",prop:"f_PurchaseDep",align:"left",dataType:"department"},{label:"供应商",prop:"f_SupplierName",align:"left",dataType:"dataSource",dataCode:"ERP_Suppliers",valueKey:"f_id",labelKey:"f_name"},{label:"采购数量",prop:"f_CountSum",width:100,align:"left"},{label:"采购金额",prop:"f_AmountSum",width:100,align:"left"}]}},mounted:function(){this.init()},methods:{init:function(){this.loadTableData()},handleSearch:function(){this.loadTableData()},turnTablePage:function(e){var a=e.rows;this.tablePageSize=a,this.loadTableData(!0)},loadTableData:function(e){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var l,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e||(a.tableCurrentPage=1),a.tableLoading=!0,l={},l.keyword=a.searchWord,l.rows=a.tablePageSize,l.page=a.tableCurrentPage,l.sidx="f_PurchaseDate DESC",t.next=9,a.$awaitWraper(i.logs(a.materialNumber,l));case 9:n=t.sent,null!=n?(a.tableData=n.rows,a.tableTotal=n.records):a.tableData=[],a.tableLoading=!1;case 12:case"end":return t.stop()}}),t)})))()}}},u=o,p=t("2877"),s=Object(p["a"])(u,l,n,!1,null,null,null);a["default"]=s.exports}}]);