(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["material-deliveryRecords"],{7790:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("l-panel",{staticStyle:{padding:"0px"},scopedSlots:e._u([{key:"toolLeft",fn:function(){return[t("l-query2",{attrs:{items:e.queryItems,formData:e.queryData,loading:e.tableLoading},on:{search:e.handleSearch},scopedSlots:e._u([{key:"f_Theme",fn:function(){return[t("el-input",{attrs:{placeholder:e.$t("请输入")},model:{value:e.queryData.f_Theme,callback:function(a){e.$set(e.queryData,"f_Theme",a)},expression:"queryData.f_Theme"}})]},proxy:!0},{key:"f_DateQRange",fn:function(){return[t("l-date",{attrs:{format:"yyyy-MM-dd",dateType:"daterange",placeholder:e.$t("请选择")},model:{value:e.queryData.f_DateQRange,callback:function(a){e.$set(e.queryData,"f_DateQRange",a)},expression:"queryData.f_DateQRange"}})]},proxy:!0},{key:"f_Store",fn:function(){return[t("l-select",{attrs:{options:e.storeOptions,placeholder:e.$t("请选择")},model:{value:e.queryData.f_Store,callback:function(a){e.$set(e.queryData,"f_Store",a)},expression:"queryData.f_Store"}})]},proxy:!0}])})]},proxy:!0}])},[t("l-table",{ref:"mainTable",attrs:{loading:e.tableLoading,columns:e.columns,dataSource:e.tableData,isPage:!0,pageTotal:e.tableTotal,tablePage:e.tableCurrentPage},on:{"update:tablePage":function(a){e.tableCurrentPage=a},"update:table-page":function(a){e.tableCurrentPage=a},loadPageData:e.turnTablePage}})],1)},l=[],n=(t("96cf"),t("1da1")),o=window.$api.erpcase.outstorelog,i={props:{materialId:String},data:function(){return{queryData:{f_Theme:"",f_DateQRange:"",f_Store:""},queryItems:[{label:"主题",prop:"f_Theme"},{label:"仓库",prop:"f_Store"},{label:"日期",prop:"f_DateQRange"}],tableLoading:!1,tableData:[],tableTotal:0,tableCurrentPage:1,tablePageSize:50,columns:[{label:"出库单号",prop:"f_Number",minWidth:120,align:"left"},{label:"出库主题",prop:"f_Theme",minWidth:120,align:"left",dataType:"input"},{label:"出库日期",prop:"f_Date",width:120,align:"left",dataType:"datetime",format:"yyyy-MM-dd"},{label:"数量",prop:"f_Count",width:100,align:"left"},{label:"出库人员",prop:"f_Person",width:120,align:"left",dataType:"user"},{label:"出库仓库",prop:"f_Store",width:120,align:"left",dataType:"dataSource",dataCode:"ERP_WareHouses",valueKey:"f_id",labelKey:"f_name",isNotAutoWrap:!0}]}},computed:{storeOptions:function(){var e=this.lr_DataSource("ERP_WareHouses");return this.lr_DataSourceOptions(e,"f_id","f_name")}},watch:{materialId:{handler:function(){this.init()},immediate:!0}},methods:{init:function(){this.loadTableData()},handleSearch:function(){this.loadTableData()},turnTablePage:function(e){var a=e.rows;this.tablePageSize=a,this.loadTableData(!0)},loadTableData:function(e){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e||(a.tableCurrentPage=1),a.tableLoading=!0,r=a.$deepClone(a.queryData),r.f_MaterialId=a.materialId,r.rows=a.tablePageSize,r.page=a.tableCurrentPage,r.sidx="f_Date DESC",t.next=9,a.$awaitWraper(o.getPage(r));case 9:l=t.sent,null!=l?(a.tableData=l.rows,a.tableTotal=l.records):a.tableData=[],a.tableLoading=!1;case 12:case"end":return t.stop()}}),t)})))()}}},u=i,s=t("2877"),d=Object(s["a"])(u,r,l,!1,null,null,null);a["default"]=d.exports}}]);