(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["desktop~module~views-module-index~views-setting-index"],{"1cec":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data._isInit?a("l-data-panel",{attrs:{label:t.config.title}},[a("div",{staticClass:"l-module-wraper"},t._l(t.showMdules,(function(e){return a("div",{key:e.id,staticClass:"l-data-board l-data-board-module",on:{click:function(a){return t.handleClick(e.moduleId)}}},[a("div",{staticClass:"l-data-board__icon"},[a("div",{staticClass:"l-data-board-module-inner",style:{"background-color":e.color}}),a("i",{class:t.getIcon(e.moduleId),style:{color:e.color}})]),a("div",{staticClass:"l-data-board__text"},[a("div",{staticClass:"l-data-board__title"},[t._v(" "+t._s(t.$t(t.getName(e.moduleId)))+" ")])])])})),0)]):t._e()},n=[],o=(a("4de4"),a("7db0"),a("c740"),a("5530")),r=a("5880"),s=a("4b9a"),l={props:["data","isPreview"],mixins:[Object(s["a"])()],data:function(){return{}},computed:Object(o["a"])(Object(o["a"])({},Object(r["mapGetters"])(["modules"])),{},{myModules:function(){var t=this;return 1==this.loginInfo.f_SecurityLevel||this.isPreview?this.modules.filter((function(t){return 1==t.f_EnabledMark})):this.modules.filter((function(e){if(1==e.f_EnabledMark){var a=t.loginInfo.moduleAuthIds||[];return a.indexOf(e.f_ModuleId)>-1}return!1}))},showMdules:function(){var t=this;return this.config.list.filter((function(e){return-1!=t.myModules.findIndex((function(t){return t.f_EnCode==e.moduleId}))}))}}),methods:{getName:function(t){return this.myModules.find((function(e){return e.f_EnCode==t})).f_FullName},getIcon:function(t){return this.myModules.find((function(e){return e.f_EnCode==t})).f_Icon},handleClick:function(t){if(!this.isPreview){var e=this.myModules.find((function(e){return e.f_EnCode==t}));e&&this.$router.$lrRouter.goto(e)}}}},c=l,u=(a("274e"),a("2877")),d=Object(u["a"])(c,i,n,!1,null,null,null);e["default"]=d.exports},"244b":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data._isInit?a("l-data-panel",{attrs:{label:t.config.title},scopedSlots:t._u([{key:"title",fn:function(){return t._l(t.config.dataList,(function(e,i){return a("div",{key:i,class:["learun-bi-panel-title-item",{active:i==t.showDataIndex}],style:{color:t.config.qNameColor,"background-color":i==t.showDataIndex?t.config.qNameActiveColor:void 0},on:{click:function(e){return t.handleQClick(i)}}},[t._v(" "+t._s(e.name)+" ")])}))},proxy:!0}],null,!1,128346061)},[a("div",{staticClass:"l-rblock",style:{"padding-top":t.config.isSummary?"86px":void 0}},[t.config.isSummary?a("div",{staticClass:"learun-echarts-tag"},[a("div",{staticClass:"learun-echarts-tag-content"},[a("div",{staticClass:"learun-echarts-tag-num"},[t._v(t._s(t.summaryNum.toFixed(2))+t._s(t.config.summaryUnit))]),a("div",{staticClass:"learun-echarts-tag-label"},[t._v(t._s(t.config.summaryLabel))])])]):t._e(),a("div",{staticClass:"l-rblock"},[a("l-echarts",{ref:"main"})],1)])]):t._e()},n=[],o=(a("b0c0"),a("159b"),a("bc84")),r={mixins:[Object(o["a"])()],data:function(){return{option:{},summaryNum:0}},methods:{getOption:function(){var t=this;this.summaryNum=0;var e,a,i=this.config.dataList,n=this.echarts,o=n.isX,r=n.xAxis,s=n.yAxis,l=[];o?(e=this.setY(s),a=this.setX(r)):(e=this.setX(r),a=this.setY(s));var c=this.showData||[],u=i[this.showDataIndex],d=u.labelKey,h=u.valueKeys,f=[];if(d){var m={};for(var p in c.forEach((function(e,a){h.forEach((function(i,n){var r=i.n,l=i.k,c=i.t,u=i.y;if(l){m[n]=m[n]||{name:r,data:[],type:"bar"==c?"bar":"line",label:t.getLabel(t.label)},"bar"==c?t.setBar(m[n],t.series.bar,i):"pictorialBar"==c?t.setPictorialBar(m[n],t.series.pictorialBar,i):t.setLine(m[n],t.series.line,i);var h=[];o?(h.push(e[l]),h.push(e[d]),u&&s.length>u&&(m[n].xAxisIndex=u)):(h.push(e[d]),h.push(e[l]),u&&s.length>u&&(m[n].yAxisIndex=u)),m[n].data.push(h),t.summaryNum+=e[l]}if(0==a){var p={name:r};("none"==t.legend.itemIcon||"bar"==c&&t.legend.itemIcon)&&(p.icon=t.legend.itemIcon),f.push(p)}}))})),m)l.push(m[p])}return this.option.legend=this.getLegend(),this.option.legend.data=f,this.option.tooltip=this.setToolTip(this.echarts.tooltip),this.echarts.grid&&(this.option.grid=this.getGrid(this.echarts.grid)),this.option.xAxis=e,this.option.yAxis=a,this.option.series=l,this.option},setX:function(t){var e=t.type,a=t.axisLine,i=t.position,n=t.axisLabel,o=t.name,r=t.nameLocation,s=t.nameTextStyle,l={type:e||"category",axisLine:a,axisLabel:{},name:o,nameLocation:r,nameTextStyle:s};return this.echarts.isX?0==i?l.position="left":1==i&&(l.position="right"):0==i?l.position="bottom":1==i&&(l.position="top"),n.formatter&&(l.axisLabel.formatter=n.formatter),n.color&&(l.axisLabel.color=n.color),l},setY:function(t){var e=this,a=[];return(t||[]).forEach((function(t){var i=t.name,n=t.type,o=t.position,r=t.nameLocation,s=t.nameTextStyle,l=t.axisLine,c=t.axisLabel,u=t.min,d=t.max,h=t.interval,f={name:i,type:n,nameLocation:r,nameTextStyle:s,axisLine:l,axisLabel:{}};c.formatter&&(f.axisLabel.formatter=c.formatter),c.color&&(f.axisLabel.color=c.color),void 0!=u&&(f.min=u),d&&(f.max=d),h&&(f.interval=h),e.echarts.isX?0==o?f.position="bottom":1==o&&(f.position="top"):0==o?f.position="left":1==o&&(f.position="right"),a.push(f)})),a},setBar:function(t,e,a){var i=e.barWidth,n=e.isStack,o=e.label,r=a.c,s=a.c2,l=a.e,c=a.ec1,u=a.ec2;t.barWidth=i,n&&(t.stack="all"),t.label=o,t.itemStyle={color:this.getColor(r,s)},l&&(t.emphasis={disabled:!1,itemStyle:{color:this.getColor(c,u)}})},setLine:function(t,e,a){var i=e.smooth,n=e.isArea,o=e.areaColorStart,r=e.areaColorEnd,s=e.isStack,l=e.showSymbol,c=a.c,u=a.isA,d=a.ac1,h=a.ac2;t.smooth=i,(n||u)&&(t.areaStyle={},o||(o=d||c),t.areaStyle.color=this.getColor(d||o,h||r)),s&&(t.stack="all"),c&&(t.itemStyle={color:c}),t.showSymbol=l},setPictorialBar:function(t,e,a){var i=e.barWidth,n=a.c,o=a.c2,r=a.e,s=a.ec1,l=a.ec2;t.barWidth=i,t.symbol="path://M0,10 L10,10 C5.5,10 5.5,5 5,0 C4.5,5 4.5,10 0,10 z",t.type="pictorialBar",t.itemStyle={color:this.getColor(n,o)},r&&(t.emphasis={disabled:!1,itemStyle:{color:this.getColor(s,l)}})},setToolTip:function(t){var e=t.trigger,a=t.axisPointer,i={trigger:e||"axis",axisPointer:a};return i}}},s=r,l=(a("2c99"),a("2877")),c=Object(l["a"])(s,i,n,!1,null,"8d279fee",null);e["default"]=c.exports},"274e":function(t,e,a){"use strict";a("3158")},"2c4f":function(t,e,a){},"2c99":function(t,e,a){"use strict";a("2c4f")},3158:function(t,e,a){},"35e2":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data._isInit?a("l-data-panel",{attrs:{label:t.config.title}},[a("div",{staticClass:"l-data-board l-rblock",staticStyle:{"box-shadow":"none",float:"left",width:"33.333%"},on:{click:function(e){return t.handleClick(1)}}},[a("div",{staticClass:"l-data-board__icon",style:{color:"#FF0033"}},[a("div",{staticClass:"l-data-board__icon__bg",style:{"background-color":"#FF0033"}}),a("i",{staticClass:"el-icon-s-order"})]),a("div",{staticClass:"l-data-board__text"},[a("div",{staticClass:"l-data-board__num"},[a("l-count-up",{attrs:{end:t.nCompletedNum}})],1),a("div",{staticClass:"l-data-board__title"},[t._v(t._s(t.$t("待办任务")))])])]),a("div",{staticClass:"l-data-board l-rblock",staticStyle:{"box-shadow":"none",float:"left",width:"33.333%"},on:{click:function(e){return t.handleClick(2)}}},[a("div",{staticClass:"l-data-board__icon",style:{color:"#FF8000"}},[a("div",{staticClass:"l-data-board__icon__bg",style:{"background-color":"#FF8000"}}),a("i",{staticClass:"learun-icon-entrust"})]),a("div",{staticClass:"l-data-board__text"},[a("div",{staticClass:"l-data-board__num"},[a("l-count-up",{attrs:{end:t.delegateNum}})],1),a("div",{staticClass:"l-data-board__title"},[t._v(t._s(t.$t("委托任务")))])])]),a("div",{staticClass:"l-data-board l-rblock",staticStyle:{"box-shadow":"none",float:"left",width:"33.333%"},on:{click:function(e){return t.handleClick(3)}}},[a("div",{staticClass:"l-data-board__icon",style:{color:"#6FC86F"}},[a("div",{staticClass:"l-data-board__icon__bg",style:{"background-color":"#6FC86F"}}),a("i",{staticClass:"el-icon-finished"})]),a("div",{staticClass:"l-data-board__text"},[a("div",{staticClass:"l-data-board__num"},[a("l-count-up",{attrs:{end:t.completedNum}})],1),a("div",{staticClass:"l-data-board__title"},[t._v(t._s(t.$t("已办任务")))])])])]):t._e()},n=[],o=(a("7db0"),a("96cf"),a("1da1")),r=a("5530"),s=a("5880"),l=a("4b9a"),c=window.$api.workflow.process,u={props:["data","isPreview"],mixins:[Object(l["a"])()],data:function(){return{nCompletedNum:0,completedNum:0,delegateNum:0}},computed:Object(r["a"])({},Object(s["mapGetters"])(["modules"])),mounted:function(){this.loadData()},methods:{loadData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,i,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={rows:1,page:1,sidx:"t.F_CreateDate DESC"},e.next=3,t.$awaitWraper(c.getUnCompletedMyPage(a,{}));case 3:return i=e.sent,e.next=6,t.$awaitWraper(c.getCompletedMyPage(a,{}));case 6:return n=e.sent,e.next=9,t.$awaitWraper(c.getDelegateMyPage(a));case 9:o=e.sent,t.nCompletedNum=i.records,t.completedNum=n.records,t.delegateNum=o.records;case 13:case"end":return e.stop()}}),e)})))()},handleClick:function(t){if(!this.isPreview){var e=this.modules.find((function(t){return"NWFProcess"==t.f_EnCode}));if(e)switch(t){case 1:this.$router.push({path:"".concat(e.f_UrlAddress,"?type=uncompleted")});break;case 2:this.$router.push({path:"".concat(e.f_UrlAddress,"?type=delegate")});break;case 3:this.$router.push({path:"".concat(e.f_UrlAddress,"?type=completed")});break}}}}},d=u,h=a("2877"),f=Object(h["a"])(d,i,n,!1,null,null,null);e["default"]=f.exports},"4b9a":function(t,e,a){"use strict";e["a"]=function(){return{data:function(){return{}},computed:{config:function(){return this.data.config},width:function(){return this.data.w},height:function(){return this.data.h},showDataIndex:function(){return this.config.dataIndex||0},showData:function(){if(!this.data._isInit)return null;if(this.lr_loadDataSourceData){var t=this.config,e=t.dataCode,a=t.dataList;if(a&&a.length>0&&(e=a[this.showDataIndex].dataCode),e){this.lr_loadDataSourceData(e);var i=this.lr_dataSourceData[e];return i||null}}return null}},methods:{getEvent:function(t){return this.$validatenull(t)?{res:!1,msg:"没设置脚本函数！"}:(t="(params) => {".concat(t,"}"),this.$getFunction(t))},handleQClick:function(t){console.log(t,"test"),this.$set(this.config,"dataIndex",t)},setProp:function(t,e,a){a&&(t[e]=a)}}}}},"6f3c":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data._isInit?a("l-data-panel",{attrs:{label:t.config.title}},[a("l-echarts",{ref:"main"})],1):t._e()},n=[],o=(a("b0c0"),a("bc84")),r={mixins:[Object(o["a"])()],data:function(){return{option:{tooltip:{formatter:"{a}: {c}"},series:[{name:"",type:"gauge",detail:{formatter:"{value}"},data:[]}]}}},methods:{getOption:function(){var t=this.config,e=t.valueKey,a=t.title;this.option.series[0].name=a;var i=this.showData||[];return e&&i.length>0&&(this.option.series[0].data=[{value:i[0][e]}]),this.option}}},s=r,l=a("2877"),c=Object(l["a"])(s,i,n,!1,null,null,null);e["default"]=c.exports},"72b7":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data._isInit?a("l-data-board",t._b({attrs:{label:t.config.title,color:t.config.iconColor,value:t.value,des:t.des,flagIcon:t.flagIcon,flagIconColor:t.flagIconColor,imgUrl:t.imgUrl,theme:t.config.theme,valueTitle1:t.config.valueTitle1,valueTitle2:t.config.valueTitle2,desnum:t.desnum,value2:t.value2},nativeOn:{click:function(e){return t.handleClick.apply(null,arguments)}}},"l-data-board",t.config,!1)):t._e()},n=[],o=(a("99af"),a("7db0"),a("b0c0"),a("5530")),r=a("5880"),s=a("4b9a"),l={props:["data","isPreview"],mixins:[Object(s["a"])()],data:function(){return{}},computed:Object(o["a"])(Object(o["a"])({},Object(r["mapGetters"])(["modules"])),{},{value:function(){var t=this.config.valueKey;return t&&this.showData?this.showData[0][t]:0},value2:function(){var t=this.config.valueKey1;return t&&this.showData?this.showData[0][t]:0},des:function(){var t=this.config,e=t.subValueKey,a=t.des,i=t.theme;return"3"==i?a:e&&this.showData?"".concat(a||""," ").concat(this.showData[0][e]):a?"".concat(a):void 0},desnum:function(){var t=this.config.subValueKey;if(t&&this.showData)return"".concat(this.showData[0][t])},flagIcon:function(){var t=this.config,e=t.flagKey,a=t.theme;return e&&this.showData?"3"==a?1==this.showData[0][e]?"learun-icon-up-arrow":"learun-icon-down-arrow":1==this.showData[0][e]?"learun-icon-up-base":"learun-icon-down-base":""},flagIconColor:function(){var t=this.config,e=t.flagKey,a=t.theme;return e&&this.showData?"3"==a?1==this.showData[0][e]?"#FF8080":"#12B700":1==this.showData[0][e]?"#3DBA84":"#EE3B3B":""},imgUrl:function(){var t=this.config.imgId;return t?"".concat(this.apiUrl,"system/annexesfile/").concat(t,"?token=").concat(this.token):""}}),mounted:function(){},methods:{handleClick:function(){var t=this.config,e=t.moduleId,a=t.conditionInfo;if(!this.isPreview&&e&&"myDesktopHome"==this.$route.name){var i=this.$deepClone(this.modules.find((function(t){return t.f_ModuleId==e})));if(i)if(a){var n=this.$route.query.src;window.$ldparam=window.$ldparam||{},window.$ldparam[e]="".concat(n,"|").concat(this.data.i),this.$router.$lrRouter.goto(i)}else this.$router.$lrRouter.goto(i)}}}},c=l,u=a("2877"),d=Object(u["a"])(c,i,n,!1,null,null,null);e["default"]=d.exports},"85e9":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data._isInit?a("l-data-panel",{attrs:{label:t.config.title}},[a("l-echarts",{ref:"main",attrs:{option:t.option}})],1):t._e()},n=[],o=(a("4e82"),a("159b"),a("bc84")),r={mixins:[Object(o["a"])()],data:function(){return{option:{tooltip:{trigger:"item"},series:[{type:"funnel",label:{},itemStyle:{},data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}},methods:{getOption:function(){var t=this,e=this.config,a=e.labelKey,i=e.valueKey,n=[],o=this.showData||[];if(a&&i){var r=[];o.forEach((function(e){r.push({name:e[a],value:e[i],list:o});var s={name:e[a]};t.legend.itemIcon&&(s.icon=t.legend.itemIcon),n.push(s)})),this.option.series[0].data=r,!this.label.show&&this.label.lastShow&&r.length>0&&(r[r.length-1].label={show:!0})}var s=this.option.series[0];this.setFunnel(s,this.series.funnel);var l=this.series.itemStyle;s.itemStyle=l,s.label=this.getLabel(this.label),this.option.legend=this.getLegend(this.option.series[0].data),this.option.legend.data=n;var c=this.getColors(this.echarts);return c&&c.length>0&&(this.option.color=c),this.option},setFunnel:function(t,e){var a=e.min,i=e.max,n=e.minSize,o=e.maxSize,r=e.left,s=e.width,l=e.top,c=e.bottom,u=e.sort,d=e.gap;t.min=a,t.max=i,t.minSize=n+"%",t.maxSize=o+"%",t.left=r+"%",t.top=l,t.bottom=c,t.width=s+"%",t.sort=u,t.gap=d}}},s=r,l=a("2877"),c=Object(l["a"])(s,i,n,!1,null,null,null);e["default"]=c.exports},8774:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data._isInit?a("div",{staticClass:"l-rblock"},[a("l-data-list",{attrs:{columns:t.config.columns,isMore:!!t.config.moduleId,label:t.config.title,data:t.dataSource},on:{more:t.handleMore,itemClick:t.handleClick}}),t.isLoad?[t.isDialog?a("l-dialog",{attrs:{title:t.$t(t.formTitle),visible:t.formVisible,height:t.dialogHeight,width:t.dialogWidth,hasBtns:!1},on:{"update:visible":function(e){t.formVisible=e},closed:t.handleCloseForm,opened:t.handleOpenedForm}},[a("l-form-viewer",{ref:"form",attrs:{formInfo:t.formInfo,isAuth:!0,isRead:!0}})],1):a("l-drawer",{attrs:{title:t.$t(t.formTitle),visible:t.formVisible,width:t.drawerWidth,showOk:!1,showClose:!1},on:{"update:visible":function(e){t.formVisible=e},closed:t.handleCloseForm,opened:t.handleOpenedForm}},[a("l-form-viewer",{ref:"form",attrs:{formInfo:t.formInfo,isAuth:!0,isRead:!0}})],1)]:t._e()],2):t._e()},n=[],o=(a("7db0"),a("c740"),a("b0c0"),a("159b"),a("5530")),r=(a("96cf"),a("1da1")),s=a("5880"),l=a("4b9a"),c=window.$api.custmerForm.scheme,u={props:["data","isPreview"],mixins:[Object(l["a"])()],data:function(){return{isLoad:!1,formSchemeId:"",formScheme:null,formTitle:"",formVisible:!1,formEditRow:null,mainTable:null,mainTableIndex:0}},asyncComputed:{dataSource:{get:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i,n,o,r,s,l,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.config,i=a.orderId,n=a.formVerison,o=a.form,r=a.limitRow,s=a.maxRows,l=a.moduleId,!(i&&n&&o)){e.next=12;break}return u={paginationInputDto:{rows:1==r?s:1e5,page:1,sidx:i}},e.next=5,t.$awaitWraper(c.getDataPage(l,n,u));case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0={};case 8:return d=e.t0,e.abrupt("return",d.rows||[]);case 12:return e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e)})))()}}},computed:Object(o["a"])(Object(o["a"])({},Object(s["mapGetters"])(["modules"])),{},{formInfo:function(){return this.formScheme.formInfo},isDialog:function(){return"2"!=this.formInfo.openType},dialogHeight:function(){return this.formInfo.dialogHeight||600},dialogWidth:function(){return this.formInfo.dialogWidth||800},drawerWidth:function(){return this.formInfo.drawerWidth||600}}),methods:{handleMore:function(){var t=this.config.moduleId;if(!this.isPreview&&t){var e=this.modules.find((function(e){return e.f_ModuleId==t}));e&&this.$router.$lrRouter.goto(e)}},handleClick:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=e.$loading({lock:!0,text:e.$t("加载表单中..."),spinner:"el-icon-loading"}),a.next=3,e.initForm();case 3:i.close(),e.formEditRow=t,e.showForm("查看详情");case 6:case"end":return a.stop()}}),a)})))()},initForm:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.config.formVerison,t.isLoad){e.next=15;break}return e.next=4,t.$awaitWraper(c.getHistory(a));case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0={};case 7:i=e.t0,n=i.f_Scheme,o=i.f_Id,t.formScheme=JSON.parse(n),t.formSchemeId=o,t.mainTableIndex=t.formScheme.db.findIndex((function(t){return"main"==t.type})),t.mainTable=t.formScheme.db[t.mainTableIndex],t.isLoad=!0;case 15:case"end":return e.stop()}}),e)})))()},handleCloseForm:function(){this.$refs.form.resetFormData()},handleOpenedForm:function(t,e){var a=this;t("加载数据中"),this.$nextTick(Object(r["a"])(regeneratorRuntime.mark((function t(){var i,n,r,s,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!=a.formScheme.formType){t.next=13;break}if(i={},i[a.mainTable.name]=[a.formEditRow],n={},!(a.formScheme.db.length>0)){t.next=10;break}return a.formScheme.db.forEach((function(t){n[t.relationField]=a.formEditRow[t.relationField]})),t.next=8,a.$awaitWraper(c.getViewData(a.formSchemeId,{mainData:JSON.stringify(n)}));case 8:r=t.sent,i=Object(o["a"])(Object(o["a"])({},i),r);case 10:a.$refs.form.init(i),t.next=18;break;case 13:return s=a.formScheme.primaryKey,t.next=16,a.$awaitWraper(c.getData(a.formSchemeId,{key:s,keyValue:a.formEditRow["".concat(s.toLowerCase(),"0")]}));case 16:l=t.sent,a.$refs.form.init(l);case 18:e();case 19:case"end":return t.stop()}}),t)}))))},showForm:function(t){this.formTitle=t,this.formVisible=!0}}},d=u,h=a("2877"),f=Object(h["a"])(d,i,n,!1,null,null,null);e["default"]=f.exports},9691:function(t,e,a){"use strict";a("d81d"),a("d3b7"),a("ac1f"),a("1276"),a("ddb0");var i=a("8bbf"),n=a.n(i),o=a("b6c3");o.keys().map((function(t){n.a.component("".concat(t.split("/")[1],"-data-view"),o(t).default)}))},b6208:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data._isInit?a("l-data-panel",{attrs:{label:t.config.title}},[a("l-echarts",{ref:"main",attrs:{option:t.option}})],1):t._e()},n=[],o=(a("159b"),a("bc84")),r={mixins:[Object(o["a"])()],data:function(){return{option:{tooltip:{trigger:"item"},series:[{type:"pie",label:{},radius:[],center:[],itemStyle:{},data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}},methods:{getOption:function(){var t=this,e=this.config,a=e.labelKey,i=e.valueKey,n=[],o=this.showData||[];if(a&&i){var r=[];o.forEach((function(e){r.push({name:e[a],value:e[i],list:o});var s={name:e[a]};t.legend.itemIcon&&(s.icon=t.legend.itemIcon),n.push(s)})),this.option.series[0].data=r,!this.label.show&&this.label.lastShow&&r.length>0&&(r[r.length-1].label={show:!0})}var s=this.option.series[0];this.setPie(s,this.series.pie);var l=this.series.itemStyle;s.itemStyle=l,s.label=this.getLabel(this.label),s.label.backgroundColor=this.label.backgroundColor,this.option.legend=this.getLegend(this.option.series[0].data),this.option.legend.data=n;var c=this.getColors(this.echarts);return c&&c.length>0&&(this.option.color=c),this.option},setPie:function(t,e){var a=e.radiusN,i=e.radiusW,n=e.centerH,o=e.centerV,r=e.roseType,s=e.selectedMode,l=e.selectedModeNum;t.radius=a<i?["".concat(a,"%"),"".concat(i,"%")]:"50%",s&&(t.selectedMode=s,t.data.length>l&&(t.data[l].selected=!0)),t.center=["".concat(n,"%"),"".concat(o,"%")],r&&(t.roseType=r)}}},s=r,l=a("2877"),c=Object(l["a"])(s,i,n,!1,null,null,null);e["default"]=c.exports},b6c3:function(t,e,a){var i={"./barpercent/view.vue":"ee58","./chartfunnel/view.vue":"85e9","./chartgauge/view.vue":"6f3c","./chartlinebar/view.vue":"244b","./chartpie/view.vue":"b6208","./chartradar/view.vue":"f943","./databoard/view.vue":"72b7","./datalist/view.vue":"8774","./modules/view.vue":"1cec","./mytask/view.vue":"35e2","./mytasklist/view.vue":"e448"};function n(t){var e=o(t);return a(e)}function o(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=o,t.exports=n,n.id="b6c3"},bc84:function(t,e,a){"use strict";a("4de4"),a("7db0"),a("d81d"),a("b0c0"),a("ac1f"),a("5319");var i=a("5530"),n=a("5880"),o=a("4b9a");e["a"]=function(){return{props:["data","isPreview","isShow","isRefresh"],mixins:[Object(o["a"])()],data:function(){return{timer:null,isInit:!1}},computed:Object(i["a"])(Object(i["a"])({},Object(n["mapGetters"])(["isCollapse","screen"])),{},{echarts:function(){return this.config.echarts},series:function(){return this.echarts.series},label:function(){return this.series.label},legend:function(){return this.echarts.legend}}),watch:{isCollapse:function(){this.refresh(!0)},screen:function(){this.refresh(!0)},isRefresh:function(){this.refresh(!0,310)},isShow:function(){this.refresh(!0)},width:function(){this.refresh(!0)},height:function(){this.refresh(!0)},config:{handler:function(){this.refresh()},deep:!0,immediate:!0},showData:{handler:function(){this.refresh()},immediate:!0}},methods:{refresh:function(t,e){var a=this;this.data._isInit&&(this.isInit||(e=310,this.isInit=!0),null==this.timer&&(this.timer=setTimeout((function(){if(a.timer=null,t)a.$refs.main&&a.$refs.main.updateChart();else{var e=a.getOption();a.$refs.main&&a.$refs.main.updateChart(e)}}),e||100)))},getGrid:function(t){var e=t.left,a=t.right,i=t.top,n=t.bottom,o=t.containLabel,r={left:e+"%",right:a+"%",top:i,bottom:n,containLabel:o};return r},getLegend:function(t){var e=this.legend,a=e.show,i=e.orient,n=e.position,o=e.widthAuto,r=e.width,s=e.itemWidth,l=e.itemHeight,c=e.textStyle,u=e.formatter,d=e.padding,h={show:a,orient:i,textStyle:c};switch(u&&(h.formatter=function(e){var a=u.replace(/{name}/g,e),i=t.find((function(t){return t.name==e})).value;return a=a.replace(/{value}/g,i),a}),o||(h.width=r),this.setProp(h,"itemWidth",s),this.setProp(h,"itemHeight",l),n){case"topLeft":h.left="left",h.top="top",void 0!=d&&null!=d&&(h.padding=[d,0,0,d]);break;case"topRight":h.left="right",h.top="top",void 0!=d&&null!=d&&(h.padding=[d,d,0,0]);break;case"bottomLeft":h.left="left",h.top="bottom",void 0!=d&&null!=d&&(h.padding=[0,0,d,d]);break;case"bottomRight":h.left="right",h.top="bottom",void 0!=d&&null!=d&&(h.padding=[0,d,d,0]);break;case"topCenter":h.left="center",h.top="top",void 0!=d&&null!=d&&(h.padding=[d,0,0,0]);break;case"bottomCenter":h.left="center",h.top="bottom",void 0!=d&&null!=d&&(h.padding=[0,0,d,0]);break}return h},getColors:function(t){var e=t.color;if(e&&e.length>0)return e.filter((function(t){return t.v})).map((function(t){return t.v}))},getLabel:function(t){var e=t.show,a=t.formatterType,i=t.formatter,n=t.color,o=t.position,r=t.fontWeight,s=t.fontSize,l={show:e};if("fn"==a){var c=this.getEvent(this.config.labelFormatter);c.res&&(l.formatter=c.fn)}else i&&(l.formatter=i.replace(/{e}/g,"\n"));return this.setProp(l,"color",n),this.setProp(l,"position",o),this.setProp(l,"fontWeight",r),this.setProp(l,"fontSize",s),l},getColor:function(t,e){return t&&e?{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:t},{offset:1,color:e}]}:t||e?t||e:void 0}}}}},e448:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data._isInit?a("div",{staticClass:"l-rblock"},[a("l-data-list",{attrs:{columns:t.columns,isMore:!0,label:t.config.title,data:t.dataSource},on:{more:t.handleMore,itemClick:t.handleClick}}),a("handleWF",{ref:"messageBox",tag:"component"})],1):t._e()},n=[],o=(a("99af"),a("7db0"),a("96cf"),a("1da1")),r=a("5530"),s=a("5880"),l=a("4b9a"),c=window.$api.workflow.process,u={props:["data","isPreview"],mixins:[Object(l["a"])()],data:function(){return{dataSource:[],columns:[{label:"标题",prop:"f_ProcessTitle",width:70},{label:"时间",prop:"f_CreateDate",width:30,dataType:"datetime",align:"right"}]}},computed:Object(r["a"])({},Object(s["mapGetters"])(["modules"])),mounted:function(){this.loadData()},methods:{handleMore:function(){if(!this.isPreview){var t=this.modules.find((function(t){return"NWFProcess"==t.f_EnCode}));t&&this.$router.$lrRouter.goto(t)}},handleClick:function(t){var e=this;this.isPreview||this.openMessageBox({f_Content:"【审核】".concat(t.f_ProcessTitle,",").concat(t.f_UnitName),f_ContentId:t.f_Token},(function(){e.loadData()}),0)},openMessageBox:function(t,e,a){var i=this;this.$refs.messageBox?this.$nextTick(Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i.$refs.messageBox.open(t,e);case 1:case"end":return a.stop()}}),a)})))):a<100&&setTimeout(Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a++,i.openMessageBox(t,e,a);case 2:case"end":return n.stop()}}),n)}))),100)},loadData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={rows:t.config.maxRows,page:1,sidx:"t.F_CreateDate DESC"},e.next=3,t.$awaitWraper(c.getUnCompletedMyPage(a,{}));case 3:i=e.sent,t.dataSource=i.rows;case 5:case"end":return e.stop()}}),e)})))()}}},d=u,h=a("2877"),f=Object(h["a"])(d,i,n,!1,null,null,null);e["default"]=f.exports},ee58:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data._isInit?a("l-data-panel",{attrs:{label:t.config.title}},[a("l-barpercent",{attrs:{title:this.config.unit,data:t.list,valueKey:this.config.valueKey,valueKey1:this.config.valueKey1,labelKey:this.config.labelKey}})],1):t._e()},n=[],o=a("4b9a"),r={props:["data"],mixins:[Object(o["a"])()],data:function(){return{}},computed:{list:function(){return this.showData||[]}},mounted:function(){},methods:{}},s=r,l=a("2877"),c=Object(l["a"])(s,i,n,!1,null,null,null);e["default"]=c.exports},f943:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data._isInit?a("l-data-panel",{attrs:{label:t.config.title}},[a("l-echarts",{ref:"main",attrs:{option:t.option}})],1):t._e()},n=[],o=(a("d81d"),a("b0c0"),a("159b"),a("bc84")),r={mixins:[Object(o["a"])()],data:function(){return{option:{radar:{},series:[{type:"radar",data:[]}]}}},methods:{getOption:function(){var t=this,e=this.config,a=e.indicator,i=e.labelKey,n=this.series.radar,o=n.radius,r=n.symbol,s=n.isArea,l=[],c=[],u=this.showData||[];i&&u.forEach((function(e){var n={name:e[i]};t.legend.itemIcon&&(n.icon=t.legend.itemIcon),l.push(n);var o={name:e[i],value:[]};r&&(t.label.show?"none"!==r&&(o.symbol=r):o.symbol=r),s&&(o.areaStyle={}),a.forEach((function(t){o.value.push(e[t.valueKey]||0)})),0==a.length&&(o.value=[0]),c.push(o)}));var d=this.option.radar;d.indicator=a.map((function(t){var e=t.name,a=t.max,i=t.color;return{name:e,max:a,color:i}})),o>0&&(d.radius="".concat(o,"%")),this.option.series[0].label=this.getLabel(this.label),this.option.legend=this.getLegend(),this.option.legend.data=l,this.option.series[0].data=c;var h=this.getColors(this.echarts);return h&&h.length>0&&(this.option.color=h),this.option}}},s=r,l=a("2877"),c=Object(l["a"])(s,i,n,!1,null,null,null);e["default"]=c.exports}}]);