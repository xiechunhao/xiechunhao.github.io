(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["supplier-form"],{9580:function(e,r,a){"use strict";a.r(r);var t=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"l-rblock l-form-viewer learun-el-form-left",staticStyle:{padding:"8px"}},[a("el-form",{ref:"form",attrs:{model:e.formData,rules:e.rules,size:"mini",labelPosition:"left",labelWidth:"100px"}},[a("div",{staticClass:"l-auto-window only-tabs"},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(r){e.activeName=r},expression:"activeName"}},[a("el-tab-pane",{staticClass:"l-tabs-container",attrs:{label:e.$t("主表信息"),name:"tab0"}},[a("el-row",{attrs:{gutter:16}},[a("div",{staticClass:"l-rblock"},[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:e.$t("供应商编号"),prop:"case_erp_supplier_f_Number"}},["0"==e.formData.case_erp_supplier_f_IsSysNum?a("l-code",{attrs:{code:"erp_supplier_num",size:"mini"},model:{value:e.formData.case_erp_supplier_f_Number,callback:function(r){e.$set(e.formData,"case_erp_supplier_f_Number",r)},expression:"formData.case_erp_supplier_f_Number"}}):a("el-input",{attrs:{size:"mini",maxlength:"15",disabled:e.isEdit,placeholder:e.$t("请输入16位数字编码")},model:{value:e.formData.case_erp_supplier_f_Number,callback:function(r){e.$set(e.formData,"case_erp_supplier_f_Number",r)},expression:"formData.case_erp_supplier_f_Number"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"case_erp_supplier_f_IsSysNum",labelWidth:"10px"}},[a("l-checkbox",{attrs:{options:e.case_erp_supplier_f_IsSysNumOptions,disabled:e.isEdit},on:{change:e.checkChange},model:{value:e.formData.case_erp_supplier_f_IsSysNum,callback:function(r){e.$set(e.formData,"case_erp_supplier_f_IsSysNum",r)},expression:"formData.case_erp_supplier_f_IsSysNum"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("供应商名称"),prop:"case_erp_supplier_f_Name"}},[a("el-input",{attrs:{placeholder:e.$t("请输入")},model:{value:e.formData.case_erp_supplier_f_Name,callback:function(r){e.$set(e.formData,"case_erp_supplier_f_Name",r)},expression:"formData.case_erp_supplier_f_Name"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("负责人"),prop:"case_erp_supplier_f_Person"}},[a("el-input",{attrs:{placeholder:e.$t("请输入")},model:{value:e.formData.case_erp_supplier_f_Person,callback:function(r){e.$set(e.formData,"case_erp_supplier_f_Person",r)},expression:"formData.case_erp_supplier_f_Person"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("手机号"),prop:"case_erp_supplier_f_Phone"}},[a("el-input",{attrs:{placeholder:e.$t("请输入")},model:{value:e.formData.case_erp_supplier_f_Phone,callback:function(r){e.$set(e.formData,"case_erp_supplier_f_Phone",r)},expression:"formData.case_erp_supplier_f_Phone"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("经营范围"),prop:"case_erp_supplier_f_Scope"}},[a("el-input",{attrs:{placeholder:e.$t("请输入")},model:{value:e.formData.case_erp_supplier_f_Scope,callback:function(r){e.$set(e.formData,"case_erp_supplier_f_Scope",r)},expression:"formData.case_erp_supplier_f_Scope"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("供应商类型"),prop:"case_erp_supplier_f_Type"}},[a("l-select",{attrs:{multiple:!0,options:e.case_erp_supplier_f_TypeOptions},model:{value:e.formData.case_erp_supplier_f_Type,callback:function(r){e.$set(e.formData,"case_erp_supplier_f_Type",r)},expression:"formData.case_erp_supplier_f_Type"}})],1)],1)],1)])],1)],1)],1)])],1)},s=[],p=(a("96cf"),a("1da1")),_=window.$api.erpcase.supplier,l={data:function(){var e=this;return{moduleCode:"ERP_Suppliers",activeName:"tab0",formData:{case_erp_supplier_f_State:0,case_erp_supplier_f_Number:"",case_erp_supplier_f_IsSysNum:"0",case_erp_supplier_f_Name:"",case_erp_supplier_f_Person:"",case_erp_supplier_f_Phone:"",case_erp_supplier_f_Scope:"",case_erp_supplier_f_Type:""},rules:{case_erp_supplier_f_Number:[{required:!0,message:"请输入供应商编号"}],case_erp_supplier_f_Name:[{required:!0,message:"请输入供应商名称"},{validator:this.lr_existDbFiled,fieldName:"f_Name",keyValue:function(){return e.formData.case_erp_supplier_f_Id},tableName:"case_erp_supplier",keyName:"f_Id"}],case_erp_supplier_f_Phone:[{pattern:/^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$/,message:"请输入电话/手机号"}],case_erp_supplier_f_Scope:[{required:!0,message:"请输入经营范围"}],case_erp_supplier_f_Type:[{required:!0,message:"请选择供应商类型"}]},isEdit:!1}},computed:{case_erp_supplier_f_IsSysNumOptions:function(){return[{value:"0",label:"用系统编码"}]},case_erp_supplier_f_TypeOptions:function(){return[{value:"其他",label:"其他"},{value:"半成品",label:"半成品"},{label:"成品",value:"成品"},{label:"原料",value:"原料"}]}},methods:{checkChange:function(){var e=this;this.formData.case_erp_supplier_f_Number="",0!=parseInt(this.formData.case_erp_supplier_f_IsSysNum)&&this.rules.case_erp_supplier_f_Number.push({validator:this.lr_existDbFiled,fieldName:"f_Number",keyValue:function(){return e.formData.case_erp_supplier_f_Id},tableName:"case_erp_supplier",keyName:"f_Id"})},resetForm:function(){this.$formClear(this.$refs.form),this.activeName="tab0",this.isEdit=!1},validateForm:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.$formValidateWraper(e.$refs.form);case 2:if(r.sent){r.next=4;break}return r.abrupt("return",!1);case 4:return r.abrupt("return",!0);case 5:case"end":return r.stop()}}),r)})))()},setForm:function(e){this.$setFormData(this.formData,e,"case_erp_supplier"),this.isEdit=!0},getForm:function(){return this.$getFormData(this.formData,"case_erp_supplier")},loadFormData:function(e){var r=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){var t,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t=e.keyValue,a.next=3,r.$awaitWraper(_.get(t));case 3:if(s=a.sent,!s){a.next=9;break}return r.setForm(s),a.abrupt("return",!0);case 9:return a.abrupt("return",!1);case 10:case"end":return a.stop()}}),a)})))()},saveForm:function(e){var r=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){var t,s,p;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t=e.keyValue,s=e.isEdit,p=r.getForm(),!s){a.next=8;break}return a.next=5,r.$awaitWraper(_.update(t,p));case 5:return a.abrupt("return",a.sent);case 8:return p.f_Id=t,a.next=11,r.$awaitWraper(_.add(p));case 11:return a.abrupt("return",a.sent);case 12:case"end":return a.stop()}}),a)})))()}}},i=l,u=a("2877"),n=Object(u["a"])(i,t,s,!1,null,null,null);r["default"]=n.exports}}]);