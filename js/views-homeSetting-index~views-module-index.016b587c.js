(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["views-homeSetting-index~views-module-index"],{"0436":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"l-img-swiper"},[a("el-carousel",{attrs:{height:"100%"}},e._l(e.data.list,(function(t){return a("el-carousel-item",{key:t.id},[a("el-image",{staticClass:"learun-image__error",staticStyle:{height:"100%",width:"100%"},attrs:{src:t.imgurl?e.apiUrl+"system/annexesfile/"+t.imgurl+"?token="+e.token:"",fit:"cover"}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])])],1)})),1)],1)},i=[],o={props:["data","isPreview"],data:function(){return{}},computed:{},mounted:function(){},methods:{}},r=o,l=(a("a8ab"),a("2877")),s=Object(l["a"])(r,n,i,!1,null,"1b59e08b",null);t["default"]=s.exports},"0906":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("l-data-list",{attrs:{isApp:"",isMore:!0,columns:e.columns,label:e.data.title,data:e.dataSource}})},i=[],o=(a("96cf"),a("1da1")),r=window.$api.workflow.process,l={props:["data","isPreview"],data:function(){return{dataSource:[],columns:[{label:"标题",prop:"f_ProcessTitle",width:70},{label:"时间",prop:"f_CreateDate",width:30,dataType:"datetime",align:"right"}]}},mounted:function(){this.loadData()},methods:{loadData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={rows:e.data.maxRows,page:1,sidx:"t.F_CreateDate DESC"},t.next=3,e.$awaitWraper(r.getUnCompletedMyPage(a,{}));case 3:n=t.sent,e.dataSource=n.rows;case 5:case"end":return t.stop()}}),t)})))()}}},s=l,c=a("2877"),u=Object(c["a"])(s,n,i,!1,null,null,null);t["default"]=u.exports},"21f7":function(e,t,a){"use strict";a("853b")},"23d8":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("l-data-panel",{attrs:{label:e.data.title,isApp:""}},[a("l-echarts",{ref:"main",attrs:{option:e.option}})],1)},i=[],o=(a("159b"),a("96cf"),a("1da1")),r={props:["data","isPreview","isShow"],data:function(){return{option:{xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{data:[],type:"line"}]},timer:null}},watch:{isShow:function(){var e=this;setTimeout((function(){e.$refs.main.updateChart()}),100)},data:{handler:function(){this.refresh()},deep:!0}},mounted:function(){this.refresh()},methods:{getOption:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("Y"==e.data.dataType?(e.option.xAxis={type:"category",data:[]},e.option.yAxis={type:"value"}):(e.option.xAxis={type:"value"},e.option.yAxis={type:"category",data:[]}),!e.data.dataCode){t.next=4;break}return t.next=4,e.lr_loadDataSourceData(e.data.dataCode,!!e.isPreview);case 4:return a=e.lr_dataSourceData[e.data.dataCode]||[],e.data.XKey&&e.data.YKey&&(n=[],i=[],a.forEach((function(t){n.push(t[e.data.XKey]),i.push(t[e.data.YKey])})),"Y"==e.data.dataType?(e.option.series[0].data=i,e.option.xAxis.data=n):(e.option.series[0].data=i,e.option.yAxis.data=n)),t.abrupt("return",e.option);case 7:case"end":return t.stop()}}),t)})))()},refresh:function(){var e=this;null==this.timer&&(this.timer=setTimeout(Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getOption();case 2:a=t.sent,e.$refs.main.updateChart(a),e.timer=null;case 5:case"end":return t.stop()}}),t)}))),100))}}},l=r,s=a("2877"),c=Object(s["a"])(l,n,i,!1,null,null,null);t["default"]=c.exports},"2eef":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("l-data-panel",{attrs:{label:e.data.title,isApp:"",isMore:""}},[a("div",{staticClass:"l-rblock l-min-databoard "},e._l(e.data.list,(function(t){return a("div",{key:t.id,staticClass:"l-min-databoard__item"},[a("div",{staticClass:"num"},[e._v(e._s(e.getValue(t)))]),a("div",{staticClass:"label"},[e._v(e._s(t.name))])])})),0)])},i=[],o={props:["data","isPreview"],data:function(){return{}},computed:{},mounted:function(){},methods:{getValue:function(e){if(e.dataCode&&this.lr_dataSourceData&&e.dataValueKey){this.lr_loadDataSourceData(e.dataCode);var t=this.lr_dataSourceData[e.dataCode];return t?t[0][e.dataValueKey]:0}return 0}}},r=o,l=(a("e9a5"),a("2877")),s=Object(l["a"])(r,n,i,!1,null,"8ca2bbec",null);t["default"]=s.exports},3143:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("l-data-panel",{attrs:{label:e.data.title,isApp:""}},[a("l-echarts",{ref:"main"})],1)},i=[],o=(a("159b"),a("96cf"),a("1da1")),r={props:["data","isPreview","isShow"],data:function(){return{option:{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{data:[],type:"bar",showBackground:!1,backgroundStyle:{color:""}}]},timer:null}},watch:{isShow:function(){var e=this;setTimeout((function(){e.$refs.main.updateChart()}),100)},data:{handler:function(){this.refresh()},deep:!0}},mounted:function(){this.refresh()},methods:{getOption:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("Y"==e.data.dataType?(e.option.xAxis={type:"category",data:[]},e.option.yAxis={type:"value"}):(e.option.xAxis={type:"value"},e.option.yAxis={type:"category",data:[]}),e.option.series.forEach((function(t){t.showBackground=e.data.showBackground,t.backgroundStyle.color=e.data.backgroundColor})),!e.data.dataCode){t.next=5;break}return t.next=5,e.lr_loadDataSourceData(e.data.dataCode,!!e.isPreview);case 5:return a=e.lr_dataSourceData[e.data.dataCode]||[],e.data.XKey&&e.data.YKey&&(n=[],i=[],a.forEach((function(t){n.push(t[e.data.XKey]),i.push(t[e.data.YKey])})),"Y"==e.data.dataType?(e.option.series[0].data=i,e.option.xAxis.data=n):(e.option.series[0].data=i,e.option.yAxis.data=n)),t.abrupt("return",e.option);case 8:case"end":return t.stop()}}),t)})))()},refresh:function(){var e=this;null==this.timer&&(this.timer=setTimeout(Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getOption();case 2:a=t.sent,e.$refs.main.updateChart(a),e.timer=null;case 5:case"end":return t.stop()}}),t)}))),100))}}},l=r,s=a("2877"),c=Object(s["a"])(l,n,i,!1,null,null,null);t["default"]=c.exports},5997:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-collapse-item",{attrs:{title:e.$t("基础配置"),name:"1"}},[a("el-form-item",{attrs:{label:e.$t("标题")}},[a("el-input",{model:{value:e.config.title,callback:function(t){e.$set(e.config,"title",t)},expression:"config.title"}})],1),a("el-form-item",{attrs:{label:e.$t("数据源")}},[a("l-select",{attrs:{placeholder:"请选择数据源",size:"mini",options:e.lr_dataSource,labelKey:"f_Name",valueKey:"f_Code",filterable:""},on:{change:e.handleDataSourceChange},model:{value:e.config.dataCode,callback:function(t){e.$set(e.config,"dataCode",t)},expression:"config.dataCode"}})],1),a("el-form-item",{attrs:{label:e.$t("名称值")}},[a("l-select",{attrs:{placeholder:"请选择",size:"mini",options:e.myColNameList,filterable:""},model:{value:e.config.nameKey,callback:function(t){e.$set(e.config,"nameKey",t)},expression:"config.nameKey"}})],1),a("el-form-item",{attrs:{label:e.$t("显示值")}},[a("l-select",{attrs:{placeholder:"请选择",size:"mini",options:e.myColNameList,filterable:""},model:{value:e.config.valueKey,callback:function(t){e.$set(e.config,"valueKey",t)},expression:"config.valueKey"}})],1)],1)],1)},i=[],o=(a("d81d"),{props:["data"],data:function(){return{}},computed:{config:function(){return this.data},myColNameList:function(){if(this.lr_dataSourceCol&&this.config.dataCode){var e=this.lr_dataSourceCol[this.config.dataCode]||[];return e.map((function(e){return{value:e,label:e}}))}return[]}},created:function(){this.config.dataCode&&this.lr_loadDataSourceColNames(this.config.dataCode)},methods:{handleDataSourceChange:function(){this.config.nameKey="",this.config.valueKey="",this.$validatenull(this.config.dataCode)||(this.lr_loadDataSourceData(this.config.dataCode),this.lr_loadDataSourceColNames(this.config.dataCode))}}}),r=o,l=a("2877"),s=Object(l["a"])(r,n,i,!1,null,null,null);t["default"]=s.exports},7471:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-collapse-item",{attrs:{title:e.$t("基础配置"),name:"1"}},[a("el-form-item",{attrs:{label:e.$t("标题")}},[a("el-input",{model:{value:e.config.title,callback:function(t){e.$set(e.config,"title",t)},expression:"config.title"}})],1),a("el-form-item",{attrs:{label:e.$t("跳转功能")}},[a("l-tree-select",{attrs:{options:e.appTree},model:{value:e.config.moduleId,callback:function(t){e.$set(e.config,"moduleId",t)},expression:"config.moduleId"}})],1),a("el-form-item",{attrs:{label:e.$t("表单选择")}},[a("l-custmerform-select",{attrs:{placeholder:e.$t("请选择")},on:{change:e.custmerformChange},model:{value:e.config.viewForm,callback:function(t){e.$set(e.config,"viewForm",t)},expression:"config.viewForm"}})],1),a("el-form-item",{attrs:{label:e.$t("表单版本")}},[a("l-select",{attrs:{options:e.formVerisons,placeholder:e.$t("请选择")},model:{value:e.config.formVerison,callback:function(t){e.$set(e.config,"formVerison",t)},expression:"config.formVerison"}})],1),a("el-form-item",{attrs:{label:e.$t("标题")}},[a("l-select",{attrs:{options:e.formComponents},on:{change:function(t){return e.handleChangeSelect(t,1)}},model:{value:e.config.titleKey,callback:function(t){e.$set(e.config,"titleKey",t)},expression:"config.titleKey"}})],1),a("el-form-item",{attrs:{label:e.$t("副标题")}},[a("l-select",{attrs:{options:e.formComponents},on:{change:function(t){return e.handleChangeSelect(t,2)}},model:{value:e.config.subTitleKey,callback:function(t){e.$set(e.config,"subTitleKey",t)},expression:"config.subTitleKey"}})],1),a("el-form-item",{attrs:{label:e.$t("排序字段")}},[a("l-select",{attrs:{options:e.formComponents,placeholder:"请选择"},model:{value:e.config.orderId,callback:function(t){e.$set(e.config,"orderId",t)},expression:"config.orderId"}})],1),a("el-form-item",{attrs:{label:e.$t("行数限制")}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.config.limitRow,callback:function(t){e.$set(e.config,"limitRow",t)},expression:"config.limitRow"}})],1),1==e.config.limitRow?a("el-form-item",{attrs:{label:e.$t("最大行数")}},[a("el-input-number",{attrs:{"controls-position":"right",placeholder:e.$t("请输入")},model:{value:e.config.maxRows,callback:function(t){e.$set(e.config,"maxRows",t)},expression:"config.maxRows"}})],1):e._e()],1)],1)},i=[],o=(a("99af"),a("c740"),a("caad"),a("d81d"),a("b0c0"),a("159b"),a("96cf"),a("1da1")),r=window.$api.custmerForm.scheme,l={props:["data"],inject:["quickBiDesign","appDesign"],components:{},data:function(){return{}},computed:{config:function(){return this.data},appTree:function(){return this.appDesign.appTree||[]}},asyncComputed:{formVerisons:{get:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=[],e.$validatenull(e.config.viewForm)){t.next=5;break}return t.next=4,e.$awaitWraper(r.getHistoryList(e.config.viewForm));case 4:a=t.sent;case 5:return t.abrupt("return",(a||[]).map((function(t){return{label:e.lr_dateFormat(t.f_CreateDate),value:t.f_Id}})));case 6:case"end":return t.stop()}}),t)})))()}},formComponents:{get:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$validatenull(e.config.formVerison)){t.next=2;break}return t.abrupt("return",[]);case 2:if(!e.$validatenull(e.quickBiDesign.custmerformSchemes[e.config.formVerison])){t.next=16;break}return t.next=5,e.$awaitWraper(r.getHistory(e.config.formVerison));case 5:if(t.t0=t.sent,t.t0){t.next=8;break}t.t0={};case 8:if(a=t.t0,n=a.f_Scheme,i=a.f_Id,e.quickBiDesign.custmerformSchemes[i]={f_Scheme:n},e.config.formVerison!=i){t.next=14;break}return t.abrupt("return",e.loadFormScheme(n));case 14:t.next=17;break;case 16:return t.abrupt("return",e.loadFormScheme(e.quickBiDesign.custmerformSchemes[e.config.formVerison].f_Scheme));case 17:return t.abrupt("return",[]);case 18:case"end":return t.stop()}}),t)})))()}}},methods:{custmerformChange:function(e){this.config.formVerison=null==e?"":e.f_SchemeId},loadFormScheme:function(e){var t=this,a=JSON.parse(e),n=[];return a.formInfo.tabList.forEach((function(e){e.components.forEach((function(e){if(!["gridtable","divider","btn","tab","card","collapse","tab","viewtable"].includes(e.type)&&e.display&&e.field){var i={value:"".concat(e.field.toLowerCase()).concat(1==a.formType?"":a.db.findIndex((function(t){return t.name==e.table}))),label:e.label},o=t.getComponentDataType(e);i.dataType=o.dataType,i.dataCode=o.code,i.valueKey=o.valueKey,i.labelKey=o.labelKey,i.options=o.options,i.format=o.format,["rate","switch"].includes(e.type)&&(i.setting=e),n.push(i)}}))})),n},handleChangeSelect:function(e,t){1==t?this.titleOpt=e:this.subTitleOpt=e},getComponentDataType:function(e){var t={};if(["radio","checkbox","select","selectMultiple","treeselect","layerselect"].includes(e.type))switch(e.dataType){case"1":t.dataType="mydata",t.options=e.options;break;case"2":t.dataType="dataItem",t.code=e.dataCode;break;case"3":t.dataType="dataSource",t.code=e.dataCode,t.valueKey=e.dataValueKey,t.labelKey=e.dataLabelKey;break}else["datetime","createtime","modifytime"].includes(e.type)?(t.dataType="datetime",t.format=e.format||"yyyy-MM-dd HH:mm:ss"):["upload"].includes(e.type)?t.dataType="file":["uploadimg"].includes(e.type)?t.dataType="img":["companySelect","company"].includes(e.type)?t.dataType="company":["departmentSelect","department"].includes(e.type)?t.dataType="department":["userSelect","createuser","modifyuser"].includes(e.type)?t.dataType="user":["areaselect"].includes(e.type)?t.dataType="areas":t.dataType=e.type;return t}}},s=l,c=a("2877"),u=Object(c["a"])(s,n,i,!1,null,null,null);t["default"]=u.exports},7668:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"l-rblock l-desktop"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.steps(0),expression:"steps(0)"}],staticClass:"l-rblock",staticStyle:{padding:"24px"}},[a("div",{staticClass:"l-page-panel"},[a("el-form",{ref:"baseInfo",attrs:{model:e.formData,rules:e.rules,size:"mini","label-width":"80px"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("名称"),prop:"f_Name"}},[a("el-input",{model:{value:e.formData.f_Name,callback:function(t){e.$set(e.formData,"f_Name",t)},expression:"formData.f_Name"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("图标"),prop:"f_Icon"}},[a("l-input-icon",{attrs:{onlyFirst:""},model:{value:e.formData.f_Icon,callback:function(t){e.$set(e.formData,"f_Icon",t)},expression:"formData.f_Icon"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("分类"),prop:"f_PModuleId"}},[a("el-select",{attrs:{placeholder:e.$t("请选择分类")},model:{value:e.formData.f_PModuleId,callback:function(t){e.$set(e.formData,"f_PModuleId",t)},expression:"formData.f_PModuleId"}},e._l(e.lr_dataItem["function"],(function(e){return a("el-option",{key:e.f_ItemValue,attrs:{label:e.f_ItemName,value:e.f_ItemValue}})})),1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("排序"),prop:"f_SortCode"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1},model:{value:e.formData.f_SortCode,callback:function(t){e.$set(e.formData,"f_SortCode",t)},expression:"formData.f_SortCode"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("首屏"),prop:"f_IsFirst"}},[a("el-switch",{attrs:{"active-value":3,"inactive-value":4},model:{value:e.formData.f_IsFirst,callback:function(t){e.$set(e.formData,"f_IsFirst",t)},expression:"formData.f_IsFirst"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("状态"),prop:"f_EnabledMark"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.formData.f_EnabledMark,callback:function(t){e.$set(e.formData,"f_EnabledMark",t)},expression:"formData.f_EnabledMark"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("描述"),prop:"f_Description"}},[a("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.formData.f_Description,callback:function(t){e.$set(e.formData,"f_Description",t)},expression:"formData.f_Description"}})],1)],1)],1)],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.steps(1),expression:"steps(1)"}],staticClass:"l-rblock"},[a("l-quick-bi-design",{ref:"quickBiDesign",attrs:{isApp:!0,isShow:e.steps(1),componentList:e.componentList}})],1)])},i=[],o=(a("a9e3"),a("d3b7"),a("159b"),a("96cf"),a("1da1")),r=a("b373"),l=(a("d81d"),a("ac1f"),a("1276"),a("ddb0"),a("8bbf")),s=a.n(l),c=a("ff23");c.keys().map((function(e){s.a.component("app-".concat(e.split("/")[1],"-config"),c(e).default)}));var u=a("f18c");u.keys().map((function(e){s.a.component("app-".concat(e.split("/")[1],"-data-config"),u(e).default)}));var d=a("96fe");d.keys().map((function(e){s.a.component("app-".concat(e.split("/")[1],"-data-view"),d(e).default)}));var f=window.$api.mapp.module,m={provide:function(){return{appDesign:this}},props:{stepActive:{type:Number,default:0}},data:function(){return{componentList:r["default"],formData:{f_Type:2,f_Name:"",f_Icon:"learun-icon-m-desktop",f_PModuleId:"",f_SortCode:"",f_IsMenu:0,f_EnabledMark:1,f_IsFirst:3,f_Description:""},rules:{f_Name:[{required:!0,message:this.$t("请输入名称"),trigger:"blur"}],f_Icon:[{required:!0,message:this.$t("请选择图标"),trigger:"blur"}],f_PModuleId:[{required:!0,message:this.$t("请选择分类"),trigger:"blur"}]},layout:[],apps:[]}},computed:{appTree:function(){var e=this.apps,t={},a=[],n=this.lr_dataItem["function"];return n.forEach((function(e){var n={label:e.f_ItemName,value:e.f_ItemValue,disabled:!0,children:[]};t[e.f_ItemValue]=n.children,a.push(n)})),e.forEach((function(e){if(3!=e.f_IsSystem&&4!=e.f_IsSystem){if(e.label=e.f_Name,e.value=e.f_Id,!t[e.f_Type]){var n={label:e.f_Type,value:e.f_Type,children:[]};t[e.f_Type]=n.children,a.push(n)}t[e.f_Type].push(e)}})),a}},mounted:function(){this.lr_loadDataSourceList(),this.loadAppList()},methods:{loadAppList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.lr_loadDataItem("function");case 2:return t.next=4,e.$awaitWraper(f.getList());case 4:e.apps=t.sent;case 5:case"end":return t.stop()}}),t)})))()},resetForm:function(){this.formData.f_Id="",this.formData.f_ModuleId="",this.$refs.baseInfo&&this.$refs.baseInfo.resetFields(),this.$refs.quickBiDesign&&this.$refs.quickBiDesign.set([])},getForm:function(){var e=this;return new Promise((function(t){window.html2canvas(e.$refs.quickBiDesign.appbiPanel,{useCORS:!0,allowTaint:!0,width:381}).then((function(a){var n={lr_desktop_infoEntity:e.$deepClone(e.formData),lr_desktop_schemeEntity:{f_Content:JSON.stringify(e.$refs.quickBiDesign.get())}};3==n.lr_desktop_infoEntity.f_IsFirst?n.lr_desktop_infoEntity.f_IsMenu=0:n.lr_desktop_infoEntity.f_IsMenu=1,n.functionEntity={f_Name:n.lr_desktop_infoEntity.f_Name,f_Type:n.lr_desktop_infoEntity.f_PModuleId,f_Icon:n.lr_desktop_infoEntity.f_Icon,f_IsSystem:n.lr_desktop_infoEntity.f_IsFirst,f_EnabledMark:n.lr_desktop_infoEntity.f_EnabledMark,f_SortCode:n.lr_desktop_infoEntity.f_SortCode,f_Color:"#3c9cff"},n.lr_desktop_infoEntity.img=a.toDataURL("image/jpeg"),t(n)}))}))},setForm:function(e){this.formData=e.lr_desktop_infoEntity,this.$refs.quickBiDesign.set(JSON.parse(e.lr_desktop_schemeEntity.f_Content))},steps:function(e){return this.stepActive==e},validateBaseInfo:function(){var e=this;return new Promise((function(t){e.$refs.baseInfo.validate((function(e){t(!!e)}))}))},validateSteps:function(){var e=this;return new Promise((function(t){0==e.stepActive?e.validateBaseInfo().then((function(e){t(e)})):t(!0)}))}}},p=m,h=a("2877"),g=Object(h["a"])(p,n,i,!1,null,null,null);t["a"]=g.exports},7962:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-collapse-item",{attrs:{title:e.$t("基础配置"),name:"1"}},[a("el-form-item",{attrs:{label:e.$t("标题")}},[a("el-input",{model:{value:e.config.title,callback:function(t){e.$set(e.config,"title",t)},expression:"config.title"}})],1),a("el-form-item",{attrs:{label:e.$t("显示背景")}},[a("el-switch",{model:{value:e.config.showBackground,callback:function(t){e.$set(e.config,"showBackground",t)},expression:"config.showBackground"}})],1),e.config.showBackground?a("el-form-item",{attrs:{label:e.$t("背景颜色")}},[a("l-input-color",{attrs:{placeholder:"请输入"},model:{value:e.config.backgroundColor,callback:function(t){e.$set(e.config,"backgroundColor",t)},expression:"config.backgroundColor"}})],1):e._e(),a("el-form-item",{attrs:{label:e.$t("数据坐标")}},[a("l-radio",{attrs:{options:[{value:"Y",label:"Y轴"},{value:"X",label:"X轴"}]},model:{value:e.config.dataType,callback:function(t){e.$set(e.config,"dataType",t)},expression:"config.dataType"}})],1),a("el-form-item",{attrs:{label:e.$t("数据源")}},[a("l-select",{attrs:{placeholder:"请选择数据源",size:"mini",options:e.lr_dataSource,labelKey:"f_Name",valueKey:"f_Code",filterable:""},on:{change:e.handleDataSourceChange},model:{value:e.config.dataCode,callback:function(t){e.$set(e.config,"dataCode",t)},expression:"config.dataCode"}})],1),a("el-form-item",{attrs:{label:e.$t("X轴值")}},[a("l-select",{attrs:{placeholder:"请选择",size:"mini",options:e.myColNameList,filterable:""},model:{value:e.config.XKey,callback:function(t){e.$set(e.config,"XKey",t)},expression:"config.XKey"}})],1),a("el-form-item",{attrs:{label:e.$t("Y轴值")}},[a("l-select",{attrs:{placeholder:"请选择",size:"mini",options:e.myColNameList,filterable:""},model:{value:e.config.YKey,callback:function(t){e.$set(e.config,"YKey",t)},expression:"config.YKey"}})],1)],1)],1)},i=[],o=(a("d81d"),{props:["data"],data:function(){return{}},computed:{config:function(){return this.data},myColNameList:function(){if(this.lr_dataSourceCol&&this.config.dataCode){var e=this.lr_dataSourceCol[this.config.dataCode]||[];return e.map((function(e){return{value:e,label:e}}))}return[]}},created:function(){this.config.dataCode&&this.lr_loadDataSourceColNames(this.config.dataCode)},methods:{handleDataSourceChange:function(){this.config.YKey="",this.config.XKey="",this.$validatenull(this.config.dataCode)||(this.lr_loadDataSourceData(this.config.dataCode),this.lr_loadDataSourceColNames(this.config.dataCode))}}}),r=o,l=a("2877"),s=Object(l["a"])(r,n,i,!1,null,null,null);t["default"]=s.exports},"7a95":function(e,t,a){},"853b":function(e,t,a){},"8d874":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("l-data-panel",{attrs:{isApp:"",isMore:"",label:e.data.title}},[a("div",{staticClass:"l-rblock l-min-databoard "},[a("div",{staticClass:"l-min-databoard__item"},[a("div",{staticClass:"num"},[a("l-count-up",{attrs:{end:e.nCompletedNum}})],1),a("div",{staticClass:"label"},[e._v(e._s(e.$t("待办任务")))])]),a("div",{staticClass:"l-min-databoard__item"},[a("div",{staticClass:"num"},[a("l-count-up",{attrs:{end:e.delegateNum}})],1),a("div",{staticClass:"label"},[e._v(e._s(e.$t("委托任务")))])]),a("div",{staticClass:"l-min-databoard__item"},[a("div",{staticClass:"num"},[a("l-count-up",{attrs:{end:e.completedNum}})],1),a("div",{staticClass:"label"},[e._v(e._s(e.$t("已办任务")))])])])])},i=[],o=(a("96cf"),a("1da1")),r=window.$api.workflow.process,l={props:["data","isPreview"],data:function(){return{nCompletedNum:0,completedNum:0,delegateNum:0}},mounted:function(){this.loadData()},methods:{loadData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={rows:1,page:1,sidx:"F_CreateDate DESC"},t.next=3,e.$awaitWraper(r.getUnCompletedMyPage(a,{}));case 3:return n=t.sent,t.next=6,e.$awaitWraper(r.getCompletedMyPage(a,{}));case 6:return i=t.sent,t.next=9,e.$awaitWraper(r.getDelegateMyPage(a));case 9:o=t.sent,e.nCompletedNum=n.records,e.completedNum=i.records,e.delegateNum=o.records;case 13:case"end":return t.stop()}}),t)})))()}}},s=l,c=(a("21f7"),a("2877")),u=Object(c["a"])(s,n,i,!1,null,"ce83fbf4",null);t["default"]=u.exports},"96fe":function(e,t,a){var n={"./chartbar/view.vue":"3143","./chartline/view.vue":"23d8","./chartpie/view.vue":"defc","./databoard/view.vue":"2eef","./datalist/view.vue":"d4e7","./imgswiper/view.vue":"0436","./mytask/view.vue":"8d874","./mytasklist/view.vue":"0906"};function i(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id="96fe"},a8ab:function(e,t,a){"use strict";a("cd4b")},b910:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-collapse-item",{attrs:{title:e.$t("基础配置"),name:"1"}},[a("el-form-item",{attrs:{label:e.$t("标题")}},[a("el-input",{model:{value:e.config.title,callback:function(t){e.$set(e.config,"title",t)},expression:"config.title"}})],1)],1)],1)},i=[],o={props:["data"],data:function(){return{}},computed:{config:function(){return this.data}}},r=o,l=a("2877"),s=Object(l["a"])(r,n,i,!1,null,null,null);t["default"]=s.exports},cd4b:function(e,t,a){},d49a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-collapse-item",{attrs:{title:e.$t("基础配置"),name:"1"}},[a("el-form-item",{attrs:{label:e.$t("标题")}},[a("el-input",{model:{value:e.config.title,callback:function(t){e.$set(e.config,"title",t)},expression:"config.title"}})],1),a("el-form-item",{attrs:{label:e.$t("最大行数")}},[a("el-input-number",{attrs:{"controls-position":"right",placeholder:e.$t("请输入")},model:{value:e.config.maxRows,callback:function(t){e.$set(e.config,"maxRows",t)},expression:"config.maxRows"}})],1)],1)],1)},i=[],o={props:["data"],data:function(){return{}},computed:{config:function(){return this.data}}},r=o,l=a("2877"),s=Object(l["a"])(r,n,i,!1,null,null,null);t["default"]=s.exports},d4e7:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"l-rblock"},[a("l-data-list",{attrs:{isApp:"",columns:e.columns,isMore:!!e.data.moduleId,label:e.data.title,data:e.dataSource}})],1)},i=[],o=(a("96cf"),a("1da1")),r=window.$api.custmerForm.scheme,l={props:["data","isPreview"],data:function(){return{}},asyncComputed:{dataSource:{get:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.data.orderId||!e.data.formVerison){t.next=11;break}return a={paginationInputDto:{rows:1==e.data.limitRow?e.data.maxRows:1e5,page:1,sidx:e.data.orderId}},t.next=4,e.$awaitWraper(r.getDataPage(e.data.moduleId,e.data.formVerison,a));case 4:if(t.t0=t.sent,t.t0){t.next=7;break}t.t0={};case 7:return n=t.t0,t.abrupt("return",n.rows||[]);case 11:return t.abrupt("return",[]);case 12:case"end":return t.stop()}}),t)})))()}}},computed:{columns:function(){var e=this.data.titleOpt||{};e.prop=this.data.titleKey,e.width=70,e.align="left";var t=this.data.subTitleOpt||{};return t.prop=this.data.subTitleKey,t.width=30,t.align="right",[e,t]}},methods:{}},s=l,c=a("2877"),u=Object(c["a"])(s,n,i,!1,null,null,null);t["default"]=u.exports},d53e:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-collapse-item",{attrs:{title:e.$t("基础配置"),name:"1"}},[a("el-form-item",{attrs:{label:e.$t("标题")}},[a("el-input",{model:{value:e.config.title,callback:function(t){e.$set(e.config,"title",t)},expression:"config.title"}})],1),a("el-form-item",{attrs:{label:e.$t("跳转功能")}},[a("l-tree-select",{attrs:{options:e.appTree},model:{value:e.config.moduleId,callback:function(t){e.$set(e.config,"moduleId",t)},expression:"config.moduleId"}})],1),e._l(e.config.list,(function(t,n){return a("div",{key:t.id,staticClass:"reg-item"},[a("el-form-item",{staticStyle:{"margin-bottom":"8px"},attrs:{label:e.$t("名称")}},[a("el-input",{model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}})],1),a("el-form-item",{staticStyle:{"margin-bottom":"8px"},attrs:{label:e.$t("数据源")}},[a("l-select",{attrs:{placeholder:"请选择数据源",size:"mini",options:e.lr_dataSource,labelKey:"f_Name",valueKey:"f_Code",filterable:""},on:{change:function(a){return e.handleDataSourceChange(t)}},model:{value:t.dataCode,callback:function(a){e.$set(t,"dataCode",a)},expression:"item.dataCode"}})],1),a("el-form-item",{staticStyle:{"margin-bottom":"8px"},attrs:{label:e.$t("显示值")}},[a("l-select",{attrs:{placeholder:"请选择值",size:"mini",options:e.myColNameList(t.dataCode),filterable:""},model:{value:t.dataValueKey,callback:function(a){e.$set(t,"dataValueKey",a)},expression:"item.dataValueKey"}})],1),a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:e.$t("跳转功能")}},[a("l-tree-select",{attrs:{options:e.appTree},model:{value:t.moduleId,callback:function(a){e.$set(t,"moduleId",a)},expression:"item.moduleId"}})],1),e.config.list.length>1?a("el-button",{staticClass:"reg-item-delete",attrs:{title:e.$t("删除"),circle:"",plain:"",size:"mini",type:"danger"},on:{click:function(t){return e.handleRemoveCol(n)}}},[a("i",{staticClass:"el-icon-close"})]):e._e()],1)})),e.config.list.length<4?a("div",{staticStyle:{"margin-bottom":"10px","margin-top":"10px"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleAddCol}},[e._v(e._s(e.$t("添加")))])],1):e._e()],2)],1)},i=[],o=(a("d81d"),a("a434"),{inject:["appDesign"],props:["data"],data:function(){return{}},computed:{config:function(){return this.data},appTree:function(){return this.appDesign.appTree||[]}},methods:{myColNameList:function(e){if(this.lr_dataSourceCol&&e){var t=this.lr_dataSourceCol[e]||[];return t.map((function(e){return{value:e,label:e}}))}return[]},handleDataSourceChange:function(e){var t=e.dataCode;this.$validatenull(t)||(this.lr_loadDataSourceData(t),this.lr_loadDataSourceColNames(t)),e.dataValueKey=""},handleAddCol:function(){var e=this.config.list.length;e>=4?this.$message({type:"warning",message:this.$t("最多添加4项")}):this.config.list.push({id:this.$uuid(),moduleId:"",name:this.$t("数据项")+"".concat(e),dataCode:"",dataValueKey:""})},handleRemoveCol:function(e){1==this.config.list.length?this.$message({type:"warning",message:this.$t("必须保留一项")}):this.config.list.splice(e,1)}}}),r=o,l=a("2877"),s=Object(l["a"])(r,n,i,!1,null,null,null);t["default"]=s.exports},defc:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("l-data-panel",{attrs:{label:e.data.title,isApp:""}},[a("l-echarts",{ref:"main",attrs:{option:e.option}})],1)},i=[],o=(a("d81d"),a("b0c0"),a("96cf"),a("1da1")),r={props:["data","isPreview","isShow"],data:function(){return{option:{tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"",type:"pie",radius:"50%",data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},timer:null}},watch:{isShow:function(){var e=this;setTimeout((function(){e.$refs.main.updateChart()}),100)},data:{handler:function(){this.refresh()},deep:!0}},mounted:function(){this.refresh()},methods:{getOption:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.option.series[0].name=e.data.label,!e.data.dataCode){t.next=4;break}return t.next=4,e.lr_loadDataSourceData(e.data.dataCode,!!e.isPreview);case 4:return a=e.lr_dataSourceData[e.data.dataCode]||[],e.data.nameKey&&e.data.valueKey&&(e.option.series[0].data=a.map((function(t){return{name:t[e.data.nameKey],value:t[e.data.valueKey]}}))),t.abrupt("return",e.option);case 7:case"end":return t.stop()}}),t)})))()},refresh:function(){var e=this;null==this.timer&&(this.timer=setTimeout(Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getOption();case 2:a=t.sent,e.$refs.main.updateChart(a),e.timer=null;case 5:case"end":return t.stop()}}),t)}))),100))}}},l=r,s=a("2877"),c=Object(s["a"])(l,n,i,!1,null,null,null);t["default"]=c.exports},e9a5:function(e,t,a){"use strict";a("7a95")},f18c:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id="f18c"},fcea:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-collapse-item",{attrs:{title:e.$t("基础配置"),name:"1"}},[e.config.list?a("div",{staticStyle:{padding:"10px 0"}},e._l(e.config.list,(function(t,n){return a("div",{key:t.id,staticClass:"learun-row-form-input"},[a("el-form-item",{staticStyle:{"margin-bottom":"8px"},attrs:{label:e.$t("图片上传")}},[a("l-upload",{attrs:{listType:"picture-card",chunkedUpload:e.lr_chunkedUpload,getFileList:e.lr_getFileList,deleteFile:e.lr_deleteFile},model:{value:t.imgurl,callback:function(a){e.$set(t,"imgurl",a)},expression:"item.imgurl"}})],1),a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:e.$t("跳转功能")}},[a("l-tree-select",{attrs:{options:e.appTree},model:{value:t.moduleId,callback:function(a){e.$set(t,"moduleId",a)},expression:"item.moduleId"}})],1),e.config.list.length>1?a("el-button",{staticClass:"learun-row-form-input-delete",attrs:{title:e.$t("删除"),circle:"",plain:"",size:"mini",type:"danger"},on:{click:function(t){return e.handleRemoveCol(n)}}},[a("i",{staticClass:"el-icon-close"})]):e._e()],1)})),0):e._e(),a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleAddCol}},[e._v(e._s(e.$t("添加")))])],1)])],1)},i=[],o=(a("d81d"),a("a434"),{props:["data"],inject:["appDesign"],computed:{config:function(){return this.data},appTree:function(){return this.appDesign.appTree||[]}},created:function(){},methods:{init:function(){},myColNameList:function(e){if(this.lr_dataSourceCol&&e){var t=this.lr_dataSourceCol[e]||[];return t.map((function(e){return{value:e,label:e}}))}return[]},handleDataSourceChange:function(e){var t=e.dataCode;this.$validatenull(t)||(this.lr_loadDataSourceData(t),this.lr_loadDataSourceColNames(t)),e.dataValueKey=""},handleAddCol:function(){this.config.list.push({id:this.$uuid(),moduleId:"",imgurl:""})},handleRemoveCol:function(e){1==this.config.list.length?this.$message({type:"warning",message:this.$t("必须保留一项")}):this.config.list.splice(e,1)}}}),r=o,l=a("2877"),s=Object(l["a"])(r,n,i,!1,null,null,null);t["default"]=s.exports},fefd:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-collapse-item",{attrs:{title:e.$t("基础配置"),name:"1"}},[a("el-form-item",{attrs:{label:e.$t("标题")}},[a("el-input",{model:{value:e.config.title,callback:function(t){e.$set(e.config,"title",t)},expression:"config.title"}})],1),a("el-form-item",{attrs:{label:e.$t("数据坐标")}},[a("l-radio",{attrs:{options:[{value:"Y",label:"Y轴"},{value:"X",label:"X轴"}]},model:{value:e.config.dataType,callback:function(t){e.$set(e.config,"dataType",t)},expression:"config.dataType"}})],1),a("el-form-item",{attrs:{label:e.$t("数据源")}},[a("l-select",{attrs:{placeholder:"请选择数据源",size:"mini",options:e.lr_dataSource,labelKey:"f_Name",valueKey:"f_Code",filterable:""},on:{change:e.handleDataSourceChange},model:{value:e.config.dataCode,callback:function(t){e.$set(e.config,"dataCode",t)},expression:"config.dataCode"}})],1),a("el-form-item",{attrs:{label:e.$t("X轴值")}},[a("l-select",{attrs:{placeholder:"请选择",size:"mini",options:e.myColNameList,filterable:""},model:{value:e.config.XKey,callback:function(t){e.$set(e.config,"XKey",t)},expression:"config.XKey"}})],1),a("el-form-item",{attrs:{label:e.$t("Y轴值")}},[a("l-select",{attrs:{placeholder:"请选择",size:"mini",options:e.myColNameList,filterable:""},model:{value:e.config.YKey,callback:function(t){e.$set(e.config,"YKey",t)},expression:"config.YKey"}})],1)],1)],1)},i=[],o=(a("d81d"),{props:["data"],data:function(){return{}},computed:{config:function(){return this.data},myColNameList:function(){if(this.lr_dataSourceCol&&this.config.dataCode){var e=this.lr_dataSourceCol[this.config.dataCode]||[];return e.map((function(e){return{value:e,label:e}}))}return[]}},created:function(){this.config.dataCode&&this.lr_loadDataSourceColNames(this.config.dataCode)},methods:{handleDataSourceChange:function(){this.config.YKey="",this.config.XKey="",this.$validatenull(this.config.dataCode)||(this.lr_loadDataSourceData(this.config.dataCode),this.lr_loadDataSourceColNames(this.config.dataCode))}}}),r=o,l=a("2877"),s=Object(l["a"])(r,n,i,!1,null,null,null);t["default"]=s.exports},ff23:function(e,t,a){var n={"./chartbar/base.vue":"7962","./chartline/base.vue":"fefd","./chartpie/base.vue":"5997","./databoard/base.vue":"d53e","./datalist/base.vue":"7471","./imgswiper/base.vue":"fcea","./mytask/base.vue":"b910","./mytasklist/base.vue":"d49a"};function i(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id="ff23"}}]);