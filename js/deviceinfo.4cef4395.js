(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["deviceinfo","deviceinfo-form","deviceinfo-viewForm"],{"034a":function(e,t,a){},"5f18":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.lr_loadPage?e._e():a("l-layout",{staticClass:"l-tab-page"},[a("l-panel",{attrs:{title:"设备信息"},scopedSlots:e._u([{key:"toolLeft",fn:function(){return[a("l-query2",{attrs:{items:e.queryItems,formData:e.queryData,loading:e.tableLoading},on:{search:e.handleSearch},scopedSlots:e._u([{key:"f_Type",fn:function(){return[a("l-select",{attrs:{placeholder:"请选择",options:e.lr_dataItem["DeviceType"],labelKey:"f_ItemName",valueKey:"f_ItemValue"},model:{value:e.queryData.f_Type,callback:function(t){e.$set(e.queryData,"f_Type",t)},expression:"queryData.f_Type"}})]},proxy:!0},{key:"f_State",fn:function(){return[a("l-select",{attrs:{placeholder:"请选择",options:e.StateOptions,labelKey:"label",valueKey:"value"},model:{value:e.queryData.f_State,callback:function(t){e.$set(e.queryData,"f_State",t)},expression:"queryData.f_State"}})]},proxy:!0},{key:"keyword",fn:function(){return[a("el-input",{attrs:{placeholder:e.$t("请输入关键字")},model:{value:e.queryData.keyword,callback:function(t){e.$set(e.queryData,"keyword",t)},expression:"queryData.keyword"}})]},proxy:!0}],null,!1,1673738631)})]},proxy:!0},{key:"toolRight",fn:function(){return[a("l-tool-btns",{on:{setting:e.lr_handleSettingTable,click:function(t){return e.handleAdd()}}},[a("l-excel-btns")],1)]},proxy:!0}],null,!1,2363088295)},[a("l-table",{ref:"mainTable",attrs:{loading:e.tableLoading,columns:e.lr_getPageColumns(e.columns),dataSource:e.tableData,isPage:!0,pageTotal:e.tableTotal,tablePage:e.tableCurrentPage,rowKey:"f_Id",isMultiSelect:""},on:{"update:tablePage":function(t){e.tableCurrentPage=t},"update:table-page":function(t){e.tableCurrentPage=t},loadPageData:e.turnTablePage,selectionChange:e.selectChange},scopedSlots:e._u([e._l(e.lr_tableColumnsByToLabel(e.lr_getPageColumns(e.columns)),(function(e,t){return{key:e.prop,fn:function(r){return[a("l-value-to-label",{key:t,attrs:{value:r.row[e.prop],type:e.dataType,code:e.dataCode,valueKey:e.valueKey,labelKey:e.labelKey,options:e.options,format:e.format,setting:e.setting}})]}}})),{key:"f_State",fn:function(t){return[0==t.row.f_State?a("p",{staticStyle:{color:"#67C23A"}},[e._v("正常")]):1==t.row.f_State?a("p",{staticStyle:{color:"#F56C6C"}},[e._v("异常")]):e._e()]}}],null,!0)},[a("l-table-btns",{attrs:{btns:e.tableBtns},on:{click:e.lr_handleTableBtnClick}})],1)],1),a("l-dialog",{attrs:{title:e.$t(e.formTitle),visible:e.formVisible,height:535,width:532},on:{"update:visible":function(t){e.formVisible=t},ok:e.handleSave,close:e.handleCloseForm,opened:e.handleOpenedForm}},[a("my-form",{ref:"form",attrs:{isReadOnly:e.formDetails}})],1),a("l-dialog",{attrs:{title:e.$t(e.viewFormTitle),visible:e.viewFormVisible,height:641,width:1e3,hasBtns:!1},on:{"update:visible":function(t){e.viewFormVisible=t}}},[e.viewFormVisible?a("myViewForm",{attrs:{sonRow:e.viewFormRow}}):e._e()],1)],1)},i=[],o=(a("d81d"),a("a434"),a("96cf"),a("1da1")),n=a("c4d7e"),l=a("cfff"),s=window.$api.erpcase.deviceinfo,c={components:{MyForm:n["default"],myViewForm:l["default"]},data:function(){return{lr_isPage:!0,moduleCode:"ERP_DeviceInfo",queryData:{f_Type:"",f_State:"",keyword:""},queryItems:[{label:"设备类型",prop:"f_Type"},{label:"设备状态",prop:"f_State"},{label:"关键字",prop:"keyword"}],StateOptions:[{value:"0",label:"正常"},{value:"1",label:"异常"}],tableLoading:!1,tableData:[],tableTotal:0,tableCurrentPage:1,tablePageSize:50,columns:[{label:"设备编号",prop:"f_Number",minWidth:120,align:"left",dataType:"input"},{label:"设备名称",prop:"f_Name",minWidth:150,align:"left",dataType:"input",isNotAutoWrap:!0},{label:"设备类型",prop:"f_Type",minWidth:100,align:"left",dataType:"mydata",options:[{value:"压铸设备",label:"压铸设备"},{value:"机压设备",label:"机压设备"}]},{label:"供应商",prop:"f_Supplier",minWidth:200,align:"left",dataType:"dataSource",dataCode:"ERP_Suppliers",valueKey:"f_id",labelKey:"f_name",isNotAutoWrap:!0},{label:"设备位置",prop:"f_Address",minWidth:160,align:"left",dataType:"input"},{label:"规格型号",prop:"f_Model",minWidth:130,align:"left",dataType:"input",isNotAutoWrap:!0},{label:"负责人",prop:"f_Principal",minWidth:80,align:"left",dataType:"user"},{label:"设备状态",prop:"f_State",minWidth:80,align:"left",dataType:"input"},{label:"操作时间",prop:"f_CreateDate",minWidth:120,align:"left",dataType:"datetime",format:"yyyy-MM-dd HH:mm:ss",isNotAutoWrap:!0}],tableBtns:[{prop:"View",label:"查看"},{prop:"Edit",label:"编辑"},{prop:"Delete",label:"删除"}],formVisible:!1,formTitle:"设备信息",formEditRow:null,formEdit:!1,formDetails:!1,viewFormVisible:!1,viewFormRow:null,viewFormTitle:"查看设备详情",SupplierOptions:[],tableSelection:[]}},mounted:function(){this.init()},methods:{init:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.systemDATAItem();case 2:e.loadTableData();case 3:case"end":return t.stop()}}),t)})))()},handleSearch:function(){this.loadTableData()},turnTablePage:function(e){var t=e.rows;this.tablePageSize=t,this.loadTableData(!0)},loadTableData:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e||(t.tableCurrentPage=1),t.tableLoading=!0,r=t.$deepClone(t.queryData),r.rows=t.tablePageSize,r.page=t.tableCurrentPage,r.sidx="F_CreateDate DESC",a.next=8,t.$awaitWraper(s.getPage(r));case 8:i=a.sent,null!=i?(t.tableData=i.rows,t.tableTotal=i.records):t.tableData=[],t.tableLoading=!1;case 11:case"end":return a.stop()}}),a)})))()},selectChange:function(e){this.tableSelection=e},handleDownLoad:function(){var e={},t=this.$refs.mainTable.getSelected();if(0!=t.length){var a=String(t.map((function(e){return e.f_Id})));e.ids=a,this.lr_downFile("erpCase/deviceinfos/export","设备信息列表",e)}else this.$message({type:"warning",message:"请选择数据！"})},systemDATAItem:function(){this.lr_loadDataItem("DeviceType"),this.lr_loadDataItem("deviceState")},handleAdd:function(){this.formEdit=!1,this.formDetails=!1,this.handleShowForm("新增设备")},handleEdit:function(e,t){this.formEdit=!0,this.formDetails=!1,this.formEditRow=t,this.handleShowForm("编辑设备")},handleDelete:function(e,t){var a=this;this.$confirm(this.$t("此操作将永久删除该数据, 是否继续?"),this.$t("提示"),{confirmButtonText:this.$t("确定"),cancelButtonText:this.$t("取消"),type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a.tableData.splice(e,1),a.tableTotal--,r.next=4,s.remove(t.f_Id);case 4:a.$message({type:"success",message:a.$t("删除成功!")});case 5:case"end":return r.stop()}}),r)})))).catch((function(){a.$message({type:"info",message:a.$t("已取消删除!")})}))},handleSave:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e("保存数据中..."),r.next=3,a.$refs.form.validateForm();case 3:if(!r.sent){r.next=8;break}return r.next=6,a.$refs.form.saveForm({keyValue:a.formEdit?a.formEditRow.f_Id:"",isEdit:a.formEdit});case 6:i=r.sent,i&&(o=a.formEdit?"更新成功!":"新增成功!",a.$message({type:"success",message:a.$t(o)}),a.loadTableData(),a.formVisible=!1);case 8:t();case 9:case"end":return r.stop()}}),r)})))()},handleShowForm:function(e){this.formTitle=e,this.formVisible=!0},handleOpenedForm:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!a.formEdit){r.next=5;break}return e("加载数据中..."),r.next=4,a.$refs.form.loadFormData({keyValue:a.formEditRow.f_Id});case 4:t();case 5:case"end":return r.stop()}}),r)})))()},handleCloseForm:function(){this.$refs.form.resetForm()},handleView:function(e,t){this.viewFormRow=t,this.viewFormVisible=!0}}},f=c,_=a("2877"),d=Object(_["a"])(f,r,i,!1,null,null,null);t["default"]=d.exports},"7f90":function(e,t,a){"use strict";a("034a")},c4d7e:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"l-rblock l-form-viewer",staticStyle:{padding:"8px"}},[a("el-form",{ref:"form",attrs:{model:e.formData,rules:e.rules,size:"mini",labelPosition:"right",labelWidth:"80px"}},[a("div",{staticClass:"l-auto-window only-tabs"},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{staticClass:"l-tabs-container",attrs:{label:e.$t("主表信息"),name:"tab0"}},[a("el-row",{attrs:{gutter:0}},[a("div",{staticClass:"l-rblock"},[e.lr_formLookAuth("case_erp_deviceinfo_f_Type")?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("设备类型"),prop:"case_erp_deviceinfo_f_Type"}},[a("l-select",{attrs:{disabled:!e.lr_formEditAuth("case_erp_deviceinfo_f_Type",e.isReadOnly),options:e.lr_dataItem["DeviceType"],labelKey:"f_ItemName",valueKey:"f_ItemValue"},model:{value:e.formData.case_erp_deviceinfo_f_Type,callback:function(t){e.$set(e.formData,"case_erp_deviceinfo_f_Type",t)},expression:"formData.case_erp_deviceinfo_f_Type"}})],1)],1):e._e(),e.lr_formLookAuth("case_erp_deviceinfo_f_Number")?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("设备编号"),prop:"case_erp_deviceinfo_f_Number"}},[a("el-input",{attrs:{disabled:!e.lr_formEditAuth("case_erp_deviceinfo_f_Number",e.isReadOnly),placeholder:e.$t("请输入")},model:{value:e.formData.case_erp_deviceinfo_f_Number,callback:function(t){e.$set(e.formData,"case_erp_deviceinfo_f_Number",t)},expression:"formData.case_erp_deviceinfo_f_Number"}})],1)],1):e._e(),e.lr_formLookAuth("case_erp_deviceinfo_f_Name")?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("设备名称"),prop:"case_erp_deviceinfo_f_Name"}},[a("el-input",{attrs:{disabled:!e.lr_formEditAuth("case_erp_deviceinfo_f_Name",e.isReadOnly),placeholder:e.$t("请输入")},model:{value:e.formData.case_erp_deviceinfo_f_Name,callback:function(t){e.$set(e.formData,"case_erp_deviceinfo_f_Name",t)},expression:"formData.case_erp_deviceinfo_f_Name"}})],1)],1):e._e(),e.lr_formLookAuth("case_erp_deviceinfo_f_Model")?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("规格型号"),prop:"case_erp_deviceinfo_f_Model"}},[a("el-input",{attrs:{disabled:!e.lr_formEditAuth("case_erp_deviceinfo_f_Model",e.isReadOnly),placeholder:e.$t("请输入")},model:{value:e.formData.case_erp_deviceinfo_f_Model,callback:function(t){e.$set(e.formData,"case_erp_deviceinfo_f_Model",t)},expression:"formData.case_erp_deviceinfo_f_Model"}})],1)],1):e._e(),e.lr_formLookAuth("case_erp_deviceinfo_f_Supplier")?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("供应商"),prop:"case_erp_deviceinfo_f_Supplier"}},[a("l-layer-select",{attrs:{disabled:!e.lr_formEditAuth("case_erp_deviceinfo_f_Supplier",e.isReadOnly),isPage:!0,height:504,width:960,columns:[{label:"供应商编码",prop:"f_number",valueKey:"",minWidth:120,align:"left",hidden:!1,isNotAutoWrap:!0},{label:"供应商名称",prop:"f_name",valueKey:"",minWidth:150,align:"left",hidden:!1,isNotAutoWrap:!0},{label:"负责人",prop:"f_person",valueKey:"",minWidth:100,align:"left",hidden:!1},{label:"手机号",prop:"f_phone",valueKey:"",minWidth:100,align:"left",hidden:!1},{label:"经营范围",prop:"f_scope",valueKey:"",minWidth:100,align:"left",hidden:!1}],options:e.case_erp_deviceinfo_f_SupplierOptions},model:{value:e.formData.case_erp_deviceinfo_f_Supplier,callback:function(t){e.$set(e.formData,"case_erp_deviceinfo_f_Supplier",t)},expression:"formData.case_erp_deviceinfo_f_Supplier"}})],1)],1):e._e(),e.lr_formLookAuth("case_erp_deviceinfo_f_BuyDate")?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("购买日期"),prop:"case_erp_deviceinfo_f_BuyDate"}},[a("l-date",{attrs:{disabled:!e.lr_formEditAuth("case_erp_deviceinfo_f_BuyDate",e.isReadOnly),readonly:!1,format:"yyyy-MM-dd",dateType:"date",clearable:!0,placeholder:e.$t("请选择")},model:{value:e.formData.case_erp_deviceinfo_f_BuyDate,callback:function(t){e.$set(e.formData,"case_erp_deviceinfo_f_BuyDate",t)},expression:"formData.case_erp_deviceinfo_f_BuyDate"}})],1)],1):e._e(),e.lr_formLookAuth("case_erp_deviceinfo_f_MaintainDate")?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("维保日期"),prop:"case_erp_deviceinfo_f_MaintainDate"}},[a("l-date",{attrs:{disabled:!e.lr_formEditAuth("case_erp_deviceinfo_f_MaintainDate",e.isReadOnly),readonly:!1,format:"yyyy-MM-dd",dateType:"date",clearable:!0,placeholder:e.$t("请选择")},model:{value:e.formData.case_erp_deviceinfo_f_MaintainDate,callback:function(t){e.$set(e.formData,"case_erp_deviceinfo_f_MaintainDate",t)},expression:"formData.case_erp_deviceinfo_f_MaintainDate"}})],1)],1):e._e(),e.lr_formLookAuth("case_erp_deviceinfo_f_ScrapDate")?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("报废日期"),prop:"case_erp_deviceinfo_f_ScrapDate"}},[a("l-date",{attrs:{disabled:!e.lr_formEditAuth("case_erp_deviceinfo_f_ScrapDate",e.isReadOnly),readonly:!1,format:"yyyy-MM-dd",dateType:"date",clearable:!0,placeholder:e.$t("请选择")},model:{value:e.formData.case_erp_deviceinfo_f_ScrapDate,callback:function(t){e.$set(e.formData,"case_erp_deviceinfo_f_ScrapDate",t)},expression:"formData.case_erp_deviceinfo_f_ScrapDate"}})],1)],1):e._e(),e.lr_formLookAuth("case_erp_deviceinfo_f_Principal")?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("负责人"),prop:"case_erp_deviceinfo_f_Principal"}},[a("l-user-select",{attrs:{disabled:!e.lr_formEditAuth("case_erp_productlog_f_Principal",e.isReadOnly)},model:{value:e.formData.case_erp_deviceinfo_f_Principal,callback:function(t){e.$set(e.formData,"case_erp_deviceinfo_f_Principal",t)},expression:"formData.case_erp_deviceinfo_f_Principal"}})],1)],1):e._e(),e.lr_formLookAuth("case_erp_deviceinfo_f_Address")?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("设备位置"),prop:"case_erp_deviceinfo_f_Address"}},[a("el-input",{attrs:{disabled:!e.lr_formEditAuth("case_erp_deviceinfo_f_Address",e.isReadOnly),placeholder:e.$t("请输入")},model:{value:e.formData.case_erp_deviceinfo_f_Address,callback:function(t){e.$set(e.formData,"case_erp_deviceinfo_f_Address",t)},expression:"formData.case_erp_deviceinfo_f_Address"}})],1)],1):e._e()],1)])],1)],1)],1)])],1)},i=[],o=(a("96cf"),a("1da1")),n=window.$api.erpcase.deviceinfo,l={props:{isReadOnly:{type:Boolean,default:!1}},data:function(){var e=this;return{moduleCode:"ERP_DeviceInfo",activeName:"tab0",formData:{case_erp_deviceinfo_f_Id:"",case_erp_deviceinfo_f_Type:"",case_erp_deviceinfo_f_Number:"",case_erp_deviceinfo_f_Name:"",case_erp_deviceinfo_f_Model:"",case_erp_deviceinfo_f_Supplier:"",case_erp_deviceinfo_f_BuyDate:"",case_erp_deviceinfo_f_MaintainDate:"",case_erp_deviceinfo_f_ScrapDate:"",case_erp_deviceinfo_f_Principal:"",case_erp_deviceinfo_f_Address:""},rules:{case_erp_deviceinfo_f_Type:[{required:!0,message:"请选择设备类型"}],case_erp_deviceinfo_f_Number:[{required:!0,message:"请输入设备编号"},{validator:this.lr_existDbFiled,fieldName:"f_Number",keyValue:function(){return e.formData.case_erp_deviceinfo_f_Id},tableName:"case_erp_deviceinfo",keyName:"f_Id",trigger:"blur"}],case_erp_deviceinfo_f_Name:[{required:!0,message:"请输入设备名称"},{validator:this.lr_existDbFiled,fieldName:"f_Name",keyValue:function(){return e.formData.case_erp_deviceinfo_f_Id},tableName:"case_erp_deviceinfo",keyName:"f_Id",trigger:"blur"}],case_erp_deviceinfo_f_Model:[{required:!0,message:"请输入规格型号"}],case_erp_deviceinfo_f_MaintainDate:[{required:!0,message:"请选择维保日期"}],case_erp_deviceinfo_f_ScrapDate:[{required:!0,message:"请选择报废日期"}],case_erp_deviceinfo_f_Principal:[{required:!0,message:"请选择负责人"}]}}},mounted:function(){this.init()},computed:{case_erp_deviceinfo_f_SupplierOptions:function(){var e=this.lr_DataSource("ERP_Suppliers");return this.lr_DataSourceOptions(e,"f_id","f_name")},dataItem_filedsJson:function(){return{f_ItemId:this.classifyId}}},methods:{init:function(){this.systemDATAItem()},systemDATAItem:function(){this.lr_loadDataItem("DeviceType")},resetForm:function(){this.formData.case_erp_deviceinfo_f_Id="",this.$formClear(this.$refs.form),this.activeName="tab0"},validateForm:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$formValidateWraper(e.$refs.form);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:return t.abrupt("return",!0);case 5:case"end":return t.stop()}}),t)})))()},setForm:function(e){this.$setFormData(this.formData,e,"case_erp_deviceinfo")},getForm:function(){return this.$getFormData(this.formData,"case_erp_deviceinfo")},loadFormData:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.keyValue,a.next=3,t.$awaitWraper(n.get(r));case 3:if(i=a.sent,!i){a.next=9;break}return t.setForm(i),a.abrupt("return",!0);case 9:return a.abrupt("return",!1);case 10:case"end":return a.stop()}}),a)})))()},saveForm:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=e.keyValue,i=e.isEdit,o=t.getForm(),!i){a.next=8;break}return a.next=5,t.$awaitWraper(n.update(r,o));case 5:return a.abrupt("return",a.sent);case 8:return o.f_Id=r,a.next=11,t.$awaitWraper(n.add(o));case 11:return a.abrupt("return",a.sent);case 12:case"end":return a.stop()}}),a)})))()}}},s=l,c=a("2877"),f=Object(c["a"])(s,r,i,!1,null,null,null);t["default"]=f.exports},cfff:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"l-rblock l-form-viewer",staticStyle:{padding:"16px"}},[a("p",{staticClass:"viewTitle"},[e._v("基础信息")]),a("el-form",{staticClass:"viewForm",staticStyle:{height:"230px","margin-top":"20px"},attrs:{"label-position":"left","label-width":"90px",model:this.sonRow}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"设备编号:"}},[a("span",[e._v(e._s(this.sonRow.f_Number))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"alignRight",attrs:{label:""}},["0"==this.sonRow.f_State?a("span",{staticStyle:{color:"#04b751"}},[e._v("状态:正常")]):"1"==this.sonRow.f_State?a("span",{staticStyle:{color:"#ff0000"}},[e._v("状态:异常")]):a("span",[e._v("未知")])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"设备类型:"}},[a("span",[e._v(e._s(this.sonRow.f_Type))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"设备名称:"}},[a("span",[e._v(e._s(this.sonRow.f_Name))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"设备位置:"}},[a("span",[e._v(e._s(this.sonRow.f_Address))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"设备供应商:"}},[a("span",[e._v(e._s(this.formData.SupplierName))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"规格型号:"}},[a("span",[e._v(e._s(this.sonRow.f_Model))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"购买日期:"}},[a("span",[e._v(e._s(e.lr_dateFormat(this.sonRow.f_BuyDate,"yyyy-MM-dd")))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"维保到期:"}},[a("span",[e._v(e._s(e.lr_dateFormat(this.sonRow.f_MaintainDate,"yyyy-MM-dd")))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报废日期:"}},[a("span",[e._v(e._s(e.lr_dateFormat(this.sonRow.f_ScrapDate,"yyyy-MM-dd")))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"负责人:"}},[a("span",[e._v(e._s(e.lr_userName(this.sonRow.f_Principal)))])])],1)],1)],1),a("p",{staticClass:"viewTitle"},[e._v("运行状况")]),a("div",{staticClass:"echartsAllDemo"},[a("div",{style:{width:"48%",height:"100%"}},[a("l-echarts",{ref:"main",style:{width:"100%",height:"209px"},attrs:{option:e.gaugeOptions}}),a("p",{staticClass:"textCenter"},[e._v("实时运行速度m/s")])],1),a("div",{style:{width:"52%",height:"100%"}},[a("l-echarts",{style:{width:"100%",height:"100%"},attrs:{option:e.lineOptions}})],1)])],1)},i=[],o=(a("7db0"),a("b680"),a("96cf"),a("1da1")),n=window.$api.erpcase.material,l={props:["sonRow"],data:function(){return{formData:{SupplierName:""},gaugeOptions:{series:[{type:"gauge",radius:"115%",center:["40%","60%"],axisLine:{lineStyle:{width:20,color:[[.2,"#67e0e3"],[.8,"#37a2da"],[1,"#fd666d"]]}},pointer:{itemStyle:{color:"auto"}},axisTick:{distance:-30,length:15,lineStyle:{color:"#fff",width:2}},splitLine:{distance:-30,length:30,lineStyle:{color:"#fff",width:2}},axisLabel:{color:"auto",distance:28,fontSize:14},detail:{valueAnimation:!0,formatter:"{value}",color:"auto"},data:[{value:(100*Math.random()).toFixed(),name:"m"}],title:{offsetCenter:[0,"-25%"]}}]},lineOptions:{color:["#00CACF"],title:{text:"生产效率",subtext:"单位：个",textStyle:{fontSize:14,fontWeight:400,color:"#333333"}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:["4:00","8:00","12:00","16:00","20:00","24:00"]}],yAxis:[{type:"value"}],series:[{name:this.sonRow.f_Number,type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!0,areaStyle:{opacity:.8,color:new window.echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#00CACF"},{offset:1,color:"#fff"}])},emphasis:{focus:"series"},data:[(100*Math.random()).toFixed(),(100*Math.random()).toFixed(),(100*Math.random()).toFixed(),(100*Math.random()).toFixed(),(100*Math.random()).toFixed(),(100*Math.random()).toFixed()]}]},timer:null}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.start(),e.init();case 2:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){clearInterval(this.timer)},methods:{init:function(){var e=this,t=this.lr_DataSource("ERP_Suppliers");this.formData.SupplierName=t.find((function(t){return t.f_id==e.sonRow.f_Supplier})).f_name||{}},start:function(){this.timer=setTimeout(this.getOption,1500)},getOption:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={},t.next=3,e.$awaitWraper(n.getrunstate(a));case 3:r=t.sent,e.gaugeOptions.series[0].data[0].value=r.data_gauge[0],i=e.gaugeOptions,e.$refs.main.updateChart(i),e.timer=setTimeout(e.getOption,1500);case 8:case"end":return t.stop()}}),t)})))()}}},s=l,c=(a("7f90"),a("2877")),f=Object(c["a"])(s,r,i,!1,null,null,null);t["default"]=f.exports}}]);