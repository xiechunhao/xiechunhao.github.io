"use strict";(self["webpackChunkele_admin_template"]=self["webpackChunkele_admin_template"]||[]).push([[3708],{63708:function(e,t,a){a.r(t),a.d(t,{default:function(){return oe}});var n=function(){var e=this,t=e._self._c;return t("el-card",{attrs:{shadow:"never",header:"浏览器分布","body-style":"padding: 0 10px;"}},[t("v-chart",{ref:"browserChart",staticStyle:{height:"240px"},attrs:{option:e.browserChartOption}})],1)},r=[],i=(a(58607),a(26029)),o=a(22358),l=a(52602),s=a(46380),g=a(56387),c=a(26654),u=a(11107),h=a(15724),d=2*Math.PI,f=Math.PI/180;function p(e,t){return g.dV(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function y(e,t){var a=p(e,t),n=e.get("center"),r=e.get("radius");c.cy(r)||(r=[0,r]);var i,o,l=(0,s.lo)(a.width,t.getWidth()),g=(0,s.lo)(a.height,t.getHeight()),u=Math.min(l,g),h=(0,s.lo)(r[0],u/2),d=(0,s.lo)(r[1],u/2),f=e.coordinateSystem;if(f){var y=f.dataToPoint(n);i=y[0]||0,o=y[1]||0}else c.cy(n)||(n=[n,n]),i=(0,s.lo)(n[0],l)+a.x,o=(0,s.lo)(n[1],g)+a.y;return{cx:i,cy:o,r0:h,r:d}}function v(e,t,a){t.eachSeriesByType(e,(function(e){var t=e.getData(),n=t.mapDimension("value"),r=p(e,a),i=y(e,a),o=i.cx,l=i.cy,g=i.r,c=i.r0,h=-e.get("startAngle")*f,v=e.get("endAngle"),b=e.get("padAngle")*f;v="auto"===v?h-d:-v*f;var x=e.get("minAngle")*f,A=x+b,M=0;t.each(n,(function(e){!isNaN(e)&&M++}));var w=t.getSum(n),L=Math.PI/(w||M)*2,S=e.get("clockwise"),T=e.get("roseType"),C=e.get("stillShowZeroSum"),D=t.getDataExtent(n);D[0]=0;var N=S?1:-1,I=[h,v],_=N*b/2;(0,u.q)(I,!S),h=I[0],v=I[1];var P=m(e);P.startAngle=h,P.endAngle=v,P.clockwise=S;var k=Math.abs(v-h),E=k,G=0,V=h;if(t.setLayout({viewRect:r,r:g}),t.each(n,(function(e,a){var n;if(isNaN(e))t.setItemLayout(a,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:S,cx:o,cy:l,r0:c,r:T?NaN:g});else{n="area"!==T?0===w&&C?L:e*L:k/M,n<A?(n=A,E-=A):G+=e;var r=V+N*n,i=0,u=0;b>n?(i=V+N*n/2,u=i):(i=V+_,u=r-_),t.setItemLayout(a,{angle:n,startAngle:i,endAngle:u,clockwise:S,cx:o,cy:l,r0:c,r:T?(0,s.Cb)(e,D,[c,g]):g}),V=r}})),E<d&&M)if(E<=.001){var W=k/M;t.each(n,(function(e,a){if(!isNaN(e)){var n=t.getItemLayout(a);n.angle=W;var r=0,i=0;W<b?(r=h+N*(a+.5)*W,i=r):(r=h+N*a*W+_,i=h+N*(a+1)*W-_),n.startAngle=r,n.endAngle=i}}))}else L=E/G,V=h,t.each(n,(function(e,a){if(!isNaN(e)){var n=t.getItemLayout(a),r=n.angle===A?A:e*L,i=0,o=0;r<b?(i=V+N*r/2,o=i):(i=V+_,o=V+N*r-_),n.startAngle=i,n.endAngle=o,V+=N*r}}))}))}var m=(0,h.$r)();function b(e){return{seriesType:e,reset:function(e,t){var a=t.findComponents({mainType:"legend"});if(a&&a.length){var n=e.getData();n.filterSelf((function(e){for(var t=n.getName(e),r=0;r<a.length;r++)if(!a[r].isSelected(t))return!1;return!0}))}}}}var x=a(59905),A=a(22630),M=a(78468),w=a(11071),L=a(15571),S=a(40043),T=a(53920),C=a(5030),D=a(91315),N=a(59681),I=Math.PI/180;function _(e,t,a,n,r,i,o,l,s,g){if(!(e.length<2)){for(var c=e.length,u=0;u<c;u++)if("outer"===e[u].position&&"labelLine"===e[u].labelAlignTo){var h=e[u].label.x-g;e[u].linePoints[1][0]+=h,e[u].label.x=g}(0,N.Xe)(e,s,s+o)&&f(e)}function d(e){for(var i=e.rB,o=i*i,l=0;l<e.list.length;l++){var s=e.list[l],g=Math.abs(s.label.y-a),c=n+s.len,u=c*c,h=Math.sqrt((1-Math.abs(g*g/o))*u),d=t+(h+s.len2)*r,f=d-s.label.x,p=s.targetTextWidth-f*r;k(s,p,!0),s.label.x=d}}function f(e){for(var i={list:[],maxY:0},o={list:[],maxY:0},l=0;l<e.length;l++)if("none"===e[l].labelAlignTo){var s=e[l],g=s.label.y>a?o:i,c=Math.abs(s.label.y-a);if(c>=g.maxY){var u=s.label.x-t-s.len2*r,h=n+s.len,f=Math.abs(u)<h?Math.sqrt(c*c/(1-u*u/h/h)):h;g.rB=f,g.maxY=c}g.list.push(s)}d(i),d(o)}}function P(e,t,a,n,r,i,o,l){for(var s=[],g=[],c=Number.MAX_VALUE,u=-Number.MAX_VALUE,h=0;h<e.length;h++){var d=e[h].label;E(e[h])||(d.x<t?(c=Math.min(c,d.x),s.push(e[h])):(u=Math.max(u,d.x),g.push(e[h])))}for(h=0;h<e.length;h++){var f=e[h];if(!E(f)&&f.linePoints){if(null!=f.labelStyleWidth)continue;d=f.label;var p=f.linePoints,y=void 0;y="edge"===f.labelAlignTo?d.x<t?p[2][0]-f.labelDistance-o-f.edgeDistance:o+r-f.edgeDistance-p[2][0]-f.labelDistance:"labelLine"===f.labelAlignTo?d.x<t?c-o-f.bleedMargin:o+r-u-f.bleedMargin:d.x<t?d.x-o-f.bleedMargin:o+r-d.x-f.bleedMargin,f.targetTextWidth=y,k(f,y)}}_(g,t,a,n,1,r,i,o,l,u),_(s,t,a,n,-1,r,i,o,l,c);for(h=0;h<e.length;h++){f=e[h];if(!E(f)&&f.linePoints){d=f.label,p=f.linePoints;var v="edge"===f.labelAlignTo,m=d.style.padding,b=m?m[1]+m[3]:0,x=d.style.backgroundColor?0:b,A=f.rect.width+x,M=p[1][0]-p[2][0];v?d.x<t?p[2][0]=o+f.edgeDistance+A+f.labelDistance:p[2][0]=o+r-f.edgeDistance-A-f.labelDistance:(d.x<t?p[2][0]=d.x+f.labelDistance:p[2][0]=d.x-f.labelDistance,p[1][0]=p[2][0]+M),p[1][1]=p[2][1]=d.y}}}function k(e,t,a){if(void 0===a&&(a=!1),null==e.labelStyleWidth){var n=e.label,r=n.style,i=e.rect,o=r.backgroundColor,l=r.padding,s=l?l[1]+l[3]:0,g=r.overflow,c=i.width+(o?0:s);if(t<c||a){var u=i.height;if(g&&g.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",t-s);var h=n.getBoundingRect();n.setStyle("width",Math.ceil(h.width)),n.setStyle("backgroundColor",o)}else{var d=t-s,f=t<c?d:a?d>e.unconstrainedWidth?null:d:null;n.setStyle("width",f)}var p=n.getBoundingRect();i.width=p.width;var y=(n.style.margin||0)+2.1;i.height=p.height+y,i.y-=(i.height-u)/2}}}function E(e){return"center"===e.position}function G(e){var t,a,n=e.getData(),r=[],i=!1,o=(e.get("minShowLabelAngle")||0)*I,l=n.getLayout("viewRect"),g=n.getLayout("r"),u=l.width,h=l.x,d=l.y,f=l.height;function p(e){e.ignore=!0}function y(e){if(!e.ignore)return!0;for(var t in e.states)if(!1===e.states[t].ignore)return!0;return!1}n.each((function(e){var l=n.getItemGraphicEl(e),d=l.shape,f=l.getTextContent(),v=l.getTextGuideLine(),m=n.getItemModel(e),b=m.getModel("label"),x=b.get("position")||m.get(["emphasis","label","position"]),A=b.get("distanceToLabelLine"),M=b.get("alignTo"),w=(0,s.lo)(b.get("edgeDistance"),u),L=b.get("bleedMargin"),S=m.getModel("labelLine"),T=S.get("length");T=(0,s.lo)(T,u);var D=S.get("length2");if(D=(0,s.lo)(D,u),Math.abs(d.endAngle-d.startAngle)<o)return(0,c.__)(f.states,p),f.ignore=!0,void(v&&((0,c.__)(v.states,p),v.ignore=!0));if(y(f)){var N,I,_,P,k=(d.startAngle+d.endAngle)/2,E=Math.cos(k),G=Math.sin(k);t=d.cx,a=d.cy;var V="inside"===x||"inner"===x;if("center"===x)N=d.cx,I=d.cy,P="center";else{var W=(V?(d.r+d.r0)/2*E:d.r*E)+t,B=(V?(d.r+d.r0)/2*G:d.r*G)+a;if(N=W+3*E,I=B+3*G,!V){var O=W+E*(T+g-d.r),R=B+G*(T+g-d.r),X=O+(E<0?-1:1)*D,q=R;N="edge"===M?E<0?h+w:h+u-w:X+(E<0?-A:A),I=q,_=[[W,B],[O,R],[X,q]]}P=V?"center":"edge"===M?E>0?"right":"left":E>0?"left":"right"}var $=Math.PI,Y=0,z=b.get("rotate");if((0,c.Et)(z))Y=z*($/180);else if("center"===x)Y=0;else if("radial"===z||!0===z){var U=E<0?-k+$:-k;Y=U}else if("tangential"===z&&"outside"!==x&&"outer"!==x){var F=Math.atan2(E,G);F<0&&(F=2*$+F);var Z=G>0;Z&&(F=$+F),Y=F-$}if(i=!!Y,f.x=N,f.y=I,f.rotation=Y,f.setStyle({verticalAlign:"middle"}),V){f.setStyle({align:P});var H=f.states.select;H&&(H.x+=f.x,H.y+=f.y)}else{var K=f.getBoundingRect().clone();K.applyTransform(f.getComputedTransform());var Q=(f.style.margin||0)+2.1;K.y-=Q/2,K.height+=Q,r.push({label:f,labelLine:v,position:x,len:T,len2:D,minTurnAngle:S.get("minTurnAngle"),maxSurfaceAngle:S.get("maxSurfaceAngle"),surfaceNormal:new C.A(E,G),linePoints:_,textAlign:P,labelDistance:A,labelAlignTo:M,edgeDistance:w,bleedMargin:L,rect:K,unconstrainedWidth:K.width,labelStyleWidth:f.style.width})}l.setTextConfig({inside:V})}})),!i&&e.get("avoidLabelOverlap")&&P(r,t,a,g,u,f,h,d);for(var v=0;v<r.length;v++){var m=r[v],b=m.label,x=m.labelLine,A=isNaN(b.x)||isNaN(b.y);if(b){b.setStyle({align:m.textAlign}),A&&((0,c.__)(b.states,p),b.ignore=!0);var M=b.states.select;M&&(M.x+=b.x,M.y+=b.y)}if(x){var w=m.linePoints;A||!w?((0,c.__)(x.states,p),x.ignore=!0):((0,D.YI)(w,m.minTurnAngle),(0,D.QK)(w,m.surfaceNormal,m.maxSurfaceAngle),x.setShape({points:w}),b.__hostTarget.textGuideLineConfig={anchor:new C.A(w[0][0],w[0][1])})}}}var V=a(11682),W=a(95604),B=function(e){function t(t,a,n){var r=e.call(this)||this;r.z2=2;var i=new A.Ay;return r.setTextContent(i),r.updateData(t,a,n,!0),r}return(0,x.C6)(t,e),t.prototype.updateData=function(e,t,a,n){var r=this,i=e.hostModel,o=e.getItemModel(t),l=o.getModel("emphasis"),s=e.getItemLayout(t),g=(0,c.X$)((0,W.i)(o.getModel("itemStyle"),s,!0),s);if(isNaN(g.startAngle))r.setShape(g);else{if(n){r.setShape(g);var u=i.getShallow("animationType");i.ecModel.ssr?(M.LW(r,{scaleX:0,scaleY:0},i,{dataIndex:t,isFrom:!0}),r.originX=g.cx,r.originY=g.cy):"scale"===u?(r.shape.r=s.r0,M.LW(r,{shape:{r:s.r}},i,t)):null!=a?(r.setShape({startAngle:a,endAngle:a}),M.LW(r,{shape:{startAngle:s.startAngle,endAngle:s.endAngle}},i,t)):(r.shape.endAngle=s.startAngle,M.oi(r,{shape:{endAngle:s.endAngle}},i,t))}else(0,M.ap)(r),M.oi(r,{shape:g},i,t);r.useStyle(e.getItemVisual(t,"style")),(0,S.Mx)(r,o);var h=(s.startAngle+s.endAngle)/2,d=i.get("selectedOffset"),f=Math.cos(h)*d,p=Math.sin(h)*d,y=o.getShallow("cursor");y&&r.attr("cursor",y),this._updateLabel(i,e,t),r.ensureState("emphasis").shape=(0,c.X$)({r:s.r+(l.get("scale")&&l.get("scaleSize")||0)},(0,W.i)(l.getModel("itemStyle"),s)),(0,c.X$)(r.ensureState("select"),{x:f,y:p,shape:(0,W.i)(o.getModel(["select","itemStyle"]),s)}),(0,c.X$)(r.ensureState("blur"),{shape:(0,W.i)(o.getModel(["blur","itemStyle"]),s)});var v=r.getTextGuideLine(),m=r.getTextContent();v&&(0,c.X$)(v.ensureState("select"),{x:f,y:p}),(0,c.X$)(m.ensureState("select"),{x:f,y:p}),(0,S.Lm)(this,l.get("focus"),l.get("blurScope"),l.get("disabled"))}},t.prototype._updateLabel=function(e,t,a){var n=this,r=t.getItemModel(a),i=r.getModel("labelLine"),o=t.getItemVisual(a,"style"),l=o&&o.fill,s=o&&o.opacity;(0,V.qM)(n,(0,V.lx)(r),{labelFetcher:t.hostModel,labelDataIndex:a,inheritColor:l,defaultOpacity:s,defaultText:e.getFormattedLabel(a,"normal")||t.getName(a)});var g=n.getTextContent();n.setTextConfig({position:null,rotation:null}),g.attr({z2:10});var u=e.get(["label","position"]);if("outside"!==u&&"outer"!==u)n.removeTextGuideLine();else{var h=this.getTextGuideLine();h||(h=new w.A,this.setTextGuideLine(h)),(0,D.eR)(this,(0,D.rv)(r),{stroke:l,opacity:(0,c.WV)(i.get(["lineStyle","opacity"]),s,1)})}},t}(L.A),O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return(0,x.C6)(t,e),t.prototype.render=function(e,t,a,n){var r,i=e.getData(),o=this._data,l=this.group;if(!o&&i.count()>0){for(var s=i.getItemLayout(0),g=1;isNaN(s&&s.startAngle)&&g<i.count();++g)s=i.getItemLayout(g);s&&(r=s.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),0===i.count()&&e.get("showEmptyCircle")){var u=m(e),h=new L.A({shape:(0,c.X$)(y(e,a),u)});h.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=h,l.add(h)}i.diff(o).add((function(e){var t=new B(i,e,r);i.setItemGraphicEl(e,t),l.add(t)})).update((function(e,t){var a=o.getItemGraphicEl(t);a.updateData(i,e,r),a.off("click"),l.add(a),i.setItemGraphicEl(e,a)})).remove((function(t){var a=o.getItemGraphicEl(t);M.t5(a,e,t)})).execute(),G(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=i)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,t){var a=t.getData(),n=a.getItemLayout(0);if(n){var r=e[0]-n.cx,i=e[1]-n.cy,o=Math.sqrt(r*r+i*i);return o<=n.r&&o>=n.r0}},t.type="pie",t}(T.A),R=O,X=a(21941),q=a(82505),$=function(){function e(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return e.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},e.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},e.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},e.prototype.getItemVisual=function(e,t){var a=this._getDataWithEncodedVisual();return a.getItemVisual(e,t)},e}(),Y=$,z=a(33658),U=h.$r(),F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,x.C6)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new Y(c.oI(this.getData,this),c.oI(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return(0,X.A)(this,{coordDimensions:["value"],encodeDefaulter:c.cF(q.ln,this)})},t.prototype.getDataParams=function(t){var a=this.getData(),n=U(a),r=n.seats;if(!r){var i=[];a.each(a.mapDimension("value"),(function(e){i.push(e)})),r=n.seats=(0,s.kM)(i,a.hostModel.get("percentPrecision"))}var o=e.prototype.getDataParams.call(this,t);return o.percent=r[t]||0,o.$vars.push("percent"),o},t.prototype._defaultLabelLine=function(e){h.M5(e,"labelLine",["show"]);var t=e.labelLine,a=e.emphasis.labelLine;t.show=t.show&&e.label.show,a.show=a.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(z.A),Z=F;function H(e){return{seriesType:e,reset:function(e,t){var a=e.getData();a.filterSelf((function(e){var t=a.mapDimension("value"),n=a.get(t,e);return!((0,c.Et)(n)&&!isNaN(n)&&n<0)}))}}}function K(e){e.registerChartView(R),e.registerSeriesModel(Z),(0,l.I)("pie",e.registerAction),e.registerLayout((0,c.cF)(v,"pie")),e.registerProcessor(b("pie")),e.registerProcessor(H("pie"))}var Q=a(23374),j=a(90594),J=a(22689),ee=a(50572),te=a(9919);(0,i.Y)([o.a,K,Q.a,j.a]);var ae={name:"BrowserCard",components:{VChart:J.Ay},mixins:[(0,te.c)(["browserChart"])],data(){return{browserChartOption:{}}},created(){this.getBrowserCountData()},methods:{getBrowserCountData(){(0,ee.Ke)().then((e=>{this.browserChartOption={tooltip:{trigger:"item"},legend:{bottom:5,itemWidth:10,itemHeight:10,icon:"circle",data:e.map((e=>e.name))},series:[{type:"pie",radius:["45%","70%"],center:["50%","43%"],label:{show:!1},data:e}]}})).catch((e=>{this.$message.error(e.message)}))}}},ne=ae,re=a(64008),ie=(0,re.A)(ne,n,r,!1,null,null,null),oe=ie.exports},95604:function(e,t,a){a.d(t,{i:function(){return i}});var n=a(26654),r=a(13698);function i(e,t,a){var i=e.get("borderRadius");if(null==i)return a?{cornerRadius:0}:null;(0,n.cy)(i)||(i=[i,i,i,i]);var o=Math.abs(t.r||0-t.r0||0);return{cornerRadius:(0,n.Tj)(i,(function(e){return(0,r.lo)(e,o)}))}}},91315:function(e,t,a){a.d(t,{QK:function(){return P},YI:function(){return _},eR:function(){return G},lB:function(){return D},rv:function(){return V}});var n=a(5030),r=a(94645),i=a(11071),o=a(11107),l=a(8737),s=a(5335),g=a(26654),c=a(70255),u=a(24289),h=a(40043),d=2*Math.PI,f=o.A.CMD,p=["top","right","bottom","left"];function y(e,t,a,n,r){var i=a.width,o=a.height;switch(e){case"top":n.set(a.x+i/2,a.y-t),r.set(0,-1);break;case"bottom":n.set(a.x+i/2,a.y+o+t),r.set(0,1);break;case"left":n.set(a.x-t,a.y+o/2),r.set(-1,0);break;case"right":n.set(a.x+i+t,a.y+o/2),r.set(1,0);break}}function v(e,t,a,n,r,i,o,s,g){o-=e,s-=t;var c=Math.sqrt(o*o+s*s);o/=c,s/=c;var u=o*a+e,h=s*a+t;if(Math.abs(n-r)%d<1e-4)return g[0]=u,g[1]=h,c-a;if(i){var f=n;n=(0,l.n)(r),r=(0,l.n)(f)}else n=(0,l.n)(n),r=(0,l.n)(r);n>r&&(r+=d);var p=Math.atan2(s,o);if(p<0&&(p+=d),p>=n&&p<=r||p+d>=n&&p+d<=r)return g[0]=u,g[1]=h,c-a;var y=a*Math.cos(n)+e,v=a*Math.sin(n)+t,m=a*Math.cos(r)+e,b=a*Math.sin(r)+t,x=(y-o)*(y-o)+(v-s)*(v-s),A=(m-o)*(m-o)+(b-s)*(b-s);return x<A?(g[0]=y,g[1]=v,Math.sqrt(x)):(g[0]=m,g[1]=b,Math.sqrt(A))}function m(e,t,a,n,r,i,o,l){var s=r-e,g=i-t,c=a-e,u=n-t,h=Math.sqrt(c*c+u*u);c/=h,u/=h;var d=s*c+g*u,f=d/h;l&&(f=Math.min(Math.max(f,0),1)),f*=h;var p=o[0]=e+f*c,y=o[1]=t+f*u;return Math.sqrt((p-r)*(p-r)+(y-i)*(y-i))}function b(e,t,a,n,r,i,o){a<0&&(e+=a,a=-a),n<0&&(t+=n,n=-n);var l=e+a,s=t+n,g=o[0]=Math.min(Math.max(r,e),l),c=o[1]=Math.min(Math.max(i,t),s);return Math.sqrt((g-r)*(g-r)+(c-i)*(c-i))}var x=[];function A(e,t,a){var n=b(t.x,t.y,t.width,t.height,e.x,e.y,x);return a.set(x[0],x[1]),n}function M(e,t,a){for(var n,r,i=0,o=0,l=0,g=0,c=1/0,u=t.data,h=e.x,d=e.y,p=0;p<u.length;){var y=u[p++];1===p&&(i=u[p],o=u[p+1],l=i,g=o);var A=c;switch(y){case f.M:l=u[p++],g=u[p++],i=l,o=g;break;case f.L:A=m(i,o,u[p],u[p+1],h,d,x,!0),i=u[p++],o=u[p++];break;case f.C:A=(0,s.Et)(i,o,u[p++],u[p++],u[p++],u[p++],u[p],u[p+1],h,d,x),i=u[p++],o=u[p++];break;case f.Q:A=(0,s.kh)(i,o,u[p++],u[p++],u[p],u[p+1],h,d,x),i=u[p++],o=u[p++];break;case f.A:var M=u[p++],w=u[p++],L=u[p++],S=u[p++],T=u[p++],C=u[p++];p+=1;var D=!!(1-u[p++]);n=Math.cos(T)*L+M,r=Math.sin(T)*S+w,p<=1&&(l=n,g=r);var N=(h-M)*S/L+M;A=v(M,w,S,T,T+C,D,N,d,x),i=Math.cos(T+C)*L+M,o=Math.sin(T+C)*S+w;break;case f.R:l=i=u[p++],g=o=u[p++];var I=u[p++],_=u[p++];A=b(l,g,I,_,h,d,x);break;case f.Z:A=m(i,o,l,g,h,d,x,!0),i=l,o=g;break}A<c&&(c=A,a.set(x[0],x[1]))}return c}var w=new n.A,L=new n.A,S=new n.A,T=new n.A,C=new n.A;function D(e,t){if(e){var a=e.getTextGuideLine(),i=e.getTextContent();if(i&&a){var o=e.textGuideLineConfig||{},l=[[0,0],[0,0],[0,0]],s=o.candidates||p,g=i.getBoundingRect().clone();g.applyTransform(i.getComputedTransform());var u=1/0,h=o.anchor,d=e.getComputedTransform(),f=d&&(0,c.B8)([],d),v=t.get("length2")||0;h&&S.copy(h);for(var m=0;m<s.length;m++){var b=s[m];y(b,0,g,w,T),n.A.scaleAndAdd(L,w,T,v),L.transform(f);var x=e.getBoundingRect(),C=h?h.distance(L):e instanceof r.Ay?M(L,e.path,S):A(L,x,S);C<u&&(u=C,L.transform(d),S.transform(d),S.toArray(l[0]),L.toArray(l[1]),w.toArray(l[2]))}_(l,t.get("minTurnAngle")),a.setShape({points:l})}}}var N=[],I=new n.A;function _(e,t){if(t<=180&&t>0){t=t/180*Math.PI,w.fromArray(e[0]),L.fromArray(e[1]),S.fromArray(e[2]),n.A.sub(T,w,L),n.A.sub(C,S,L);var a=T.len(),r=C.len();if(!(a<.001||r<.001)){T.scale(1/a),C.scale(1/r);var i=T.dot(C),o=Math.cos(t);if(o<i){var l=m(L.x,L.y,S.x,S.y,w.x,w.y,N,!1);I.fromArray(N),I.scaleAndAdd(C,l/Math.tan(Math.PI-t));var s=S.x!==L.x?(I.x-L.x)/(S.x-L.x):(I.y-L.y)/(S.y-L.y);if(isNaN(s))return;s<0?n.A.copy(I,L):s>1&&n.A.copy(I,S),I.toArray(e[1])}}}}function P(e,t,a){if(a<=180&&a>0){a=a/180*Math.PI,w.fromArray(e[0]),L.fromArray(e[1]),S.fromArray(e[2]),n.A.sub(T,L,w),n.A.sub(C,S,L);var r=T.len(),i=C.len();if(!(r<.001||i<.001)){T.scale(1/r),C.scale(1/i);var o=T.dot(t),l=Math.cos(a);if(o<l){var s=m(L.x,L.y,S.x,S.y,w.x,w.y,N,!1);I.fromArray(N);var g=Math.PI/2,c=Math.acos(C.dot(t)),u=g+c-a;if(u>=g)n.A.copy(I,S);else{I.scaleAndAdd(C,s/Math.tan(Math.PI/2-u));var h=S.x!==L.x?(I.x-L.x)/(S.x-L.x):(I.y-L.y)/(S.y-L.y);if(isNaN(h))return;h<0?n.A.copy(I,L):h>1&&n.A.copy(I,S)}I.toArray(e[1])}}}}function k(e,t,a,n){var r="normal"===a,i=r?e:e.ensureState(a);i.ignore=t;var o=n.get("smooth");o&&!0===o&&(o=.3),i.shape=i.shape||{},o>0&&(i.shape.smooth=o);var l=n.getModel("lineStyle").getLineStyle();r?e.useStyle(l):i.style=l}function E(e,t){var a=t.smooth,n=t.points;if(n)if(e.moveTo(n[0][0],n[0][1]),a>0&&n.length>=3){var r=u.xg(n[0],n[1]),i=u.xg(n[1],n[2]);if(!r||!i)return e.lineTo(n[1][0],n[1][1]),void e.lineTo(n[2][0],n[2][1]);var o=Math.min(r,i)*a,l=u.Cc([],n[1],n[0],o/r),s=u.Cc([],n[1],n[2],o/i),g=u.Cc([],l,s,.5);e.bezierCurveTo(l[0],l[1],l[0],l[1],g[0],g[1]),e.bezierCurveTo(s[0],s[1],s[0],s[1],n[2][0],n[2][1])}else for(var c=1;c<n.length;c++)e.lineTo(n[c][0],n[c][1])}function G(e,t,a){var n=e.getTextGuideLine(),r=e.getTextContent();if(r){for(var o=t.normal,l=o.get("show"),s=r.ignore,c=0;c<h.wV.length;c++){var u=h.wV[c],d=t[u],f="normal"===u;if(d){var p=d.get("show"),y=f?s:(0,g.bZ)(r.states[u]&&r.states[u].ignore,s);if(y||!(0,g.bZ)(p,l)){var v=f?n:n&&n.states[u];v&&(v.ignore=!0),n&&k(n,!0,u,d);continue}n||(n=new i.A,e.setTextGuideLine(n),f||!s&&l||k(n,!0,"normal",t.normal),e.stateProxy&&(n.stateProxy=e.stateProxy)),k(n,!1,u,d)}}if(n){(0,g.NT)(n.style,a),n.style.fill=null;var m=o.get("showAbove"),b=e.textGuideLineConfig=e.textGuideLineConfig||{};b.showAbove=m||!1,n.buildPath=E}}else n&&e.removeTextGuideLine()}function V(e,t){t=t||"labelLine";for(var a={normal:e.getModel(t)},n=0;n<h.BV.length;n++){var r=h.BV[n];a[r]=e.getModel([r,t])}return a}}}]);