(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["apimaintain-form"],{"02d0":function(a,e,i){"use strict";i.r(e);var t=function(){var a=this,e=a.$createElement,i=a._self._c||e;return i("div",{staticClass:"l-rblock l-form-viewer",staticStyle:{padding:"8px"}},[i("el-form",{ref:"form",attrs:{model:a.formData,rules:a.rules,size:"mini",labelPosition:"right",labelWidth:"80px"}},[i("div",{staticClass:"l-auto-window "},[i("el-tabs",{attrs:{type:"card"},model:{value:a.activeName,callback:function(e){a.activeName=e},expression:"activeName"}},[i("el-tab-pane",{staticClass:"l-tabs-container",attrs:{label:a.$t("接口信息"),name:"tab0"}},[i("el-row",{attrs:{gutter:0}},[i("div",{staticClass:"l-rblock"},[a.lr_formLookAuth("api_maintain_f_Code")?i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:a.$t("接口编码"),prop:"api_maintain_f_Code"}},[i("el-input",{attrs:{disabled:!a.lr_formEditAuth("api_maintain_f_Code"),readonly:!1,placeholder:a.$t("请输入")},model:{value:a.formData.api_maintain_f_Code,callback:function(e){a.$set(a.formData,"api_maintain_f_Code",e)},expression:"formData.api_maintain_f_Code"}})],1)],1):a._e(),a.lr_formLookAuth("api_maintain_f_Name")?i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:a.$t("接口名称"),prop:"api_maintain_f_Name"}},[i("el-input",{attrs:{disabled:!a.lr_formEditAuth("api_maintain_f_Name"),placeholder:a.$t("请输入")},model:{value:a.formData.api_maintain_f_Name,callback:function(e){a.$set(a.formData,"api_maintain_f_Name",e)},expression:"formData.api_maintain_f_Name"}})],1)],1):a._e(),i("el-col",{attrs:{span:24}},[i("div",[i("el-alert",{attrs:{title:"接口地址说明",type:"info",description:"系统接口格式：{learun_api}system/api，{learun_api}为固定参数不可变动。自定义接口格式：http://learun_api/system/api，接口地址请输入完整。","show-icon":"",closable:!1}})],1)]),a.lr_formLookAuth("api_maintain_f_Address")?i("el-col",{attrs:{span:24}},[i("el-form-item",{staticStyle:{"margin-top":"14px"},attrs:{label:a.$t("接口地址"),prop:"api_maintain_f_Address"}},[i("el-input",{attrs:{disabled:!a.lr_formEditAuth("api_maintain_f_Address"),placeholder:a.$t("请输入")},model:{value:a.formData.api_maintain_f_Address,callback:function(e){a.$set(a.formData,"api_maintain_f_Address",e)},expression:"formData.api_maintain_f_Address"}})],1)],1):a._e(),a.lr_formLookAuth("api_maintain_f_Type")?i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:a.$t("接口类别"),prop:"api_maintain_f_Type"}},[i("l-select",{attrs:{placeholder:"请选择",disabled:!a.lr_formEditAuth("api_maintain_f_Type"),options:a.TypeOptions,labelKey:"f_Name",valueKey:"f_Name"},model:{value:a.formData.api_maintain_f_Type,callback:function(e){a.$set(a.formData,"api_maintain_f_Type",e)},expression:"formData.api_maintain_f_Type"}})],1)],1):a._e(),a.lr_formLookAuth("api_maintain_f_RequestMethod")?i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:a.$t("请求方式"),prop:"api_maintain_f_RequestMethod"}},[i("l-select",{attrs:{disabled:!a.lr_formEditAuth("api_maintain_f_RequestMethod"),options:a.api_maintain_f_RequestMethodOptions},model:{value:a.formData.api_maintain_f_RequestMethod,callback:function(e){a.$set(a.formData,"api_maintain_f_RequestMethod",e)},expression:"formData.api_maintain_f_RequestMethod"}})],1)],1):a._e(),a.lr_formLookAuth("api_maintain_f_EnabledMark")?i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:a.$t("接口状态"),prop:"api_maintain_f_EnabledMark"}},[i("el-switch",{attrs:{disabled:!a.lr_formEditAuth("api_maintain_f_EnabledMark"),activeValue:0,inactiveValue:1,"active-text":"启用","inactive-text":"禁用","active-color":"rgba(144, 240, 144, 0.5)","inactive-color":"#C0CCDA"},model:{value:a.formData.api_maintain_f_EnabledMark,callback:function(e){a.$set(a.formData,"api_maintain_f_EnabledMark",e)},expression:"formData.api_maintain_f_EnabledMark"}})],1)],1):a._e(),a.lr_formLookAuth("api_maintain_f_Description")?i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:a.$t("备注"),prop:"api_maintain_f_Description"}},[i("el-input",{attrs:{type:"textarea",disabled:!a.lr_formEditAuth("api_maintain_f_Description"),rows:8,placeholder:a.$t("请输入")},model:{value:a.formData.api_maintain_f_Description,callback:function(e){a.$set(a.formData,"api_maintain_f_Description",e)},expression:"formData.api_maintain_f_Description"}})],1)],1):a._e()],1)])],1),i("el-tab-pane",{staticClass:"l-tabs-container",attrs:{label:a.$t("Query"),name:"tab1"}},[i("el-row",{attrs:{gutter:0}},[i("div",{staticClass:"l-rblock"},[a.lr_formLookAuth("1658993883252_44280")?i("el-col",{attrs:{span:24}},[i("div",{staticClass:"l-title"},[a._v(a._s(a.$t("Query")))]),i("l-edit-table",{ref:"api_maintain_paramsquery_table",attrs:{addBtnText:"新增一行",isAddBtn:!0,isRemoveBtn:!0,isShowNum:!0,dataSource:a.api_maintain_paramsquery_data,columns:a.lr_formTableAuth("api_maintain_paramsquery",a.api_maintain_paramsquery_columns)},on:{addRow:a.handleApi_maintain_paramsqueryAddRow,deleteRow:a.handleApi_maintain_paramsqueryDeleteRow},scopedSlots:a._u([{key:"f_Name",fn:function(e){return[i("el-input",{attrs:{size:"mini",disabled:!a.lr_formTableEditAuth("api_maintain_paramsquery","f_Name"),placeholder:a.$t("请输入")},model:{value:e.row.f_Name,callback:function(i){a.$set(e.row,"f_Name",i)},expression:"scope.row.f_Name"}})]}},{key:"f_Type",fn:function(e){return[i("l-select",{attrs:{disabled:!a.lr_formTableEditAuth("api_maintain_paramsquery","f_Type"),size:"mini",options:a.api_maintain_paramsquery_f_TypeOptions},model:{value:e.row.f_Type,callback:function(i){a.$set(e.row,"f_Type",i)},expression:"scope.row.f_Type"}})]}},{key:"f_IsRequired",fn:function(e){return[i("el-switch",{attrs:{size:"mini",disabled:!a.lr_formTableEditAuth("api_maintain_paramsquery","f_IsRequired"),activeValue:1,inactiveValue:0},model:{value:e.row.f_IsRequired,callback:function(i){a.$set(e.row,"f_IsRequired",i)},expression:"scope.row.f_IsRequired"}})]}},{key:"f_CaseValue",fn:function(e){return[i("el-input",{attrs:{size:"mini",disabled:!a.lr_formTableEditAuth("api_maintain_paramsquery","f_CaseValue"),placeholder:a.$t("请输入")},model:{value:e.row.f_CaseValue,callback:function(i){a.$set(e.row,"f_CaseValue",i)},expression:"scope.row.f_CaseValue"}})]}},{key:"f_Description",fn:function(e){return[i("el-input",{attrs:{size:"mini",disabled:!a.lr_formTableEditAuth("api_maintain_paramsquery","f_Description"),placeholder:a.$t("请输入")},model:{value:e.row.f_Description,callback:function(i){a.$set(e.row,"f_Description",i)},expression:"scope.row.f_Description"}})]}}],null,!1,1566693665)})],1):a._e()],1)])],1),"GET"!=a.formData.api_maintain_f_RequestMethod&&"DELETE"!=a.formData.api_maintain_f_RequestMethod?i("el-tab-pane",{staticClass:"l-tabs-container",attrs:{label:a.$t("Body"),name:"tab2"}},[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"内容类型",prop:"api_maintain_f_BodyType"}},[i("l-radio",{attrs:{options:[{label:"json",value:"json"},{label:"formdata",value:"formdata"}]},model:{value:a.formData.api_maintain_f_BodyType,callback:function(e){a.$set(a.formData,"api_maintain_f_BodyType",e)},expression:"formData.api_maintain_f_BodyType"}})],1)],1),"formdata"==a.formData.api_maintain_f_BodyType?i("el-col",{attrs:{span:24}},[i("el-row",{attrs:{gutter:0}},[i("div",{staticClass:"l-rblock"},[a.lr_formLookAuth("1658993885632_89498")?i("el-col",{attrs:{span:24}},[i("div",{staticClass:"l-title"},[a._v(a._s(a.$t("Body")))]),i("l-edit-table",{ref:"api_maintain_paramsbody_table",attrs:{addBtnText:"新增一行",isAddBtn:!0,isRemoveBtn:!0,isShowNum:!0,dataSource:a.api_maintain_paramsbody_data,columns:a.lr_formTableAuth("api_maintain_paramsbody",a.api_maintain_paramsbody_columns)},on:{addRow:a.handleApi_maintain_paramsbodyAddRow,deleteRow:a.handleApi_maintain_paramsbodyDeleteRow},scopedSlots:a._u([{key:"f_Name",fn:function(e){return[i("el-input",{attrs:{size:"mini",disabled:!a.lr_formTableEditAuth("api_maintain_paramsbody","f_Name"),placeholder:a.$t("请输入")},model:{value:e.row.f_Name,callback:function(i){a.$set(e.row,"f_Name",i)},expression:"scope.row.f_Name"}})]}},{key:"f_Type",fn:function(e){return[i("l-select",{attrs:{disabled:!a.lr_formTableEditAuth("api_maintain_paramsbody","f_Type"),size:"mini",options:a.api_maintain_paramsbody_f_TypeOptions},model:{value:e.row.f_Type,callback:function(i){a.$set(e.row,"f_Type",i)},expression:"scope.row.f_Type"}})]}},{key:"f_IsRequired",fn:function(e){return[i("el-switch",{attrs:{size:"mini",disabled:!a.lr_formTableEditAuth("api_maintain_paramsbody","f_IsRequired"),activeValue:1,inactiveValue:0},model:{value:e.row.f_IsRequired,callback:function(i){a.$set(e.row,"f_IsRequired",i)},expression:"scope.row.f_IsRequired"}})]}},{key:"f_CaseValue",fn:function(e){return[i("el-input",{attrs:{size:"mini",disabled:!a.lr_formTableEditAuth("api_maintain_paramsbody","f_CaseValue"),placeholder:a.$t("请输入")},model:{value:e.row.f_CaseValue,callback:function(i){a.$set(e.row,"f_CaseValue",i)},expression:"scope.row.f_CaseValue"}})]}},{key:"f_Description",fn:function(e){return[i("el-input",{attrs:{size:"mini",disabled:!a.lr_formTableEditAuth("api_maintain_paramsbody","f_Description"),placeholder:a.$t("请输入")},model:{value:e.row.f_Description,callback:function(i){a.$set(e.row,"f_Description",i)},expression:"scope.row.f_Description"}})]}}],null,!1,2893691457)})],1):a._e()],1)])],1):a._e(),"json"==a.formData.api_maintain_f_BodyType?i("el-col",{attrs:{span:24}},[i("el-input",{attrs:{type:"textarea",disabled:!a.lr_formEditAuth("api_maintain_f_Scheme"),rows:24},model:{value:a.formData.api_maintain_f_Scheme,callback:function(e){a.$set(a.formData,"api_maintain_f_Scheme",e)},expression:"formData.api_maintain_f_Scheme"}})],1):a._e()],1):a._e(),i("el-tab-pane",{staticClass:"l-tabs-container",attrs:{label:a.$t("Header"),name:"tab3"}},[i("el-row",{attrs:{gutter:0}},[i("div",{staticClass:"l-rblock"},[a.lr_formLookAuth("1658993887188_74438")?i("el-col",{attrs:{span:24}},[i("div",{staticClass:"l-title"},[a._v(a._s(a.$t("Header")))]),i("l-edit-table",{ref:"api_maintain_paramsheader_table",attrs:{addBtnText:"新增一行",isAddBtn:!0,isRemoveBtn:!0,isShowNum:!0,dataSource:a.api_maintain_paramsheader_data,columns:a.lr_formTableAuth("api_maintain_paramsheader",a.api_maintain_paramsheader_columns)},on:{addRow:a.handleApi_maintain_paramsheaderAddRow,deleteRow:a.handleApi_maintain_paramsheaderDeleteRow},scopedSlots:a._u([{key:"f_Name",fn:function(e){return[i("el-input",{attrs:{size:"mini",disabled:!a.lr_formTableEditAuth("api_maintain_paramsheader","f_Name"),placeholder:a.$t("请输入")},model:{value:e.row.f_Name,callback:function(i){a.$set(e.row,"f_Name",i)},expression:"scope.row.f_Name"}})]}},{key:"f_Type",fn:function(e){return[i("l-select",{attrs:{disabled:!a.lr_formTableEditAuth("api_maintain_paramsheader","f_Type"),size:"mini",options:a.api_maintain_paramsheader_f_TypeOptions},model:{value:e.row.f_Type,callback:function(i){a.$set(e.row,"f_Type",i)},expression:"scope.row.f_Type"}})]}},{key:"f_IsRequired",fn:function(e){return[i("el-switch",{attrs:{size:"mini",disabled:!a.lr_formTableEditAuth("api_maintain_paramsheader","f_IsRequired"),activeValue:1,inactiveValue:0},model:{value:e.row.f_IsRequired,callback:function(i){a.$set(e.row,"f_IsRequired",i)},expression:"scope.row.f_IsRequired"}})]}},{key:"f_CaseValue",fn:function(e){return[i("el-input",{attrs:{size:"mini",disabled:!a.lr_formTableEditAuth("api_maintain_paramsheader","f_CaseValue"),placeholder:a.$t("请输入")},model:{value:e.row.f_CaseValue,callback:function(i){a.$set(e.row,"f_CaseValue",i)},expression:"scope.row.f_CaseValue"}})]}},{key:"f_Description",fn:function(e){return[i("el-input",{attrs:{size:"mini",disabled:!a.lr_formTableEditAuth("api_maintain_paramsheader","f_Description"),placeholder:a.$t("请输入")},model:{value:e.row.f_Description,callback:function(i){a.$set(e.row,"f_Description",i)},expression:"scope.row.f_Description"}})]}}],null,!1,1006025569)})],1):a._e()],1)])],1)],1)],1)])],1)},n=[],r=(i("a434"),i("96cf"),i("1da1")),_=window.$api.apimanage.apimaintain,s=window.$api.apimanage.apitype,o={data:function(){var a=this;return{moduleCode:"apiManage_apimaintain",activeName:"tab0",formData:{api_maintain_f_Id:"",api_maintain_f_Code:"",api_maintain_f_Name:"",api_maintain_f_Address:"",api_maintain_f_Type:"",api_maintain_f_RequestMethod:"GET",api_maintain_f_EnabledMark:0,api_maintain_f_Description:"",api_maintain_f_BodyType:"json",api_maintain_f_Scheme:""},rules:{api_maintain_f_Code:[{required:!0,message:"请输入接口编码"},{validator:this.lr_existDbFiled,fieldName:"f_Code",keyValue:function(){return a.formData.api_maintain_f_Id},tableName:"api_maintain",keyName:"f_Id",trigger:"null"}],api_maintain_f_Name:[{required:!0,message:"请输入接口名称"}],api_maintain_f_Address:[{required:!0,message:"请输入接口地址"}],api_maintain_f_Type:[{required:!0,message:"请选择接口类别"}],api_maintain_f_RequestMethod:[{required:!0,message:"请选择请求方式"}],api_maintain_f_EnabledMark:[{required:!0,message:"请选择接口状态"}]},api_maintain_paramsquery_columns:[{id:"api_maintain_paramsquery_F_Name",prop:"f_Name",label:"参数名"},{id:"api_maintain_paramsquery_F_Type",prop:"f_Type",label:"类型"},{id:"api_maintain_paramsquery_F_IsRequired",prop:"f_IsRequired",label:"必填"},{id:"api_maintain_paramsquery_F_CaseValue",prop:"f_CaseValue",label:"示例值"},{id:"api_maintain_paramsquery_F_Description",prop:"f_Description",label:"备注"}],api_maintain_paramsquery_data:[],api_maintain_paramsbody_columns:[{id:"api_maintain_paramsbody_F_Name",prop:"f_Name",label:"参数名"},{id:"api_maintain_paramsbody_F_Type",prop:"f_Type",label:"类型"},{id:"api_maintain_paramsbody_F_IsRequired",prop:"f_IsRequired",label:"必填"},{id:"api_maintain_paramsbody_F_CaseValue",prop:"f_CaseValue",label:"示例值"},{id:"api_maintain_paramsbody_F_Description",prop:"f_Description",label:"备注"}],api_maintain_paramsbody_data:[],api_maintain_paramsheader_columns:[{id:"api_maintain_paramsheader_F_Name",prop:"f_Name",label:"参数名"},{id:"api_maintain_paramsheader_F_Type",prop:"f_Type",label:"类型"},{id:"api_maintain_paramsheader_F_IsRequired",prop:"f_IsRequired",label:"必填"},{id:"api_maintain_paramsheader_F_CaseValue",prop:"f_CaseValue",label:"示例值"},{id:"api_maintain_paramsheader_F_Description",prop:"f_Description",label:"备注"}],api_maintain_paramsheader_data:[],TypeOptions:[]}},mounted:function(){this.getTypeList()},computed:{api_maintain_f_RequestMethodOptions:function(){return this.lr_loadDataItem("RequestMethod"),this.lr_dataItemOptions(this.lr_dataItem["RequestMethod"])},api_maintain_paramsquery_f_TypeOptions:function(){return this.lr_loadDataItem("ParameterType"),this.lr_dataItemOptions(this.lr_dataItem["ParameterType"])},api_maintain_paramsbody_f_TypeOptions:function(){return this.lr_loadDataItem("ParameterType"),this.lr_dataItemOptions(this.lr_dataItem["ParameterType"])},api_maintain_paramsheader_f_TypeOptions:function(){return this.lr_loadDataItem("ParameterType"),this.lr_dataItemOptions(this.lr_dataItem["ParameterType"])}},methods:{getTypeList:function(){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={},i.f_PId="0",e.next=4,a.$awaitWraper(s.getList(i));case 4:a.TypeOptions=e.sent;case 5:case"end":return e.stop()}}),e)})))()},handleApi_maintain_paramsqueryAddRow:function(){var a={f_Name:"",f_Type:"",f_IsRequired:"1",f_CaseValue:"",f_Description:""};this.api_maintain_paramsquery_data.push(a)},handleApi_maintain_paramsqueryDeleteRow:function(a){this.api_maintain_paramsquery_data.splice(a.index,1)},handleApi_maintain_paramsbodyAddRow:function(){var a={f_Name:"",f_Type:"",f_IsRequired:"1",f_CaseValue:"",f_Description:""};this.api_maintain_paramsbody_data.push(a)},handleApi_maintain_paramsbodyDeleteRow:function(a){this.api_maintain_paramsbody_data.splice(a.index,1)},handleApi_maintain_paramsheaderAddRow:function(){var a={f_Name:"",f_Type:"",f_IsRequired:"1",f_CaseValue:"",f_Description:""};this.api_maintain_paramsheader_data.push(a)},handleApi_maintain_paramsheaderDeleteRow:function(a){this.api_maintain_paramsheader_data.splice(a.index,1)},resetForm:function(){this.$formClear(this.$refs.form),this.activeName="tab0",this.api_maintain_paramsquery_data=[],this.api_maintain_paramsbody_data=[],this.api_maintain_paramsheader_data=[]},validateForm:function(){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.$formValidateWraper(a.$refs.form);case 2:if(e.sent){e.next=4;break}return e.abrupt("return",!1);case 4:if(a.$refs.api_maintain_paramsquery_table.validate()){e.next=6;break}return e.abrupt("return",!1);case 6:if("GET"==a.formData.api_maintain_f_RequestMethod||"json"==a.formData.api_maintain_f_BodyType){e.next=9;break}if(a.$refs.api_maintain_paramsbody_table.validate()){e.next=9;break}return e.abrupt("return",!1);case 9:if(a.$refs.api_maintain_paramsheader_table.validate()){e.next=11;break}return e.abrupt("return",!1);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})))()},setForm:function(a){this.$setFormData(this.formData,a.apiMaintainEntity,"api_maintain"),this.api_maintain_paramsquery_data=a.apiMaintainParamsqueryList,this.api_maintain_paramsbody_data=a.apiMaintainParamsbodyList,this.api_maintain_paramsheader_data=a.apiMaintainParamsheaderList},getForm:function(){var a={};return a.apiMaintainEntity=this.$getFormData(this.formData,"api_maintain"),a.apiMaintainParamsqueryList=this.api_maintain_paramsquery_data,a.apiMaintainParamsbodyList=this.api_maintain_paramsbody_data,a.apiMaintainParamsheaderList=this.api_maintain_paramsheader_data,a},loadFormData:function(a){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var t,n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t=a.keyValue,i.next=3,e.$awaitWraper(_.get(t));case 3:if(n=i.sent,!n){i.next=9;break}return e.setForm(n),i.abrupt("return",!0);case 9:return i.abrupt("return",!1);case 10:case"end":return i.stop()}}),i)})))()},saveForm:function(a){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var t,n,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(t=a.keyValue,n=a.isEdit,r=e.getForm(),!n){i.next=8;break}return i.next=5,e.$awaitWraper(_.update(t,r));case 5:return i.abrupt("return",i.sent);case 8:return r.apiMaintainEntity.f_Id=t,i.next=11,e.$awaitWraper(_.add(r));case 11:return i.abrupt("return",i.sent);case 12:case"end":return i.stop()}}),i)})))()}}},p=o,l=i("2877"),m=Object(l["a"])(p,t,n,!1,null,null,null);e["default"]=m.exports}}]);