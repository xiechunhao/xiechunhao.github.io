(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["module~views-module-index~views-setting-index"],{"03df":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.data._isInit?l("div",[l("el-collapse-item",{attrs:{title:e.$t("基础配置"),name:"1"}},[l("el-form-item",{attrs:{label:e.$t("标题")}},[l("el-input",{model:{value:e.config.title,callback:function(t){e.$set(e.config,"title",t)},expression:"config.title"}})],1)],1)],1):e._e()},o=[],i=l("6736"),n={mixins:[Object(i["a"])()],data:function(){return{}},methods:{init:function(e){var t={};this.commonInit(e,t)}}},s=n,r=l("2877"),c=Object(r["a"])(s,a,o,!1,null,null,null);t["default"]=c.exports},1505:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.data._isInit?l("div",[l("el-collapse-item",{attrs:{title:e.$t("功能配置"),name:"1"}},[l("div",{staticStyle:{padding:"10px 0"}},[e._l(e.config.list,(function(t,a){return l("div",{key:t.id,staticClass:"learun-row-form-input"},[l("el-form-item",{staticStyle:{"margin-bottom":"8px"},attrs:{label:e.$t("绑定功能")}},[l("l-tree-select",{attrs:{options:e.modulesTree},model:{value:t.moduleId,callback:function(l){e.$set(t,"moduleId",l)},expression:"item.moduleId"}})],1),l("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:e.$t("图标颜色")}},[l("l-input-color",{attrs:{placeholder:e.$t("请输入")},model:{value:t.color,callback:function(l){e.$set(t,"color",l)},expression:"item.color"}})],1),l("el-button",{staticClass:"learun-row-form-input-delete",attrs:{title:e.$t("删除"),circle:"",plain:"",size:"mini",type:"danger"},on:{click:function(t){return e.handleRemoveCol(a)}}},[l("i",{staticClass:"el-icon-close"})])],1)})),l("div",{staticClass:"mt-8"},[l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleAddCol}},[e._v(e._s(e.$t("添加")))])],1)],2)])],1):e._e()},o=[],i=(l("4de4"),l("a434"),l("5530")),n=l("5880"),s=l("6736"),r={mixins:[Object(s["a"])()],data:function(){return{}},computed:Object(i["a"])(Object(i["a"])({},Object(n["mapGetters"])(["modules"])),{},{myModules:function(){return this.modules.filter((function(e){return 1==e.f_EnabledMark}))},modulesTree:function(){var e=this.$toTree(this.myModules,"f_ModuleId","f_ParentId","f_EnCode","f_FullName");return e.filter((function(e){return"0"==e.f_ParentId}))}}),methods:{init:function(e){var t={list:[]};this.commonInit(e,t)},handleAddCol:function(){this.config.list.push({id:this.$uuid(),moduleId:"",color:"#409eff"})},handleRemoveCol:function(e){this.config.list.splice(e,1)}}},c=r,m=l("2877"),u=Object(m["a"])(c,a,o,!1,null,null,null);t["default"]=u.exports},"3c36":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.data._isInit?l("div",[l("el-collapse-item",{attrs:{title:e.$t("基础配置"),name:"1"}},[l("el-form-item",{attrs:{label:e.$t("标题")}},[l("el-input",{model:{value:e.config.title,callback:function(t){e.$set(e.config,"title",t)},expression:"config.title"}})],1)],1),l("el-collapse-item",{attrs:{title:e.$t("数据配置"),name:"2"}},[l("el-form-item",{attrs:{label:e.$t("数据视图")}},[l("l-dbsource-select",{on:{change:e.handleDataSourceChange,init:e.handleDataSourceInit},model:{value:e.config.dataCode,callback:function(t){e.$set(e.config,"dataCode",t)},expression:"config.dataCode"}})],1),l("el-form-item",{attrs:{label:e.$t("指标")}},[l("l-select",{attrs:{options:e.fieldOptions},model:{value:e.config.valueKey,callback:function(t){e.$set(e.config,"valueKey",t)},expression:"config.valueKey"}})],1)],1)],1):e._e()},o=[],i=l("6736"),n={mixins:[Object(i["a"])()],data:function(){return{}},methods:{init:function(e){var t={echarts:{series:{gauge:{}}},dataCode:"",valueKey:""};this.commonInit(e,t)},clearKeys:function(){this.config.valueKey=""}}},s=n,r=l("2877"),c=Object(r["a"])(s,a,o,!1,null,null,null);t["default"]=c.exports},4765:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.data._isInit?l("div",[l("el-collapse-item",{attrs:{title:e.$t("基础配置"),name:"1"}},[l("el-form-item",{attrs:{label:e.$t("标题")}},[l("el-input",{model:{value:e.config.title,callback:function(t){e.$set(e.config,"title",t)},expression:"config.title"}})],1),l("el-form-item",{attrs:{label:e.$t("最大行数")}},[l("el-input-number",{attrs:{"controls-position":"right"},model:{value:e.config.maxRows,callback:function(t){e.$set(e.config,"maxRows",t)},expression:"config.maxRows"}})],1)],1)],1):e._e()},o=[],i=l("6736"),n={mixins:[Object(i["a"])()],data:function(){return{}},methods:{init:function(e){var t={maxRows:10};this.commonInit(e,t)}}},s=n,r=l("2877"),c=Object(r["a"])(s,a,o,!1,null,null,null);t["default"]=c.exports},"564d":function(e,t,l){"use strict";l("6530")},"59ac":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.data._isInit?l("div",[l("el-collapse-item",{attrs:{title:e.$t("基础配置"),name:"1"}},[l("el-form-item",{attrs:{label:e.$t("标题")}},[l("el-input",{model:{value:e.config.title,callback:function(t){e.$set(e.config,"title",t)},expression:"config.title"}})],1)],1),l("el-collapse-item",{attrs:{title:e.$t("数据配置"),name:"2"}},[l("el-form-item",{attrs:{label:e.$t("数据视图")}},[l("l-dbsource-select",{on:{change:e.handleDataSourceChange,init:e.handleDataSourceInit},model:{value:e.config.dataCode,callback:function(t){e.$set(e.config,"dataCode",t)},expression:"config.dataCode"}})],1),l("el-form-item",{attrs:{label:e.$t("维度")}},[l("l-select",{attrs:{options:e.fieldOptions},model:{value:e.config.labelKey,callback:function(t){e.$set(e.config,"labelKey",t)},expression:"config.labelKey"}})],1),l("el-form-item",{attrs:{label:e.$t("指标")}},[l("l-select",{attrs:{options:e.fieldOptions},model:{value:e.config.valueKey,callback:function(t){e.$set(e.config,"valueKey",t)},expression:"config.valueKey"}})],1)],1),l("el-collapse-item",{attrs:{title:e.$t("漏斗图设置"),name:"3"}},[l("el-form-item",{attrs:{label:e.$t("最小值")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.funnel.min,callback:function(t){e.$set(e.funnel,"min",t)},expression:"funnel.min"}})],1),l("el-form-item",{attrs:{label:e.$t("最大值")}},[l("el-input-number",{attrs:{min:e.funnel.min,"controls-position":"right"},model:{value:e.funnel.max,callback:function(t){e.$set(e.funnel,"max",t)},expression:"funnel.max"}})],1),l("el-form-item",{attrs:{label:e.$t("最小值尺寸")}},[l("el-slider",{model:{value:e.funnel.minSize,callback:function(t){e.$set(e.funnel,"minSize",t)},expression:"funnel.minSize"}})],1),l("el-form-item",{attrs:{label:e.$t("最大值尺寸")}},[l("el-slider",{model:{value:e.funnel.maxSize,callback:function(t){e.$set(e.funnel,"maxSize",t)},expression:"funnel.maxSize"}})],1),l("el-form-item",{attrs:{label:e.$t("图形宽度")}},[l("el-slider",{model:{value:e.funnel.width,callback:function(t){e.$set(e.funnel,"width",t)},expression:"funnel.width"}})],1),l("el-form-item",{attrs:{label:e.$t("左边距")}},[l("el-slider",{model:{value:e.funnel.left,callback:function(t){e.$set(e.funnel,"left",t)},expression:"funnel.left"}})],1),l("el-form-item",{attrs:{label:e.$t("上边距")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.funnel.top,callback:function(t){e.$set(e.funnel,"top",t)},expression:"funnel.top"}})],1),l("el-form-item",{attrs:{label:e.$t("下边距")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.funnel.bottom,callback:function(t){e.$set(e.funnel,"bottom",t)},expression:"funnel.bottom"}})],1),l("el-form-item",{attrs:{label:e.$t("数据排序")}},[l("l-select",{attrs:{options:e.sortOptions},model:{value:e.funnel.sort,callback:function(t){e.$set(e.funnel,"sort",t)},expression:"funnel.sort"}})],1),l("el-form-item",{attrs:{label:e.$t("数据间距")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.funnel.gap,callback:function(t){e.$set(e.funnel,"gap",t)},expression:"funnel.gap"}})],1)],1),l("el-collapse-item",{attrs:{title:e.$t("文本标签"),name:"4"}},[l("el-form-item",{attrs:{label:e.$t("是否显示")}},[l("el-switch",{model:{value:e.label.show,callback:function(t){e.$set(e.label,"show",t)},expression:"label.show"}})],1),e.label.show?e._e():l("el-form-item",{attrs:{label:e.$t("末项显示")}},[l("el-switch",{model:{value:e.label.lastShow,callback:function(t){e.$set(e.label,"lastShow",t)},expression:"label.lastShow"}})],1),e.label.show||e.label.lastShow?[l("el-form-item",{attrs:{label:e.$t("文本颜色")}},[l("l-input-color",{model:{value:e.label.color,callback:function(t){e.$set(e.label,"color",t)},expression:"label.color"}})],1),l("el-form-item",{attrs:{label:e.$t("文本位置")}},[l("l-select",{attrs:{clearable:!1,options:e.labelPositionOptions},model:{value:e.label.position,callback:function(t){e.$set(e.label,"position",t)},expression:"label.position"}})],1),l("el-form-item",{attrs:{label:e.$t("文本粗细")}},[l("l-select",{attrs:{clearable:!1,options:e.labelFontWeightOptions},model:{value:e.label.fontWeight,callback:function(t){e.$set(e.label,"fontWeight",t)},expression:"label.fontWeight"}})],1),l("el-form-item",{attrs:{label:e.$t("字体大小")}},[l("el-input-number",{attrs:{max:24,min:12,"controls-position":"right"},model:{value:e.label.fontSize,callback:function(t){e.$set(e.label,"fontSize",t)},expression:"label.fontSize"}})],1),l("el-form-item",{attrs:{label:e.$t("格式方式")}},[l("l-select",{attrs:{clearable:!1,options:e.labelFormatterTypeOptions},model:{value:e.label.formatterType,callback:function(t){e.$set(e.label,"formatterType",t)},expression:"label.formatterType"}})],1),"fn"==e.label.formatterType?l("el-form-item",{attrs:{label:e.$t("格式脚本")}},[l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleAddCode("labelFormatter")}}},[e._v(e._s(e.$t("设置")))])],1):l("el-form-item",{attrs:{label:e.$t("格式文本")}},[l("el-input",{staticClass:"l-input-icon",model:{value:e.label.formatter,callback:function(t){e.$set(e.label,"formatter",t)},expression:"label.formatter"}},[l("template",{slot:"append"},[l("el-popover",{attrs:{placement:"top-start",title:e.$t("参数说明"),width:"400",trigger:"hover"}},[l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{a}")]),e._v("："+e._s(e.$t("系列名"))+"。")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{b}")]),e._v("："+e._s(e.$t("数据名"))+"。")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{c}")]),e._v("："+e._s(e.$t("数据值"))+"。")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{d}")]),e._v("："+e._s(e.$t("百分比"))+"。")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{e}")]),e._v("："+e._s(e.$t("换行"))+"。")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{@xxx}")]),e._v("："+e._s(e.$t("数据中名为"))+" "),l("span",{staticStyle:{color:"#ff0033"}},[e._v("'xxx'")]),e._v(" "+e._s(e.$t("的维度的值，如"))+" "),l("span",{staticStyle:{color:"#ff0033"}},[e._v("{@product}")]),e._v(" "+e._s(e.$t("表示名为"))),l("span",{staticStyle:{color:"#ff0033"}},[e._v("'product'")]),e._v(" "+e._s(e.$t("的维度的值"))+"。 ")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{@[n]}")]),e._v("："+e._s(e.$t("数据中维度"))+" "),l("span",{staticStyle:{color:"#ff0033"}},[e._v("n")]),e._v(" "+e._s(e.$t("的值，如"))+" "),l("span",{staticStyle:{color:"#ff0033"}},[e._v("{@[3]}")]),e._v(e._s(e.$t("表示维度 3 的值，从"))+" "+e._s(e.$t("0 开始计数"))+"。 ")]),l("el-button",{attrs:{slot:"reference",icon:"learun-icon-circle-question"},slot:"reference"})],1)],1)],2)],1)]:e._e()],2),l("el-collapse-item",{attrs:{title:e.$t("图例设置"),name:"5"}},[l("el-form-item",{attrs:{label:e.$t("是否显示")}},[l("el-switch",{model:{value:e.legend.show,callback:function(t){e.$set(e.legend,"show",t)},expression:"legend.show"}})],1),e.legend.show?[l("el-form-item",{attrs:{label:e.$t("布局朝向")}},[l("l-select",{attrs:{clearable:!1,options:e.legendOrientOptions},model:{value:e.legend.orient,callback:function(t){e.$set(e.legend,"orient",t)},expression:"legend.orient"}})],1),l("el-form-item",{attrs:{label:e.$t("所在位置")}},[l("l-select",{attrs:{clearable:!1,options:e.legendPositionOptions},model:{value:e.legend.position,callback:function(t){e.$set(e.legend,"position",t)},expression:"legend.position"}})],1),l("el-form-item",{attrs:{label:e.$t("边距大小")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.legend.padding,callback:function(t){e.$set(e.legend,"padding",t)},expression:"legend.padding"}})],1),l("el-form-item",{attrs:{label:e.$t("宽度自动")}},[l("el-switch",{model:{value:e.legend.widthAuto,callback:function(t){e.$set(e.legend,"widthAuto",t)},expression:"legend.widthAuto"}})],1),e.legend.widthAuto?e._e():l("el-form-item",{attrs:{label:e.$t("宽度")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.legend.width,callback:function(t){e.$set(e.legend,"width",t)},expression:"legend.width"}})],1),l("el-form-item",{attrs:{label:e.$t("标记宽度")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.legend.itemWidth,callback:function(t){e.$set(e.legend,"itemWidth",t)},expression:"legend.itemWidth"}})],1),l("el-form-item",{attrs:{label:e.$t("标记高度")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.legend.itemHeight,callback:function(t){e.$set(e.legend,"itemHeight",t)},expression:"legend.itemHeight"}})],1),l("el-form-item",{attrs:{label:e.$t("标记形状")}},[l("l-select",{attrs:{options:e.iconOptions},model:{value:e.legend.itemIcon,callback:function(t){e.$set(e.legend,"itemIcon",t)},expression:"legend.itemIcon"}})],1),l("el-form-item",{attrs:{label:e.$t("文本颜色")}},[l("l-input-color",{model:{value:e.legend.textStyle.color,callback:function(t){e.$set(e.legend.textStyle,"color",t)},expression:"legend.textStyle.color"}})],1),l("el-form-item",{attrs:{label:e.$t("格式文本")}},[l("el-input",{staticClass:"l-input-icon",model:{value:e.legend.formatter,callback:function(t){e.$set(e.legend,"formatter",t)},expression:"legend.formatter"}},[l("template",{slot:"append"},[l("el-popover",{attrs:{placement:"top-start",title:e.$t("参数说明"),width:"400",trigger:"hover"}},[l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{name}")]),e._v("："+e._s(e.$t("数据名"))+"。")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{value}")]),e._v("："+e._s(e.$t("数据值"))+"。")]),l("el-button",{attrs:{slot:"reference",icon:"learun-icon-circle-question"},slot:"reference"})],1)],1)],2)],1)]:e._e()],2),l("el-collapse-item",{attrs:{title:e.$t("配色设置"),name:"6"}},[l("div",{staticStyle:{"margin-bottom":"8px"}},[l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleAddColor}},[e._v(e._s(e.$t("添加")))]),e.echarts.color&&e.echarts.color.length>0?l("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.handleRemoveColor}},[e._v(e._s(e.$t("删除")))]):e._e()],1),e.echarts.color?e._l(e.echarts.color,(function(t,a){return l("el-form-item",{key:a,attrs:{"label-width":"0"}},[l("l-input-color",{model:{value:t.v,callback:function(l){e.$set(t,"v",l)},expression:"color.v"}})],1)})):e._e()],2),l("l-dialog",{attrs:{title:e.$t("文本格式化脚本"),visible:e.jsCodeFromVisible,height:528,width:1e3},on:{"update:visible":function(t){e.jsCodeFromVisible=t},ok:e.handleCodeSave,opened:e.handleOpenedCodeForm}},[l("l-layout",{attrs:{right:400},scopedSlots:e._u([{key:"right",fn:function(){return[l("l-code-mirror",{attrs:{readOnly:""},model:{value:e.jsTempCode,callback:function(t){e.jsTempCode=t},expression:"jsTempCode"}})]},proxy:!0}],null,!1,2252528782)},[l("l-code-mirror",{attrs:{mode:"application/javascript"},model:{value:e.jsCode,callback:function(t){e.jsCode=t},expression:"jsCode"}})],1)],1)],1):e._e()},o=[],i=l("6736"),n={mixins:[Object(i["a"])()],computed:{funnel:function(){return this.series.funnel}},data:function(){return{sortOptions:[{value:"ascending",label:"升序"},{value:"descending",label:"降序"},{value:"none",label:"无"}]}},methods:{init:function(e){var t={echarts:{color:[],legend:{show:!0,orient:"horizontal",position:"bottomCenter",widthAuto:!0,width:200,itemWidth:25,itemHeight:14,itemIcon:"",textStyle:{color:""},formatter:"",padding:8},series:{itemStyle:{borderRadius:0},label:{show:!0,lastShow:!1,color:"",position:"",fontWeight:"",formatterType:"label",formatter:""},funnel:{min:0,max:100,minSize:0,maxSize:100,left:10,width:80,top:60,bottom:60,sort:"descending",gap:4}}},dataCode:"",labelKey:"",valueKey:""};this.commonInit(e,t)},clearKeys:function(){this.config.labelKey="",this.config.valueKey=""}}},s=n,r=l("2877"),c=Object(r["a"])(s,a,o,!1,null,null,null);t["default"]=c.exports},"59ca":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.data._isInit?l("div",[l("el-collapse-item",{attrs:{title:e.$t("基础配置"),name:"1"}},[l("el-form-item",{attrs:{label:e.$t("标题")}},[l("el-input",{model:{value:e.config.title,callback:function(t){e.$set(e.config,"title",t)},expression:"config.title"}})],1)],1),l("el-collapse-item",{attrs:{title:e.$t("数据配置"),name:"2"}},[l("el-form-item",{attrs:{label:e.$t("数据视图")}},[l("l-dbsource-select",{on:{change:e.handleDataSourceChange,init:e.handleDataSourceInit},model:{value:e.config.dataCode,callback:function(t){e.$set(e.config,"dataCode",t)},expression:"config.dataCode"}})],1),l("el-form-item",{attrs:{label:e.$t("维度")}},[l("l-select",{attrs:{options:e.fieldOptions},model:{value:e.config.labelKey,callback:function(t){e.$set(e.config,"labelKey",t)},expression:"config.labelKey"}})],1),l("el-form-item",{attrs:{label:e.$t("指标")}},[l("l-select",{attrs:{options:e.fieldOptions},model:{value:e.config.valueKey,callback:function(t){e.$set(e.config,"valueKey",t)},expression:"config.valueKey"}})],1)],1),l("el-collapse-item",{attrs:{title:e.$t("饼图设置"),name:"3"}},[l("el-form-item",{attrs:{label:e.$t("圆心大小")}},[l("el-slider",{model:{value:e.pie.radiusN,callback:function(t){e.$set(e.pie,"radiusN",t)},expression:"pie.radiusN"}})],1),l("el-form-item",{attrs:{label:e.$t("外圆大小")}},[l("el-slider",{model:{value:e.pie.radiusW,callback:function(t){e.$set(e.pie,"radiusW",t)},expression:"pie.radiusW"}})],1),l("el-form-item",{attrs:{label:e.$t("水平位置")}},[l("el-slider",{model:{value:e.pie.centerH,callback:function(t){e.$set(e.pie,"centerH",t)},expression:"pie.centerH"}})],1),l("el-form-item",{attrs:{label:e.$t("垂直位置")}},[l("el-slider",{model:{value:e.pie.centerV,callback:function(t){e.$set(e.pie,"centerV",t)},expression:"pie.centerV"}})],1),l("el-form-item",{attrs:{label:e.$t("南丁格尔")}},[l("l-select",{attrs:{options:e.roseTypeOptions},model:{value:e.pie.roseType,callback:function(t){e.$set(e.pie,"roseType",t)},expression:"pie.roseType"}})],1),l("el-form-item",{attrs:{label:e.$t("圆角大小")}},[l("el-slider",{model:{value:e.series.itemStyle.borderRadius,callback:function(t){e.$set(e.series.itemStyle,"borderRadius",t)},expression:"series.itemStyle.borderRadius"}})],1),l("el-form-item",{attrs:{label:e.$t("选中模式")}},[l("l-select",{attrs:{options:e.selectedModeOptions},model:{value:e.pie.selectedMode,callback:function(t){e.$set(e.pie,"selectedMode",t)},expression:"pie.selectedMode"}})],1),l("el-form-item",{attrs:{label:e.$t("默认选中")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.pie.selectedModeNum,callback:function(t){e.$set(e.pie,"selectedModeNum",t)},expression:"pie.selectedModeNum"}})],1)],1),l("el-collapse-item",{attrs:{title:e.$t("文本标签"),name:"4"}},[l("el-form-item",{attrs:{label:e.$t("是否显示")}},[l("el-switch",{model:{value:e.label.show,callback:function(t){e.$set(e.label,"show",t)},expression:"label.show"}})],1),e.label.show?e._e():l("el-form-item",{attrs:{label:e.$t("末项显示")}},[l("el-switch",{model:{value:e.label.lastShow,callback:function(t){e.$set(e.label,"lastShow",t)},expression:"label.lastShow"}})],1),e.label.show||e.label.lastShow?[l("el-form-item",{attrs:{label:e.$t("文本颜色")}},[l("l-input-color",{model:{value:e.label.color,callback:function(t){e.$set(e.label,"color",t)},expression:"label.color"}})],1),l("el-form-item",{attrs:{label:e.$t("文本底色")}},[l("l-input-color",{model:{value:e.label.backgroundColor,callback:function(t){e.$set(e.label,"backgroundColor",t)},expression:"label.backgroundColor"}})],1),l("el-form-item",{attrs:{label:e.$t("文本位置")}},[l("l-select",{attrs:{clearable:!1,options:e.labelPositionOptions},model:{value:e.label.position,callback:function(t){e.$set(e.label,"position",t)},expression:"label.position"}})],1),l("el-form-item",{attrs:{label:e.$t("文本粗细")}},[l("l-select",{attrs:{clearable:!1,options:e.labelFontWeightOptions},model:{value:e.label.fontWeight,callback:function(t){e.$set(e.label,"fontWeight",t)},expression:"label.fontWeight"}})],1),l("el-form-item",{attrs:{label:e.$t("字体大小")}},[l("el-input-number",{attrs:{max:24,min:12,"controls-position":"right"},model:{value:e.label.fontSize,callback:function(t){e.$set(e.label,"fontSize",t)},expression:"label.fontSize"}})],1),l("el-form-item",{attrs:{label:e.$t("格式方式")}},[l("l-select",{attrs:{clearable:!1,options:e.labelFormatterTypeOptions},model:{value:e.label.formatterType,callback:function(t){e.$set(e.label,"formatterType",t)},expression:"label.formatterType"}})],1),"fn"==e.label.formatterType?l("el-form-item",{attrs:{label:e.$t("格式脚本")}},[l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleAddCode("labelFormatter")}}},[e._v(e._s(e.$t("设置")))])],1):l("el-form-item",{attrs:{label:e.$t("格式文本")}},[l("el-input",{staticClass:"l-input-icon",model:{value:e.label.formatter,callback:function(t){e.$set(e.label,"formatter",t)},expression:"label.formatter"}},[l("template",{slot:"append"},[l("el-popover",{attrs:{placement:"top-start",title:e.$t("参数说明"),width:"400",trigger:"hover"}},[l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{a}")]),e._v("："+e._s(e.$t("系列名"))+"。")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{b}")]),e._v("："+e._s(e.$t("数据名"))+"。")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{c}")]),e._v("："+e._s(e.$t("数据值"))+"。")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{d}")]),e._v("："+e._s(e.$t("百分比"))+"。")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{e}")]),e._v("："+e._s(e.$t("换行"))+"。")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{@xxx}")]),e._v("："+e._s(e.$t("数据中名为"))+" "),l("span",{staticStyle:{color:"#ff0033"}},[e._v("'xxx'")]),e._v(" "+e._s(e.$t("的维度的值，如"))+" "),l("span",{staticStyle:{color:"#ff0033"}},[e._v("{@product}")]),e._v(" "+e._s(e.$t("表示名为"))),l("span",{staticStyle:{color:"#ff0033"}},[e._v("'product'")]),e._v(" "+e._s(e.$t("的维度的值"))+"。 ")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{@[n]}")]),e._v("："+e._s(e.$t("数据中维度"))+" "),l("span",{staticStyle:{color:"#ff0033"}},[e._v("n")]),e._v(" "+e._s(e.$t("的值，如"))+" "),l("span",{staticStyle:{color:"#ff0033"}},[e._v("{@[3]}")]),e._v(e._s(e.$t("表示维度 3 的值，从"))+" "+e._s(e.$t("0 开始计数"))+"。 ")]),l("el-button",{attrs:{slot:"reference",icon:"learun-icon-circle-question"},slot:"reference"})],1)],1)],2)],1)]:e._e()],2),l("el-collapse-item",{attrs:{title:e.$t("图例设置"),name:"5"}},[l("el-form-item",{attrs:{label:e.$t("是否显示")}},[l("el-switch",{model:{value:e.legend.show,callback:function(t){e.$set(e.legend,"show",t)},expression:"legend.show"}})],1),e.legend.show?[l("el-form-item",{attrs:{label:e.$t("布局朝向")}},[l("l-select",{attrs:{clearable:!1,options:e.legendOrientOptions},model:{value:e.legend.orient,callback:function(t){e.$set(e.legend,"orient",t)},expression:"legend.orient"}})],1),l("el-form-item",{attrs:{label:e.$t("所在位置")}},[l("l-select",{attrs:{clearable:!1,options:e.legendPositionOptions},model:{value:e.legend.position,callback:function(t){e.$set(e.legend,"position",t)},expression:"legend.position"}})],1),l("el-form-item",{attrs:{label:e.$t("边距大小")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.legend.padding,callback:function(t){e.$set(e.legend,"padding",t)},expression:"legend.padding"}})],1),l("el-form-item",{attrs:{label:e.$t("宽度自动")}},[l("el-switch",{model:{value:e.legend.widthAuto,callback:function(t){e.$set(e.legend,"widthAuto",t)},expression:"legend.widthAuto"}})],1),e.legend.widthAuto?e._e():l("el-form-item",{attrs:{label:e.$t("宽度")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.legend.width,callback:function(t){e.$set(e.legend,"width",t)},expression:"legend.width"}})],1),l("el-form-item",{attrs:{label:e.$t("标记宽度")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.legend.itemWidth,callback:function(t){e.$set(e.legend,"itemWidth",t)},expression:"legend.itemWidth"}})],1),l("el-form-item",{attrs:{label:e.$t("标记高度")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.legend.itemHeight,callback:function(t){e.$set(e.legend,"itemHeight",t)},expression:"legend.itemHeight"}})],1),l("el-form-item",{attrs:{label:e.$t("标记形状")}},[l("l-select",{attrs:{options:e.iconOptions},model:{value:e.legend.itemIcon,callback:function(t){e.$set(e.legend,"itemIcon",t)},expression:"legend.itemIcon"}})],1),l("el-form-item",{attrs:{label:e.$t("文本颜色")}},[l("l-input-color",{model:{value:e.legend.textStyle.color,callback:function(t){e.$set(e.legend.textStyle,"color",t)},expression:"legend.textStyle.color"}})],1),l("el-form-item",{attrs:{label:e.$t("格式文本")}},[l("el-input",{staticClass:"l-input-icon",model:{value:e.legend.formatter,callback:function(t){e.$set(e.legend,"formatter",t)},expression:"legend.formatter"}},[l("template",{slot:"append"},[l("el-popover",{attrs:{placement:"top-start",title:e.$t("参数说明"),width:"400",trigger:"hover"}},[l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{name}")]),e._v("："+e._s(e.$t("数据名"))+"。")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{value}")]),e._v("："+e._s(e.$t("数据值"))+"。")]),l("el-button",{attrs:{slot:"reference",icon:"learun-icon-circle-question"},slot:"reference"})],1)],1)],2)],1)]:e._e()],2),l("el-collapse-item",{attrs:{title:e.$t("配色设置"),name:"6"}},[l("div",{staticStyle:{"margin-bottom":"8px"}},[l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleAddColor}},[e._v(e._s(e.$t("添加")))]),e.echarts.color&&e.echarts.color.length>0?l("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.handleRemoveColor}},[e._v(e._s(e.$t("删除")))]):e._e()],1),e.echarts.color?e._l(e.echarts.color,(function(t,a){return l("el-form-item",{key:a,attrs:{"label-width":"0"}},[l("l-input-color",{model:{value:t.v,callback:function(l){e.$set(t,"v",l)},expression:"color.v"}})],1)})):e._e()],2),l("l-dialog",{attrs:{title:e.$t("文本格式化脚本"),visible:e.jsCodeFromVisible,height:528,width:1e3},on:{"update:visible":function(t){e.jsCodeFromVisible=t},ok:e.handleCodeSave,opened:e.handleOpenedCodeForm}},[l("l-layout",{attrs:{right:400},scopedSlots:e._u([{key:"right",fn:function(){return[l("l-code-mirror",{attrs:{readOnly:""},model:{value:e.jsTempCode,callback:function(t){e.jsTempCode=t},expression:"jsTempCode"}})]},proxy:!0}],null,!1,2252528782)},[l("l-code-mirror",{attrs:{mode:"application/javascript"},model:{value:e.jsCode,callback:function(t){e.jsCode=t},expression:"jsCode"}})],1)],1)],1):e._e()},o=[],i=l("6736"),n={mixins:[Object(i["a"])()],computed:{pie:function(){return this.series.pie}},data:function(){return{roseTypeOptions:[{label:"圆心角数据百分比",value:"radius"},{label:"圆心角相同",value:"area"}],selectedModeOptions:[{label:"单选",value:"single"},{label:"多选",value:"multiple"}]}},methods:{init:function(e){var t={echarts:{color:[],legend:{show:!0,orient:"horizontal",position:"bottomCenter",widthAuto:!0,width:200,itemWidth:25,itemHeight:14,itemIcon:"",padding:8,textStyle:{color:""},formatter:""},series:{itemStyle:{borderRadius:0},label:{show:!0,lastShow:!1,color:"",position:"",fontWeight:"",formatterType:"label",formatter:"",backgroundColor:"#fff"},pie:{radiusN:0,radiusW:50,centerH:50,centerV:50,roseType:"",selectedMode:"",selectedModeNum:void 0}}},dataCode:"",labelKey:"",valueKey:""};this.commonInit(e,t)},clearKeys:function(){this.config.labelKey="",this.config.valueKey=""}}},s=n,r=l("2877"),c=Object(r["a"])(s,a,o,!1,null,null,null);t["default"]=c.exports},"5e02":function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"l-rblock l-desktop"},[l("div",{directives:[{name:"show",rawName:"v-show",value:e.steps(0),expression:"steps(0)"}],staticClass:"l-rblock",staticStyle:{padding:"24px"}},[l("div",{staticClass:"l-page-panel"},[l("el-form",{ref:"baseInfo",attrs:{model:e.formData,rules:e.rules,size:"mini","label-width":"80px"}},[l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:e.$t("编号"),prop:"f_Code"}},[l("el-input",{model:{value:e.formData.f_Code,callback:function(t){e.$set(e.formData,"f_Code",t)},expression:"formData.f_Code"}})],1)],1),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:e.$t("名称"),prop:"f_Name"}},[l("el-input",{model:{value:e.formData.f_Name,callback:function(t){e.$set(e.formData,"f_Name",t)},expression:"formData.f_Name"}})],1)],1),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:e.$t("图标"),prop:"f_Icon"}},[l("l-input-icon",{attrs:{iconList:e.lr_icons},model:{value:e.formData.f_Icon,callback:function(t){e.$set(e.formData,"f_Icon",t)},expression:"formData.f_Icon"}})],1)],1),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:e.$t("上级"),prop:"f_PModuleId"}},[l("l-tree-select",{attrs:{options:e.modulesExpandTree},model:{value:e.formData.f_PModuleId,callback:function(t){e.$set(e.formData,"f_PModuleId",t)},expression:"formData.f_PModuleId"}})],1)],1),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:e.$t("排序"),prop:"f_SortCode"}},[l("el-input-number",{attrs:{"controls-position":"right",min:1},model:{value:e.formData.f_SortCode,callback:function(t){e.$set(e.formData,"f_SortCode",t)},expression:"formData.f_SortCode"}})],1)],1),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:e.$t("菜单"),prop:"f_IsMenu"}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.formData.f_IsMenu,callback:function(t){e.$set(e.formData,"f_IsMenu",t)},expression:"formData.f_IsMenu"}})],1)],1),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:e.$t("首屏"),prop:"f_IsFirst"}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.formData.f_IsFirst,callback:function(t){e.$set(e.formData,"f_IsFirst",t)},expression:"formData.f_IsFirst"}})],1)],1),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:e.$t("状态"),prop:"f_EnabledMark"}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.formData.f_EnabledMark,callback:function(t){e.$set(e.formData,"f_EnabledMark",t)},expression:"formData.f_EnabledMark"}})],1)],1),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:e.$t("描述"),prop:"f_Description"}},[l("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.formData.f_Description,callback:function(t){e.$set(e.formData,"f_Description",t)},expression:"formData.f_Description"}})],1)],1)],1)],1)]),l("div",{directives:[{name:"show",rawName:"v-show",value:e.steps(1),expression:"steps(1)"}],staticClass:"l-rblock"},[l("l-quick-bi-design",{ref:"quickBiDesign",attrs:{isShow:e.steps(1),componentList:e.componentList}})],1)])},o=[],i=(l("a9e3"),l("d3b7"),l("5530")),n=l("5880"),s=l("096c"),r=(l("d81d"),l("ac1f"),l("1276"),l("ddb0"),l("8bbf")),c=l.n(r),m=l("9e2c");m.keys().map((function(e){c.a.component("".concat(e.split("/")[1],"-config"),m(e).default)}));l("9691");var u={props:{stepActive:{type:Number,default:0}},data:function(){var e=this;return{componentList:s["default"],formData:{f_Type:1,f_Code:"",f_Name:"",f_Icon:"learun-icon-computer",f_PModuleId:"",f_ModuleId:"",f_SortCode:"",f_IsMenu:0,f_EnabledMark:1,f_IsFirst:1,f_Description:""},rules:{f_Code:[{required:!0,message:"请输入编号",trigger:"blur"},{validator:this.lr_existDbFiled,keyValue:function(){return e.formData.f_ModuleId},tableName:"lr_base_module",fieldName:"f_EnCode",keyName:"f_ModuleId",trigger:"null"}],f_Name:[{required:!0,message:"请输入名称",trigger:"blur"}],f_Icon:[{required:!0,message:"请选择图标",trigger:"blur"}]},layout:[]}},computed:Object(i["a"])({},Object(n["mapGetters"])(["modulesExpandTree"])),created:function(){this.lr_loadDataSourceList&&this.lr_loadDataSourceList()},mounted:function(){},methods:{resetForm:function(){this.formData.f_Id="",this.formData.f_ModuleId="",this.$refs.baseInfo&&this.$refs.baseInfo.resetFields(),this.$refs.quickBiDesign&&this.$refs.quickBiDesign.set([])},getForm:function(){var e=this,t={lr_desktop_infoEntity:this.$deepClone(this.formData),lr_desktop_schemeEntity:{f_Content:JSON.stringify(this.$refs.quickBiDesign.get())}};return t.moduleEntity={f_EnCode:t.lr_desktop_infoEntity.f_Code,f_FullName:t.lr_desktop_infoEntity.f_Name,f_ParentId:t.lr_desktop_infoEntity.f_PModuleId,f_Icon:t.lr_desktop_infoEntity.f_Icon,f_Target:"desktop".concat(t.lr_desktop_infoEntity.f_IsFirst),f_IsMenu:t.lr_desktop_infoEntity.f_IsMenu,f_DeleteMark:0,f_UrlAddress:"".concat(t.lr_desktop_infoEntity.f_Code),f_EnabledMark:t.lr_desktop_infoEntity.f_EnabledMark,f_SortCode:t.lr_desktop_infoEntity.f_SortCode,f_Description:t.lr_desktop_infoEntity.f_Description},new Promise((function(l){window.html2canvas(e.$refs.quickBiDesign.biPanel,{useCORS:!0,backgroundColor:!1,allowTaint:!0}).then((function(e){0!=e.width&&0!=e.height&&(t.lr_desktop_infoEntity.img=e.toDataURL("image/jpeg")),l(t)}))}))},setForm:function(e){this.formData=e.lr_desktop_infoEntity,this.$refs.quickBiDesign.set(JSON.parse(e.lr_desktop_schemeEntity.f_Content))},steps:function(e){return this.stepActive==e},validateBaseInfo:function(){var e=this;return new Promise((function(t){e.$refs.baseInfo.validate((function(e){t(!!e)}))}))},validateSteps:function(){var e=this;return new Promise((function(t){0==e.stepActive?e.validateBaseInfo().then((function(e){t(e)})):t(!0)}))}}},f=u,d=l("2877"),p=Object(d["a"])(f,a,o,!1,null,null,null);t["a"]=p.exports},6530:function(e,t,l){},6736:function(e,t,l){"use strict";l("99af"),l("d81d"),l("a434");t["a"]=function(){return{props:["data"],data:function(){return{fieldOptions:[],fieldMapOptions:{},legendOrientOptions:[{label:"横向",value:"horizontal"},{label:"竖向",value:"vertical"}],legendPositionOptions:[{label:"左上角",value:"topLeft"},{label:"右上角",value:"topRight"},{label:"左下角",value:"bottomLeft"},{label:"右下角",value:"bottomRight"},{label:"顶部居中",value:"topCenter"},{label:"底部居中",value:"bottomCenter"}],labelPositionOptions:[{label:"外侧",value:"outside"},{label:"内部",value:"inside"},{label:"中心",value:"center"}],labelPositionOptions2:[{label:"上边",value:"top"},{label:"左边",value:"left"},{label:"右边",value:"right"},{label:"下边",value:"bottom"},{label:"内部",value:"inside"},{label:"内部左边",value:"insideLeft"},{label:"内部右边",value:"insideRight"},{label:"内部上边",value:"insideTop"},{label:"内部下边",value:"insideBottom"},{label:"内部左上",value:"insideTopLeft"},{label:"内部左下",value:"insideBottomLeft"},{label:"内部右上",value:"insideTopRight"},{label:"内部右下",value:"insideBottomRight"}],labelFontWeightOptions:[{label:"正常",value:"normal"},{label:"加粗",value:"bold"},{label:"更粗",value:"bolder"},{label:"细",value:"lighter"}],labelFormatterTypeOptions:[{label:"文本",value:"label"},{label:"脚本",value:"fn"}],iconOptions:[{label:"圆形",value:"circle"},{label:"矩形",value:"rect"},{label:"圆角矩形",value:"roundRect"},{label:"三角形",value:"triangle"},{label:"菱形",value:"diamond"},{label:"水滴",value:"pin"},{label:"箭头",value:"arrow"},{label:"无",value:"none"}],yNameLocationOptions:[{label:"开头",value:"start"},{label:"中间",value:"middle"},{label:"末尾",value:"end"}],axisTypeOptions:[{label:"数值",value:"value"},{label:"类目",value:"category"},{label:"时间",value:"time"}],toolTipTriggerOptions:[{label:"数据项图形触发",value:"item"},{label:"坐标轴触发",value:"axis"},{label:"无",value:"none"}],toolTipTypeOptions:[{label:"直线",value:"line"},{label:"阴影",value:"shadow"},{label:"十字准星",value:"cross"}],jsCodeType:"",jsCodeFromVisible:!1,jsCode:"",jsTempCode:"",jsTempCodes:{labelFormatter:"\nparams.componentType: 'series',\n// 系列类型\nparams.seriesType: string,\n// 系列在传入的 option.series 中的 index\nparams.seriesIndex: number,\n// 系列名称\nparams.seriesName: string,\n// 数据名，类目名\nparams.name: string,\n// 数据在传入的 data 数组中的 index\nparams.dataIndex: number,\n// 传入的原始数据项\nparams.data: Object,\n// 传入的数据值。在多数系列下它和 data 相同。在一些系列下是 data 中的分量（如 map、radar 中）\nparams.value: number|Array|Object,\n// 坐标轴 encode 映射信息，\n// key 为坐标轴（如 'x' 'y' 'radius' 'angle' 等）\n// value 必然为数组，不会为 null/undefied，表示 dimension index 。\n// 其内容如：\n// {\n//     x: [2] // dimension index 为 2 的数据映射到 x 轴\n//     y: [0] // dimension index 为 0 的数据映射到 y 轴\n// }\nparams.encode: Object,\n// 维度名列表\nparams.dimensionNames: Array<String>,\n// 数据的维度 index，如 0 或 1 或 2 ...\n// 仅在雷达图中使用。\nparams.dimensionIndex: number,\n// 数据图形的颜色\nparams.color: string,\n// 百分比\nparams.percent: number\n          "}}},computed:{config:function(){return this.data.config},echarts:function(){return this.config.echarts},series:function(){return this.echarts.series},label:function(){return this.series.label},legend:function(){return this.echarts.legend}},methods:{commonInit:function(e,t){t.title=e.label,this.$set(e,"config",t),this.$set(e,"_isInit",!0)},handleDataSourceChange:function(e,t){this.clearKeys&&this.clearKeys(t),this.handleDataSourceInit(e)},handleDataSourceInit:function(e){var t=this;if(e){var l=e.f_Sql,a=JSON.parse(l),o=a.columns;this.fieldOptions=o.map((function(e){return{value:e.prop,label:t.getColNames(e)}})),this.fieldMapOptions[e.f_Code]=this.fieldOptions}else this.fieldOptions=[]},getColNames:function(e){var t=e.prop,l=e.label,a=t;return t!=l&&(a="".concat(t,"(").concat(l,")")),a},handleAddColor:function(){var e=this.echarts.color;e.push({v:""})},handleRemoveColor:function(){var e=this.echarts.color;e.splice(e.length-1,1)},handleAddCode:function(e){this.jsCodeType=e,this.jsCodeFromVisible=!0},handleOpenedCodeForm:function(){this.jsCode=this.config[this.jsCodeType]||"",this.jsTempCode=this.jsTempCodes[this.jsCodeType]||""},handleCodeSave:function(){this.$set(this.config,this.jsCodeType,this.jsCode),this.jsCodeFromVisible=!1,this.jsCode="",this.jsTempCode=""}}}}},"887c2":function(e,t,l){"use strict";l("9df4")},"8dab":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.data._isInit?l("div",[l("el-collapse-item",{attrs:{title:e.$t("基础配置"),name:"1"}},[l("el-form-item",{attrs:{label:e.$t("标题")}},[l("el-input",{model:{value:e.config.title,callback:function(t){e.$set(e.config,"title",t)},expression:"config.title"}})],1),l("el-form-item",{attrs:{label:e.$t("横向")}},[l("el-switch",{model:{value:e.echarts.isX,callback:function(t){e.$set(e.echarts,"isX",t)},expression:"echarts.isX"}})],1),e.config.dataList.length>1?l("el-form-item",{attrs:{label:e.$t("条件颜色")}},[l("l-input-color",{model:{value:e.config.qNameColor,callback:function(t){e.$set(e.config,"qNameColor",t)},expression:"config.qNameColor"}})],1):e._e(),e.config.dataList.length>1?l("el-form-item",{attrs:{label:e.$t("条件选中")}},[l("l-input-color",{model:{value:e.config.qNameActiveColor,callback:function(t){e.$set(e.config,"qNameActiveColor",t)},expression:"config.qNameActiveColor"}})],1):e._e(),l("el-form-item",{attrs:{label:e.$t("显示统计")}},[l("el-switch",{model:{value:e.config.isSummary,callback:function(t){e.$set(e.config,"isSummary",t)},expression:"config.isSummary"}})],1),[l("el-form-item",{attrs:{label:e.$t("统计单位")}},[l("el-input",{model:{value:e.config.summaryUnit,callback:function(t){e.$set(e.config,"summaryUnit",t)},expression:"config.summaryUnit"}})],1),l("el-form-item",{attrs:{label:e.$t("统计标题")}},[l("el-input",{model:{value:e.config.summaryLabel,callback:function(t){e.$set(e.config,"summaryLabel",t)},expression:"config.summaryLabel"}})],1)]],2),l("el-collapse-item",{attrs:{title:e.$t("数据配置"),name:"2"}},[e.config.dataList?l("div",{staticStyle:{padding:"10px 0"}},e._l(e.config.dataList,(function(t,a){return l("div",{key:a,staticClass:"learun-row-form-input"},[e.config.dataList.length>1?l("el-form-item",{staticStyle:{"margin-bottom":"8px"},attrs:{"label-width":"40px",label:e.$t("名称")}},[l("el-input",{model:{value:t.name,callback:function(l){e.$set(t,"name",l)},expression:"item.name"}})],1):e._e(),l("el-form-item",{staticStyle:{"margin-bottom":"8px"},attrs:{"label-width":"40px",label:e.$t("视图")}},[l("l-dbsource-select",{on:{change:function(l){return e.handleDataSourceChange(l,t)},init:e.handleDataSourceInit},model:{value:t.dataCode,callback:function(l){e.$set(t,"dataCode",l)},expression:"item.dataCode"}})],1),l("el-form-item",{attrs:{"label-width":"40px",label:e.$t("维度")}},[l("l-select",{attrs:{options:e.myfieldOptions(t.dataCode)},model:{value:t.labelKey,callback:function(l){e.$set(t,"labelKey",l)},expression:"item.labelKey"}})],1),e._l(t.valueKeys||[],(function(a,o){return l("el-form-item",{key:o,staticStyle:{"margin-bottom":"8px"},attrs:{"label-width":"0"}},[l("div",{staticClass:"flex l-rblock echarts-select"},[l("div",{staticClass:"echarts-type",on:{click:function(t){return e.changeChartType(a)}}},[l("i",{class:[e.getEchartsType(a.t)]})]),l("el-input",{attrs:{placeholder:e.$t("名称")},model:{value:a.n,callback:function(t){e.$set(a,"n",t)},expression:"valueKey.n"}}),l("l-select",{attrs:{placeholder:e.$t("指标"),options:e.myfieldOptions(t.dataCode)},model:{value:a.k,callback:function(t){e.$set(a,"k",t)},expression:"valueKey.k"}}),l("l-input-color",{attrs:{notInput:!0},model:{value:a.c,callback:function(t){e.$set(a,"c",t)},expression:"valueKey.c"}}),l("el-popover",{attrs:{placement:"bottom-start",title:e.$t("高级设置"),width:"400",trigger:"click","popper-class":"learun-echarts-setting-popper"},scopedSlots:e._u([{key:"reference",fn:function(){return[l("div",{staticClass:"echarts-setting"},[l("i",{staticClass:"el-icon-setting"})])]},proxy:!0}],null,!0)},[l("el-form",{attrs:{"label-width":"72px","label-position":"left",size:"mini"}},[["bar","pictorialBar"].includes(a.t)?[l("el-form-item",{attrs:{label:e.$t("渐变底色")}},[l("l-input-color",{model:{value:a.c2,callback:function(t){e.$set(a,"c2",t)},expression:"valueKey.c2"}})],1),l("el-form-item",{attrs:{label:e.$t("高亮")}},[l("el-switch",{model:{value:a.e,callback:function(t){e.$set(a,"e",t)},expression:"valueKey.e"}})],1),l("el-form-item",{attrs:{label:e.$t("高亮颜色")}},[l("l-input-color",{model:{value:a.ec1,callback:function(t){e.$set(a,"ec1",t)},expression:"valueKey.ec1"}})],1),l("el-form-item",{attrs:{label:e.$t("高亮渐变")}},[l("l-input-color",{model:{value:a.ec2,callback:function(t){e.$set(a,"ec2",t)},expression:"valueKey.ec2"}})],1)]:e._e(),["line"].includes(a.t)?[l("el-form-item",{attrs:{label:e.$t("面积图")}},[l("el-switch",{model:{value:a.isA,callback:function(t){e.$set(a,"isA",t)},expression:"valueKey.isA"}})],1),a.isA?l("el-form-item",{attrs:{label:e.$t("渐变开始")}},[l("l-input-color",{model:{value:a.ac1,callback:function(t){e.$set(a,"ac1",t)},expression:"valueKey.ac1"}})],1):e._e(),a.isA?l("el-form-item",{attrs:{label:e.$t("渐变结束")}},[l("l-input-color",{model:{value:a.ac2,callback:function(t){e.$set(a,"ac2",t)},expression:"valueKey.ac2"}})],1):e._e()]:e._e(),l("el-form-item",{attrs:{label:e.$t("绑定Y轴")}},[l("l-select",{attrs:{options:e.yOptions},model:{value:a.y,callback:function(t){e.$set(a,"y",t)},expression:"valueKey.y"}})],1)],2)],1),t.valueKeys.length>1?l("div",{staticClass:"delete-btn",on:{click:function(l){return e.handleRemoveValueKey(t,o)}}},[l("i",{staticClass:"learun-icon-delete"})]):e._e()],1)])})),l("div",{staticStyle:{"text-align":"right",width:"100%"}},[l("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(l){return e.handleAddValueKey(t)}}},[e._v(e._s(e.$t("添加指标")))])],1),e.config.dataList.length>1?l("el-button",{staticClass:"learun-row-form-input-delete",attrs:{title:e.$t("删除"),circle:"",plain:"",size:"mini",type:"danger"},on:{click:function(t){return e.handleRemoveDataList(a)}}},[l("i",{staticClass:"el-icon-close"})]):e._e()],2)})),0):e._e(),l("div",{staticStyle:{"margin-bottom":"10px"}},[l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleAddDataList}},[e._v(e._s(e.$t("添加")))])],1)]),l("el-collapse-item",{attrs:{title:e.$t((e.config.isX?"X":"Y")+"轴配置"),name:"3"}},[e.echarts.yAxis?l("div",{staticStyle:{padding:"10px 0"}},e._l(e.echarts.yAxis,(function(t,a){return l("div",{key:a,staticClass:"learun-row-form-input"},[l("el-form-item",{staticStyle:{"margin-bottom":"8px"},attrs:{label:e.$t("名称")}},[l("el-input",{model:{value:t.name,callback:function(l){e.$set(t,"name",l)},expression:"item.name"}})],1),l("el-form-item",{staticStyle:{"margin-bottom":"8px"},attrs:{label:e.$t("名称位置")}},[l("l-select",{attrs:{clearable:!1,options:e.yNameLocationOptions},model:{value:t.nameLocation,callback:function(l){e.$set(t,"nameLocation",l)},expression:"item.nameLocation"}})],1),l("el-form-item",{staticStyle:{"margin-bottom":"8px"},attrs:{label:e.$t("名称颜色")}},[l("l-input-color",{model:{value:t.nameTextStyle.color,callback:function(l){e.$set(t.nameTextStyle,"color",l)},expression:"item.nameTextStyle.color"}})],1),l("el-form-item",{staticStyle:{"margin-bottom":"8px"},attrs:{label:e.$t("名称大小")}},[l("el-input-number",{attrs:{max:24,min:12,"controls-position":"right"},model:{value:t.nameTextStyle.fontSize,callback:function(l){e.$set(t.nameTextStyle,"fontSize",l)},expression:"item.nameTextStyle.fontSize"}})],1),l("el-form-item",{attrs:{label:e.$t("名称粗细")}},[l("l-select",{attrs:{clearable:!1,options:e.labelFontWeightOptions},model:{value:t.nameTextStyle.fontWeight,callback:function(l){e.$set(t.nameTextStyle,"fontWeight",l)},expression:"item.nameTextStyle.fontWeight"}})],1),l("el-form-item",{staticStyle:{"margin-bottom":"8px"},attrs:{label:e.$t("最小值")}},[l("el-input-number",{attrs:{max:t.max,"controls-position":"right"},model:{value:t.min,callback:function(l){e.$set(t,"min",l)},expression:"item.min"}})],1),l("el-form-item",{staticStyle:{"margin-bottom":"8px"},attrs:{label:e.$t("最大值")}},[l("el-input-number",{attrs:{min:t.min,"controls-position":"right"},model:{value:t.max,callback:function(l){e.$set(t,"max",l)},expression:"item.max"}})],1),l("el-form-item",{attrs:{label:e.$t("分割间隔")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:t.interval,callback:function(l){e.$set(t,"interval",l)},expression:"item.interval"}})],1),l("el-form-item",{attrs:{label:e.$t("轴位置")}},[l("l-select",{attrs:{options:[{value:0,label:e.config.isX?"下":"左"},{value:1,label:e.config.isX?"上":"右"}]},model:{value:t.position,callback:function(l){e.$set(t,"position",l)},expression:"item.position"}})],1),l("el-form-item",{staticStyle:{"margin-bottom":"8px"},attrs:{label:e.$t("数值类型")}},[l("l-select",{attrs:{options:e.axisTypeOptions},model:{value:t.type,callback:function(l){e.$set(t,"type",l)},expression:"item.type"}})],1),l("el-form-item",{attrs:{label:e.$t("数值格式")}},[l("el-input",{staticClass:"l-input-icon",model:{value:t.axisLabel.formatter,callback:function(l){e.$set(t.axisLabel,"formatter",l)},expression:"item.axisLabel.formatter"}},[l("template",{slot:"append"},[l("el-popover",{attrs:{placement:"top-start",title:e.$t("参数说明"),width:"400",trigger:"hover"}},[l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{value}")]),e._v("："+e._s(e.$t("值名，比方"))),l("span",{staticStyle:{color:"#ff0033"}},[e._v("{value} kg")])]),l("p",[e._v(" "+e._s(e.$t("对于时间轴,支持多种形式"))+"："),l("a",{attrs:{href:"https://echarts.apache.org/zh/option.html#yAxis.axisLabel.formatter"}},[e._v(" "+e._s(e.$t("查看官网")))])]),l("el-button",{attrs:{slot:"reference",icon:"learun-icon-circle-question"},slot:"reference"})],1)],1)],2)],1),l("el-form-item",{attrs:{label:e.$t("数值颜色")}},[l("l-input-color",{model:{value:t.axisLabel.color,callback:function(l){e.$set(t.axisLabel,"color",l)},expression:"item.axisLabel.color"}})],1),l("el-form-item",{attrs:{label:e.$t("线条显示")}},[l("el-switch",{model:{value:t.axisLine.show,callback:function(l){e.$set(t.axisLine,"show",l)},expression:"item.axisLine.show"}})],1),t.axisLine.show?l("el-form-item",{attrs:{label:e.$t("线条颜色")}},[l("l-input-color",{model:{value:t.axisLine.lineStyle.color,callback:function(l){e.$set(t.axisLine.lineStyle,"color",l)},expression:"item.axisLine.lineStyle.color"}})],1):e._e(),e.echarts.yAxis.length>1?l("el-button",{staticClass:"learun-row-form-input-delete",attrs:{title:e.$t("删除"),circle:"",plain:"",size:"mini",type:"danger"},on:{click:function(t){return e.handleRemoveYList(a)}}},[l("i",{staticClass:"el-icon-close"})]):e._e()],1)})),0):e._e(),l("div",{staticStyle:{"margin-bottom":"10px"}},[l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleAddYList}},[e._v(e._s(e.$t("添加")))])],1)]),l("el-collapse-item",{attrs:{title:e.$t((e.config.isX?"Y":"X")+"轴配置"),name:"4"}},[l("el-form-item",{attrs:{label:e.$t("轴位置")}},[l("l-select",{attrs:{options:[{value:0,label:e.config.isX?"左":"下"},{value:1,label:e.config.isX?"右":"上"}]},model:{value:e.xAxis.position,callback:function(t){e.$set(e.xAxis,"position",t)},expression:"xAxis.position"}})],1),l("el-form-item",{attrs:{label:e.$t("名称")}},[l("el-input",{model:{value:e.xAxis.name,callback:function(t){e.$set(e.xAxis,"name",t)},expression:"xAxis.name"}})],1),l("el-form-item",{attrs:{label:e.$t("名称位置")}},[l("l-select",{attrs:{clearable:!1,options:e.yNameLocationOptions},model:{value:e.xAxis.nameLocation,callback:function(t){e.$set(e.xAxis,"nameLocation",t)},expression:"xAxis.nameLocation"}})],1),l("el-form-item",{staticStyle:{"margin-bottom":"8px"},attrs:{label:e.$t("名称颜色")}},[l("l-input-color",{model:{value:e.xAxis.nameTextStyle.color,callback:function(t){e.$set(e.xAxis.nameTextStyle,"color",t)},expression:"xAxis.nameTextStyle.color"}})],1),l("el-form-item",{staticStyle:{"margin-bottom":"8px"},attrs:{label:e.$t("名称大小")}},[l("el-input-number",{attrs:{max:24,min:12,"controls-position":"right"},model:{value:e.xAxis.nameTextStyle.fontSize,callback:function(t){e.$set(e.xAxis.nameTextStyle,"fontSize",t)},expression:"xAxis.nameTextStyle.fontSize"}})],1),l("el-form-item",{attrs:{label:e.$t("名称粗细")}},[l("l-select",{attrs:{clearable:!1,options:e.labelFontWeightOptions},model:{value:e.xAxis.nameTextStyle.fontWeight,callback:function(t){e.$set(e.xAxis.nameTextStyle,"fontWeight",t)},expression:"xAxis.nameTextStyle.fontWeight"}})],1),l("el-form-item",{attrs:{label:e.$t("类型")}},[l("l-select",{attrs:{options:e.axisTypeOptions},model:{value:e.xAxis.type,callback:function(t){e.$set(e.xAxis,"type",t)},expression:"xAxis.type"}})],1),l("el-form-item",{attrs:{label:e.$t("格式")}},[l("el-input",{staticClass:"l-input-icon",model:{value:e.xAxis.axisLabel.formatter,callback:function(t){e.$set(e.xAxis.axisLabel,"formatter",t)},expression:"xAxis.axisLabel.formatter"}},[l("template",{slot:"append"},[l("el-popover",{attrs:{placement:"top-start",title:e.$t("参数说明"),width:"400",trigger:"hover"}},[l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{value}")]),e._v("："+e._s(e.$t("值名，比方"))),l("span",{staticStyle:{color:"#ff0033"}},[e._v("{value} kg")])]),l("p",[e._v(" "+e._s(e.$t("对于时间轴,支持多种形式"))+"："),l("a",{attrs:{href:"https://echarts.apache.org/zh/option.html#yAxis.axisLabel.formatter"}},[e._v(e._s(e.$t("查看官网")))])]),l("el-button",{attrs:{slot:"reference",icon:"learun-icon-circle-question"},slot:"reference"})],1)],1)],2)],1),l("el-form-item",{attrs:{label:e.$t("颜色")}},[l("l-input-color",{model:{value:e.xAxis.axisLabel.color,callback:function(t){e.$set(e.xAxis.axisLabel,"color",t)},expression:"xAxis.axisLabel.color"}})],1),l("el-form-item",{attrs:{label:e.$t("线条显示")}},[l("el-switch",{model:{value:e.xAxis.axisLine.show,callback:function(t){e.$set(e.xAxis.axisLine,"show",t)},expression:"xAxis.axisLine.show"}})],1),e.xAxis.axisLine.show?l("el-form-item",{attrs:{label:e.$t("线条颜色")}},[l("l-input-color",{model:{value:e.xAxis.axisLine.lineStyle.color,callback:function(t){e.$set(e.xAxis.axisLine.lineStyle,"color",t)},expression:"xAxis.axisLine.lineStyle.color"}})],1):e._e()],1),l("el-collapse-item",{attrs:{title:e.$t("柱状图"),name:"5"}},[l("el-form-item",{attrs:{label:e.$t("柱条宽度")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.bar.barWidth,callback:function(t){e.$set(e.bar,"barWidth",t)},expression:"bar.barWidth"}})],1),l("el-form-item",{attrs:{label:e.$t("是否堆叠")}},[l("el-switch",{model:{value:e.bar.isStack,callback:function(t){e.$set(e.bar,"isStack",t)},expression:"bar.isStack"}})],1),l("el-form-item",{attrs:{label:e.$t("显示文本")}},[l("el-switch",{model:{value:e.bar.label.show,callback:function(t){e.$set(e.bar.label,"show",t)},expression:"bar.label.show"}})],1),e.bar.label.show?l("el-form-item",{attrs:{label:e.$t("文本颜色")}},[l("l-input-color",{model:{value:e.bar.label.color,callback:function(t){e.$set(e.bar.label,"color",t)},expression:"bar.label.color"}})],1):e._e()],1),l("el-collapse-item",{attrs:{title:e.$t("折线图"),name:"6"}},[l("el-form-item",{attrs:{label:e.$t("平滑")}},[l("el-switch",{model:{value:e.line.smooth,callback:function(t){e.$set(e.line,"smooth",t)},expression:"line.smooth"}})],1),l("el-form-item",{attrs:{label:e.$t("显示标记")}},[l("el-switch",{model:{value:e.line.showSymbol,callback:function(t){e.$set(e.line,"showSymbol",t)},expression:"line.showSymbol"}})],1),l("el-form-item",{attrs:{label:e.$t("面积图")}},[l("el-switch",{model:{value:e.line.isArea,callback:function(t){e.$set(e.line,"isArea",t)},expression:"line.isArea"}})],1),e.line.isArea?l("el-form-item",{attrs:{label:e.$t("渐变开始")}},[l("l-input-color",{model:{value:e.line.areaColorStart,callback:function(t){e.$set(e.line,"areaColorStart",t)},expression:"line.areaColorStart"}})],1):e._e(),e.line.isArea?l("el-form-item",{attrs:{label:e.$t("渐变结束")}},[l("l-input-color",{model:{value:e.line.areaColorEnd,callback:function(t){e.$set(e.line,"areaColorEnd",t)},expression:"line.areaColorEnd"}})],1):e._e(),l("el-form-item",{attrs:{label:e.$t("是否堆叠")}},[l("el-switch",{model:{value:e.line.isStack,callback:function(t){e.$set(e.line,"isStack",t)},expression:"line.isStack"}})],1)],1),l("el-collapse-item",{attrs:{title:e.$t("尖峰图"),name:"15"}},[l("el-form-item",{attrs:{label:e.$t("柱条宽度")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.pictorialBar.barWidth,callback:function(t){e.$set(e.pictorialBar,"barWidth",t)},expression:"pictorialBar.barWidth"}})],1)],1),l("el-collapse-item",{attrs:{title:e.$t("文本标签"),name:"7"}},[l("el-form-item",{attrs:{label:e.$t("是否显示")}},[l("el-switch",{model:{value:e.label.show,callback:function(t){e.$set(e.label,"show",t)},expression:"label.show"}})],1),e.label.show?[l("el-form-item",{attrs:{label:e.$t("文本颜色")}},[l("l-input-color",{model:{value:e.label.color,callback:function(t){e.$set(e.label,"color",t)},expression:"label.color"}})],1),l("el-form-item",{attrs:{label:e.$t("文本位置")}},[l("l-select",{attrs:{clearable:!1,options:e.labelPositionOptions2},model:{value:e.label.position,callback:function(t){e.$set(e.label,"position",t)},expression:"label.position"}})],1),l("el-form-item",{attrs:{label:e.$t("文本粗细")}},[l("l-select",{attrs:{clearable:!1,options:e.labelFontWeightOptions},model:{value:e.label.fontWeight,callback:function(t){e.$set(e.label,"fontWeight",t)},expression:"label.fontWeight"}})],1),l("el-form-item",{attrs:{label:e.$t("字体大小")}},[l("el-input-number",{attrs:{max:24,min:12,"controls-position":"right"},model:{value:e.label.fontSize,callback:function(t){e.$set(e.label,"fontSize",t)},expression:"label.fontSize"}})],1),l("el-form-item",{attrs:{label:e.$t("格式方式")}},[l("l-select",{attrs:{clearable:!1,options:e.labelFormatterTypeOptions},model:{value:e.label.formatterType,callback:function(t){e.$set(e.label,"formatterType",t)},expression:"label.formatterType"}})],1),"fn"==e.label.formatterType?l("el-form-item",{attrs:{label:e.$t("格式脚本")}},[l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleAddCode("labelFormatter")}}},[e._v(e._s(e.$t("设置")))])],1):l("el-form-item",{attrs:{label:e.$t("格式文本")}},[l("el-input",{staticClass:"l-input-icon",model:{value:e.label.formatter,callback:function(t){e.$set(e.label,"formatter",t)},expression:"label.formatter"}},[l("template",{slot:"append"},[l("el-popover",{attrs:{placement:"top-start",title:e.$t("参数说明"),width:"400",trigger:"hover"}},[l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{a}")]),e._v("："+e._s(e.$t("系列名"))+"。")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{b}")]),e._v("："+e._s(e.$t("数据名"))+"。")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{c}")]),e._v("："+e._s(e.$t("数据值"))+"。")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{d}")]),e._v("："+e._s(e.$t("百分比"))+"。")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{e}")]),e._v("："+e._s(e.$t("换行"))+"。")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{@xxx}")]),e._v("："+e._s(e.$t("数据中名为"))+" "),l("span",{staticStyle:{color:"#ff0033"}},[e._v("'xxx'")]),e._v(" "+e._s(e.$t("的维度的值，如"))+" "),l("span",{staticStyle:{color:"#ff0033"}},[e._v("{@product}")]),e._v(" "+e._s(e.$t("表示名为"))),l("span",{staticStyle:{color:"#ff0033"}},[e._v("'product'")]),e._v(" "+e._s(e.$t("的维度的值"))+"。 ")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{@[n]}")]),e._v("："+e._s(e.$t("数据中维度"))+" "),l("span",{staticStyle:{color:"#ff0033"}},[e._v("n")]),e._v(" "+e._s(e.$t("的值，如"))+" "),l("span",{staticStyle:{color:"#ff0033"}},[e._v("{@[3]}")]),e._v(e._s(e.$t("表示维度 3 的值，从"))+" "+e._s(e.$t("0 开始计数"))+"。 ")]),l("el-button",{attrs:{slot:"reference",icon:"learun-icon-circle-question"},slot:"reference"})],1)],1)],2)],1)]:e._e()],2),l("el-collapse-item",{attrs:{title:e.$t("图例设置"),name:"8"}},[l("el-form-item",{attrs:{label:e.$t("是否显示")}},[l("el-switch",{model:{value:e.legend.show,callback:function(t){e.$set(e.legend,"show",t)},expression:"legend.show"}})],1),e.legend.show?[l("el-form-item",{attrs:{label:e.$t("布局朝向")}},[l("l-select",{attrs:{clearable:!1,options:e.legendOrientOptions},model:{value:e.legend.orient,callback:function(t){e.$set(e.legend,"orient",t)},expression:"legend.orient"}})],1),l("el-form-item",{attrs:{label:e.$t("所在位置")}},[l("l-select",{attrs:{clearable:!1,options:e.legendPositionOptions},model:{value:e.legend.position,callback:function(t){e.$set(e.legend,"position",t)},expression:"legend.position"}})],1),l("el-form-item",{attrs:{label:e.$t("边距大小")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.legend.padding,callback:function(t){e.$set(e.legend,"padding",t)},expression:"legend.padding"}})],1),l("el-form-item",{attrs:{label:e.$t("宽度自动")}},[l("el-switch",{model:{value:e.legend.widthAuto,callback:function(t){e.$set(e.legend,"widthAuto",t)},expression:"legend.widthAuto"}})],1),e.legend.widthAuto?e._e():l("el-form-item",{attrs:{label:e.$t("宽度")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.legend.width,callback:function(t){e.$set(e.legend,"width",t)},expression:"legend.width"}})],1),l("el-form-item",{attrs:{label:e.$t("标记宽度")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.legend.itemWidth,callback:function(t){e.$set(e.legend,"itemWidth",t)},expression:"legend.itemWidth"}})],1),l("el-form-item",{attrs:{label:e.$t("标记高度")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.legend.itemHeight,callback:function(t){e.$set(e.legend,"itemHeight",t)},expression:"legend.itemHeight"}})],1),l("el-form-item",{attrs:{label:e.$t("标记形状")}},[l("l-select",{attrs:{options:e.iconOptions},model:{value:e.legend.itemIcon,callback:function(t){e.$set(e.legend,"itemIcon",t)},expression:"legend.itemIcon"}})],1),l("el-form-item",{attrs:{label:e.$t("文本颜色")}},[l("l-input-color",{model:{value:e.legend.textStyle.color,callback:function(t){e.$set(e.legend.textStyle,"color",t)},expression:"legend.textStyle.color"}})],1)]:e._e()],2),l("el-collapse-item",{attrs:{title:e.$t("指示器"),name:"9"}},[l("el-form-item",{attrs:{label:e.$t("触发")}},[l("l-select",{attrs:{clearable:!1,options:e.toolTipTriggerOptions},model:{value:e.echarts.tooltip.trigger,callback:function(t){e.$set(e.echarts.tooltip,"trigger",t)},expression:"echarts.tooltip.trigger"}})],1),l("el-form-item",{attrs:{label:e.$t("类型")}},[l("l-select",{attrs:{clearable:!1,options:e.toolTipTypeOptions},model:{value:e.echarts.tooltip.axisPointer.type,callback:function(t){e.$set(e.echarts.tooltip.axisPointer,"type",t)},expression:"echarts.tooltip.axisPointer.type"}})],1),"shadow"==e.echarts.tooltip.axisPointer.type?l("el-form-item",{attrs:{label:e.$t("阴影颜色")}},[l("l-input-color",{model:{value:e.echarts.tooltip.axisPointer.shadowStyle.color,callback:function(t){e.$set(e.echarts.tooltip.axisPointer.shadowStyle,"color",t)},expression:"echarts.tooltip.axisPointer.shadowStyle.color"}})],1):l("el-form-item",{attrs:{label:e.$t("线条颜色")}},[l("l-input-color",{model:{value:e.echarts.tooltip.axisPointer.lineStyle.color,callback:function(t){e.$set(e.echarts.tooltip.axisPointer.lineStyle,"color",t)},expression:"echarts.tooltip.axisPointer.lineStyle.color"}})],1)],1),l("el-collapse-item",{attrs:{title:e.$t("网格设置"),name:"11"}},[l("el-form-item",{attrs:{label:e.$t("包含坐标")}},[l("el-switch",{model:{value:e.grid.containLabel,callback:function(t){e.$set(e.grid,"containLabel",t)},expression:"grid.containLabel"}})],1),l("el-form-item",{attrs:{label:e.$t("左边距")}},[l("el-slider",{model:{value:e.grid.left,callback:function(t){e.$set(e.grid,"left",t)},expression:"grid.left"}})],1),l("el-form-item",{attrs:{label:e.$t("右边距")}},[l("el-slider",{model:{value:e.grid.right,callback:function(t){e.$set(e.grid,"right",t)},expression:"grid.right"}})],1),l("el-form-item",{attrs:{label:e.$t("上边距")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.grid.top,callback:function(t){e.$set(e.grid,"top",t)},expression:"grid.top"}})],1),l("el-form-item",{attrs:{label:e.$t("下边距")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.grid.bottom,callback:function(t){e.$set(e.grid,"bottom",t)},expression:"grid.bottom"}})],1)],1)],1):e._e()},o=[],i=(l("99af"),l("a434"),l("159b"),l("6736")),n={mixins:[Object(i["a"])()],data:function(){return{yAxisSetting:{name:"",type:"value",position:null,nameLocation:"end",nameTextStyle:{color:"",fontWeight:"normal",fontSize:12},axisLine:{show:!0,lineStyle:{color:""}},axisLabel:{formatter:"",color:""},min:void 0,max:void 0,interval:null}}},computed:{bar:function(){return this.series.bar},line:function(){return this.series.line},pictorialBar:function(){return this.series.pictorialBar},xAxis:function(){return this.echarts.xAxis},grid:function(){return this.echarts.grid},yOptions:function(){var e=this,t=[];return this.echarts.yAxis.forEach((function(l,a){t.push({value:a,label:"".concat(e.config.isX?"X":"Y","轴").concat(a+1)})})),t}},created:function(){this.data._isInit&&(this.bar.label||this.$set(this.bar,"label",{show:!1,color:""}),this.xAxis.nameTextStyle||this.$set(this.xAxis,"nameTextStyle",{color:"",fontWeight:"normal",fontSize:12}),this.echarts.grid||this.$set(this.echarts,"grid",{left:10,top:60,right:10,bottom:60,containLabel:!1}),console.log(this.series.pictorialBar,"this.series.pictorialBar"),this.series.pictorialBar||this.$set(this.series,"pictorialBar",{barWidth:null}))},methods:{init:function(e){var t={echarts:{isX:!1,legend:{show:!0,orient:"horizontal",position:"bottomCenter",widthAuto:!0,width:200,itemWidth:25,itemHeight:14,itemIcon:"",textStyle:{color:""},padding:8},tooltip:{trigger:"",axisPointer:{type:"",shadowStyle:{color:""},lineStyle:{color:""}}},grid:{left:10,top:60,right:10,bottom:60,containLabel:!1},series:{itemStyle:{},label:{show:!1,color:"",position:"top",fontWeight:"",formatterType:"label",formatter:""},bar:{barWidth:null,isStack:!1,label:{show:!1,color:""}},line:{smooth:!1,showSymbol:!0,isArea:!1,areaColorStart:"",areaColorEnd:"",isStack:!1},pictorialBar:{barWidth:null}},yAxis:[],xAxis:{type:"",position:0,axisLine:{show:!0,lineStyle:{color:""}},axisLabel:{formatter:"",color:""},name:"",nameLocation:"end",nameTextStyle:{color:"",fontWeight:"normal",fontSize:12}}},qNameColor:"",qNameActiveColor:"",dataList:[{name:"",dataCode:"",labelKey:"",valueKeys:[{n:"",k:"",y:0,c:"",c2:"",t:"bar",e:!1}]}],isSummary:!1,summaryUnit:"",summaryLabel:""};t.echarts.yAxis.push(this.$deepClone(this.yAxisSetting)),this.commonInit(e,t)},myfieldOptions:function(e){return this.fieldMapOptions[e]||[]},handleAddDataList:function(){var e=this.config.dataList||[];e.length>0?e.push(this.$deepClone(e[0])):e.push({name:"",dataCode:"",labelKey:"",valueKeys:[{n:"",k:"",y:0,c:"",c2:"",t:"bar",e:!1}]}),this.$set(this.config,"dataList",e)},handleRemoveDataList:function(e){this.config.dataList.splice(e,1)},handleAddValueKey:function(e){var t=e.valueKeys||[];t.push({n:"",k:"",y:"",c:"",t:"bar"}),this.$set(e,"valueKeys",t)},handleRemoveValueKey:function(e,t){e.valueKeys.splice(t,1)},changeChartType:function(e){"pictorialBar"==e.t?e.t="bar":"bar"==e.t?e.t="line":"line"==e.t&&(e.t="pictorialBar")},clearKeys:function(e){e.labelKey="",e.valueKeys.forEach((function(e){e.k=""}))},handleAddYList:function(){var e=this.echarts.yAxis;e.push(this.$deepClone(this.yAxisSetting))},handleRemoveYList:function(e){this.echarts.yAxis.splice(e,1)},getEchartsType:function(e){switch(e){case"pictorialBar":return"learun-icon-up-base";case"bar":return"learun-icon-bar";case"line":default:return"learun-icon-line"}}}},s=n,r=(l("887c2"),l("564d"),l("2877")),c=Object(r["a"])(s,a,o,!1,null,"3f4aef13",null);t["default"]=c.exports},"9a1b":function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"l-from-body"},[l("el-form",{ref:"form",attrs:{model:e.formData,size:"mini","label-width":"88px"}},[l("el-col",{staticStyle:{"padding-left":"34px"},attrs:{span:24}},[l("draggable",{attrs:{list:e.conditions,group:{name:"dic"},"ghost-class":"set-item-ghost",handle:".l-drag-item"}},e._l(e.conditions,(function(t,a){return l("div",{key:a,staticClass:"l-set-item l-set-item__Num"},[l("i",{staticClass:"l-drag-item el-icon-rank"}),l("el-tag",{attrs:{type:"info",size:"medium",effect:"plain"}},[e._v(e._s(a+1))]),l("l-select",{staticStyle:{width:"26%","margin-right":"1%"},attrs:{size:"mini",options:e.columns,clearable:!1,placeholder:"字段"},on:{change:e.handleChangeField},model:{value:t.prop,callback:function(l){e.$set(t,"prop",l)},expression:"item.prop"}}),l("l-select",{staticStyle:{width:"19%","margin-right":"1%"},attrs:{size:"mini",clearable:!1,placeholder:e.$t("比较符"),options:e.symbolOptions},model:{value:t.symbol,callback:function(l){e.$set(t,"symbol",l)},expression:"item.symbol"}}),l("l-select",{staticStyle:{width:"26%","margin-right":"1%"},attrs:{size:"mini",clearable:!1,placeholder:e.$t("字段值类型"),options:e.vTypeOptions},on:{change:function(l){return e.handleChangeVType(t)}},model:{value:t.valueType,callback:function(l){e.$set(t,"valueType",l)},expression:"item.valueType"}}),l("el-input",{staticStyle:{width:"26%"},attrs:{readonly:1!=t.valueType&&10!=t.valueType,size:"mini",placeholder:e.$t("字段值")},model:{value:t.filedValue,callback:function(l){e.$set(t,"filedValue",l)},expression:"item.filedValue"}}),l("el-button",{staticClass:"l-delete-item",staticStyle:{padding:"4px"},attrs:{circle:"",plain:"",type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(t){return e.handleRemoveConditions(a)}}})],1)})),0),l("div",{staticStyle:{"padding-left":"22px"}},[l("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-circle-plus-outline"},on:{click:e.handleAddConditions}},[e._v(e._s(e.$t("添加过滤条件")))])],1)],1),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:e.$t("公式"),prop:"formula"}},[l("el-input",{attrs:{placeholder:e.$t("请输入公式,默认为 1 and 2 and 3 这种且方式")},model:{value:e.formData.formula,callback:function(t){e.$set(e.formData,"formula",t)},expression:"formData.formula"}},[l("el-popover",{attrs:{slot:"append",placement:"bottom",width:"240",trigger:"hover"},slot:"append"},[l("div",{staticClass:"info-message"},[l("p",[e._v(e._s(e.$t("请按如下规则编辑条件组合")))]),l("p",{staticClass:"ok"},[e._v("(1 and 2) or (3 and 4) "),l("i",{staticClass:"fa fa-check"})]),l("p",[e._v(e._s(e.$t("1.有and和or必须加括号")))]),l("p",{staticClass:"error"},[e._v("1 and 2 or 3 and 4 "),l("i",{staticClass:"fa fa-close"})]),l("p",[e._v(e._s(e.$t("2.一个括号里不能同时出现and和or")))]),l("p",{staticClass:"error"},[e._v("(1 and 2 or 3 )and 4 "),l("i",{staticClass:"fa fa-close"})]),l("p",[e._v(e._s(e.$t("3.不允许出现不存在的编号")))]),l("p",{staticClass:"error"},[e._v("1 and 2 and 3 and 4 and 5 "),l("i",{staticClass:"fa fa-close"})]),l("p",[e._v(e._s(e.$t("4.括号都是成对出现的")))]),l("p",{staticClass:"error"},[e._v("(1 and 2 and 3 and 4 "),l("i",{staticClass:"fa fa-close"})])]),l("el-button",{attrs:{slot:"reference",icon:"el-icon-question"},slot:"reference"})],1)],1)],1)],1)],1)],1)},o=[],i=(l("99af"),l("4de4"),l("7db0"),l("c740"),l("caad"),l("d81d"),l("a434"),l("b0c0"),l("159b"),l("5530")),n=l("2909"),s=(l("96cf"),l("1da1")),r=l("5880"),c=window.$api.custmerForm.module,m={data:function(){return{code:"",formData:{formula:""},symbolOptions:[{value:1,label:"等于"},{value:2,label:"大于"},{value:3,label:"大于等于"},{value:4,label:"小于"},{value:5,label:"小于等于"},{value:6,label:"包含"},{value:7,label:"包含于"},{value:8,label:"不等于"},{value:9,label:"不包含"},{value:10,label:"不包含于"}],vTypeOptions:[{value:1,label:"文本(String)"},{value:10,label:"文本(Int)"},{value:2,label:"登录者ID"},{value:3,label:"登录者账号"},{value:4,label:"登录者公司"},{value:41,label:"登录者公司及下属公司"},{value:5,label:"登录者部门"},{value:51,label:"登录者部门及下属部门"},{value:6,label:"登录者岗位"},{value:7,label:"登录者角色"}],conditions:[]}},asyncComputed:{columns:{get:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var l,a,o,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.code){t.next=14;break}return l=e.modules.find((function(t){return t.f_ModuleId==e.code})),t.next=4,e.$awaitWraper(c.getScheme(l.f_UrlAddress));case 4:return a=t.sent,o=JSON.parse(a.formScheme.f_Scheme),s=[],o.formInfo.tabList.forEach((function(e){var t;(t=s).push.apply(t,Object(n["a"])(e.components.filter((function(e){return!["gridtable","divider","password"].includes(e.type)}))))})),s=s.map((function(e){return Object(i["a"])(Object(i["a"])({},e),{},{value:"".concat(e.field).concat(o.db.findIndex((function(t){return t.name==e.table})))})})),r=o.rdb||[],r.forEach((function(e){s.push({type:"glbd",value:e.id,label:e.fname,table:e.name,cfield:e.cfield,field:e.field,relationField:"".concat(e.relationField).concat(o.db.findIndex((function(t){return t.name==e.relationName})))})})),t.abrupt("return",s);case 14:return t.abrupt("return",[]);case 15:case"end":return t.stop()}}),t)})))()}}},computed:Object(i["a"])({},Object(r["mapGetters"])(["modules"])),methods:{resetForm:function(){this.conditions=[],this.$refs.form&&this.$refs.form.resetFields()},validateForm:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var l,a,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$formValidateWraper(e.$refs.form);case 2:l=t.sent,a=0,o=e.conditions.length;case 4:if(!(a<o)){t.next=25;break}if(i=e.conditions[a],!e.$validatenull(i.prop)){t.next=10;break}return e.$message({type:"error",message:e.$t("请填写过滤条件字段!")}),l=!1,t.abrupt("break",25);case 10:if(!e.$validatenull(i.symbol)){t.next=14;break}return e.$message({type:"error",message:e.$t("请选择过滤条件比较符!")}),l=!1,t.abrupt("break",25);case 14:if(!e.$validatenull(i.valueType)){t.next=18;break}return e.$message({type:"error",message:e.$t("请选择过滤条件字段值类型!")}),l=!1,t.abrupt("break",25);case 18:if(!e.$validatenull(i.filedValue)){t.next=22;break}return e.$message({type:"error",message:e.$t("请填写过滤条件字段值!")}),l=!1,t.abrupt("break",25);case 22:a++,t.next=4;break;case 25:return t.abrupt("return",l);case 26:case"end":return t.stop()}}),t)})))()},setForm:function(e,t){this.code=e,t&&(this.formData.name=t.name,this.formData.formula=t.formula,this.conditions=this.$deepClone(t.conditions))},getForm:function(){var e=this.$deepClone(this.formData);return e.conditions=this.$deepClone(this.conditions),e},handleAddConditions:function(){this.conditions.push({prop:"",symbol:1,valueType:1,filedValue:""})},handleRemoveConditions:function(e){this.conditions.splice(e,1)},handleChangeVType:function(e){1==e.valueType||10==e.valueType?e.filedValue="":e.filedValue=this.vTypeOptions.find((function(t){return t.value==e.valueType})).label},handleModuleChange:function(){this.conditions=[]},handleChangeField:function(e){if(e){var t=this.conditions.find((function(t){return t.prop==e.value}));"glbd"==e.type?(t.type="glbd",t.table=e.table,t.cfield=e.cfield,t.field=e.field,t.relationField=e.relationField):(t.type="",t.table="",t.cfield="",t.field="",t.relationField="")}}}},u=m,f=l("2877"),d=Object(f["a"])(u,a,o,!1,null,null,null);t["a"]=d.exports},"9df4":function(e,t,l){},"9e2c":function(e,t,l){var a={"./barpercent/base.vue":"b4a9","./chartfunnel/base.vue":"59ac","./chartgauge/base.vue":"3c36","./chartlinebar/base.vue":"8dab","./chartpie/base.vue":"59ca","./chartradar/base.vue":"f0fb","./databoard/base.vue":"f39e","./datalist/base.vue":"d7dd","./modules/base.vue":"1505","./mytask/base.vue":"03df","./mytasklist/base.vue":"4765"};function o(e){var t=i(e);return l(t)}function i(e){if(!l.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=i,e.exports=o,o.id="9e2c"},b4a9:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.data._isInit?l("div",[l("el-collapse-item",{attrs:{title:e.$t("基础配置"),name:"1"}},[l("el-form-item",{attrs:{label:e.$t("标题")}},[l("el-input",{model:{value:e.config.title,callback:function(t){e.$set(e.config,"title",t)},expression:"config.title"}})],1),l("el-form-item",{attrs:{label:e.$t("单位")}},[l("el-input",{model:{value:e.config.unit,callback:function(t){e.$set(e.config,"unit",t)},expression:"config.unit"}})],1)],1),l("el-collapse-item",{attrs:{title:e.$t("数据配置"),name:"2"}},[l("el-form-item",{attrs:{label:e.$t("数据视图")}},[l("l-dbsource-select",{on:{change:e.handleDataSourceChange,init:e.handleDataSourceInit},model:{value:e.config.dataCode,callback:function(t){e.$set(e.config,"dataCode",t)},expression:"config.dataCode"}})],1),l("el-form-item",{attrs:{label:e.$t("维度")}},[l("l-select",{attrs:{options:e.fieldOptions},model:{value:e.config.labelKey,callback:function(t){e.$set(e.config,"labelKey",t)},expression:"config.labelKey"}})],1),l("el-form-item",{attrs:{label:e.$t("指标")}},[l("l-select",{attrs:{options:e.fieldOptions},model:{value:e.config.valueKey,callback:function(t){e.$set(e.config,"valueKey",t)},expression:"config.valueKey"}})],1),l("el-form-item",{attrs:{label:e.$t("目标值")}},[l("l-select",{attrs:{options:e.fieldOptions},model:{value:e.config.valueKey1,callback:function(t){e.$set(e.config,"valueKey1",t)},expression:"config.valueKey1"}})],1)],1)],1):e._e()},o=[],i=l("6736"),n={mixins:[Object(i["a"])()],computed:{},data:function(){return{}},methods:{init:function(e){var t={dataCode:"",labelKey:"",valueKey:"",valueKey1:""};this.commonInit(e,t)},clearKeys:function(){this.config.labelKey="",this.config.valueKey="",this.config.valueKey1=""}}},s=n,r=l("2877"),c=Object(r["a"])(s,a,o,!1,null,null,null);t["default"]=c.exports},d7dd:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.data._isInit?l("div",[l("el-collapse-item",{attrs:{title:e.$t("基础配置"),name:"1"}},[l("el-form-item",{attrs:{label:e.$t("标题")}},[l("el-input",{model:{value:e.config.title,callback:function(t){e.$set(e.config,"title",t)},expression:"config.title"}})],1)],1),l("el-collapse-item",{attrs:{title:e.$t("数据配置"),name:"2"}},[l("el-form-item",{attrs:{label:e.$t("表单选择")}},[l("l-custmerform-select",{on:{change:e.custmerformChange},model:{value:e.config.form,callback:function(t){e.$set(e.config,"form",t)},expression:"config.form"}})],1),l("el-form-item",{attrs:{label:e.$t("表单版本")}},[l("l-select",{attrs:{options:e.formVerisons},model:{value:e.config.formVerison,callback:function(t){e.$set(e.config,"formVerison",t)},expression:"config.formVerison"}})],1),l("el-form-item",{attrs:{label:e.$t("排序字段")}},[l("l-select",{attrs:{options:e.formComponents,placeholder:"请选择"},model:{value:e.config.orderId,callback:function(t){e.$set(e.config,"orderId",t)},expression:"config.orderId"}})],1),l("el-form-item",{attrs:{label:e.$t("行数限制")}},[l("el-switch",{model:{value:e.config.limitRow,callback:function(t){e.$set(e.config,"limitRow",t)},expression:"config.limitRow"}})],1),1==e.config.limitRow?l("el-form-item",{attrs:{label:e.$t("最大行数")}},[l("el-input-number",{attrs:{"controls-position":"right",placeholder:e.$t("请输入")},model:{value:e.config.maxRows,callback:function(t){e.$set(e.config,"maxRows",t)},expression:"config.maxRows"}})],1):e._e(),e._l(e.config.columns,(function(t,a){return l("div",{key:a,staticClass:"learun-row-form-input"},[l("el-form-item",{staticStyle:{"margin-bottom":"8px"},attrs:{label:e.$t("绑定字段")}},[l("l-select",{attrs:{options:e.formComponents},on:{change:function(l){return e.handleChangeSelect(l,t)}},model:{value:t.prop,callback:function(l){e.$set(t,"prop",l)},expression:"item.prop"}})],1),l("el-form-item",{staticStyle:{"margin-bottom":"8px"},attrs:{label:e.$t("宽度")}},[l("el-input",{attrs:{placeholder:e.$t("请输入")},model:{value:t.width,callback:function(l){e.$set(t,"width",l)},expression:"item.width"}},[l("template",{slot:"append"},[e._v("%")])],2)],1),l("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:e.$t("对齐")}},[l("l-select",{attrs:{options:e.alignOptions},model:{value:t.align,callback:function(l){e.$set(t,"align",l)},expression:"item.align"}})],1),l("el-button",{staticClass:"learun-row-form-input-delete",attrs:{title:e.$t("删除"),circle:"",plain:"",size:"mini",type:"danger"},on:{click:function(t){return e.handleRemoveCol(a)}}},[l("i",{staticClass:"el-icon-close"})])],1)})),l("div",{staticStyle:{"margin-bottom":"10px"}},[l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleAddCol}},[e._v(e._s(e.$t("添加列")))])],1)],2),l("el-collapse-item",{attrs:{title:e.$t("交互设置"),name:"3"}},[l("el-form-item",{attrs:{label:e.$t("跳转功能")}},[l("l-tree-select",{attrs:{options:e.modulesTree},model:{value:e.config.moduleId,callback:function(t){e.$set(e.config,"moduleId",t)},expression:"config.moduleId"}})],1),l("div",{staticStyle:{"margin-bottom":"10px"}},[l("el-button",{staticClass:"ml-8",attrs:{type:"primary",size:"mini"},on:{click:e.handleSettingCondition}},[e._v(e._s(e.$t("设置跳转条件")))])],1)],1),l("l-dialog",{attrs:{title:"设置跳转条件",visible:e.formVisible,height:528,width:720},on:{"update:visible":function(t){e.formVisible=t},ok:e.handleSave,close:e.handleCloseForm,opened:e.handleOpenedForm}},[l("my-form",{ref:"form"})],1)],1):e._e()},o=[],i=(l("99af"),l("4de4"),l("7db0"),l("c740"),l("caad"),l("d81d"),l("a434"),l("b0c0"),l("159b"),l("96cf"),l("1da1")),n=l("5530"),s=l("5880"),r=l("6736"),c=l("9a1b"),m=window.$api.custmerForm.scheme,u={mixins:[Object(r["a"])()],inject:["quickBiDesign"],components:{MyForm:c["a"]},data:function(){return{alignOptions:[{value:"left",label:"靠左"},{value:"center",label:"居中"},{value:"right",label:"靠右"}],formVisible:!1}},computed:Object(n["a"])(Object(n["a"])({},Object(s["mapGetters"])(["modules"])),{},{myModules:function(){return this.modules.filter((function(e){return 1==e.f_EnabledMark}))},modulesTree:function(){var e=this.$toTree(this.myModules,"f_ModuleId","f_ParentId","f_ModuleId","f_FullName");return e.filter((function(e){return"0"==e.f_ParentId}))}}),asyncComputed:{formVerisons:{get:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var l,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(l=e.config.form,a=[],e.$validatenull(l)){t.next=6;break}return t.next=5,e.$awaitWraper(m.getHistoryList(l));case 5:a=t.sent;case 6:return t.abrupt("return",(a||[]).map((function(t){return{label:e.lr_dateFormat(t.f_CreateDate),value:t.f_Id}})));case 7:case"end":return t.stop()}}),t)})))()}},formComponents:{get:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var l,a,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(l=e.config.formVerison,!e.$validatenull(l)){t.next=3;break}return t.abrupt("return",[]);case 3:if(!e.$validatenull(e.quickBiDesign.custmerformSchemes[l])){t.next=17;break}return t.next=6,e.$awaitWraper(m.getHistory(e.config.formVerison));case 6:if(t.t0=t.sent,t.t0){t.next=9;break}t.t0={};case 9:if(a=t.t0,o=a.f_Scheme,i=a.f_Id,e.quickBiDesign.custmerformSchemes[i]={f_Scheme:o},e.config.formVerison!=i){t.next=15;break}return t.abrupt("return",e.loadFormScheme(o));case 15:t.next=18;break;case 17:return t.abrupt("return",e.loadFormScheme(e.quickBiDesign.custmerformSchemes[l].f_Scheme));case 18:return t.abrupt("return",[]);case 19:case"end":return t.stop()}}),t)})))()}}},methods:{init:function(e){var t={form:"",formVerison:"",orderId:"",limitRow:!1,maxRows:10,columns:[]};this.commonInit(e,t)},custmerformChange:function(e){this.config.formVerison=null==e?"":e.f_SchemeId},handleAddCol:function(){this.config.columns.push({prop:"",width:25,align:"left"}),console.log(this.config.columns)},handleRemoveCol:function(e){this.config.columns.splice(e,1)},loadFormScheme:function(e){var t=this,l=JSON.parse(e),a=[];return l.formInfo.tabList.forEach((function(e){e.components.forEach((function(e){if(!["gridtable","divider","btn","card"].includes(e.type)&&e.display&&e.field){var o={value:"".concat(e.field.toLowerCase()).concat(1==l.formType?"":l.db.findIndex((function(t){return t.name==e.table}))),label:e.label},i=t.getComponentDataType(e);o.dataType=i.dataType,o.dataCode=i.code,o.valueKey=i.valueKey,o.labelKey=i.labelKey,o.options=i.options,o.format=i.format,["rate","switch"].includes(e.type)&&(o.setting=e),a.push(o)}}))})),a},handleSettingCondition:function(){var e=this;if(this.config.moduleId){var t=this.modules.find((function(t){return t.f_ModuleId==e.config.moduleId}));"custmerForm"==t.f_Target?this.formVisible=!0:this.$message({type:"warning",message:this.$t("目前只支持自定义表单功能设置条件!")})}else this.$message({type:"warning",message:this.$t("请设置跳转功能!")})},handleSave:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.form.validateForm()&&(e.config.conditionInfo=e.$refs.form.getForm(),e.formVisible=!1);case 1:case"end":return t.stop()}}),t)})))()},handleCloseForm:function(){this.$refs.form.resetForm()},handleOpenedForm:function(){this.$refs.form.setForm(this.config.moduleId,this.config.conditionInfo)},handleChangeSelect:function(e,t){t.dataType=e.dataType,t.dataCode=e.code,t.valueKey=e.valueKey,t.labelKey=e.labelKey,t.options=e.options,t.format=e.format,t.setting=e.setting},getComponentDataType:function(e){var t={};if(["radio","checkbox","select","selectMultiple","treeselect","layerselect"].includes(e.type))switch(e.dataType){case"1":t.dataType="mydata",t.options=e.options;break;case"2":t.dataType="dataItem",t.code=e.dataCode;break;case"3":t.dataType="dataSource",t.code=e.dataCode,t.valueKey=e.dataValueKey,t.labelKey=e.dataLabelKey;break}else["datetime","createtime","modifytime"].includes(e.type)?(t.dataType="datetime",t.format=e.format||"yyyy-MM-dd HH:mm:ss"):["upload"].includes(e.type)?t.dataType="file":["uploadimg"].includes(e.type)?t.dataType="img":["companySelect","company"].includes(e.type)?t.dataType="company":["departmentSelect","department"].includes(e.type)?t.dataType="department":["userSelect","createuser","modifyuser"].includes(e.type)?t.dataType="user":["areaselect"].includes(e.type)?t.dataType="areas":t.dataType=e.type;return t}}},f=u,d=l("2877"),p=Object(d["a"])(f,a,o,!1,null,null,null);t["default"]=p.exports},f0fb:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.data._isInit?l("div",[l("el-collapse-item",{attrs:{title:e.$t("基础配置"),name:"1"}},[l("el-form-item",{attrs:{label:e.$t("标题")}},[l("el-input",{model:{value:e.config.title,callback:function(t){e.$set(e.config,"title",t)},expression:"config.title"}})],1)],1),l("el-collapse-item",{attrs:{title:e.$t("数据配置"),name:"2"}},[l("el-form-item",{attrs:{label:e.$t("数据视图")}},[l("l-dbsource-select",{on:{change:e.handleDataSourceChange,init:e.handleDataSourceInit},model:{value:e.config.dataCode,callback:function(t){e.$set(e.config,"dataCode",t)},expression:"config.dataCode"}})],1),l("el-form-item",{attrs:{label:e.$t("维度")}},[l("l-select",{attrs:{options:e.fieldOptions},model:{value:e.config.labelKey,callback:function(t){e.$set(e.config,"labelKey",t)},expression:"config.labelKey"}})],1),e.config.indicator&&e.config.indicator.length>0?l("div",{staticStyle:{padding:"10px 0"}},e._l(e.config.indicator,(function(t,a){return l("div",{key:t.id,staticClass:"learun-row-form-input"},[l("el-form-item",{staticStyle:{"margin-bottom":"8px"},attrs:{"label-width":"40px",label:e.$t("名称")}},[l("el-input",{model:{value:t.name,callback:function(l){e.$set(t,"name",l)},expression:"item.name"}})],1),l("el-form-item",{staticStyle:{"margin-bottom":"8px"},attrs:{"label-width":"40px",label:e.$t("数值")}},[l("el-input-number",{attrs:{"controls-position":"right",placeholder:e.$t("请输入")},model:{value:t.max,callback:function(l){e.$set(t,"max",l)},expression:"item.max"}})],1),l("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{"label-width":"40px",label:e.$t("字段")}},[l("l-select",{attrs:{options:e.fieldOptions},model:{value:t.valueKey,callback:function(l){e.$set(t,"valueKey",l)},expression:"item.valueKey"}})],1),e.config.indicator.length>1?l("el-button",{staticClass:"learun-row-form-input-delete",attrs:{title:e.$t("删除"),circle:"",plain:"",size:"mini",type:"danger"},on:{click:function(t){return e.handleRemoveIndicator(a)}}},[l("i",{staticClass:"el-icon-close"})]):e._e()],1)})),0):e._e(),l("div",{staticStyle:{"margin-bottom":"10px"}},[l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleAddIndicator}},[e._v(e._s(e.$t("添加")))])],1)],1),l("el-collapse-item",{attrs:{title:e.$t("雷达图"),name:"3"}},[l("el-form-item",{attrs:{label:e.$t("半径大小")}},[l("el-slider",{model:{value:e.radar.radius,callback:function(t){e.$set(e.radar,"radius",t)},expression:"radar.radius"}})],1),l("el-form-item",{attrs:{label:e.$t("标记形状")}},[l("l-select",{attrs:{options:e.iconOptions},model:{value:e.radar.symbol,callback:function(t){e.$set(e.radar,"symbol",t)},expression:"radar.symbol"}})],1),l("el-form-item",{attrs:{label:e.$t("区域填充")}},[l("el-switch",{model:{value:e.radar.isArea,callback:function(t){e.$set(e.radar,"isArea",t)},expression:"radar.isArea"}})],1)],1),l("el-collapse-item",{attrs:{title:e.$t("文本标签"),name:"4"}},[l("el-form-item",{attrs:{label:e.$t("是否显示")}},[l("el-switch",{model:{value:e.label.show,callback:function(t){e.$set(e.label,"show",t)},expression:"label.show"}})],1),e.label.show?[l("el-form-item",{attrs:{label:e.$t("文本颜色")}},[l("l-input-color",{model:{value:e.label.color,callback:function(t){e.$set(e.label,"color",t)},expression:"label.color"}})],1),l("el-form-item",{attrs:{label:e.$t("文本位置")}},[l("l-select",{attrs:{clearable:!1,options:e.labelPositionOptions2},model:{value:e.label.position,callback:function(t){e.$set(e.label,"position",t)},expression:"label.position"}})],1),l("el-form-item",{attrs:{label:e.$t("文本粗细")}},[l("l-select",{attrs:{clearable:!1,options:e.labelFontWeightOptions},model:{value:e.label.fontWeight,callback:function(t){e.$set(e.label,"fontWeight",t)},expression:"label.fontWeight"}})],1),l("el-form-item",{attrs:{label:e.$t("字体大小")}},[l("el-input-number",{attrs:{max:24,min:12,"controls-position":"right"},model:{value:e.label.fontSize,callback:function(t){e.$set(e.label,"fontSize",t)},expression:"label.fontSize"}})],1),l("el-form-item",{attrs:{label:e.$t("格式方式")}},[l("l-select",{attrs:{clearable:!1,options:e.labelFormatterTypeOptions},model:{value:e.label.formatterType,callback:function(t){e.$set(e.label,"formatterType",t)},expression:"label.formatterType"}})],1),"fn"==e.label.formatterType?l("el-form-item",{attrs:{label:e.$t("格式脚本")}},[l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleAddCode("labelFormatter")}}},[e._v(e._s(e.$t("设置")))])],1):l("el-form-item",{attrs:{label:e.$t("格式文本")}},[l("el-input",{staticClass:"l-input-icon",model:{value:e.label.formatter,callback:function(t){e.$set(e.label,"formatter",t)},expression:"label.formatter"}},[l("template",{slot:"append"},[l("el-popover",{attrs:{placement:"top-start",title:e.$t("参数说明"),width:"400",trigger:"hover"}},[l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{a}")]),e._v("："+e._s(e.$t("系列名"))+"。")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{b}")]),e._v("："+e._s(e.$t("数据名"))+"。")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{c}")]),e._v("："+e._s(e.$t("数据值"))+"。")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{d}")]),e._v("："+e._s(e.$t("百分比"))+"。")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{e}")]),e._v("："+e._s(e.$t("换行"))+"。")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{@xxx}")]),e._v("："+e._s(e.$t("数据中名为"))+" "),l("span",{staticStyle:{color:"#ff0033"}},[e._v("'xxx'")]),e._v(" "+e._s(e.$t("的维度的值，如"))+" "),l("span",{staticStyle:{color:"#ff0033"}},[e._v("{@product}")]),e._v(" "+e._s(e.$t("表示名为"))),l("span",{staticStyle:{color:"#ff0033"}},[e._v("'product'")]),e._v(" "+e._s(e.$t("的维度的值"))+"。 ")]),l("p",[l("span",{staticStyle:{color:"#ff0033"}},[e._v("{@[n]}")]),e._v("："+e._s(e.$t("数据中维度"))+" "),l("span",{staticStyle:{color:"#ff0033"}},[e._v("n")]),e._v(" "+e._s(e.$t("的值，如"))+" "),l("span",{staticStyle:{color:"#ff0033"}},[e._v("{@[3]}")]),e._v(e._s(e.$t("表示维度 3 的值，从"))+" "+e._s(e.$t("0 开始计数"))+"。 ")]),l("el-button",{attrs:{slot:"reference",icon:"learun-icon-circle-question"},slot:"reference"})],1)],1)],2)],1)]:e._e()],2),l("el-collapse-item",{attrs:{title:e.$t("图例设置"),name:"5"}},[l("el-form-item",{attrs:{label:e.$t("是否显示")}},[l("el-switch",{model:{value:e.legend.show,callback:function(t){e.$set(e.legend,"show",t)},expression:"legend.show"}})],1),e.legend.show?[l("el-form-item",{attrs:{label:e.$t("布局朝向")}},[l("l-select",{attrs:{clearable:!1,options:e.legendOrientOptions},model:{value:e.legend.orient,callback:function(t){e.$set(e.legend,"orient",t)},expression:"legend.orient"}})],1),l("el-form-item",{attrs:{label:e.$t("所在位置")}},[l("l-select",{attrs:{clearable:!1,options:e.legendPositionOptions},model:{value:e.legend.position,callback:function(t){e.$set(e.legend,"position",t)},expression:"legend.position"}})],1),l("el-form-item",{attrs:{label:e.$t("边距大小")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.legend.padding,callback:function(t){e.$set(e.legend,"padding",t)},expression:"legend.padding"}})],1),l("el-form-item",{attrs:{label:e.$t("宽度自动")}},[l("el-switch",{model:{value:e.legend.widthAuto,callback:function(t){e.$set(e.legend,"widthAuto",t)},expression:"legend.widthAuto"}})],1),e.legend.widthAuto?e._e():l("el-form-item",{attrs:{label:e.$t("宽度")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.legend.width,callback:function(t){e.$set(e.legend,"width",t)},expression:"legend.width"}})],1),l("el-form-item",{attrs:{label:e.$t("标记宽度")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.legend.itemWidth,callback:function(t){e.$set(e.legend,"itemWidth",t)},expression:"legend.itemWidth"}})],1),l("el-form-item",{attrs:{label:e.$t("标记高度")}},[l("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.legend.itemHeight,callback:function(t){e.$set(e.legend,"itemHeight",t)},expression:"legend.itemHeight"}})],1),l("el-form-item",{attrs:{label:e.$t("标记形状")}},[l("l-select",{attrs:{options:e.iconOptions},model:{value:e.legend.itemIcon,callback:function(t){e.$set(e.legend,"itemIcon",t)},expression:"legend.itemIcon"}})],1),l("el-form-item",{attrs:{label:e.$t("文本颜色")}},[l("l-input-color",{model:{value:e.legend.textStyle.color,callback:function(t){e.$set(e.legend.textStyle,"color",t)},expression:"legend.textStyle.color"}})],1)]:e._e()],2),l("el-collapse-item",{attrs:{title:e.$t("配色设置"),name:"6"}},[l("div",{staticStyle:{"margin-bottom":"8px"}},[l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleAddColor}},[e._v(e._s(e.$t("添加")))]),e.echarts.color&&e.echarts.color.length>0?l("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.handleRemoveColor}},[e._v(e._s(e.$t("删除")))]):e._e()],1),e.echarts.color?e._l(e.echarts.color,(function(t,a){return l("el-form-item",{key:a,attrs:{"label-width":"0"}},[l("l-input-color",{model:{value:t.v,callback:function(l){e.$set(t,"v",l)},expression:"color.v"}})],1)})):e._e()],2)],1):e._e()},o=[],i=(l("a434"),l("159b"),l("6736")),n={mixins:[Object(i["a"])()],data:function(){return{}},computed:{radar:function(){return this.series.radar}},methods:{init:function(e){var t={echarts:{color:[],legend:{show:!0,orient:"horizontal",position:"bottomCenter",widthAuto:!0,width:200,itemWidth:25,itemHeight:14,itemIcon:"",textStyle:{color:""},padding:8},series:{label:{show:!1,color:"",position:"top",fontWeight:"",formatterType:"label",formatter:""},radar:{radius:50,symbol:"none",isArea:!0}}},dataCode:"",labelKey:"",indicator:[{name:"指标1",max:void 0,color:void 0,valueKey:""}]};this.commonInit(e,t)},clearKeys:function(){this.config.labelKey="",this.config.indicator&&this.config.indicator.forEach((function(e){e.valueKey=""}))},handleAddIndicator:function(){this.config.indicator.push({name:"指标".concat(this.config.indicator.length+1),max:void 0,color:void 0,valueKey:""})},handleRemoveIndicator:function(e){this.config.indicator.splice(e,1)}}},s=n,r=l("2877"),c=Object(r["a"])(s,a,o,!1,null,null,null);t["default"]=c.exports},f39e:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.data._isInit?l("div",[l("el-collapse-item",{attrs:{title:e.$t("基础配置"),name:"1"}},[l("el-form-item",{attrs:{label:e.$t("标题")}},[l("el-input",{model:{value:e.config.title,callback:function(t){e.$set(e.config,"title",t)},expression:"config.title"}})],1),l("el-form-item",{attrs:{label:e.$t("风格类型")}},[l("l-select",{attrs:{options:[{value:"1",label:"风格一"},{value:"2",label:"风格二"},{value:"3",label:"风格三"}]},model:{value:e.config.theme,callback:function(t){e.$set(e.config,"theme",t)},expression:"config.theme"}})],1),"2"!=e.config.theme?l("el-form-item",{attrs:{label:e.$t("描述")}},[l("el-input",{model:{value:e.config.des,callback:function(t){e.$set(e.config,"des",t)},expression:"config.des"}})],1):e._e(),"3"==e.config.theme?[l("el-form-item",{attrs:{label:e.$t("标题1")}},[l("el-input",{model:{value:e.config.valueTitle1,callback:function(t){e.$set(e.config,"valueTitle1",t)},expression:"config.valueTitle1"}})],1),l("el-form-item",{attrs:{label:e.$t("标题2")}},[l("el-input",{model:{value:e.config.valueTitle2,callback:function(t){e.$set(e.config,"valueTitle2",t)},expression:"config.valueTitle2"}})],1)]:e._e(),l("el-form-item",{attrs:{label:e.$t("数据颜色")}},[l("l-input-color",{model:{value:e.config.numColor,callback:function(t){e.$set(e.config,"numColor",t)},expression:"config.numColor"}})],1),"3"!=e.config.theme?["2"!=e.config.theme?l("el-form-item",{attrs:{label:e.$t("图标类型")}},[l("l-select",{attrs:{options:[{value:"icon",label:"图标"},{value:"img",label:"图片"},{value:"none",label:"无"}]},model:{value:e.config.showType,callback:function(t){e.$set(e.config,"showType",t)},expression:"config.showType"}})],1):e._e(),"icon"==e.config.showType?[l("el-form-item",{attrs:{label:e.$t("图标选择")}},[l("l-input-icon",{model:{value:e.config.icon,callback:function(t){e.$set(e.config,"icon",t)},expression:"config.icon"}})],1),l("el-form-item",{attrs:{label:e.$t("图标颜色")}},[l("l-input-color",{model:{value:e.config.iconColor,callback:function(t){e.$set(e.config,"iconColor",t)},expression:"config.iconColor"}})],1)]:e._e(),"img"==e.config.showType||"2"==e.config.theme?l("el-form-item",{staticStyle:{"margin-bottom":"8px"},attrs:{label:e.$t("图片上传")}},[l("l-img-select",{model:{value:e.config.imgId,callback:function(t){e.$set(e.config,"imgId",t)},expression:"config.imgId"}})],1):e._e()]:e._e()],2),l("el-collapse-item",{attrs:{title:e.$t("数据配置"),name:"2"}},[l("el-form-item",{attrs:{label:e.$t("数据视图")}},[l("l-dbsource-select",{on:{change:e.handleDataSourceChange,init:e.handleDataSourceInit},model:{value:e.config.dataCode,callback:function(t){e.$set(e.config,"dataCode",t)},expression:"config.dataCode"}})],1),l("el-form-item",{attrs:{label:e.$t("主指标")}},[l("l-select",{attrs:{options:e.fieldOptions},model:{value:e.config.valueKey,callback:function(t){e.$set(e.config,"valueKey",t)},expression:"config.valueKey"}})],1),"3"==e.config.theme?l("el-form-item",{attrs:{label:e.$t("主指标2")}},[l("l-select",{attrs:{options:e.fieldOptions},model:{value:e.config.valueKey1,callback:function(t){e.$set(e.config,"valueKey1",t)},expression:"config.valueKey1"}})],1):e._e(),"2"!=e.config.theme?l("el-form-item",{attrs:{label:e.$t("副指标")}},[l("l-select",{attrs:{options:e.fieldOptions},model:{value:e.config.subValueKey,callback:function(t){e.$set(e.config,"subValueKey",t)},expression:"config.subValueKey"}})],1):e._e(),"2"!=e.config.theme?l("el-form-item",{attrs:{label:e.$t("标记")}},[l("l-select",{attrs:{options:e.fieldOptions},model:{value:e.config.flagKey,callback:function(t){e.$set(e.config,"flagKey",t)},expression:"config.flagKey"}})],1):e._e()],1),l("el-collapse-item",{attrs:{title:e.$t("交互设置"),name:"3"}},[l("div",{staticStyle:{padding:"10px 0"}},[l("el-form-item",{attrs:{label:e.$t("跳转功能")}},[l("l-tree-select",{attrs:{options:e.modulesTree},model:{value:e.config.moduleId,callback:function(t){e.$set(e.config,"moduleId",t)},expression:"config.moduleId"}})],1),l("div",{staticClass:"mt-8"},[l("el-button",{staticClass:"ml-8",attrs:{type:"primary",size:"mini"},on:{click:e.handleSettingCondition}},[e._v(e._s(e.$t("设置跳转条件")))])],1)],1),l("l-dialog",{attrs:{title:"设置跳转条件",visible:e.formVisible,height:528,width:720},on:{"update:visible":function(t){e.formVisible=t},ok:e.handleSave,close:e.handleCloseForm,opened:e.handleOpenedForm}},[l("my-form",{ref:"form"})],1)],1)],1):e._e()},o=[],i=(l("4de4"),l("7db0"),l("96cf"),l("1da1")),n=l("5530"),s=l("5880"),r=l("6736"),c=l("9a1b"),m={mixins:[Object(r["a"])()],components:{MyForm:c["a"]},data:function(){return{formVisible:!1}},computed:Object(n["a"])(Object(n["a"])({},Object(s["mapGetters"])(["modules"])),{},{myModules:function(){return this.modules.filter((function(e){return 1==e.f_EnabledMark&&-1==e.f_Target.indexOf("desktop")}))},modulesTree:function(){var e=this.$toTree(this.myModules,"f_ModuleId","f_ParentId","f_ModuleId","f_FullName");return e.filter((function(e){return"0"==e.f_ParentId}))}}),methods:{init:function(e){var t={showType:"none",dataCode:"",valueKey:"",subValueKey:"",flagKey:"",moduleId:"",theme:"1"};this.commonInit(e,t)},clearKeys:function(){this.config.valueKey="",this.config.subValueKey="",this.config.flagKey=""},handleSettingCondition:function(){var e=this;if(this.config.moduleId){var t=this.modules.find((function(t){return t.f_ModuleId==e.config.moduleId}));"custmerForm"==t.f_Target?this.formVisible=!0:this.$message({type:"warning",message:this.$t("目前只支持自定义表单功能设置条件!")})}else this.$message({type:"warning",message:this.$t("请设置跳转功能!")})},handleSave:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.form.validateForm()&&(e.config.conditionInfo=e.$refs.form.getForm(),e.formVisible=!1);case 1:case"end":return t.stop()}}),t)})))()},handleCloseForm:function(){this.$refs.form.resetForm()},handleOpenedForm:function(){this.$refs.form.setForm(this.config.moduleId,this.config.conditionInfo)}}},u=m,f=l("2877"),d=Object(f["a"])(u,a,o,!1,null,null,null);t["default"]=d.exports}}]);