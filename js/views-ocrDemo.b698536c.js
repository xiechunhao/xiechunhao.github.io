(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["views-ocrDemo"],{e37b:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("l-layout",[r("l-panel",[r("div",{staticClass:"l-rblock l-form-viewer",staticStyle:{padding:"8px"}},[r("el-form",{ref:"form",attrs:{model:e.formData,rules:e.rules,size:"mini",labelPosition:"left",labelWidth:"80px"}},[r("div",{staticClass:"l-auto-window only-tabs"},[r("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{staticClass:"l-tabs-container",attrs:{label:e.$t("新增采购申请单"),name:"tab0"}},[r("el-row",{attrs:{gutter:5}},[r("div",{staticClass:"l-rblock"},[e.lr_formLookAuth("f_PurchaseNo")?r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("单据编码"),prop:"f_PurchaseNo"}},[r("el-input",{attrs:{placeholder:e.$t("请输入")},model:{value:e.formData.f_PurchaseNo,callback:function(t){e.$set(e.formData,"f_PurchaseNo",t)},expression:"formData.f_PurchaseNo"}})],1)],1):e._e(),e.lr_formLookAuth("f_Theme")?r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("主题"),prop:"f_Theme",required:!0}},[r("el-input",{attrs:{placeholder:e.$t("请输入")},model:{value:e.formData.f_Theme,callback:function(t){e.$set(e.formData,"f_Theme",t)},expression:"formData.f_Theme"}})],1)],1):e._e(),e.lr_formLookAuth("f_PurchaseType")?r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("采购类别"),prop:"f_PurchaseType",required:!0}},[r("l-select",{attrs:{options:e.f_PurchaseTypeOptions},model:{value:e.formData.f_PurchaseType,callback:function(t){e.$set(e.formData,"f_PurchaseType",t)},expression:"formData.f_PurchaseType"}})],1)],1):e._e(),e.lr_formLookAuth("f_ApplyDate")?r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("申请日期"),prop:"f_ApplyDate",required:!0}},[r("l-date",{attrs:{format:"yyyy-MM-dd HH:mm:ss",dateType:"datetime",clearable:!0,placeholder:e.$t("请选择")},model:{value:e.formData.f_ApplyDate,callback:function(t){e.$set(e.formData,"f_ApplyDate",t)},expression:"formData.f_ApplyDate"}})],1)],1):e._e(),e.lr_formLookAuth("f_Appler")?r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("申请人"),prop:"f_Appler"}},[r("l-user-select",{model:{value:e.formData.f_Appler,callback:function(t){e.$set(e.formData,"f_Appler",t)},expression:"formData.f_Appler"}})],1)],1):e._e(),e.lr_formLookAuth("f_Department")?r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:e.$t("申请单位"),prop:"f_Department"}},[r("l-company-select",{model:{value:e.formData.f_Department,callback:function(t){e.$set(e.formData,"f_Department",t)},expression:"formData.f_Department"}})],1)],1):e._e(),r("el-col",{attrs:{span:24}},[r("div",[r("el-alert",{attrs:{title:e.$t("识别说明"),type:"info",description:e.$t("本案例请上传图片格式的发票信息"),"show-icon":"",closable:!1}})],1)]),e.lr_formLookAuth("f_File")?r("el-col",{attrs:{span:24}},[r("el-form-item",{staticStyle:{"margin-top":"14px"},attrs:{label:e.$t("附件上传"),prop:"f_File"}},[r("l-upload",{model:{value:e.formData.f_File,callback:function(t){e.$set(e.formData,"f_File",t)},expression:"formData.f_File"}})],1)],1):e._e(),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{labelWidth:"80px"}},[r("el-button",{attrs:{size:"small",plain:!1,round:!1,circle:!1,icon:"",type:"warning"},on:{click:e.handleOcrRead}},[e._v("附件识别")])],1)],1),e.lr_formLookAuth("f_Description")?r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:e.$t("备注信息"),prop:"f_Description"}},[r("el-input",{attrs:{type:"textarea",rows:25,placeholder:e.$t("请输入")},model:{value:e.formData.f_Description,callback:function(t){e.$set(e.formData,"f_Description",t)},expression:"formData.f_Description"}})],1)],1):e._e()],1)])],1)],1)],1)])],1)])],1)},o=[],l=(r("a434"),r("d3b7"),r("96cf"),r("1da1")),p=window.$api.demo.ocrDemo,i={data:function(){return{activeName:"tab0",formData:{f_PurchaseNo:"",f_Theme:"",f_PurchaseType:"",f_ApplyDate:"",f_Appler:"",f_Department:"",f_File:"",f_Description:"",f_ModifyDate:"",f_ModifyUserName:""},rules:{f_PurchaseNo:[{required:!0,message:"请输入单据编码"}],f_Theme:[{required:!0,message:"请输入主题"}],f_PurchaseType:[{required:!0,message:"请选择采购类别"}],f_ApplyDate:[{required:!0,message:"请选择申请日期"}]},lr_erp_productinfo_columns:[{id:"lr_erp_productinfo_F_Code",prop:"f_Code",label:"商品编号"},{id:"lr_erp_productinfo_F_Name",prop:"f_Name",label:"商品名称"},{id:"lr_erp_productinfo_F_BarCode",prop:"f_BarCode",label:"条码"},{id:"lr_erp_productinfo_F_Place",prop:"f_Place",label:"产地"},{id:"lr_erp_productinfo_F_Specification",prop:"f_Specification",label:"规格"},{id:"lr_erp_productinfo_F_Type",prop:"f_Type",label:"型号"},{id:"lr_erp_productinfo_F_Number",prop:"f_Number",label:"批次号"},{id:"lr_erp_productinfo_F_Unit",prop:"f_Unit",label:"单位"},{id:"lr_erp_productinfo_F_Count",prop:"f_Count",label:"数量"},{id:"lr_erp_productinfo_F_Price",prop:"f_Price",label:"单价"},{id:"lr_erp_productinfo_F_Amount",prop:"f_Amount",label:"金额"}],lr_erp_productinfo_data:[]}},computed:{f_PurchaseTypeOptions:function(){return[{value:"2",label:"新闻类"},{value:"3",label:"产品类"},{value:"4",label:"信息类"}]}},mounted:function(){},methods:{handleLr_erp_productinfoAddRow:function(){var e={f_Code:"",f_Name:"",f_BarCode:"",f_Place:"",f_Specification:"",f_Type:"",f_Number:"",f_Unit:"",f_Count:"",f_Price:"",f_Amount:""};this.lr_erp_productinfo_data.push(e)},handleLr_erp_productinfoDeleteRow:function(e){this.lr_erp_productinfo_data.splice(e.index,1)},resetForm:function(){this.formData.f_Id="",this.lr_erp_productinfo_data=[],this.$formClear(this.$refs.form)},validateForm:function(){var e=this;return new Promise((function(t){e.$refs.form.validate((function(r){if(r){if(!e.$refs.lr_erp_productinfo_table.validate())return void t(!1);t(!0)}else t(!1)}))}))},setForm:function(e){this.formData=this.$deepClone(e.erp_purchase_applyEntity),this.lr_erp_productinfo_data=e.erp_productList},getForm:function(){var e={erp_purchase_applyEntity:{}};return e.erp_purchase_applyEntity.f_PurchaseNo=this.formData.f_PurchaseNo,e.erp_purchase_applyEntity.f_Theme=this.formData.f_Theme,e.erp_purchase_applyEntity.f_PurchaseType=this.formData.f_PurchaseType,e.erp_purchase_applyEntity.f_ApplyDate=this.formData.f_ApplyDate,e.erp_purchase_applyEntity.f_Appler=this.formData.f_Appler,e.erp_purchase_applyEntity.f_Department=this.formData.f_Department,e.erp_purchase_applyEntity.f_File=this.formData.f_File,e.erp_purchase_applyEntity.f_Description=this.formData.f_Description,e.erp_productList=this.lr_erp_productinfo_data,e},handleOcrRead:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$awaitWraper(p.orcread(e.formData.f_File));case 2:r=t.sent,r&&(e.formData.f_Description=r);case 4:case"end":return t.stop()}}),t)})))()}}},f=i,_=r("2877"),s=Object(_["a"])(f,a,o,!1,null,null,null);t["default"]=s.exports}}]);