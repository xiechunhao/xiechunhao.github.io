var E=Object.defineProperty;var B=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var L=(o,a,e)=>a in o?E(o,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[a]=e,g=(o,a)=>{for(var e in a||(a={}))V.call(a,e)&&L(o,e,a[e]);if(B)for(var e of B(a))W.call(a,e)&&L(o,e,a[e]);return o};var m=(o,a,e)=>new Promise((s,t)=>{var u=r=>{try{v(e.next(r))}catch(d){t(d)}},h=r=>{try{v(e.throw(r))}catch(d){t(d)}},v=r=>r.done?s(r.value):Promise.resolve(r.value).then(u,h);v((e=e.apply(o,a)).next())});import{h as I,aH as O,n as N,aI as U,aJ as q,f as H,$ as M,aK as D,aL as G,a as j,V as $}from"./bootstrap-BTzp7FlH.mjs";import{P as x,a5 as z,q as J,$ as F,a3 as T,b5 as K,b6 as Q,V as A,ae as R,al as X,n as c,ag as p,a9 as n,ad as Y,J as k,af as Z,bB as b,a0 as P}from"../jse/index-index-DNHdl_Su.mjs";import{u as ee,_ as ae,N as te,a as oe,b as se}from"./layout.vue_vue_type_script_setup_true_lang-CIJ415H3.mjs";import{_ as ne}from"./avatar.vue_vue_type_script_setup_true_lang-Cx1ZsLTX.mjs";import"./theme-toggle.vue_vue_type_script_setup_true_lang-DE4C7KbH.mjs";import"./icon.vue_vue_type_script_setup_true_lang-nbfb1Qmz.mjs";import"./TabsList.vue_vue_type_script_setup_true_lang-BwNFIZ5r.mjs";import"./rotate-cw-CuDwLJXO.mjs";const f=x(),w=x({advancedStyle:{colorStops:[{color:"gray",offset:0},{color:"gray",offset:1}],type:"linear"},content:"",contentType:"multi-line-text",globalAlpha:.25,gridLayoutOptions:{cols:2,gap:[20,20],matrix:[[1,0],[0,1]],rows:2},height:200,layout:"grid",rotate:30,width:160});function re(){function o(s){return m(this,null,function*(){var u;const{Watermark:t}=yield F(()=>m(this,null,function*(){const{Watermark:h}=yield import("./index.esm-onHbvng2.mjs");return{Watermark:h}}),[]);w.value=g(g({},w.value),s),f.value=new t(w.value),yield(u=f.value)==null?void 0:u.create()})}function a(s){return m(this,null,function*(){var t;f.value?(yield J(),yield(t=f.value)==null?void 0:t.changeOptions(g(g({},w.value),s))):yield o(s)})}function e(){var s;(s=f.value)==null||s.destroy()}return z(()=>{e()}),{destroyWatermark:e,updateWatermark:a,watermark:f}}const le=I("BookOpenTextIcon",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]]),ie=T({name:"LoginExpiredModal",__name:"login-expired-modal",props:K({avatar:{default:""},codeLoginPath:{},forgetPasswordPath:{},loading:{type:Boolean},qrCodeLoginPath:{},registerPath:{},showCodeLogin:{type:Boolean},showForgetPassword:{type:Boolean},showQrcodeLogin:{type:Boolean},showRegister:{type:Boolean},showRememberMe:{type:Boolean},showThirdPartyLogin:{type:Boolean},subTitle:{},title:{},submitButtonText:{}},{open:{type:Boolean},openModifiers:{}}),emits:["update:open"],setup(o){const a=Q(o,"open"),[e,s]=ee();return A(()=>a.value,t=>{s.setState({isOpen:t})}),(t,u)=>(R(),X("div",null,[c(n(e),{closable:!1,"close-on-click-modal":!1,"close-on-press-escape":!1,footer:!1,"fullscreen-button":!1,header:!1,class:"border-none px-10 py-6 text-center shadow-xl sm:w-[600px] sm:rounded-2xl md:h-[unset]"},{default:p(()=>[c(n(ne),{src:t.avatar,class:"mx-auto mb-6 size-20"},null,8,["src"]),c(n(O),{"show-forget-password":!1,"show-register":!1,"show-remember-me":!1,"sub-title":t.$t("authentication.loginAgainSubTitle"),title:t.$t("authentication.loginAgainTitle")},{default:p(()=>[Y(t.$slots,"default")]),_:3},8,["sub-title","title"])]),_:3})]))}}),_e=T({__name:"basic",setup(o){const a=x([{avatar:"https://avatar.vercel.sh/vercel.svg?text=VB",date:"3小时前",isRead:!0,message:"描述信息描述信息描述信息",title:"收到了 14 份新周报"},{avatar:"https://avatar.vercel.sh/1",date:"刚刚",isRead:!1,message:"描述信息描述信息描述信息",title:"朱偏右 回复了你"},{avatar:"https://avatar.vercel.sh/1",date:"2024-01-01",isRead:!1,message:"描述信息描述信息描述信息",title:"曲丽丽 评论了你"},{avatar:"https://avatar.vercel.sh/satori",date:"1天前",isRead:!1,message:"描述信息描述信息描述信息",title:"代办提醒"}]),e=N(),s=U(),t=q(),{destroyWatermark:u,updateWatermark:h}=re(),v=k(()=>a.value.some(l=>!l.isRead)),r=k(()=>[{handler:()=>{b(j,{target:"_blank"})},icon:le,text:M("widgets.document")},{handler:()=>{b($,{target:"_blank"})},icon:D,text:"GitHub"},{handler:()=>{b(`${$}/issues`,{target:"_blank"})},icon:G,text:M("widgets.qa")}]),d=k(()=>{var l,i;return(i=(l=e.userInfo)==null?void 0:l.avatar)!=null?i:P.app.defaultAvatar});function y(){return m(this,null,function*(){yield s.logout(!1)})}function S(){a.value=[]}function C(){a.value.forEach(l=>l.isRead=!0)}return A(()=>P.app.watermark,l=>m(this,null,function*(){var i;l?yield h({content:`${(i=e.userInfo)==null?void 0:i.username}`}):u()}),{immediate:!0}),(l,i)=>(R(),Z(n(se),{onClearPreferencesAndLogout:y},{"user-dropdown":p(()=>{var _;return[c(n(ae),{avatar:d.value,menus:r.value,text:(_=n(e).userInfo)==null?void 0:_.realName,description:"ann.vben@gmail.com","tag-text":"Pro",onLogout:y},null,8,["avatar","menus","text"])]}),notification:p(()=>[c(n(te),{dot:v.value,notifications:a.value,onClear:S,onMakeAll:C},null,8,["dot","notifications"])]),extra:p(()=>[c(n(ie),{open:n(t).loginExpired,"onUpdate:open":i[0]||(i[0]=_=>n(t).loginExpired=_),avatar:d.value},{default:p(()=>[c(H)]),_:1},8,["open","avatar"])]),"lock-screen":p(()=>[c(n(oe),{avatar:d.value,onToLogin:y},null,8,["avatar"])]),_:1}))}});export{_e as default};
