(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["supplier-lookForm","supplier-assessForm"],{"628f":function(e,a,s){"use strict";s("e9f3")},"6a12":function(e,a,s){"use strict";s.r(a);var r=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("el-form",{ref:"form",staticClass:"learun-el-form-left",attrs:{model:e.formData,rules:e.isReadOnly?{}:e.rules,size:"mini",labelPosition:"left",labelWidth:"100px"}},[e.loading?e._e():s("el-row",{staticClass:"erp-supplier-assess"},[s("el-col",{attrs:{span:24}},[s("div",{staticClass:"learun-form-title mt-16"},[e._v(" "+e._s(e.$t("供货能力评估"))+" ")]),s("div",{staticClass:"form_block"},[e.isReadOnly?s("el-form-item",{attrs:{label:e.$t("等级："),prop:"case_erp_supplierrisk_f_CapacityLevel"}},["0"==e.formData.case_erp_supplierrisk_f_CapacityLevel?s("el-tag",[e._v(e._s(e.$t("优秀")))]):"1"==e.formData.case_erp_supplierrisk_f_CapacityLevel?s("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.$t("良好")))]):"2"==e.formData.case_erp_supplierrisk_f_CapacityLevel?s("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.$t("及格")))]):s("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.$t("不及格")))])],1):s("el-form-item",{attrs:{label:e.$t("等级选择："),prop:"case_erp_supplierrisk_f_CapacityLevel"}},[s("l-radio",{attrs:{options:e.case_erp_supplierrisk_f_CapacityLevelOptions},model:{value:e.formData.case_erp_supplierrisk_f_CapacityLevel,callback:function(a){e.$set(e.formData,"case_erp_supplierrisk_f_CapacityLevel",a)},expression:"formData.case_erp_supplierrisk_f_CapacityLevel"}})],1),s("el-form-item",{attrs:{label:e.$t("评估理由："),prop:"case_erp_supplierrisk_f_CapacityReason"}},[e.isReadOnly?s("div",[e._v(" "+e._s(e.formData.case_erp_supplierrisk_f_CapacityReason)+" ")]):s("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",showWordLimit:!1,placeholder:e.$t("请输入")},model:{value:e.formData.case_erp_supplierrisk_f_CapacityReason,callback:function(a){e.$set(e.formData,"case_erp_supplierrisk_f_CapacityReason",a)},expression:"formData.case_erp_supplierrisk_f_CapacityReason"}})],1),s("el-form-item",{attrs:{label:e.$t("附件上传："),prop:"case_erp_supplierrisk_f_CapacityFile"}},[s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{prop:"case_erp_supplierrisk_f_CapacityFile",labelWidth:"0"}},[s("l-upload",{attrs:{drag:"",maxSize:"10",sizeType:"MB",limit:3,showFileList:"uploadTheme1",disabled:e.isReadOnly},model:{value:e.formData.case_erp_supplierrisk_f_CapacityFile,callback:function(a){e.$set(e.formData,"case_erp_supplierrisk_f_CapacityFile",a)},expression:"formData.case_erp_supplierrisk_f_CapacityFile"}})],1)],1)],1)],1)]),s("el-col",{attrs:{span:24}},[s("div",{staticClass:"learun-form-title mt-16"},[e._v(" "+e._s(e.$t("供货质量评估"))+" ")]),s("div",{staticClass:"form_block"},[e.isReadOnly?s("el-form-item",{attrs:{label:e.$t("等级："),prop:"case_erp_supplierrisk_f_SupplierLevel"}},["0"==e.formData.case_erp_supplierrisk_f_SupplierLevel?s("el-tag",[e._v(e._s(e.$t("优秀")))]):"1"==e.formData.case_erp_supplierrisk_f_SupplierLevel?s("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.$t("良好")))]):"2"==e.formData.case_erp_supplierrisk_f_SupplierLevel?s("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.$t("及格")))]):s("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.$t("不及格")))])],1):s("el-form-item",{attrs:{label:e.$t("等级选择："),prop:"case_erp_supplierrisk_f_SupplierLevel"}},[s("l-radio",{attrs:{options:e.case_erp_supplierrisk_f_SupplierLevelOptions},model:{value:e.formData.case_erp_supplierrisk_f_SupplierLevel,callback:function(a){e.$set(e.formData,"case_erp_supplierrisk_f_SupplierLevel",a)},expression:"formData.case_erp_supplierrisk_f_SupplierLevel"}})],1),s("el-form-item",{attrs:{label:e.$t("评估理由："),prop:"case_erp_supplierrisk_f_SupplierReason"}},[e.isReadOnly?s("div",[e._v(" "+e._s(e.formData.case_erp_supplierrisk_f_SupplierReason)+" ")]):s("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",placeholder:e.$t("请输入")},model:{value:e.formData.case_erp_supplierrisk_f_SupplierReason,callback:function(a){e.$set(e.formData,"case_erp_supplierrisk_f_SupplierReason",a)},expression:"formData.case_erp_supplierrisk_f_SupplierReason"}})],1),s("el-form-item",{attrs:{label:e.$t("附件上传："),prop:"case_erp_supplierrisk_f_SupplierFile"}},[s("l-upload",{attrs:{drag:"",maxSize:"10",sizeType:"MB",limit:3,showFileList:"uploadTheme1",disabled:e.isReadOnly,placeholder:e.$t("请输入")},model:{value:e.formData.case_erp_supplierrisk_f_SupplierFile,callback:function(a){e.$set(e.formData,"case_erp_supplierrisk_f_SupplierFile",a)},expression:"formData.case_erp_supplierrisk_f_SupplierFile"}})],1)],1)]),s("el-col",{attrs:{span:24}},[s("div",{staticClass:"learun-form-title mt-16"},[e._v(" "+e._s(e.$t("环境与安全评估"))+" ")]),s("div",{staticClass:"form_block"},[e.isReadOnly?s("el-form-item",{attrs:{label:e.$t("等级："),prop:"case_erp_supplierrisk_f_SafetyLevel"}},["0"==e.formData.case_erp_supplierrisk_f_SafetyLevel?s("el-tag",[e._v(e._s(e.$t("优秀")))]):"1"==e.formData.case_erp_supplierrisk_f_SafetyLevel?s("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.$t("良好")))]):"2"==e.formData.case_erp_supplierrisk_f_SafetyLevel?s("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.$t("及格")))]):s("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.$t("不及格")))])],1):s("el-form-item",{attrs:{label:e.$t("等级选择："),prop:"case_erp_supplierrisk_f_SafetyLevel"}},[s("l-radio",{attrs:{options:e.case_erp_supplierrisk_f_SafetyLevelOptions},model:{value:e.formData.case_erp_supplierrisk_f_SafetyLevel,callback:function(a){e.$set(e.formData,"case_erp_supplierrisk_f_SafetyLevel",a)},expression:"formData.case_erp_supplierrisk_f_SafetyLevel"}})],1),s("el-form-item",{attrs:{label:e.$t("评估理由："),prop:"case_erp_supplierrisk_f_SafetyReason"}},[e.isReadOnly?s("div",[e._v(" "+e._s(e.formData.case_erp_supplierrisk_f_SafetyReason)+" ")]):s("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",placeholder:e.$t("请输入")},model:{value:e.formData.case_erp_supplierrisk_f_SafetyReason,callback:function(a){e.$set(e.formData,"case_erp_supplierrisk_f_SafetyReason",a)},expression:"formData.case_erp_supplierrisk_f_SafetyReason"}})],1),s("el-form-item",{attrs:{label:e.$t("附件上传："),prop:"case_erp_supplierrisk_f_SafetyFile"}},[s("l-upload",{attrs:{drag:"",maxSize:"10",sizeType:"MB",limit:3,showFileList:"uploadTheme1",disabled:e.isReadOnly,placeholder:e.$t("请输入")},model:{value:e.formData.case_erp_supplierrisk_f_SafetyFile,callback:function(a){e.$set(e.formData,"case_erp_supplierrisk_f_SafetyFile",a)},expression:"formData.case_erp_supplierrisk_f_SafetyFile"}})],1)],1)]),s("el-col",{attrs:{span:24}},[s("div",{staticClass:"learun-form-title mt-16"},[e._v(" "+e._s(e.$t("最终评估结果"))+" ")]),s("div",{staticClass:"form_block"},[e.isReadOnly?s("el-form-item",{attrs:{label:e.$t("等级："),prop:"case_erp_supplierrisk_f_FinalState"}},["0"==e.formData.case_erp_supplierrisk_f_FinalState?s("el-tag",[s("i",{staticClass:"el-icon-s-check margin_right_3"}),e._v(e._s(e.$t("优秀"))+" ")]):"1"==e.formData.case_erp_supplierrisk_f_FinalState?s("el-tag",{attrs:{type:"success"}},[s("i",{staticClass:"el-icon-s-check margin_right_3"}),e._v(" "+e._s(e.$t("良好"))+" ")]):"2"==e.formData.case_erp_supplierrisk_f_FinalState?s("el-tag",{attrs:{type:"info"}},[s("i",{staticClass:"el-icon-s-check margin_right_3"}),e._v(" "+e._s(e.$t("及格"))+" ")]):s("el-tag",{attrs:{type:"danger"}},[s("i",{staticClass:"el-icon-s-check margin_right_3"}),e._v(" "+e._s(e.$t("不及格"))+" ")])],1):s("el-form-item",{attrs:{label:e.$t("等级选择："),prop:"case_erp_supplierrisk_f_FinalState"}},[s("l-radio",{attrs:{options:e.case_erp_supplierrisk_f_FinalStateOptions},model:{value:e.formData.case_erp_supplierrisk_f_FinalState,callback:function(a){e.$set(e.formData,"case_erp_supplierrisk_f_FinalState",a)},expression:"formData.case_erp_supplierrisk_f_FinalState"}})],1),s("el-form-item",{attrs:{label:e.$t("评估理由："),prop:"case_erp_supplierrisk_f_FinalReason"}},[e.isReadOnly?s("div",[e._v(" "+e._s(e.formData.case_erp_supplierrisk_f_FinalReason)+" ")]):s("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",placeholder:e.$t("请输入")},model:{value:e.formData.case_erp_supplierrisk_f_FinalReason,callback:function(a){e.$set(e.formData,"case_erp_supplierrisk_f_FinalReason",a)},expression:"formData.case_erp_supplierrisk_f_FinalReason"}})],1)],1)])],1)],1)},t=[],i=(s("96cf"),s("1da1")),p=window.$api.erpcase.supplier,l={props:{isReadOnly:{type:Boolean,default:!1},id:{},type:{}},data:function(){return{moduleCode:"ERP_Suppliers",formData:{case_erp_supplierrisk_f_CapacityLevel:"",case_erp_supplierrisk_f_CapacityReason:"",case_erp_supplierrisk_f_CapacityFile:"",case_erp_supplierrisk_f_SupplierLevel:"",case_erp_supplierrisk_f_SupplierReason:"",case_erp_supplierrisk_f_SupplierFile:"",case_erp_supplierrisk_f_SafetyLevel:"",case_erp_supplierrisk_f_SafetyReason:"",case_erp_supplierrisk_f_SafetyFile:"",case_erp_supplierrisk_f_FinalState:"",case_erp_supplierrisk_f_FinalReason:""},rules:{case_erp_supplierrisk_f_CapacityLevel:[{required:!0,message:"请选择："}],case_erp_supplierrisk_f_CapacityReason:[{required:!0,message:"请输入："}],case_erp_supplierrisk_f_SupplierLevel:[{required:!0,message:"请选择："}],case_erp_supplierrisk_f_SupplierReason:[{required:!0,message:"请输入："}],case_erp_supplierrisk_f_SafetyLevel:[{required:!0,message:"请选择："}],case_erp_supplierrisk_f_SafetyReason:[{required:!0,message:"请输入："}],case_erp_supplierrisk_f_FinalState:[{required:!0,message:"请选择："}],case_erp_supplierrisk_f_FinalReason:[{required:!0,message:"请输入："}]},loading:!0}},computed:{case_erp_supplierrisk_f_CapacityLevelOptions:function(){return[{label:"优秀",value:"0"},{value:"1",label:"良好"},{value:"2",label:"及格"},{value:"3",label:"不及格"}]},case_erp_supplierrisk_f_SupplierLevelOptions:function(){return[{label:"优秀",value:"0"},{value:"1",label:"良好"},{value:"2",label:"及格"},{value:"3",label:"不及格"}]},case_erp_supplierrisk_f_SafetyLevelOptions:function(){return[{label:"优秀",value:"0"},{value:"1",label:"良好"},{value:"2",label:"及格"},{value:"3",label:"不及格"}]},case_erp_supplierrisk_f_FinalStateOptions:function(){return[{label:"优秀",value:"0"},{value:"1",label:"良好"},{value:"2",label:"及格"},{value:"3",label:"不及格"}]}},created:function(){this.isReadOnly?this.loadFormData(this.id):this.loading=!1},methods:{resetForm:function(){this.$formClear(this.$refs.form)},validateForm:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$formValidateWraper(e.$refs.form);case 2:if(a.sent){a.next=4;break}return a.abrupt("return",!1);case 4:return a.abrupt("return",!0);case 5:case"end":return a.stop()}}),a)})))()},setForm:function(e){this.$setFormData(this.formData,e,"case_erp_supplierrisk")},getForm:function(){var e=this.$getFormData(this.formData,"case_erp_supplierrisk");return e.f_Type=this.type,e.f_SupplierId=this.id,e},loadFormData:function(e){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a.loading=!0,s.next=3,a.$awaitWraper(p.getAssess(e,a.type));case 3:r=s.sent,r&&(a.setForm(r),a.loading=!1);case 5:case"end":return s.stop()}}),s)})))()}}},_=l,o=(s("628f"),s("2877")),c=Object(o["a"])(_,r,t,!1,null,"1c144dd3",null);a["default"]=c.exports},e9f3:function(e,a,s){},f2d4:function(e,a,s){"use strict";s.r(a);var r=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"l-rblock l-form-viewer",staticStyle:{padding:"8px"}},[s("el-row",{attrs:{gutter:16}},[s("div",{staticClass:"l-rblock"},[s("el-col",{attrs:{span:24}},[0!=e.type?s("div",{staticClass:"font_size_24 form_flex_center"},[e._v(" "+e._s(e.$t("供应商年审"))+" ")]):e._e(),0==e.type?s("div",{staticClass:"font_size_24 form_flex_center"},[e._v(" "+e._s(e.$t("供应商评估报告"))+" ")]):e._e(),s("div",{staticClass:"form_name"},[e._v(e._s(e.$t("基本信息")))]),s("div",{staticClass:"form_back form_flex mt-16"},[s("div",[e._v(" "+e._s(e.$t("供应商编号："+e.formData.case_erp_supplier_f_Number))+" ")]),s("div",[e._v(" "+e._s(e.$t("供应商名称："+e.formData.case_erp_supplier_f_Name))+" ")]),s("div",[e._v(" "+e._s(e.$t("供应商负责人："+e.formData.case_erp_supplier_f_Person))+" ")]),s("div",[e._v(" "+e._s(e.$t("供应商类型："+e.formData.case_erp_supplier_f_Type))+" ")]),s("div",[e._v(" "+e._s(e.$t("添加人："+e.formData.case_erp_supplier_f_CreateUserName))+" ")]),s("div",[e._v(" "+e._s(e.$t("创建日期："+e.formData.case_erp_supplier_f_CreateDate))+" ")]),s("div",[e._v(" "+e._s(e.$t("经营范围："+e.formData.case_erp_supplier_f_Scope))+" ")]),s("div",[e._v(" "+e._s(e.$t("手机号："+e.formData.case_erp_supplier_f_Phone))+" ")])])]),s("div",{staticStyle:{padding:"0 8px"}},[s("assess-form",{ref:"assessForm",staticClass:"mb-8",attrs:{isReadOnly:e.isReadOnly,id:e.id,type:e.type}}),s("el-col",{attrs:{span:24}},[e.isReadOnly?e._e():s("div",{staticClass:"mt-8 mb-8 text-center"},[s("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"btn_width200_height40",attrs:{size:"mini",type:"primary"},on:{click:e.saveForm}},[e._v(e._s(e.$t("保存提交")))])],1)])],1)],1)])],1)},t=[],i=(s("96cf"),s("1da1")),p=s("6a12"),l=window.$api.erpcase.supplier,_={components:{AssessForm:p["default"]},props:{isReadOnly:{type:Boolean,default:!1},id:{},type:{}},data:function(){return{fullscreenLoading:!1,moduleCode:"ERP_Suppliers",formData:{case_erp_supplier_f_Number:"",case_erp_supplier_f_Name:"",case_erp_supplier_f_Person:"",case_erp_supplier_f_Type:"",case_erp_supplier_f_CreateUserName:"",case_erp_supplier_f_CreateDate:"",case_erp_supplier_f_Scope:"",case_erp_supplier_f_Phone:""}}},computed:{},created:function(){this.loadFormData({keyValue:this.id})},methods:{resetForm:function(){this.$refs.assessForm.resetForm&&this.$refs.assessForm.resetForm()},validateForm:function(){return this.$refs.assessForm.validateForm()},setForm:function(e){this.$setFormData(this.formData,e,"case_erp_supplier"),this.formData.case_erp_supplier_f_CreateDate=this.$formatDate(this.formData.case_erp_supplier_f_CreateDate,"yyyy-MM-dd")},loadFormData:function(e){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var r,t;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=e.keyValue,s.next=3,a.$awaitWraper(l.get(r));case 3:t=s.sent,t&&a.setForm(t);case 5:case"end":return s.stop()}}),s)})))()},saveForm:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.fullscreenLoading=!0,a.next=3,e.validateForm();case 3:if(!a.sent){a.next=9;break}return s=e.$refs.assessForm.getForm(),a.next=7,e.$awaitWraper(l.addAssess(s));case 7:r=a.sent,r&&(e.$message({type:"success",message:e.$t("评估成功!")}),e.$emit("submit"));case 9:e.fullscreenLoading=!1;case 10:case"end":return a.stop()}}),a)})))()}}},o=_,c=s("2877"),n=Object(c["a"])(o,r,t,!1,null,null,null);a["default"]=n.exports}}]);