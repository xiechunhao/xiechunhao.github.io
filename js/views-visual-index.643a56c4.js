(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["views-visual-index"],{"26f1a":function(e,t,a){"use strict";a("53c0")},"2b71":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"el-fade-in"}},[i("l-layout",{directives:[{name:"show",rawName:"v-show",value:!e.lr_loadPage,expression:"!lr_loadPage"}],staticClass:"l-tab-page",scopedSlots:e._u([{key:"left",fn:function(){return[i("l-panel",{staticStyle:{"padding-right":"0"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(e.$t("大屏分类"))+" "),i("div",{staticClass:"tree-setting-btn"},[i("el-tooltip",{attrs:{effect:"dark",content:e.$t("分类管理"),placement:"top"}},[i("i",{staticClass:"el-icon-setting",on:{click:e.handleSettingClick}})])],1)]},proxy:!0}])},[i("div",{staticClass:"l-rblock",staticStyle:{"padding-bottom":"32px"}},[i("div",{staticClass:"l-rblock",staticStyle:{overflow:"hidden auto"}},[i("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],attrs:{data:e.treeShowData,"expand-on-click-node":!1},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node;return i("span",{staticClass:"lr-tree-node"},[i("i",{staticClass:"el-icon-notebook-2"}),e._v(" "+e._s(a.label)+" ")])}}])})],1),i("div",{staticClass:"l-bottom"},[i("el-input",{attrs:{placeholder:e.$t("请输入名称"),size:"mini"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.hanleSearchCategory.apply(null,arguments)}},model:{value:e.searchCategoryWord,callback:function(t){e.searchCategoryWord=t},expression:"searchCategoryWord"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.hanleSearchCategory},slot:"append"})],1)],1)])])]},proxy:!0}])},[i("l-panel",{staticClass:"nobg",staticStyle:{"padding-left":"0"},scopedSlots:e._u([{key:"toolLeft",fn:function(){return[i("div",{staticClass:"l-panel--item"},[i("el-input",{attrs:{placeholder:e.$t("请输入编码/名称"),size:"mini"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.hanleSearch.apply(null,arguments)}},model:{value:e.searchWord,callback:function(t){e.searchWord=t},expression:"searchWord"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.hanleSearch},slot:"append"})],1)],1)]},proxy:!0},{key:"toolRight",fn:function(){return[i("l-tool-btns",{attrs:{btnText:e.$t("新建大屏")},on:{click:function(t){return e.handleAdd()}}}),i("swiper-btn")]},proxy:!0}])},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticClass:"l-rblock",staticStyle:{"padding-bottom":"48px","background-color":"#f0f2f5"}},[i("div",{staticClass:"l-rblock l-overflow-y"},e._l(e.tableData,(function(t,r){return i("div",{key:t.f_Id,staticClass:"l-v-item"},[t.f_Id?i("el-image",{attrs:{src:e.apiUrl+"system/annexesfile/"+t.f_Id+"?token="+e.token}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{attrs:{src:a("353d")}})])]):e._e(),i("div",{staticClass:"content__btn",on:{click:function(a){return e.handleDesign(t)}}},[e._v(e._s(e.$t("设计")))]),i("div",{staticStyle:{position:"absolute",top:"8px",right:"8px"}},[i("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return e.handleEnableChange(t)}},model:{value:t.f_Status,callback:function(a){e.$set(t,"f_Status",a)},expression:"item.f_Status"}})],1),i("div",{staticClass:"content__main"},[i("a",{staticStyle:{display:"inline-block",width:"140px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","text-decoration":"none",color:"#fff"},attrs:{href:"javascript:;",title:t.f_Title}},[e._v(e._s(t.f_Title))]),i("div",{staticClass:"content__menulist"},[i("div",{staticClass:"content__view"},[i("el-tooltip",{attrs:{content:e.$t("删除")}},[i("i",{staticClass:"el-icon-delete",on:{click:function(a){return e.handleDelete(t,r)}}})]),i("el-tooltip",{attrs:{content:e.$t("编辑")}},[i("i",{staticClass:"el-icon-edit",on:{click:function(a){return e.handleEdit(t,r)}}})]),i("el-tooltip",{attrs:{content:e.$t("发布")}},[i("i",{staticClass:"el-icon-position",on:{click:function(a){return e.handleViews(t,r)}}})]),i("el-tooltip",{attrs:{content:e.$t("复制")}},[i("i",{staticClass:"el-icon-copy-document",on:{click:function(a){return e.handleCopy(t,r)}}})])],1)])])],1)})),0),i("div",{staticClass:"l-table--pagination",staticStyle:{border:"0"}},[i("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper",background:"","page-sizes":[10,20,30,50],"page-size":e.tablePageSize,"current-page":e.tableCurrentPage,total:e.tableTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.tableCurrentPage=t},"update:current-page":function(t){e.tableCurrentPage=t}}})],1)])]),i("l-drawer",{attrs:{title:e.$t("分类管理"),visible:e.categoryVisible,showOk:!1,showClose:!1,size:"800px"},on:{"update:visible":function(t){e.categoryVisible=t}}},[i("l-dataitem-index",{attrs:{classifyCode:"DaatavSort"}})],1),i("l-drawer",{attrs:{title:e.formTitle,visible:e.formVisible},on:{"update:visible":function(t){e.formVisible=t},ok:e.handleSave,close:e.handleCloseForm,opened:e.handleOpenedForm}},[i("visual-form",{ref:"form",attrs:{categoryData:e.treeData}})],1),i("l-fullscreen-dialog",{attrs:{title:e.$t("预览配置"),headerMidWidth:320,visible:e.formViewVisible,isStep:!0,steps:[e.$t("基本配置"),e.$t("大屏预览")],stepActive:e.stepActive,validateSteps:e.handleValidateSteps},on:{"update:visible":function(t){e.formViewVisible=t},"update:stepActive":function(t){e.stepActive=t},"update:step-active":function(t){e.stepActive=t},ok:e.handleSaveView,closed:e.handleCloseViewForm,opened:e.handleOpenedViewForm}},[i("preview-form",{ref:"preForm",attrs:{stepActive:e.stepActive}})],1)],1)],1)},r=[],n=(a("4de4"),a("159b"),a("96cf"),a("1da1")),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"l-from-body"},[a("el-form",{ref:"form",attrs:{model:e.formData,rules:e.rules,size:"mini","label-width":"100px"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("大屏分类"),prop:"f_Category"}},[a("l-tree-select",{attrs:{options:e.categoryData},model:{value:e.formData.f_Category,callback:function(t){e.$set(e.formData,"f_Category",t)},expression:"formData.f_Category"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("大屏名称"),prop:"f_Title"}},[a("el-input",{model:{value:e.formData.f_Title,callback:function(t){e.$set(e.formData,"f_Title",t)},expression:"formData.f_Title"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("发布状态")}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.formData.f_Status,callback:function(t){e.$set(e.formData,"f_Status",t)},expression:"formData.f_Status"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("密码"),prop:"f_Password"}},[a("el-input",{attrs:{type:e.passwordType,"auto-complete":"off",placeholder:e.$t("请输入密码")},model:{value:e.formData.f_Password,callback:function(t){e.$set(e.formData,"f_Password",t)},expression:"formData.f_Password"}},[a("i",{staticClass:"el-icon-view el-input__icon",attrs:{slot:"suffix"},on:{click:e.showPassword},slot:"suffix"})])],1)],1)],1)],1)},o=[],l=a("8237"),c=a.n(l),f={name:"visual-form",props:{categoryData:{type:Array,default:function(){return[]}}},data:function(){return{formData:{f_Category:"",f_Title:"",f_Password:"",f_Status:1},rules:{f_Category:[{required:!0,message:this.$t("请选择分组"),trigger:"blur"}],f_Title:[{required:!0,message:this.$t("请输入大屏名称")}]},passwordType:"password"}},created:function(){},methods:{resetForm:function(){this.$refs.form&&this.$refs.form.resetFields()},validateForm:function(e){this.$refs.form.validate((function(t){t&&e()}))},setForm:function(e){this.formData=this.$deepClone(e),this.formData.f_Password=""},getForm:function(){var e=this.$deepClone(this.formData);return this.$validatenull(e.f_Password)||(e.f_Password=c()(e.f_Password)),e},showPassword:function(){""==this.passwordType?this.passwordType="password":this.passwordType=""}}},u=f,d=a("2877"),h=Object(d["a"])(u,s,o,!1,null,null,null),p=h.exports,m=a("7065"),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{staticStyle:{"margin-left":"4px"},attrs:{size:"mini",type:"primary"},on:{click:e.handleSwiper}},[e._v(" "+e._s(e.$t("轮播设置"))+" ")]),a("l-dialog",{attrs:{title:e.$t("轮播设置"),visible:e.isVisible,width:952,height:750},on:{"update:visible":function(t){e.isVisible=t},close:e.handleClose,opened:e.handleOpened,ok:e.handleOk}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticClass:"l-rblock",staticStyle:{"padding-bottom":"48px","background-color":"#f0f2f5"}},[a("div",{staticClass:"l-rblock",staticStyle:{overflow:"hidden auto"}},e._l(e.tableData,(function(t,i){return a("div",{key:t.f_Id,staticClass:"l-v-item l-sw-item"},[t.f_Id?a("el-image",{attrs:{src:e.apiUrl+"system/annexesfile/"+t.f_Id+"?token="+e.token}}):e._e(),a("div",{staticStyle:{position:"absolute",top:"8px",left:"8px"}},[a("el-checkbox",{attrs:{size:"20",value:t.ischeck},on:{change:function(a){return e.handleCheck(t)}}})],1),a("div",{staticClass:"content__main"},[a("span",{staticClass:"content__name",staticStyle:{"font-size":"15px"}},[e._v(e._s(t.f_Title))]),a("div",{staticClass:"content__menulist"},[a("div",{staticClass:"content__view"},[a("el-tooltip",{attrs:{content:e.$t("预览")}},[a("i",{staticClass:"el-icon-view",on:{click:function(a){return e.handleViews(t,i)}}})])],1)])])],1)})),0),a("div",{staticClass:"l-table--pagination",staticStyle:{border:"0"}},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper",background:"","page-sizes":[12,20,30,50],"page-size":e.tablePageSize,"current-page":e.tableCurrentPage,total:e.tableTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.tableCurrentPage=t},"update:current-page":function(t){e.tableCurrentPage=t}}})],1)])]),a("l-fullscreen-dialog",{attrs:{title:e.$t("预览配置"),headerMidWidth:320,visible:e.formViewVisible,isStep:!0,steps:[e.$t("基本配置"),e.$t("大屏预览")],stepActive:e.stepActive,validateSteps:e.handleValidateSteps},on:{"update:visible":function(t){e.formViewVisible=t},"update:stepActive":function(t){e.stepActive=t},"update:step-active":function(t){e.stepActive=t},ok:e.handleSaveView,closed:e.handleCloseViewForm,opened:e.handleOpenedViewForm}},[a("preview-form",{ref:"preForm",attrs:{stepActive:e.stepActive,ids:e.checkArr,type:e.type}})],1)],1)},v=[],b=(a("fb6a"),a("a434"),window.$api.vdata.visual),_={name:"swiper-btn",components:{previewForm:m["a"]},props:{},data:function(){return{isVisible:!1,tableLoading:!1,tableData:[],tableTotal:0,tablePageSize:12,tableCurrentPage:1,checkArr:[],tableAllData:[],formViewVisible:!1,stepActive:0,type:1}},computed:{},created:function(){},methods:{handleSwiper:function(){this.isVisible=!0},handleClose:function(){this.isVisible=!1,this.tableData=[],this.tableCurrentPage=1},handleOpened:function(){this.checkArr=[],this.loadTablePageData()},handleViews:function(e){var t=this.$router.resolve({path:"/vdata/preview?id=".concat(e.f_Id)});window.open(t.href,"_blank")},loadTablePageData:function(){var e=this;this.tableLoading=!0,b.allObj().then((function(t){var a=e.$deepClone(t.data.data);e.tableAllData=a.filter((function(e){return""==e.f_Password||null==e.f_Password}))||[],e.tableData=e.tableAllData.slice((e.tableCurrentPage-1)*e.tablePageSize,e.tableCurrentPage*e.tablePageSize),e.tableTotal=e.tableAllData.length,e.tableLoading=!1})).catch((function(){e.tableData=[],e.tableLoading=!1}))},handleCurrentChange:function(e){this.tableCurrentPage=e,this.tableData=this.tableAllData.slice((e-1)*this.tablePageSize,e*this.tablePageSize)},handleSizeChange:function(e){this.tablePageSize=e,this.tableData=this.tableAllData.slice((this.tableCurrentPage-1)*e,this.tableCurrentPage*e)},handleCheck:function(e){if(this.checkArr.length){for(var t=!1,a=0;a<this.checkArr.length;a++)if(this.checkArr[a]===e.f_Id){this.checkArr.splice(a,1),t=!0,e.ischeck=!1;break}t||(this.checkArr.push(e.f_Id),e.ischeck=!0)}else this.checkArr.push(e.f_Id),e.ischeck=!0},handleOk:function(){this.checkArr.length<1?this.$message({type:"info",message:this.$t("请选择要轮播的大屏!")}):(this.isVisible=!1,this.formViewVisible=!0)},handleValidateSteps:function(){return this.$refs.preForm.validateSteps()},updateModules:function(){this.$store.dispatch("system/module/getList")},handleSaveView:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=!0,t.next=3,e.$refs.preForm.validateBaseInfo().then((function(e){a=e}));case 3:if(a){t.next=5;break}return t.abrupt("return");case 5:i=e.$loading({lock:!0,text:e.$t("正在保存配置，请稍后"),spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.2)"}),e.$nextTick(Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.preForm.getForm();case 2:return a=t.sent,r=null,t.next=6,b.swiperModule(a);case 6:r=t.sent,r&&(e.$message({type:"success",message:e.$t("设置成功!")}),e.formViewVisible=!1,e.updateModules()),i.close();case 9:case"end":return t.stop()}}),t)}))));case 7:case"end":return t.stop()}}),t)})))()},handleCloseViewForm:function(){this.$refs.preForm.resetForm()},handleOpenedViewForm:function(e,t){return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e("加载数据中..."),t();case 2:case"end":return a.stop()}}),a)})))()}}},w=_,y=(a("6429"),Object(d["a"])(w,g,v,!1,null,null,null)),D=y.exports,C=window.$api.vdata.visual,$=window.$api.vdata.vconfig,k={name:"visual-index",components:{visualForm:p,swiperBtn:D,previewForm:m["a"]},props:{},data:function(){return{searchWord:"",searchTableData:null,treeLoading:!1,treeData:[],treeShowData:[],searchCategoryWord:"",categoryVisible:!1,categoryId:"",tableLoading:!1,tableData:[],tableTotal:0,tablePageSize:30,tableCurrentPage:1,formVisible:!1,formTitle:"",formEditRow:null,formEdit:!1,formViewVisible:!1,stepActive:0}},created:function(){this.loadTablePageData()},mounted:function(){this.lr_loadDataItem("DaatavSort")},computed:{dataItemTree_Function:function(){return this.lr_dataItemTree(this.lr_dataItem["DaatavSort"])}},watch:{dataItemTree_Function:{handler:function(e){this.treeData=e,this.treeShowData=e},immediate:!0,deep:!0}},methods:{refreshCategory:function(e){var t=this;this.searchCategoryWord="",this.treeData=[],e.forEach((function(e){t.treeData.push({value:e.value,label:e.label})})),this.treeShowData=this.treeData},loadCategory:function(){var e=this;this.treeData=[],this.lr_dataItemTree(this.lr_dataItem["DaatavSort"]).forEach((function(t){e.treeData.push({value:t.value,label:t.label})}))},hanleSearchCategory:function(){var e=this;this.searchCategoryWord?this.treeShowData=this.treeData.filter((function(t){return t.label.indexOf(e.searchCategoryWord)>-1})):this.treeShowData=this.treeData},handleSettingClick:function(){this.categoryVisible=!0},handleCurrentChange:function(e){this.tableCurrentPage=e,this.loadTablePageData()},handleSizeChange:function(e){this.tablePageSize=e,this.loadTablePageData()},loadTablePageData:function(){var e=this;this.tableLoading=!0;var t={rows:this.tablePageSize,page:this.tableCurrentPage,sidx:"F_CreateDate DESC",keyword:this.searchWord,F_Category:this.categoryId};C.getPage(t).then((function(t){var a=e.$deepClone(t.data.data);e.tableData=a.rows,e.tableTotal=a.records,e.tableLoading=!1})).catch((function(){e.tableData=[],e.tableLoading=!1}))},turnTablePage:function(e){var t=e.rows,a=e.page;this.tablePageSize=t,this.tableCurrentPage=a,this.loadTablePageData()},handleNodeClick:function(e){this.categoryId=e.value,this.loadTablePageData()},refreshTable:function(){var e=this;this.searchWord="",this.searchTableData=null,this.lr_updateDataItemDetails(this.classifyCode,"tableLoading").then((function(t){e.tableData=t}))},hanleSearch:function(){this.loadTablePageData()},handleEnableChange:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,C.updateState(e.f_Id,e.f_Status);case 2:t.$message({type:"success",message:t.$t("更新成功!")}),t.updateModules();case 4:case"end":return a.stop()}}),a)})))()},handleDesign:function(e){var t=this.$router.resolve({path:"/vdata/build?id=".concat(e.f_Id)});window.open(t.href,"_blank")},handleAdd:function(){this.formEdit=!1,this.showForm("新建大屏")},handleEdit:function(e){this.formEdit=!0,this.formEditRow=e,this.showForm("编辑大屏")},handleDelete:function(e){var t=this;this.$confirm(this.$t("此操作将永久删除该数据, 是否继续?"),this.$t("提示"),{confirmButtonText:this.$t("确定"),cancelButtonText:this.$t("取消"),type:"warning"}).then((function(){C.delObj(e.f_Id).then((function(){t.$message({type:"success",message:t.$t("删除成功!")}),t.loadTablePageData()})).catch((function(){}))})).catch((function(){t.$message({type:"info",message:t.$t("已取消删除")})}))},handleCopy:function(e){var t=this;this.$confirm("确认复制当前大屏?","提示",{confirmButtonText:this.$t("确定"),cancelButtonText:this.$t("取消"),type:"warning"}).then((function(){$.copyObj(e.f_Id).then((function(){t.$message({type:"success",message:t.$t("复制成功!")}),t.loadTablePageData()})).catch((function(){}))})).catch((function(){t.$message({type:"info",message:t.$t("已取消复制")})}))},handleViews:function(e){this.formViewVisible=!0,this.formEditRow=e},handleSave:function(e,t){var a=this;this.$refs.form.validateForm((function(){e();var i=a.$refs.form.getForm();if(a.formEdit)C.updateObj(i.f_Id,i).then((function(){t(),a.formVisible=!1,a.$message({type:"success",message:a.$t("更新成功!")}),a.loadTablePageData()})).catch((function(){t()}));else{var r={lrDatavVisualEntity:{f_Password:i.f_Password,f_Category:i.f_Category,f_Title:i.f_Title,f_Status:i.f_Status},lrDatavVisualconfigList:[{f_Detail:JSON.stringify({name:i.f_Title,width:1920,height:1080,scale:1,backgroundImage:"",url:"",mark:{},gradeShow:!1,gradeLen:30}),f_Component:"[]"}]};C.addObj(r).then((function(){t(),a.formVisible=!1,a.$message({type:"success",message:a.$t("添加成功!")}),a.loadTablePageData()})).catch((function(){t()}))}}))},handleOpenedForm:function(){this.formEdit&&this.$refs.form.setForm(this.formEditRow)},handleCloseForm:function(){this.$refs.form.resetForm()},showForm:function(e){this.loadCategory(),this.formTitle=e,this.formVisible=!0},handleValidateSteps:function(){return this.$refs.preForm.validateSteps()},updateModules:function(){this.$store.dispatch("system/module/getList")},handleSaveView:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=!0,t.next=3,e.$refs.preForm.validateBaseInfo().then((function(e){a=e}));case 3:if(a){t.next=5;break}return t.abrupt("return");case 5:i=e.$loading({lock:!0,text:e.$t("正在保存配置，请稍后"),spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.2)"}),e.$nextTick(Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.preForm.getForm();case 2:return a=t.sent,r=null,t.next=6,C.setmodule(a);case 6:r=t.sent,r&&(e.$message({type:"success",message:e.$t("设置成功!")}),e.formViewVisible=!1,e.loadTablePageData(),e.updateModules()),i.close();case 9:case"end":return t.stop()}}),t)}))));case 7:case"end":return t.stop()}}),t)})))()},handleCloseViewForm:function(){},handleOpenedViewForm:function(e,t){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e("加载数据中..."),i.next=3,a.$awaitWraper(C.get(a.formEditRow.f_Id));case 3:r=i.sent,a.$refs.preForm.setForm(r),t();case 6:case"end":return i.stop()}}),i)})))()}}},S=k,x=Object(d["a"])(S,i,r,!1,null,null,null);t["default"]=x.exports},"353d":function(e,t,a){e.exports=a.p+"img/error.85793050.jpg"},"3fdb":function(e,t,a){"use strict";a("7345")},4651:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"el-fade-in"}},[i("l-layout",{directives:[{name:"show",rawName:"v-show",value:!e.lr_loadPage,expression:"!lr_loadPage"}],staticClass:"l-tab-page",scopedSlots:e._u([{key:"left",fn:function(){return[i("l-panel",{staticStyle:{"padding-right":"0"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(e.$t("大屏分类"))+" "),i("div",{staticClass:"tree-setting-btn"},[i("el-tooltip",{attrs:{effect:"dark",content:e.$t("分类管理"),placement:"top"}},[i("i",{staticClass:"el-icon-setting",on:{click:e.handleSettingClick}})])],1)]},proxy:!0}])},[i("div",{staticClass:"l-rblock",staticStyle:{"padding-bottom":"32px"}},[i("div",{staticClass:"l-rblock",staticStyle:{overflow:"hidden auto"}},[i("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],attrs:{data:e.treeShowData,"expand-on-click-node":!1},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node;return i("span",{staticClass:"lr-tree-node"},[i("i",{staticClass:"el-icon-notebook-2"}),e._v(" "+e._s(a.label)+" ")])}}])})],1),i("div",{staticClass:"l-bottom"},[i("el-input",{attrs:{placeholder:e.$t("请输入名称"),size:"mini"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.hanleSearchCategory.apply(null,arguments)}},model:{value:e.searchCategoryWord,callback:function(t){e.searchCategoryWord=t},expression:"searchCategoryWord"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.hanleSearchCategory},slot:"append"})],1)],1)])])]},proxy:!0}])},[i("l-panel",{staticClass:"nobg",staticStyle:{"padding-left":"0"},scopedSlots:e._u([{key:"toolLeft",fn:function(){return[i("div",{staticClass:"l-panel--item"},[i("el-input",{attrs:{placeholder:e.$t("请输入编码/名称"),size:"mini"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.hanleSearch.apply(null,arguments)}},model:{value:e.searchWord,callback:function(t){e.searchWord=t},expression:"searchWord"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.hanleSearch},slot:"append"})],1)],1)]},proxy:!0},{key:"toolRight",fn:function(){return[i("l-tool-btns",{attrs:{btnText:e.$t("新建大屏")},on:{click:function(t){return e.handleAdd()}}})]},proxy:!0}])},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticClass:"l-rblock",staticStyle:{"padding-bottom":"48px","background-color":"rgb(245 245 245)"}},[i("div",{staticClass:"l-rblock",staticStyle:{overflow:"hidden auto"}},e._l(e.tableData,(function(t,r){return i("div",{key:t.f_Id,staticClass:"v-item"},[t.f_Id?i("el-image",{attrs:{src:e.apiUrl+"system/annexesfile/"+t.f_Id+"?token="+e.token}},[i("div",{staticClass:"image-slot",staticStyle:{width:"100%",height:"100%"},attrs:{slot:"error"},slot:"error"},[i("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:a("e6a0")}})])]):e._e(),i("div",{staticStyle:{position:"absolute",top:"8px",right:"8px"}}),i("div",{staticClass:"content__main"},[i("div",{staticClass:"content_title"},[i("span",{staticStyle:{"font-weight":"bold"}},[e._v(" "+e._s(t.f_Title))]),i("div",{staticStyle:{color:"#999999",height:"18px","margin-top":"12px"}},[i("i",{staticClass:"el-icon-time",staticStyle:{"margin-right":"4px"}}),i("span",[e._v(e._s(t.f_CreateDate))])])]),i("div",{staticClass:"content__menulist"},[i("el-button",{staticStyle:{"margin-left":"0"},on:{click:function(a){return e.handleDesign(t)}}},[e._v("编辑")]),i("el-popover",{attrs:{placement:"bottom",width:"90",trigger:"hover","popper-class":"menulist_popover"}},[i("div",{staticClass:"content__view"},[i("p",{on:{click:function(a){return e.handleViews(t,r)}}},[e._v("预览")]),i("p",{on:{click:function(a){return e.handleCopy(t,r)}}},[e._v("复制")]),i("p",{on:{click:function(a){return e.handleEdit(t,r)}}},[e._v("重命名")]),i("p",[e._v("导出")]),i("p",{on:{click:function(a){return e.handleDelete(t,r)}}},[e._v("删除")]),i("p",{on:{click:function(a){return e.handleViews(t,r)}}},[e._v("发布")]),i("p",[e._v("版本")])]),i("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v("更多")])],1)],1)])],1)})),0),i("div",{staticClass:"l-table--pagination",staticStyle:{border:"0"}},[i("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper",background:"","page-sizes":[10,20,30,50],"page-size":e.tablePageSize,"current-page":e.tableCurrentPage,total:e.tableTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.tableCurrentPage=t},"update:current-page":function(t){e.tableCurrentPage=t}}})],1)])]),i("l-drawer",{attrs:{title:e.$t("分类管理"),visible:e.categoryVisible,showOk:!1,showClose:!1,size:"800px"},on:{"update:visible":function(t){e.categoryVisible=t}}},[i("l-dataitem-index",{attrs:{classifyCode:"DaatavSort"}})],1),i("l-drawer",{attrs:{title:e.formTitle,visible:e.formVisible},on:{"update:visible":function(t){e.formVisible=t},ok:e.handleSave,close:e.handleCloseForm,opened:e.handleOpenedForm}},[i("visual-form",{ref:"form",attrs:{categoryData:e.treeData}})],1),i("l-fullscreen-dialog",{attrs:{title:e.$t("预览配置"),headerMidWidth:320,visible:e.formViewVisible,isStep:!0,steps:[e.$t("基本配置"),e.$t("大屏预览")],stepActive:e.stepActive,validateSteps:e.handleValidateSteps},on:{"update:visible":function(t){e.formViewVisible=t},"update:stepActive":function(t){e.stepActive=t},"update:step-active":function(t){e.stepActive=t},ok:e.handleSaveView,closed:e.handleCloseViewForm,opened:e.handleOpenedViewForm}})],1)],1)},r=[],n=(a("4de4"),a("159b"),a("96cf"),a("1da1")),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"l-from-body"},[a("el-form",{ref:"form",attrs:{model:e.formData,rules:e.rules,size:"mini","label-width":"100px"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("大屏分类"),prop:"f_Category"}},[a("l-tree-select",{attrs:{options:e.categoryData},model:{value:e.formData.f_Category,callback:function(t){e.$set(e.formData,"f_Category",t)},expression:"formData.f_Category"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("大屏名称"),prop:"f_Title"}},[a("el-input",{model:{value:e.formData.f_Title,callback:function(t){e.$set(e.formData,"f_Title",t)},expression:"formData.f_Title"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$t("发布状态")}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.formData.f_Status,callback:function(t){e.$set(e.formData,"f_Status",t)},expression:"formData.f_Status"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("密码"),prop:"f_Password"}},[a("el-input",{attrs:{type:e.passwordType,"auto-complete":"off",placeholder:e.$t("请输入密码")},model:{value:e.formData.f_Password,callback:function(t){e.$set(e.formData,"f_Password",t)},expression:"formData.f_Password"}},[a("i",{staticClass:"el-icon-view el-input__icon",attrs:{slot:"suffix"},on:{click:e.showPassword},slot:"suffix"})])],1)],1)],1)],1)},o=[],l=a("8237"),c=a.n(l),f={name:"visual-form",props:{categoryData:{type:Array,default:function(){return[]}}},data:function(){return{formData:{f_Category:"",f_Title:"",f_Password:"",f_Status:1},rules:{f_Category:[{required:!0,message:this.$t("请选择分组"),trigger:"blur"}],f_Title:[{required:!0,message:this.$t("请输入大屏名称")}]},passwordType:"password"}},created:function(){},methods:{resetForm:function(){this.$refs.form&&this.$refs.form.resetFields()},validateForm:function(e){this.$refs.form.validate((function(t){t&&e()}))},setForm:function(e){this.formData=this.$deepClone(e),this.formData.f_Password=""},getForm:function(){var e=this.$deepClone(this.formData);return this.$validatenull(e.f_Password)||(e.f_Password=c()(e.f_Password)),e},showPassword:function(){""==this.passwordType?this.passwordType="password":this.passwordType=""}}},u=f,d=a("2877"),h=Object(d["a"])(u,s,o,!1,null,null,null),p=h.exports,m=window.$api.vdata.visual,g=window.$api.vdata.vconfig,v={name:"visual-index",components:{visualForm:p},props:{},data:function(){return{searchWord:"",searchTableData:null,treeLoading:!1,treeData:[],treeShowData:[],searchCategoryWord:"",categoryVisible:!1,categoryId:"",tableLoading:!1,tableData:[],tableTotal:0,tablePageSize:30,tableCurrentPage:1,formVisible:!1,formTitle:"",formEditRow:null,formEdit:!1,formViewVisible:!1,stepActive:0}},created:function(){this.loadTablePageData()},mounted:function(){this.lr_loadDataItem("DaatavSort")},computed:{dataItemTree_Function:function(){return this.lr_dataItemTree(this.lr_dataItem["DaatavSort"])}},watch:{dataItemTree_Function:{handler:function(e){this.treeData=e,this.treeShowData=e},immediate:!0,deep:!0}},methods:{refreshCategory:function(e){var t=this;this.searchCategoryWord="",this.treeData=[],e.forEach((function(e){t.treeData.push({value:e.value,label:e.label})})),this.treeShowData=this.treeData},loadCategory:function(){var e=this;this.treeData=[],this.lr_dataItemTree(this.lr_dataItem["DaatavSort"]).forEach((function(t){e.treeData.push({value:t.value,label:t.label})}))},hanleSearchCategory:function(){var e=this;this.searchCategoryWord?this.treeShowData=this.treeData.filter((function(t){return t.label.indexOf(e.searchCategoryWord)>-1})):this.treeShowData=this.treeData},handleSettingClick:function(){this.categoryVisible=!0},handleCurrentChange:function(e){this.tableCurrentPage=e,this.loadTablePageData()},handleSizeChange:function(e){this.tablePageSize=e,this.loadTablePageData()},loadTablePageData:function(){var e=this;this.tableLoading=!0;var t={rows:this.tablePageSize,page:this.tableCurrentPage,sidx:"F_CreateDate DESC",keyword:this.searchWord,F_Category:this.categoryId};m.getPage(t).then((function(t){var a=e.$deepClone(t.data.data);e.tableData=a.rows,e.tableTotal=a.records,e.tableLoading=!1})).catch((function(){e.tableData=[],e.tableLoading=!1}))},turnTablePage:function(e){var t=e.rows,a=e.page;this.tablePageSize=t,this.tableCurrentPage=a,this.loadTablePageData()},handleNodeClick:function(e){this.categoryId=e.value,this.loadTablePageData()},refreshTable:function(){var e=this;this.searchWord="",this.searchTableData=null,this.lr_updateDataItemDetails(this.classifyCode,"tableLoading").then((function(t){e.tableData=t}))},hanleSearch:function(){this.loadTablePageData()},handleEnableChange:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,m.updateState(e.f_Id,e.f_Status);case 2:t.$message({type:"success",message:t.$t("更新成功!")}),t.updateModules();case 4:case"end":return a.stop()}}),a)})))()},handleDesign:function(e){var t=this.$router.resolve({path:"/dataView/build?id=".concat(e.f_Id)});window.open(t.href,"_blank")},handleAdd:function(){this.formEdit=!1,this.showForm("新建大屏")},handleEdit:function(e){this.formEdit=!0,this.formEditRow=e,this.showForm("编辑大屏")},handleDelete:function(e){var t=this;this.$confirm(this.$t("此操作将永久删除该数据, 是否继续?"),this.$t("提示"),{confirmButtonText:this.$t("确定"),cancelButtonText:this.$t("取消"),type:"warning"}).then((function(){m.delObj(e.f_Id).then((function(){t.$message({type:"success",message:t.$t("删除成功!")}),t.loadTablePageData()})).catch((function(){}))})).catch((function(){t.$message({type:"info",message:t.$t("已取消删除")})}))},handleCopy:function(e){var t=this;this.$confirm("确认复制当前大屏?","提示",{confirmButtonText:this.$t("确定"),cancelButtonText:this.$t("取消"),type:"warning"}).then((function(){g.copyObj(e.f_Id).then((function(){t.$message({type:"success",message:t.$t("复制成功!")}),t.loadTablePageData()})).catch((function(){}))})).catch((function(){t.$message({type:"info",message:t.$t("已取消复制")})}))},handleViews:function(e){this.formViewVisible=!0,this.formEditRow=e},handleSave:function(e,t){var a=this;this.$refs.form.validateForm((function(){e();var i=a.$refs.form.getForm();if(a.formEdit)m.updateObj(i.f_Id,i).then((function(){t(),a.formVisible=!1,a.$message({type:"success",message:a.$t("更新成功!")}),a.loadTablePageData()})).catch((function(){t()}));else{var r={lrDatavVisualEntity:{f_Password:i.f_Password,f_Category:i.f_Category,f_Title:i.f_Title,f_Status:i.f_Status},lrDatavVisualconfigList:[{f_Detail:JSON.stringify({name:i.f_Title,width:1920,height:1080,scale:1,backgroundImage:"",url:"",mark:{},gradeShow:!1,gradeLen:30}),f_Component:"[]"}]};m.addObj(r).then((function(){t(),a.formVisible=!1,a.$message({type:"success",message:a.$t("添加成功!")}),a.loadTablePageData()})).catch((function(){t()}))}}))},handleOpenedForm:function(){this.formEdit&&this.$refs.form.setForm(this.formEditRow)},handleCloseForm:function(){this.$refs.form.resetForm()},showForm:function(e){this.loadCategory(),this.formTitle=e,this.formVisible=!0},handleValidateSteps:function(){return this.$refs.preForm.validateSteps()},updateModules:function(){this.$store.dispatch("system/module/getList")},handleSaveView:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=!0,t.next=3,e.$refs.preForm.validateBaseInfo().then((function(e){a=e}));case 3:if(a){t.next=5;break}return t.abrupt("return");case 5:i=e.$loading({lock:!0,text:e.$t("正在保存配置，请稍后"),spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.2)"}),e.$nextTick(Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.preForm.getForm();case 2:return a=t.sent,r=null,t.next=6,m.setmodule(a);case 6:r=t.sent,r&&(e.$message({type:"success",message:e.$t("设置成功!")}),e.formViewVisible=!1,e.loadTablePageData(),e.updateModules()),i.close();case 9:case"end":return t.stop()}}),t)}))));case 7:case"end":return t.stop()}}),t)})))()},handleCloseViewForm:function(){},handleOpenedViewForm:function(e,t){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e("加载数据中..."),i.next=3,a.$awaitWraper(m.get(a.formEditRow.f_Id));case 3:r=i.sent,a.$refs.preForm.setForm(r),t();case 6:case"end":return i.stop()}}),i)})))()}}},b=v,_=(a("3fdb"),Object(d["a"])(b,i,r,!1,null,null,null));t["default"]=_.exports},"53c0":function(e,t,a){},6429:function(e,t,a){"use strict";a("8f9b")},7065:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"l-rblock l-desktop"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.steps(0),expression:"steps(0)"}],staticClass:"l-rblock",staticStyle:{padding:"24px"}},[a("div",{staticClass:"l-page-panel"},[a("el-form",{ref:"baseInfo",attrs:{model:e.formData,rules:e.rules,size:"mini","label-width":"86px"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("编号"),prop:"f_Code"}},[a("el-input",{model:{value:e.formData.f_Code,callback:function(t){e.$set(e.formData,"f_Code",t)},expression:"formData.f_Code"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("名称"),prop:"f_Title"}},[a("el-input",{model:{value:e.formData.f_Title,callback:function(t){e.$set(e.formData,"f_Title",t)},expression:"formData.f_Title"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("图标"),prop:"f_Icon"}},[a("l-input-icon",{attrs:{iconList:e.lr_icons},model:{value:e.formData.f_Icon,callback:function(t){e.$set(e.formData,"f_Icon",t)},expression:"formData.f_Icon"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("上级"),prop:"f_PModuleId"}},[a("l-tree-select",{attrs:{options:e.modulesExpandTree},model:{value:e.formData.f_PModuleId,callback:function(t){e.$set(e.formData,"f_PModuleId",t)},expression:"formData.f_PModuleId"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("排序"),prop:"f_SortCode"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1},model:{value:e.formData.f_SortCode,callback:function(t){e.$set(e.formData,"f_SortCode",t)},expression:"formData.f_SortCode"}})],1)],1),a("el-col",{attrs:{span:24}},[1==e.type?a("el-form-item",{attrs:{label:e.$t("轮播时间(s)"),prop:"f_Interval"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.formData.f_Interval,callback:function(t){e.$set(e.formData,"f_Interval",t)},expression:"formData.f_Interval"}})],1):e._e()],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("菜单"),prop:"f_IsMenu"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.formData.f_IsMenu,callback:function(t){e.$set(e.formData,"f_IsMenu",t)},expression:"formData.f_IsMenu"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("状态"),prop:"f_Status"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.formData.f_Status,callback:function(t){e.$set(e.formData,"f_Status",t)},expression:"formData.f_Status"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.$t("描述"),prop:"f_Description"}},[a("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.formData.f_Description,callback:function(t){e.$set(e.formData,"f_Description",t)},expression:"formData.f_Description"}})],1)],1)],1)],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.steps(1),expression:"steps(1)"}],staticClass:"l-rblock"},[0==e.type?a("iframe",{attrs:{src:e.rootUrl+"vdata/preview?id="+e.formData.f_Id,frameborder:"0",width:"100%",height:"100%"}}):a("div",{staticClass:"swiperPre"},[a("el-carousel",{attrs:{height:"100%",interval:1e3*e.formData.f_Interval||0,"indicator-position":"none",autoplay:!!e.formData.f_Interval}},e._l(e.ids,(function(t){return a("el-carousel-item",{key:t},[a("iframe",{attrs:{src:e.rootUrl+"vdata/preview?id="+t,frameborder:"0",width:"100%",height:"100%"}})])})),1)],1)])])},r=[],n=(a("99af"),a("a9e3"),a("d3b7"),a("5530")),s=a("5880"),o={props:{stepActive:{type:Number,default:0},type:{type:Number,default:0},ids:{type:Array,default:function(){return[]}}},data:function(){var e=this;return{formData:{f_Type:1,f_Code:"",f_Title:"",f_Icon:"learun-icon-computer",f_PModuleId:"",f_ModuleId:"",f_SortCode:"",f_Interval:1,f_IsMenu:1,f_Status:1,f_IsFirst:1,f_Description:"",f_Id:"",lrDatavVisualconfigList:[]},rules:{f_Code:[{required:!0,message:this.$t("请输入编号"),trigger:"blur"},{validator:this.lr_existDbFiled,keyValue:function(){return e.formData.f_ModuleId},tableName:"lr_datav_visual",fieldName:"f_Code",keyName:"f_ModuleId",trigger:"null"}],f_Title:[{required:!0,message:this.$t("请输入名称"),trigger:"blur"}],f_Icon:[{required:!0,message:this.$t("请选择图标"),trigger:"blur"}],f_PModuleId:[{required:!0,message:this.$t("请输入上级"),trigger:"blur"}]},layout:[]}},computed:Object(n["a"])({},Object(s["mapGetters"])(["modulesExpandTree"])),mounted:function(){},methods:{resetForm:function(){this.formData={f_Type:1,f_Code:"",f_Title:"",f_Icon:"learun-icon-computer",f_PModuleId:"",f_ModuleId:"",f_SortCode:"",f_Interval:1,f_IsMenu:1,f_Status:1,f_IsFirst:1,f_Description:"",f_Id:"",lrDatavVisualconfigList:[]}},steps:function(e){return this.stepActive==e},getForm:function(){var e={};if(0===this.type)e={lrDatavVisualEntity:this.$deepClone(this.formData),lrDatavVisualconfigList:this.lrDatavVisualconfigList},e.moduleEntity={f_EnCode:e.lrDatavVisualEntity.f_Code,f_FullName:e.lrDatavVisualEntity.f_Title,f_ParentId:e.lrDatavVisualEntity.f_PModuleId,f_Icon:e.lrDatavVisualEntity.f_Icon,f_Target:"datavView",f_IsMenu:e.lrDatavVisualEntity.f_IsMenu||0,f_DeleteMark:0,f_UrlAddress:"".concat(this.rootUrl,"vdata/preview?id=").concat(this.formData.f_Id),f_EnabledMark:e.lrDatavVisualEntity.f_Status,f_SortCode:e.lrDatavVisualEntity.f_SortCode,f_Description:e.lrDatavVisualEntity.f_Description};else{var t=this.$deepClone(this.formData);e={baseInfo:{f_ParentId:t.f_PModuleId,f_EnCode:t.f_Code,f_FullName:t.f_Title,f_Icon:t.f_Icon,f_UrlAddress:"".concat(this.rootUrl,"vdata/swiperPreview?ids=").concat(JSON.stringify(this.ids),"&interval=").concat(this.formData.f_Interval),f_Target:"datavSwiperView",f_IsMenu:t.f_IsMenu||0,f_AllowExpand:0,f_IsPublic:0,f_AllowEdit:0,f_AllowDelete:0,f_SortCode:t.f_SortCode,f_DeleteMark:0,f_EnabledMark:t.f_Status,f_Description:t.f_Description}}}return e},setForm:function(e,t){1==t?this.formData=Object(n["a"])(Object(n["a"])({},e),{},{f_Code:e.f_EnCode,f_Title:e.f_FullName,f_PModuleId:e.f_ParentId,f_Status:e.f_EnabledMark,f_Interval:e.f_Interval}):(this.lrDatavVisualconfigList=e.lrDatavVisualconfigList,this.formData=e.lrDatavVisualEntity,this.formData.f_IsMenu=null==this.formData.f_IsMenu?1:this.formData.f_IsMenu,null===e.lrDatavVisualEntity.f_Icon&&(this.formData.f_Icon="learun-icon-computer"))},validateBaseInfo:function(){var e=this;return new Promise((function(t){e.$refs.baseInfo.validate((function(e){t(!!e)}))}))},validateSteps:function(){var e=this;return new Promise((function(t){e.validateBaseInfo().then((function(e){t(e)}))}))}}},l=o,c=(a("26f1a"),a("2877")),f=Object(c["a"])(l,i,r,!1,null,null,null);t["a"]=f.exports},7345:function(e,t,a){},"8f9b":function(e,t,a){},e6a0:function(e,t,a){e.exports=a.p+"img/error.85793050.jpg"}}]);