(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["views-type-index"],{4783:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.lr_loadPage?t._e():a("l-layout",{staticClass:"l-tab-page"},[a("l-panel",{scopedSlots:t._u([{key:"toolLeft",fn:function(){return[a("div",{staticClass:"l-panel--item"},[a("el-input",{attrs:{placeholder:t.$t("请输入名称/编码"),size:"mini"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.hanleSearch.apply(null,arguments)}},model:{value:t.searchWord,callback:function(e){t.searchWord=e},expression:"searchWord"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.hanleSearch},slot:"append"})],1)],1)]},proxy:!0},{key:"toolRight",fn:function(){return[a("l-tool-btns",{on:{click:function(e){return t.handleAdd()}}},[a("l-excel-btns")],1)]},proxy:!0}],null,!1,1399195411)},[a("l-table",{attrs:{loading:t.tableLoading,columns:t.columns,dataSource:t.tableData,"row-key":"f_Id"}},[a("l-table-btns",{attrs:{filterBtns:t.filterBtns,btns:t.tableBtns},on:{click:t.lr_handleTableBtnClick}})],1)],1),a("l-dialog",{attrs:{width:400,height:176,title:t.formTitle,visible:t.formVisible},on:{"update:visible":function(e){t.formVisible=e},ok:t.handleSave,close:t.handleCloseForm,opened:t.handleOpenedForm}},[a("my-form",{ref:"form",attrs:{isEdit:t.formEdit}})],1)],1)},i=[],o=(a("4de4"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"l-from-body"},[a("el-form",{ref:"form",attrs:{model:t.formData,rules:t.rules,size:"mini","label-width":"60px"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:t.$t("名称"),prop:"f_Name"}},[a("el-input",{model:{value:t.formData.f_Name,callback:function(e){t.$set(t.formData,"f_Name",e)},expression:"formData.f_Name"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:t.$t("编码"),prop:"f_Code"}},[a("el-input",{attrs:{readonly:t.isEdit},model:{value:t.formData.f_Code,callback:function(e){t.$set(t.formData,"f_Code",e)},expression:"formData.f_Code"}})],1)],1)],1)],1)}),r=[],l={props:{isEdit:Boolean},data:function(){return{formData:{f_Name:"",f_Code:""},rules:{f_Code:[{required:!0,message:this.$t("请输入编码")},{validator:this.lr_existDbFiled,isEditIgnore:!0,tableName:"lr_lg_type",keyName:"f_Id",trigger:"null"}],f_Name:[{required:!0,message:this.$t("请输入名称")}]}}},created:function(){},methods:{resetForm:function(){this.formData.f_Id="",this.$refs.form&&this.$refs.form.resetFields()},validateForm:function(t){this.$refs.form.validate((function(e){t(e)}))},setForm:function(t){this.formData=t},getForm:function(){return this.$deepClone(this.formData)}}},s=l,f=a("2877"),c=Object(f["a"])(s,o,r,!1,null,null,null),d=c.exports,h={components:{MyForm:d},data:function(){return{lr_isPage:!0,searchWord:"",columns:[{label:this.$t("名称"),prop:"f_Name",width:"200"},{label:this.$t("编码"),prop:"f_Code",minWidth:"200"}],tableBtns:[{prop:"Edit",label:this.$t("编辑"),width:40},{prop:"Delete",label:this.$t("删除"),width:40}],tableLoading:!1,searchTableData:null,formTitle:"",formVisible:!1,formEdit:!1,formEditRow:null}},computed:{list:function(){return this.$store.state.language.type.list},tableData:function(){return this.searchTableData||this.list}},mounted:function(){var t=this;this.$nextTick((function(){t.tableInitData()}))},methods:{tableInitData:function(){var t=this;this.tableLoading=!0,this.$store.dispatch("language/type/getList").then((function(){t.tableLoading=!1})).catch((function(){t.tableLoading=!1}))},hanleSearch:function(){var t=this;this.searchWord?this.searchTableData=this.list.filter((function(e){return e.f_Name.indexOf(t.searchWord)>-1||e.f_Code.indexOf(t.searchWord)>-1})):this.searchTableData=null},handleAdd:function(){this.formEdit=!1,this.showForm("新增语言类型")},handleEdit:function(t,e){this.formEdit=!0,this.formEditRow=e,this.showForm("编辑语言类型")},handleDelete:function(t,e){var a=this;this.$confirm(this.$t("此操作将永久删除该数据, 是否继续?"),this.$t("提示"),{confirmButtonText:this.$t("确定"),cancelButtonText:this.$t("取消"),type:"warning"}).then((function(){a.$store.dispatch("language/type/remove",e.f_Id).then((function(){a.$message({type:"success",message:a.$t("删除成功!")})}))})).catch((function(){a.$message({type:"info",message:a.$t("已取消删除")})}))},handleSave:function(t,e){var a=this;this.$refs.form.validateForm((function(n){if(n){var i=a.$refs.form.getForm();t(),a.formEdit?a.$store.dispatch("language/type/update",{id:i.f_Id,formData:i}).then((function(){e(),a.formVisible=!1})).catch((function(){e()})):a.$store.dispatch("language/type/add",i).then((function(){e(),a.formVisible=!1})).catch((function(){e()}))}}))},handleOpenedForm:function(){this.formEdit&&this.$refs.form.setForm(this.$deepClone(this.formEditRow))},handleCloseForm:function(){this.$refs.form.resetForm()},showForm:function(t){this.formTitle=t,this.formVisible=!0},filterBtns:function(t,e){return t.f_Code!=this.appConfig.language.mainType?e:e.filter((function(t){return"Delete"!=t.prop}))}}},u=h,m=Object(f["a"])(u,n,i,!1,null,null,null);e["default"]=m.exports}}]);